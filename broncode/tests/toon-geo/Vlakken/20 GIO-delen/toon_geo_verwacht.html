<html>
<head>
    <meta charset="UTF-8">
    <title>Geo-informatie in beeld</title>
    <link rel="icon" type="image/png" href="static/applicatie_web_favicon.png">

    <style>
        body {
            background-color: White;
            color: Black;
            font-family: Verdana, Geneva, sans-serif;
            font-size: 10pt;
            line-height: 1.4em;
        }

        table {
            font-family: Verdana, Geneva, sans-serif;
            font-size: 10pt;
            line-height: 1.4em;
        }

        .log {
            width: 100%;
        }

        th {
            text-align: left;
        }

        td {
            vertical-align: top;
        }

        a {
            color: blue;
            text-decoration: none;
        }

            a:hover {
                text-decoration: underline;
            }

            a:visited {
                color: blue;
            }

        .aslink {
            color: blue;
            cursor: pointer;
            text-decoration: none;
        }

            .aslink:hover {
                text-decoration: underline;
            }


        #meldingen_tabel {
            border: 1px solid #808080;
        }

        .entry_detail {
            color: #CCCCCC;
        }

            .entry_detail td {
                color: #CCCCCC;
            }

        .level_fout {
            color: #FFFFFF;
            background-color: #FF0000;
        }

        .level_letop {
            color: #FFFFFF;
            background-color: #CC8800;
        }

        .main {
            width: 70em;
            overflow: auto;
            white-space: pre-line;
        }

        .message_fout {
            color: #FF0000;
        }

        .message_letop {
            color: #880000;
        }

        .message_detail {
            color: #CCCCCC;
        }

        .extra {
            width: 200pt;
            color: #CCCCCC;
            overflow: auto;
        }

        .exception {
            color: #CCCCCC;
            font-family: Courier New, monospace;
        }

        .accordion_h {
            background-color: #eee;
            color: #444;
            cursor: pointer;
            padding: 8px;
            width: 100%;
            text-align: left;
            border: none;
            outline: none;
            transition: 0.4s;
        }

            .accordion_h.active, .accordion_h:hover {
                background-color: #ccc;
            }

        .accordion_h_paneel {
            padding: 0 8px;
            display: none;
            overflow: hidden;
        }

        .accordion_t {
            background-color: #eee;
            color: #444;
            cursor: pointer;
            padding: 4px;
            text-align: center;
            border: 1px solid #000000;
            outline: none;
            transition: 0.4s;
        }

            .accordion_t.active {
                background-color: #ccc;
                padding: 10px;
            }

            .accordion_t:hover {
                background-color: #ccc;
            }

        .accordion_t_paneel {
            overflow: hidden;
        }

        .accordion_t_titel {
            display: none;
            overflow: hidden;
            padding: 0 4px;
        }

        .leestip::after {
            content: "\1F453";
            # https://unicode-table.com/en/1F453/
        }

        .a_symbool_goed {
            color: #82b366;
            font-weight: bold;
        }

        .a_symbool_fout {
            color: #b85450;
            font-weight: bold;
        }

        .sectie_bg {
            border-right: 1em solid #9673a6;
            border-top: 3px solid #9673a6;
        }

            .sectie_bg h1 {
                color: #9673a6;
            }

        .sectie_op {
            border-right: 1em solid #6c8ebf;
            border-top: 3px solid #6c8ebf;
        }

            .sectie_op h1 {
                color: #6c8ebf;
            }

        .sectie_lv {
            border-right: 1em solid #d79b00;
            border-top: 3px solid #d79b00;
        }

            .sectie_lv h1 {
                color: #d79b00;
            }

        .sectie_lv_alt1 {
            border-right: 1em solid #ffe6cc;
        }

        .sectie_lv_alt2 {
            border-right: 1em solid #d79b00;
        }

        .kaart {
    border: 1px solid #888888;
    position: relative;
}

.kaart-slider {
    position: absolute;
    z-index: 9;
    cursor: ew-resize;
    background-color: #2196F3;
    opacity: 0.7;
}

    .kaart-slider.knop {
        width: 40px;
        height: 40px;
        border-radius: 50%;
    }

    .kaart-slider.lijn {
        width: 4px;
    }

.ol-popup {
    position: absolute;
    background-color: white;
    -webkit-filter: drop-shadow(0 1px 4px rgba(0,0,0,0.2));
    filter: drop-shadow(0 1px 4px rgba(0,0,0,0.2));
    padding: 15px;
    border-radius: 10px;
    border: 1px solid #cccccc;
    bottom: 12px;
    left: -50px;
    min-width: 200px;
}

    .ol-popup:after, .ol-popup:before {
        top: 100%;
        border: solid transparent;
        content: " ";
        height: 0;
        width: 0;
        position: absolute;
        pointer-events: none;
    }

    .ol-popup:after {
        border-top-color: white;
        border-width: 10px;
        left: 48px;
        margin-left: -10px;
    }

    .ol-popup:before {
        border-top-color: #cccccc;
        border-width: 11px;
        left: 48px;
        margin-left: -11px;
    }

.ol-popup-closer {
    text-decoration: none;
    position: absolute;
    top: 2px;
    right: 8px;
}

    .ol-popup-closer:after {
        content: "âœ–";
    }

.ol-popup-content div {
    white-space: nowrap;
}

.kaart {
    width: 600px;
    height: 400px;
    border: 1px solid #888888;
}

:root,
:host {
  --ol-background-color: white;
  --ol-accent-background-color: #F5F5F5;
  --ol-subtle-background-color: rgba(128, 128, 128, 0.25);
  --ol-partial-background-color: rgba(255, 255, 255, 0.75);
  --ol-foreground-color: #333333;
  --ol-subtle-foreground-color: #666666;
  --ol-brand-color: #00AAFF;
}

.ol-box {
  box-sizing: border-box;
  border-radius: 2px;
  border: 1.5px solid var(--ol-background-color);
  background-color: var(--ol-partial-background-color);
}

.ol-mouse-position {
  top: 8px;
  right: 8px;
  position: absolute;
}

.ol-scale-line {
  background: var(--ol-partial-background-color);
  border-radius: 4px;
  bottom: 8px;
  left: 8px;
  padding: 2px;
  position: absolute;
}

.ol-scale-line-inner {
  border: 1px solid var(--ol-subtle-foreground-color);
  border-top: none;
  color: var(--ol-foreground-color);
  font-size: 10px;
  text-align: center;
  margin: 1px;
  will-change: contents, width;
  transition: all 0.25s;
}

.ol-scale-bar {
  position: absolute;
  bottom: 8px;
  left: 8px;
}

.ol-scale-bar-inner {
  display: flex;
}

.ol-scale-step-marker {
  width: 1px;
  height: 15px;
  background-color: var(--ol-foreground-color);
  float: right;
  z-index: 10;
}

.ol-scale-step-text {
  position: absolute;
  bottom: -5px;
  font-size: 10px;
  z-index: 11;
  color: var(--ol-foreground-color);
  text-shadow: -1.5px 0 var(--ol-partial-background-color), 0 1.5px var(--ol-partial-background-color), 1.5px 0 var(--ol-partial-background-color), 0 -1.5px var(--ol-partial-background-color);
}

.ol-scale-text {
  position: absolute;
  font-size: 12px;
  text-align: center;
  bottom: 25px;
  color: var(--ol-foreground-color);
  text-shadow: -1.5px 0 var(--ol-partial-background-color), 0 1.5px var(--ol-partial-background-color), 1.5px 0 var(--ol-partial-background-color), 0 -1.5px var(--ol-partial-background-color);
}

.ol-scale-singlebar {
  position: relative;
  height: 10px;
  z-index: 9;
  box-sizing: border-box;
  border: 1px solid var(--ol-foreground-color);
}

.ol-scale-singlebar-even {
  background-color: var(--ol-subtle-foreground-color);
}

.ol-scale-singlebar-odd {
  background-color: var(--ol-background-color);
}

.ol-unsupported {
  display: none;
}

.ol-viewport,
.ol-unselectable {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.ol-viewport canvas {
  all: unset;
}

.ol-selectable {
  -webkit-touch-callout: default;
  -webkit-user-select: text;
  -moz-user-select: text;
  user-select: text;
}

.ol-grabbing {
  cursor: -webkit-grabbing;
  cursor: -moz-grabbing;
  cursor: grabbing;
}

.ol-grab {
  cursor: move;
  cursor: -webkit-grab;
  cursor: -moz-grab;
  cursor: grab;
}

.ol-control {
  position: absolute;
  background-color: var(--ol-subtle-background-color);
  border-radius: 4px;
}

.ol-zoom {
  top: .5em;
  left: .5em;
}

.ol-rotate {
  top: .5em;
  right: .5em;
  transition: opacity .25s linear, visibility 0s linear;
}

.ol-rotate.ol-hidden {
  opacity: 0;
  visibility: hidden;
  transition: opacity .25s linear, visibility 0s linear .25s;
}

.ol-zoom-extent {
  top: 4.643em;
  left: .5em;
}

.ol-full-screen {
  right: .5em;
  top: .5em;
}

.ol-control button {
  display: block;
  margin: 1px;
  padding: 0;
  color: var(--ol-subtle-foreground-color);
  font-weight: bold;
  text-decoration: none;
  font-size: inherit;
  text-align: center;
  height: 1.375em;
  width: 1.375em;
  line-height: .4em;
  background-color: var(--ol-background-color);
  border: none;
  border-radius: 2px;
}

.ol-control button::-moz-focus-inner {
  border: none;
  padding: 0;
}

.ol-zoom-extent button {
  line-height: 1.4em;
}

.ol-compass {
  display: block;
  font-weight: normal;
  will-change: transform;
}

.ol-touch .ol-control button {
  font-size: 1.5em;
}

.ol-touch .ol-zoom-extent {
  top: 5.5em;
}

.ol-control button:hover,
.ol-control button:focus {
  text-decoration: none;
  outline: 1px solid var(--ol-subtle-foreground-color);
  color: var(--ol-foreground-color);
}

.ol-zoom .ol-zoom-in {
  border-radius: 2px 2px 0 0;
}

.ol-zoom .ol-zoom-out {
  border-radius: 0 0 2px 2px;
}

.ol-attribution {
  text-align: right;
  bottom: .5em;
  right: .5em;
  max-width: calc(100% - 1.3em);
  display: flex;
  flex-flow: row-reverse;
  align-items: center;
}

.ol-attribution a {
  color: var(--ol-subtle-foreground-color);
  text-decoration: none;
}

.ol-attribution ul {
  margin: 0;
  padding: 1px .5em;
  color: var(--ol-foreground-color);
  text-shadow: 0 0 2px var(--ol-background-color);
  font-size: 12px;
}

.ol-attribution li {
  display: inline;
  list-style: none;
}

.ol-attribution li:not(:last-child):after {
  content: " ";
}

.ol-attribution img {
  max-height: 2em;
  max-width: inherit;
  vertical-align: middle;
}

.ol-attribution button {
  flex-shrink: 0;
}

.ol-attribution.ol-collapsed ul {
  display: none;
}

.ol-attribution:not(.ol-collapsed) {
  background: var(--ol-partial-background-color);
}

.ol-attribution.ol-uncollapsible {
  bottom: 0;
  right: 0;
  border-radius: 4px 0 0;
}

.ol-attribution.ol-uncollapsible img {
  margin-top: -.2em;
  max-height: 1.6em;
}

.ol-attribution.ol-uncollapsible button {
  display: none;
}

.ol-zoomslider {
  top: 4.5em;
  left: .5em;
  height: 200px;
}

.ol-zoomslider button {
  position: relative;
  height: 10px;
}

.ol-touch .ol-zoomslider {
  top: 5.5em;
}

.ol-overviewmap {
  left: 0.5em;
  bottom: 0.5em;
}

.ol-overviewmap.ol-uncollapsible {
  bottom: 0;
  left: 0;
  border-radius: 0 4px 0 0;
}

.ol-overviewmap .ol-overviewmap-map,
.ol-overviewmap button {
  display: block;
}

.ol-overviewmap .ol-overviewmap-map {
  border: 1px solid var(--ol-subtle-foreground-color);
  height: 150px;
  width: 150px;
}

.ol-overviewmap:not(.ol-collapsed) button {
  bottom: 0;
  left: 0;
  position: absolute;
}

.ol-overviewmap.ol-collapsed .ol-overviewmap-map,
.ol-overviewmap.ol-uncollapsible button {
  display: none;
}

.ol-overviewmap:not(.ol-collapsed) {
  background: var(--ol-subtle-background-color);
}

.ol-overviewmap-box {
  border: 1.5px dotted var(--ol-subtle-foreground-color);
}

.ol-overviewmap .ol-overviewmap-box:hover {
  cursor: move;
}

    </style>

    <script type="text/javascript">
        var ol = function () {
    "use strict"; const t = { 1: "The view center is not defined", 2: "The view resolution is not defined", 3: "The view rotation is not defined", 4: "`image` and `src` cannot be provided at the same time", 5: "`imgSize` must be set when `image` is provided", 7: "`format` must be set when `url` is set", 8: "Unknown `serverType` configured", 9: "`url` must be configured or set using `#setUrl()`", 10: "The default `geometryFunction` can only handle `Point` geometries", 11: "`options.featureTypes` must be an Array", 12: "`options.geometryName` must also be provided when `options.bbox` is set", 13: "Invalid corner", 14: "Invalid color", 15: "Tried to get a value for a key that does not exist in the cache", 16: "Tried to set a value for a key that is used already", 17: "`resolutions` must be sorted in descending order", 18: "Either `origin` or `origins` must be configured, never both", 19: "Number of `tileSizes` and `resolutions` must be equal", 20: "Number of `origins` and `resolutions` must be equal", 22: "Either `tileSize` or `tileSizes` must be configured, never both", 24: "Invalid extent or geometry provided as `geometry`", 25: "Cannot fit empty extent provided as `geometry`", 26: "Features must have an id set", 27: "Features must have an id set", 28: '`renderMode` must be `"hybrid"` or `"vector"`', 30: "The passed `feature` was already added to the source", 31: "Tried to enqueue an `element` that was already added to the queue", 32: "Transformation matrix cannot be inverted", 33: "Invalid units", 34: "Invalid geometry layout", 36: "Unknown SRS type", 37: "Unknown geometry type found", 38: "`styleMapValue` has an unknown type", 39: "Unknown geometry type", 40: "Expected `feature` to have a geometry", 41: "Expected an `ol/style/Style` or an array of `ol/style/Style.js`", 42: "Question unknown, the answer is 42", 43: "Expected `layers` to be an array or a `Collection`", 47: "Expected `controls` to be an array or an `ol/Collection`", 48: "Expected `interactions` to be an array or an `ol/Collection`", 49: "Expected `overlays` to be an array or an `ol/Collection`", 50: "`options.featureTypes` should be an Array", 51: "Either `url` or `tileJSON` options must be provided", 52: "Unknown `serverType` configured", 53: "Unknown `tierSizeCalculation` configured", 55: "The {-y} placeholder requires a tile grid with extent", 56: "mapBrowserEvent must originate from a pointer event", 57: "At least 2 conditions are required", 59: "Invalid command found in the PBF", 60: "Missing or invalid `size`", 61: "Cannot determine IIIF Image API version from provided image information JSON", 62: "A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`", 64: "Layer opacity must be a number", 66: "`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`", 67: "A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both", 68: "A VectorTile source can only be rendered if it has a projection compatible with the view projection" }; class e extends Error { constructor(e) { const i = t[e]; super(i), this.code = e, this.name = "AssertionError", this.message = i } } class i { constructor(t) { this.propagationStopped, this.defaultPrevented, this.type = t, this.target = null } preventDefault() { this.defaultPrevented = !0 } stopPropagation() { this.propagationStopped = !0 } } function n(t) { t.stopPropagation() } var r = "propertychange"; class s { constructor() { this.disposed = !1 } dispose() { this.disposed || (this.disposed = !0, this.disposeInternal()) } disposeInternal() { } } function o(t, e, i) { let n, r; i = i || a; let s = 0, o = t.length, l = !1; for (; s < o;)n = s + (o - s >> 1), r = +i(t[n], e), r < 0 ? s = n + 1 : (o = n, l = !r); return l ? s : ~s } function a(t, e) { return t > e ? 1 : t < e ? -1 : 0 } function l(t, e, i) { const n = t.length; if (t[0] <= e) return 0; if (e <= t[n - 1]) return n - 1; { let r; if (i > 0) { for (r = 1; r < n; ++r)if (t[r] < e) return r - 1 } else if (i < 0) { for (r = 1; r < n; ++r)if (t[r] <= e) return r } else for (r = 1; r < n; ++r) { if (t[r] == e) return r; if (t[r] < e) return "function" == typeof i ? i(e, t[r - 1], t[r]) > 0 ? r - 1 : r : t[r - 1] - e < e - t[r] ? r - 1 : r } return n - 1 } } function h(t, e, i) { for (; e < i;) { const n = t[e]; t[e] = t[i], t[i] = n, ++e, --i } } function c(t, e) { const i = Array.isArray(e) ? e : [e], n = i.length; for (let e = 0; e < n; e++)t[t.length] = i[e] } function u(t, e) { const i = t.length; if (i !== e.length) return !1; for (let n = 0; n < i; n++)if (t[n] !== e[n]) return !1; return !0 } function d(t, e, i) { const n = e || a; return t.every((function (e, r) { if (0 === r) return !0; const s = n(t[r - 1], e); return !(s > 0 || i && 0 === s) })) } function g() { return !0 } function f() { return !1 } function p() { } function m(t) { let e, i, n, r = !1; return function () { const s = Array.prototype.slice.call(arguments); return r && this === n && u(s, i) || (r = !0, n = this, i = s, e = t.apply(this, arguments)), e } } function _(t) { return function () { let e; try { e = t() } catch (t) { return Promise.reject(t) } return e instanceof Promise ? e : Promise.resolve(e) }() } function y(t) { for (const e in t) delete t[e] } function x(t) { let e; for (e in t) return !1; return !e } class v extends s { constructor(t) { super(), this.eventTarget_ = t, this.pendingRemovals_ = null, this.dispatching_ = null, this.listeners_ = null } addEventListener(t, e) { if (!t || !e) return; const i = this.listeners_ || (this.listeners_ = {}), n = i[t] || (i[t] = []); n.includes(e) || n.push(e) } dispatchEvent(t) { const e = "string" == typeof t, n = e ? t : t.type, r = this.listeners_ && this.listeners_[n]; if (!r) return; const s = e ? new i(t) : t; s.target || (s.target = this.eventTarget_ || this); const o = this.dispatching_ || (this.dispatching_ = {}), a = this.pendingRemovals_ || (this.pendingRemovals_ = {}); let l; n in o || (o[n] = 0, a[n] = 0), ++o[n]; for (let t = 0, e = r.length; t < e; ++t)if (l = "handleEvent" in r[t] ? r[t].handleEvent(s) : r[t].call(this, s), !1 === l || s.propagationStopped) { l = !1; break } if (0 == --o[n]) { let t = a[n]; for (delete a[n]; t--;)this.removeEventListener(n, p); delete o[n] } return l } disposeInternal() { this.listeners_ && y(this.listeners_) } getListeners(t) { return this.listeners_ && this.listeners_[t] || void 0 } hasListener(t) { return !!this.listeners_ && (t ? t in this.listeners_ : Object.keys(this.listeners_).length > 0) } removeEventListener(t, e) { const i = this.listeners_ && this.listeners_[t]; if (i) { const n = i.indexOf(e); -1 !== n && (this.pendingRemovals_ && t in this.pendingRemovals_ ? (i[n] = p, ++this.pendingRemovals_[t]) : (i.splice(n, 1), 0 === i.length && delete this.listeners_[t])) } } } var S = "change", w = "error", E = "contextmenu", T = "click", C = "dblclick", b = "dragenter", R = "dragover", P = "drop", I = "keydown", L = "keypress", M = "load", F = "resize", A = "touchmove", O = "wheel"; function N(t, e, i, n, r) { if (n && n !== t && (i = i.bind(n)), r) { const n = i; i = function () { t.removeEventListener(e, i), n.apply(this, arguments) } } const s = { target: t, type: e, listener: i }; return t.addEventListener(e, i), s } function D(t, e, i, n) { return N(t, e, i, n, !0) } function k(t) { t && t.target && (t.target.removeEventListener(t.type, t.listener), y(t)) } class G extends v { constructor() { super(), this.on = this.onInternal, this.once = this.onceInternal, this.un = this.unInternal, this.revision_ = 0 } changed() { ++this.revision_, this.dispatchEvent(S) } getRevision() { return this.revision_ } onInternal(t, e) { if (Array.isArray(t)) { const i = t.length, n = new Array(i); for (let r = 0; r < i; ++r)n[r] = N(this, t[r], e); return n } return N(this, t, e) } onceInternal(t, e) { let i; if (Array.isArray(t)) { const n = t.length; i = new Array(n); for (let r = 0; r < n; ++r)i[r] = D(this, t[r], e) } else i = D(this, t, e); return e.ol_key = i, i } unInternal(t, e) { const i = e.ol_key; if (i) j(i); else if (Array.isArray(t)) for (let i = 0, n = t.length; i < n; ++i)this.removeEventListener(t[i], e); else this.removeEventListener(t, e) } } function j(t) { if (Array.isArray(t)) for (let e = 0, i = t.length; e < i; ++e)k(t[e]); else k(t) } function B() { throw new Error("Unimplemented abstract method.") } G.prototype.on, G.prototype.once, G.prototype.un; let U = 0; function z(t) { return t.ol_uid || (t.ol_uid = String(++U)) } class X extends i { constructor(t, e, i) { super(t), this.key = e, this.oldValue = i } } class V extends G { constructor(t) { super(), this.on, this.once, this.un, z(this), this.values_ = null, void 0 !== t && this.setProperties(t) } get(t) { let e; return this.values_ && this.values_.hasOwnProperty(t) && (e = this.values_[t]), e } getKeys() { return this.values_ && Object.keys(this.values_) || [] } getProperties() { return this.values_ && Object.assign({}, this.values_) || {} } hasProperties() { return !!this.values_ } notify(t, e) { let i; i = `change:${t}`, this.hasListener(i) && this.dispatchEvent(new X(i, t, e)), i = r, this.hasListener(i) && this.dispatchEvent(new X(i, t, e)) } addChangeListener(t, e) { this.addEventListener(`change:${t}`, e) } removeChangeListener(t, e) { this.removeEventListener(`change:${t}`, e) } set(t, e, i) { const n = this.values_ || (this.values_ = {}); if (i) n[t] = e; else { const i = n[t]; n[t] = e, i !== e && this.notify(t, i) } } setProperties(t, e) { for (const i in t) this.set(i, t[i], e) } applyProperties(t) { t.values_ && Object.assign(this.values_ || (this.values_ = {}), t.values_) } unset(t, e) { if (this.values_ && t in this.values_) { const i = this.values_[t]; delete this.values_[t], x(this.values_) && (this.values_ = null), e || this.notify(t, i) } } } var W = "add", Z = "remove"; const Y = "length"; class K extends i { constructor(t, e, i) { super(t), this.element = e, this.index = i } } class q extends V { constructor(t, e) { if (super(), this.on, this.once, this.un, e = e || {}, this.unique_ = !!e.unique, this.array_ = t || [], this.unique_) for (let t = 0, e = this.array_.length; t < e; ++t)this.assertUnique_(this.array_[t], t); this.updateLength_() } clear() { for (; this.getLength() > 0;)this.pop() } extend(t) { for (let e = 0, i = t.length; e < i; ++e)this.push(t[e]); return this } forEach(t) { const e = this.array_; for (let i = 0, n = e.length; i < n; ++i)t(e[i], i, e) } getArray() { return this.array_ } item(t) { return this.array_[t] } getLength() { return this.get(Y) } insertAt(t, e) { if (t < 0 || t > this.getLength()) throw new Error("Index out of bounds: " + t); this.unique_ && this.assertUnique_(e), this.array_.splice(t, 0, e), this.updateLength_(), this.dispatchEvent(new K(W, e, t)) } pop() { return this.removeAt(this.getLength() - 1) } push(t) { this.unique_ && this.assertUnique_(t); const e = this.getLength(); return this.insertAt(e, t), this.getLength() } remove(t) { const e = this.array_; for (let i = 0, n = e.length; i < n; ++i)if (e[i] === t) return this.removeAt(i) } removeAt(t) { if (t < 0 || t >= this.getLength()) return; const e = this.array_[t]; return this.array_.splice(t, 1), this.updateLength_(), this.dispatchEvent(new K(Z, e, t)), e } setAt(t, e) { if (t >= this.getLength()) return void this.insertAt(t, e); if (t < 0) throw new Error("Index out of bounds: " + t); this.unique_ && this.assertUnique_(e, t); const i = this.array_[t]; this.array_[t] = e, this.dispatchEvent(new K(Z, i, t)), this.dispatchEvent(new K(W, e, t)) } updateLength_() { this.set(Y, this.array_.length) } assertUnique_(t, i) { for (let n = 0, r = this.array_.length; n < r; ++n)if (this.array_[n] === t && n !== i) throw new e(58) } } var H = 0, $ = 1, J = 2, Q = 3, tt = 4; function et(t) { return Math.pow(t, 3) } function it(t) { return 1 - et(1 - t) } function nt(t) { return 3 * t * t - 2 * t * t * t } function rt(t) { return t } class st extends v { constructor(t, e, i) { super(), i = i || {}, this.tileCoord = t, this.state = e, this.interimTile = null, this.key = "", this.transition_ = void 0 === i.transition ? 250 : i.transition, this.transitionStarts_ = {}, this.interpolate = !!i.interpolate } changed() { this.dispatchEvent(S) } release() { this.state === Q && this.setState(tt) } getKey() { return this.key + "/" + this.tileCoord } getInterimTile() { if (!this.interimTile) return this; let t = this.interimTile; do { if (t.getState() == J) return this.transition_ = 0, t; t = t.interimTile } while (t); return this } refreshInterimChain() { if (!this.interimTile) return; let t = this.interimTile, e = this; do { if (t.getState() == J) { t.interimTile = null; break } t.getState() == $ ? e = t : t.getState() == H ? e.interimTile = t.interimTile : e = t, t = e.interimTile } while (t) } getTileCoord() { return this.tileCoord } getState() { return this.state } setState(t) { if (this.state !== Q && this.state > t) throw new Error("Tile load sequence violation"); this.state = t, this.changed() } load() { B() } getAlpha(t, e) { if (!this.transition_) return 1; let i = this.transitionStarts_[t]; if (i) { if (-1 === i) return 1 } else i = e, this.transitionStarts_[t] = i; const n = e - i + 1e3 / 60; return n >= this.transition_ ? 1 : et(n / this.transition_) } inTransition(t) { return !!this.transition_ && -1 !== this.transitionStarts_[t] } endTransition(t) { this.transition_ && (this.transitionStarts_[t] = -1) } } class ot extends st { constructor(t) { const e = H; super(t.tileCoord, e, { transition: t.transition, interpolate: t.interpolate }), this.loader_ = t.loader, this.data_ = null, this.error_ = null, this.size_ = t.size || [256, 256] } getSize() { return this.size_ } getData() { return this.data_ } getError() { return this.error_ } load() { if (this.state !== H && this.state !== Q) return; this.state = $, this.changed(); const t = this; this.loader_().then((function (e) { t.data_ = e, t.state = J, t.changed() })).catch((function (e) { t.error_ = e, t.state = Q, t.changed() })) } } function at(t, i) { if (!t) throw new e(i) } class lt extends V { constructor(t) { if (super(), this.on, this.once, this.un, this.id_ = void 0, this.geometryName_ = "geometry", this.style_ = null, this.styleFunction_ = void 0, this.geometryChangeKey_ = null, this.addChangeListener(this.geometryName_, this.handleGeometryChanged_), t) if ("function" == typeof t.getSimplifiedGeometry) { const e = t; this.setGeometry(e) } else { const e = t; this.setProperties(e) } } clone() { const t = new lt(this.hasProperties() ? this.getProperties() : null); t.setGeometryName(this.getGeometryName()); const e = this.getGeometry(); e && t.setGeometry(e.clone()); const i = this.getStyle(); return i && t.setStyle(i), t } getGeometry() { return this.get(this.geometryName_) } getId() { return this.id_ } getGeometryName() { return this.geometryName_ } getStyle() { return this.style_ } getStyleFunction() { return this.styleFunction_ } handleGeometryChange_() { this.changed() } handleGeometryChanged_() { this.geometryChangeKey_ && (k(this.geometryChangeKey_), this.geometryChangeKey_ = null); const t = this.getGeometry(); t && (this.geometryChangeKey_ = N(t, S, this.handleGeometryChange_, this)), this.changed() } setGeometry(t) { this.set(this.geometryName_, t) } setStyle(t) { this.style_ = t, this.styleFunction_ = t ? ht(t) : void 0, this.changed() } setId(t) { this.id_ = t, this.changed() } setGeometryName(t) { this.removeChangeListener(this.geometryName_, this.handleGeometryChanged_), this.geometryName_ = t, this.addChangeListener(this.geometryName_, this.handleGeometryChanged_), this.handleGeometryChanged_() } } function ht(t) { if ("function" == typeof t) return t; { let e; if (Array.isArray(t)) e = t; else { at("function" == typeof t.getZIndex, 41); e = [t] } return function () { return e } } } const ct = "undefined" != typeof navigator && void 0 !== navigator.userAgent ? navigator.userAgent.toLowerCase() : "", ut = ct.includes("firefox"), dt = ct.includes("safari") && !ct.includes("chrom"), gt = dt && (ct.includes("version/15.4") || /cpu (os|iphone os) 15_4 like mac os x/.test(ct)), ft = ct.includes("webkit") && !ct.includes("edge"), pt = ct.includes("macintosh"), mt = "undefined" != typeof devicePixelRatio ? devicePixelRatio : 1, _t = "undefined" != typeof WorkerGlobalScope && "undefined" != typeof OffscreenCanvas && self instanceof WorkerGlobalScope, yt = "undefined" != typeof Image && Image.prototype.decode, xt = function () { let t = !1; try { const e = Object.defineProperty({}, "passive", { get: function () { t = !0 } }); window.addEventListener("_", null, e), window.removeEventListener("_", null, e) } catch (t) { } return t }(), vt = new Array(6); function St() { return [1, 0, 0, 1, 0, 0] } function wt(t) { return Tt(t, 1, 0, 0, 1, 0, 0) } function Et(t, e) { const i = t[0], n = t[1], r = t[2], s = t[3], o = t[4], a = t[5], l = e[0], h = e[1], c = e[2], u = e[3], d = e[4], g = e[5]; return t[0] = i * l + r * h, t[1] = n * l + s * h, t[2] = i * c + r * u, t[3] = n * c + s * u, t[4] = i * d + r * g + o, t[5] = n * d + s * g + a, t } function Tt(t, e, i, n, r, s, o) { return t[0] = e, t[1] = i, t[2] = n, t[3] = r, t[4] = s, t[5] = o, t } function Ct(t, e) { return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4], t[5] = e[5], t } function bt(t, e) { const i = e[0], n = e[1]; return e[0] = t[0] * i + t[2] * n + t[4], e[1] = t[1] * i + t[3] * n + t[5], e } function Rt(t, e) { const i = Math.cos(e), n = Math.sin(e); return Et(t, Tt(vt, i, n, -n, i, 0, 0)) } function Pt(t, e, i) { return Et(t, Tt(vt, e, 0, 0, i, 0, 0)) } function It(t, e, i) { return Tt(t, e, 0, 0, i, 0, 0) } function Lt(t, e, i) { return Et(t, Tt(vt, 1, 0, 0, 1, e, i)) } function Mt(t, e, i, n, r, s, o, a) { const l = Math.sin(s), h = Math.cos(s); return t[0] = n * h, t[1] = r * l, t[2] = -n * l, t[3] = r * h, t[4] = o * n * h - a * n * l + e, t[5] = o * r * l + a * r * h + i, t } function Ft(t, e) { const i = At(e); at(0 !== i, 32); const n = e[0], r = e[1], s = e[2], o = e[3], a = e[4], l = e[5]; return t[0] = o / i, t[1] = -r / i, t[2] = -s / i, t[3] = n / i, t[4] = (s * l - o * a) / i, t[5] = -(n * l - r * a) / i, t } function At(t) { return t[0] * t[3] - t[1] * t[2] } let Ot; function Nt(t) { const e = "matrix(" + t.join(", ") + ")"; if (_t) return e; const i = Ot || (Ot = document.createElement("div")); return i.style.transform = e, i.style.transform } var Dt = 0, kt = 1, Gt = 2, jt = 4, Bt = 8, Ut = 16; function zt(t) { const e = Ht(); for (let i = 0, n = t.length; i < n; ++i)re(e, t[i]); return e } function Xt(t, e, i) { return i ? (i[0] = t[0] - e, i[1] = t[1] - e, i[2] = t[2] + e, i[3] = t[3] + e, i) : [t[0] - e, t[1] - e, t[2] + e, t[3] + e] } function Vt(t, e) { return e ? (e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e) : t.slice() } function Wt(t, e, i) { let n, r; return n = e < t[0] ? t[0] - e : t[2] < e ? e - t[2] : 0, r = i < t[1] ? t[1] - i : t[3] < i ? i - t[3] : 0, n * n + r * r } function Zt(t, e) { return Kt(t, e[0], e[1]) } function Yt(t, e) { return t[0] <= e[0] && e[2] <= t[2] && t[1] <= e[1] && e[3] <= t[3] } function Kt(t, e, i) { return t[0] <= e && e <= t[2] && t[1] <= i && i <= t[3] } function qt(t, e) { const i = t[0], n = t[1], r = t[2], s = t[3], o = e[0], a = e[1]; let l = Dt; return o < i ? l |= Ut : o > r && (l |= jt), a < n ? l |= Bt : a > s && (l |= Gt), l === Dt && (l = kt), l } function Ht() { return [1 / 0, 1 / 0, -1 / 0, -1 / 0] } function $t(t, e, i, n, r) { return r ? (r[0] = t, r[1] = e, r[2] = i, r[3] = n, r) : [t, e, i, n] } function Jt(t) { return $t(1 / 0, 1 / 0, -1 / 0, -1 / 0, t) } function Qt(t, e) { const i = t[0], n = t[1]; return $t(i, n, i, n, e) } function te(t, e, i, n, r) { return oe(Jt(r), t, e, i, n) } function ee(t, e) { return t[0] == e[0] && t[2] == e[2] && t[1] == e[1] && t[3] == e[3] } function ie(t, e, i) { return Math.abs(t[0] - e[0]) < i && Math.abs(t[2] - e[2]) < i && Math.abs(t[1] - e[1]) < i && Math.abs(t[3] - e[3]) < i } function ne(t, e) { return e[0] < t[0] && (t[0] = e[0]), e[2] > t[2] && (t[2] = e[2]), e[1] < t[1] && (t[1] = e[1]), e[3] > t[3] && (t[3] = e[3]), t } function re(t, e) { e[0] < t[0] && (t[0] = e[0]), e[0] > t[2] && (t[2] = e[0]), e[1] < t[1] && (t[1] = e[1]), e[1] > t[3] && (t[3] = e[1]) } function se(t, e) { for (let i = 0, n = e.length; i < n; ++i)re(t, e[i]); return t } function oe(t, e, i, n, r) { for (; i < n; i += r)le(t, e[i], e[i + 1]); return t } function ae(t, e) { for (let i = 0, n = e.length; i < n; ++i)se(t, e[i]); return t } function le(t, e, i) { t[0] = Math.min(t[0], e), t[1] = Math.min(t[1], i), t[2] = Math.max(t[2], e), t[3] = Math.max(t[3], i) } function he(t, e) { let i; return i = e(ue(t)), i || (i = e(de(t)), i || (i = e(ve(t)), i || (i = e(xe(t)), i || !1))) } function ce(t) { let e = 0; return Ee(t) || (e = Se(t) * _e(t)), e } function ue(t) { return [t[0], t[1]] } function de(t) { return [t[2], t[1]] } function ge(t) { return [(t[0] + t[2]) / 2, (t[1] + t[3]) / 2] } function fe(t, e) { let i; return "bottom-left" === e ? i = ue(t) : "bottom-right" === e ? i = de(t) : "top-left" === e ? i = xe(t) : "top-right" === e ? i = ve(t) : at(!1, 13), i } function pe(t, e, i, n, r) { const [s, o, a, l, h, c, u, d] = me(t, e, i, n); return $t(Math.min(s, a, h, u), Math.min(o, l, c, d), Math.max(s, a, h, u), Math.max(o, l, c, d), r) } function me(t, e, i, n) { const r = e * n[0] / 2, s = e * n[1] / 2, o = Math.cos(i), a = Math.sin(i), l = r * o, h = r * a, c = s * o, u = s * a, d = t[0], g = t[1]; return [d - l + u, g - h - c, d - l - u, g - h + c, d + l - u, g + h + c, d + l + u, g + h - c, d - l + u, g - h - c] } function _e(t) { return t[3] - t[1] } function ye(t, e, i) { const n = i || [1 / 0, 1 / 0, -1 / 0, -1 / 0]; return we(t, e) ? (t[0] > e[0] ? n[0] = t[0] : n[0] = e[0], t[1] > e[1] ? n[1] = t[1] : n[1] = e[1], t[2] < e[2] ? n[2] = t[2] : n[2] = e[2], t[3] < e[3] ? n[3] = t[3] : n[3] = e[3]) : Jt(n), n } function xe(t) { return [t[0], t[3]] } function ve(t) { return [t[2], t[3]] } function Se(t) { return t[2] - t[0] } function we(t, e) { return t[0] <= e[2] && t[2] >= e[0] && t[1] <= e[3] && t[3] >= e[1] } function Ee(t) { return t[2] < t[0] || t[3] < t[1] } function Te(t, e) { return e ? (e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e) : t } function Ce(t, e) { const i = (t[2] - t[0]) / 2 * (e - 1), n = (t[3] - t[1]) / 2 * (e - 1); t[0] -= i, t[2] += i, t[1] -= n, t[3] += n } function be(t, e, i) { let n = !1; const r = qt(t, e), s = qt(t, i); if (r === kt || s === kt) n = !0; else { const o = t[0], a = t[1], l = t[2], h = t[3], c = e[0], u = e[1], d = i[0], g = i[1], f = (g - u) / (d - c); let p, m; s & Gt && !(r & Gt) && (p = d - (g - h) / f, n = p >= o && p <= l), n || !(s & jt) || r & jt || (m = g - (d - l) * f, n = m >= a && m <= h), n || !(s & Bt) || r & Bt || (p = d - (g - a) / f, n = p >= o && p <= l), n || !(s & Ut) || r & Ut || (m = g - (d - o) * f, n = m >= a && m <= h) } return n } function Re(t, e, i, n) { let r = []; if (n > 1) { const e = t[2] - t[0], i = t[3] - t[1]; for (let s = 0; s < n; ++s)r.push(t[0] + e * s / n, t[1], t[2], t[1] + i * s / n, t[2] - e * s / n, t[3], t[0], t[3] - i * s / n) } else r = [t[0], t[1], t[2], t[1], t[2], t[3], t[0], t[3]]; e(r, r, 2); const s = [], o = []; for (let t = 0, e = r.length; t < e; t += 2)s.push(r[t]), o.push(r[t + 1]); return function (t, e, i) { return $t(Math.min.apply(null, t), Math.min.apply(null, e), Math.max.apply(null, t), Math.max.apply(null, e), i) }(s, o, i) } function Pe(t, e) { const i = e.getExtent(), n = ge(t); if (e.canWrapX() && (n[0] < i[0] || n[0] >= i[2])) { const e = Se(i), r = Math.floor((n[0] - i[0]) / e) * e; t[0] -= r, t[2] -= r } return t } function Ie(t, e) { if (e.canWrapX()) { const i = e.getExtent(); if (!isFinite(t[0]) || !isFinite(t[2])) return [[i[0], t[1], i[2], t[3]]]; Pe(t, e); const n = Se(i); if (Se(t) > n) return [[i[0], t[1], i[2], t[3]]]; if (t[0] < i[0]) return [[t[0] + n, t[1], i[2], t[3]], [i[0], t[1], t[2], t[3]]]; if (t[2] > i[2]) return [[t[0], t[1], i[2], t[3]], [i[0], t[1], t[2] - n, t[3]]] } return [t] } const Le = { 9001: "m", 9002: "ft", 9003: "us-ft", 9101: "radians", 9102: "degrees" }; function Me(t) { return Le[t] } const Fe = { radians: 6370997 / (2 * Math.PI), degrees: 2 * Math.PI * 6370997 / 360, ft: .3048, m: 1, "us-ft": 1200 / 3937 }; class Ae { constructor(t) { this.code_ = t.code, this.units_ = t.units, this.extent_ = void 0 !== t.extent ? t.extent : null, this.worldExtent_ = void 0 !== t.worldExtent ? t.worldExtent : null, this.axisOrientation_ = void 0 !== t.axisOrientation ? t.axisOrientation : "enu", this.global_ = void 0 !== t.global && t.global, this.canWrapX_ = !(!this.global_ || !this.extent_), this.getPointResolutionFunc_ = t.getPointResolution, this.defaultTileGrid_ = null, this.metersPerUnit_ = t.metersPerUnit } canWrapX() { return this.canWrapX_ } getCode() { return this.code_ } getExtent() { return this.extent_ } getUnits() { return this.units_ } getMetersPerUnit() { return this.metersPerUnit_ || Fe[this.units_] } getWorldExtent() { return this.worldExtent_ } getAxisOrientation() { return this.axisOrientation_ } isGlobal() { return this.global_ } setGlobal(t) { this.global_ = t, this.canWrapX_ = !(!t || !this.extent_) } getDefaultTileGrid() { return this.defaultTileGrid_ } setDefaultTileGrid(t) { this.defaultTileGrid_ = t } setExtent(t) { this.extent_ = t, this.canWrapX_ = !(!this.global_ || !t) } setWorldExtent(t) { this.worldExtent_ = t } setGetPointResolution(t) { this.getPointResolutionFunc_ = t } getPointResolutionFunc() { return this.getPointResolutionFunc_ } } const Oe = 6378137, Ne = Math.PI * Oe, De = [-Ne, -Ne, Ne, Ne], ke = [-180, -85, 180, 85], Ge = Oe * Math.log(Math.tan(Math.PI / 2)); class je extends Ae { constructor(t) { super({ code: t, units: "m", extent: De, global: !0, worldExtent: ke, getPointResolution: function (t, e) { return t / Math.cosh(e[1] / Oe) } }) } } const Be = [new je("EPSG:3857"), new je("EPSG:102100"), new je("EPSG:102113"), new je("EPSG:900913"), new je("http://www.opengis.net/def/crs/EPSG/0/3857"), new je("http://www.opengis.net/gml/srs/epsg.xml#3857")]; function Ue(t, e, i) { const n = t.length; i = i > 1 ? i : 2, void 0 === e && (e = i > 2 ? t.slice() : new Array(n)); for (let r = 0; r < n; r += i) { e[r] = Ne * t[r] / 180; let i = Oe * Math.log(Math.tan(Math.PI * (+t[r + 1] + 90) / 360)); i > Ge ? i = Ge : i < -Ge && (i = -Ge), e[r + 1] = i } return e } function ze(t, e, i) { const n = t.length; i = i > 1 ? i : 2, void 0 === e && (e = i > 2 ? t.slice() : new Array(n)); for (let r = 0; r < n; r += i)e[r] = 180 * t[r] / Ne, e[r + 1] = 360 * Math.atan(Math.exp(t[r + 1] / Oe)) / Math.PI - 90; return e } const Xe = 6378137, Ve = [-180, -90, 180, 90], We = Math.PI * Xe / 180; class Ze extends Ae { constructor(t, e) { super({ code: t, units: "degrees", extent: Ve, axisOrientation: e, global: !0, metersPerUnit: We, worldExtent: Ve }) } } const Ye = [new Ze("CRS:84"), new Ze("EPSG:4326", "neu"), new Ze("urn:ogc:def:crs:OGC:1.3:CRS84"), new Ze("urn:ogc:def:crs:OGC:2:84"), new Ze("http://www.opengis.net/def/crs/OGC/1.3/CRS84"), new Ze("http://www.opengis.net/gml/srs/epsg.xml#4326", "neu"), new Ze("http://www.opengis.net/def/crs/EPSG/0/4326", "neu")]; let Ke = {}; function qe() { Ke = {} } function He(t) { return Ke[t] || Ke[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/, "EPSG:$3")] || null } function $e(t, e) { Ke[t] = e } let Je = {}; function Qe() { Je = {} } function ti(t, e, i) { const n = t.getCode(), r = e.getCode(); n in Je || (Je[n] = {}), Je[n][r] = i } function ei(t, e) { let i; return t in Je && e in Je[t] && (i = Je[t][e]), i } function ii(t, e, i) { return Math.min(Math.max(t, e), i) } function ni(t, e, i, n, r, s) { const o = r - i, a = s - n; if (0 !== o || 0 !== a) { const l = ((t - i) * o + (e - n) * a) / (o * o + a * a); l > 1 ? (i = r, n = s) : l > 0 && (i += o * l, n += a * l) } return ri(t, e, i, n) } function ri(t, e, i, n) { const r = i - t, s = n - e; return r * r + s * s } function si(t) { const e = t.length; for (let i = 0; i < e; i++) { let n = i, r = Math.abs(t[i][i]); for (let s = i + 1; s < e; s++) { const e = Math.abs(t[s][i]); e > r && (r = e, n = s) } if (0 === r) return null; const s = t[n]; t[n] = t[i], t[i] = s; for (let n = i + 1; n < e; n++) { const r = -t[n][i] / t[i][i]; for (let s = i; s < e + 1; s++)i == s ? t[n][s] = 0 : t[n][s] += r * t[i][s] } } const i = new Array(e); for (let n = e - 1; n >= 0; n--) { i[n] = t[n][e] / t[n][n]; for (let r = n - 1; r >= 0; r--)t[r][e] -= t[r][n] * i[n] } return i } function oi(t) { return 180 * t / Math.PI } function ai(t) { return t * Math.PI / 180 } function li(t, e) { const i = t % e; return i * e < 0 ? i + e : i } function hi(t, e, i) { return t + i * (e - t) } function ci(t, e) { const i = Math.pow(10, e); return Math.round(t * i) / i } function ui(t, e) { return Math.round(ci(t, e)) } function di(t, e) { return Math.floor(ci(t, e)) } function gi(t, e) { return Math.ceil(ci(t, e)) } function fi(t, e, i) { const n = void 0 !== i ? t.toFixed(i) : "" + t; let r = n.indexOf("."); return r = -1 === r ? n.length : r, r > e ? n : new Array(1 + e - r).join("0") + n } function pi(t, e) { const i = ("" + t).split("."), n = ("" + e).split("."); for (let t = 0; t < Math.max(i.length, n.length); t++) { const e = parseInt(i[t] || "0", 10), r = parseInt(n[t] || "0", 10); if (e > r) return 1; if (r > e) return -1 } return 0 } function mi(t, e) { return t[0] += +e[0], t[1] += +e[1], t } function _i(t, e) { const i = e.getRadius(), n = e.getCenter(), r = n[0], s = n[1]; let o = t[0] - r; const a = t[1] - s; 0 === o && 0 === a && (o = 1); const l = Math.sqrt(o * o + a * a); return [r + i * o / l, s + i * a / l] } function yi(t, e) { const i = t[0], n = t[1], r = e[0], s = e[1], o = r[0], a = r[1], l = s[0], h = s[1], c = l - o, u = h - a, d = 0 === c && 0 === u ? 0 : (c * (i - o) + u * (n - a)) / (c * c + u * u || 0); let g, f; return d <= 0 ? (g = o, f = a) : d >= 1 ? (g = l, f = h) : (g = o + d * c, f = a + d * u), [g, f] } function xi(t, e, i) { const n = li(e + 180, 360) - 180, r = Math.abs(3600 * n), s = i || 0; let o = Math.floor(r / 3600), a = Math.floor((r - 3600 * o) / 60), l = ci(r - 3600 * o - 60 * a, s); l >= 60 && (l = 0, a += 1), a >= 60 && (a = 0, o += 1); let h = o + "Â°"; return 0 === a && 0 === l || (h += " " + fi(a, 2) + "â€²"), 0 !== l && (h += " " + fi(l, 2, s) + "â€³"), 0 !== n && (h += " " + t.charAt(n < 0 ? 1 : 0)), h } function vi(t, e, i) { return t ? e.replace("{x}", t[0].toFixed(i)).replace("{y}", t[1].toFixed(i)) : "" } function Si(t, e) { let i = !0; for (let n = t.length - 1; n >= 0; --n)if (t[n] != e[n]) { i = !1; break } return i } function wi(t, e) { const i = Math.cos(e), n = Math.sin(e), r = t[0] * i - t[1] * n, s = t[1] * i + t[0] * n; return t[0] = r, t[1] = s, t } function Ei(t, e) { return t[0] *= e, t[1] *= e, t } function Ti(t, e) { const i = t[0] - e[0], n = t[1] - e[1]; return i * i + n * n } function Ci(t, e) { return Math.sqrt(Ti(t, e)) } function bi(t, e) { return Ti(t, yi(t, e)) } function Ri(t, e) { return vi(t, "{x}, {y}", e) } function Pi(t, e) { if (e.canWrapX()) { const i = Se(e.getExtent()), n = Ii(t, e, i); n && (t[0] -= n * i) } return t } function Ii(t, e, i) { const n = e.getExtent(); let r = 0; return e.canWrapX() && (t[0] < n[0] || t[0] > n[2]) && (i = i || Se(n), r = Math.floor((t[0] - n[0]) / i)), r } const Li = 6371008.8; function Mi(t, e, i) { i = i || Li; const n = ai(t[1]), r = ai(e[1]), s = (r - n) / 2, o = ai(e[0] - t[0]) / 2, a = Math.sin(s) * Math.sin(s) + Math.sin(o) * Math.sin(o) * Math.cos(n) * Math.cos(r); return 2 * i * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)) } function Fi(t, e) { let i = 0; for (let n = 0, r = t.length; n < r - 1; ++n)i += Mi(t[n], t[n + 1], e); return i } function Ai(t, e) { let i = 0; const n = t.length; let r = t[n - 1][0], s = t[n - 1][1]; for (let e = 0; e < n; e++) { const n = t[e][0], o = t[e][1]; i += ai(n - r) * (2 + Math.sin(ai(s)) + Math.sin(ai(o))), r = n, s = o } return i * e * e / 2 } function Oi(t, e, i, n) { n = n || Li; const r = ai(t[1]), s = ai(t[0]), o = e / n, a = Math.asin(Math.sin(r) * Math.cos(o) + Math.cos(r) * Math.sin(o) * Math.cos(i)); return [oi(s + Math.atan2(Math.sin(i) * Math.sin(o) * Math.cos(r), Math.cos(o) - Math.sin(r) * Math.sin(a))), oi(a)] } let Ni = !0; function Di(t) { Ni = !(void 0 === t || t) } function ki(t, e, i) { if (void 0 !== e) for (let i = 0, n = t.length; i < n; ++i)e[i] = t[i]; else e = t.slice(); return e } function Gi(t, e, i) { if (void 0 !== e && t !== e) { for (let i = 0, n = t.length; i < n; ++i)e[i] = t[i]; t = e } return t } function ji(t) { $e(t.getCode(), t), ti(t, t, ki) } function Bi(t) { t.forEach(ji) } function Ui(t) { return "string" == typeof t ? He(t) : t || null } function zi(t, e, i, n) { let r; const s = (t = Ui(t)).getPointResolutionFunc(); if (s) { if (r = s(e, i), n && n !== t.getUnits()) { const e = t.getMetersPerUnit(); e && (r = r * e / Fe[n]) } } else { const s = t.getUnits(); if ("degrees" == s && !n || "degrees" == n) r = e; else { const o = qi(t, Ui("EPSG:4326")); if (o === Gi && "degrees" !== s) r = e * t.getMetersPerUnit(); else { let t = [i[0] - e / 2, i[1], i[0] + e / 2, i[1], i[0], i[1] - e / 2, i[0], i[1] + e / 2]; t = o(t, t, 2); r = (Mi(t.slice(0, 2), t.slice(2, 4)) + Mi(t.slice(4, 6), t.slice(6, 8))) / 2 } const a = n ? Fe[n] : t.getMetersPerUnit(); void 0 !== a && (r /= a) } } return r } function Xi(t) { Bi(t), t.forEach((function (e) { t.forEach((function (t) { e !== t && ti(e, t, ki) })) })) } function Vi(t, e, i, n) { t.forEach((function (t) { e.forEach((function (e) { ti(t, e, i), ti(e, t, n) })) })) } function Wi(t, e) { return t ? "string" == typeof t ? Ui(t) : t : Ui(e) } function Zi(t) { return function (e, i, n) { const r = e.length; n = void 0 !== n ? n : 2, i = void 0 !== i ? i : new Array(r); for (let s = 0; s < r; s += n) { const r = t(e.slice(s, s + n)), o = r.length; for (let t = 0, a = n; t < a; ++t)i[s + t] = t >= o ? e[s + t] : r[t] } return i } } function Yi(t, e, i, n) { const r = Ui(t), s = Ui(e); ti(r, s, Zi(i)), ti(s, r, Zi(n)) } function Ki(t, e) { if (t === e) return !0; const i = t.getUnits() === e.getUnits(); if (t.getCode() === e.getCode()) return i; return qi(t, e) === ki && i } function qi(t, e) { let i = ei(t.getCode(), e.getCode()); return i || (i = Gi), i } function Hi(t, e) { return qi(Ui(t), Ui(e)) } function $i(t, e, i) { return Hi(e, i)(t, void 0, t.length) } function Ji(t, e, i, n) { return Re(t, Hi(e, i), void 0, n) } let Qi = null; function tn(t) { Qi = Ui(t) } function en() { return Qi } function nn(t, e) { return Qi ? $i(t, e, Qi) : t } function rn(t, e) { return Qi ? $i(t, Qi, e) : (Ni && !Si(t, [0, 0]) && t[0] >= -180 && t[0] <= 180 && t[1] >= -90 && t[1] <= 90 && (Ni = !1, console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")), t) } function sn(t, e) { return Qi ? Ji(t, e, Qi) : t } function on(t, e) { return Qi ? Ji(t, Qi, e) : t } function an(t, e) { if (!Qi) return t; const i = Ui(e).getUnits(), n = Qi.getUnits(); return i && n ? t * Fe[i] / Fe[n] : t } function ln(t, e) { if (!Qi) return t; const i = Ui(e).getUnits(), n = Qi.getUnits(); return i && n ? t * Fe[n] / Fe[i] : t } function hn(t, e, i) { return function (n) { let r, s; if (t.canWrapX()) { const e = t.getExtent(), o = Se(e); s = Ii(n = n.slice(0), t, o), s && (n[0] = n[0] - s * o), n[0] = ii(n[0], e[0], e[2]), n[1] = ii(n[1], e[1], e[3]), r = i(n) } else r = i(n); return s && e.canWrapX() && (r[0] += s * Se(e.getExtent())), r } } function cn() { Xi(Be), Xi(Ye), Vi(Ye, Be, Ue, ze) } function un(t, e, i, n, r, s) { s = s || []; let o = 0; for (let a = e; a < i; a += n) { const e = t[a], i = t[a + 1]; s[o++] = r[0] * e + r[2] * i + r[4], s[o++] = r[1] * e + r[3] * i + r[5] } return s && s.length != o && (s.length = o), s } function dn(t, e, i, n, r, s, o) { o = o || []; const a = Math.cos(r), l = Math.sin(r), h = s[0], c = s[1]; let u = 0; for (let r = e; r < i; r += n) { const e = t[r] - h, i = t[r + 1] - c; o[u++] = h + e * a - i * l, o[u++] = c + e * l + i * a; for (let e = r + 2; e < r + n; ++e)o[u++] = t[e] } return o && o.length != u && (o.length = u), o } function gn(t, e, i, n, r, s, o, a) { a = a || []; const l = o[0], h = o[1]; let c = 0; for (let o = e; o < i; o += n) { const e = t[o] - l, i = t[o + 1] - h; a[c++] = l + r * e, a[c++] = h + s * i; for (let e = o + 2; e < o + n; ++e)a[c++] = t[e] } return a && a.length != c && (a.length = c), a } function fn(t, e, i, n, r, s, o) { o = o || []; let a = 0; for (let l = e; l < i; l += n) { o[a++] = t[l] + r, o[a++] = t[l + 1] + s; for (let e = l + 2; e < l + n; ++e)o[a++] = t[e] } return o && o.length != a && (o.length = a), o } cn(); const pn = [1, 0, 0, 1, 0, 0]; class mn extends V { constructor() { super(), this.extent_ = [1 / 0, 1 / 0, -1 / 0, -1 / 0], this.extentRevision_ = -1, this.simplifiedGeometryMaxMinSquaredTolerance = 0, this.simplifiedGeometryRevision = 0, this.simplifyTransformedInternal = m((function (t, e, i) { if (!i) return this.getSimplifiedGeometry(e); const n = this.clone(); return n.applyTransform(i), n.getSimplifiedGeometry(e) })) } simplifyTransformed(t, e) { return this.simplifyTransformedInternal(this.getRevision(), t, e) } clone() { return B() } closestPointXY(t, e, i, n) { return B() } containsXY(t, e) { const i = this.getClosestPoint([t, e]); return i[0] === t && i[1] === e } getClosestPoint(t, e) { return e = e || [NaN, NaN], this.closestPointXY(t[0], t[1], e, 1 / 0), e } intersectsCoordinate(t) { return this.containsXY(t[0], t[1]) } computeExtent(t) { return B() } getExtent(t) { if (this.extentRevision_ != this.getRevision()) { const t = this.computeExtent(this.extent_); (isNaN(t[0]) || isNaN(t[1])) && Jt(t), this.extentRevision_ = this.getRevision() } return Te(this.extent_, t) } rotate(t, e) { B() } scale(t, e, i) { B() } simplify(t) { return this.getSimplifiedGeometry(t * t) } getSimplifiedGeometry(t) { return B() } getType() { return B() } applyTransform(t) { B() } intersectsExtent(t) { return B() } translate(t, e) { B() } transform(t, e) { const i = Ui(t), n = "tile-pixels" == i.getUnits() ? function (t, n, r) { const s = i.getExtent(), o = i.getWorldExtent(), a = _e(o) / _e(s); return Mt(pn, o[0], o[3], a, -a, 0, 0, 0), un(t, 0, t.length, r, pn, n), Hi(i, e)(t, n, r) } : Hi(i, e); return this.applyTransform(n), this } } class _n extends mn { constructor() { super(), this.layout = "XY", this.stride = 2, this.flatCoordinates = null } computeExtent(t) { return te(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t) } getCoordinates() { return B() } getFirstCoordinate() { return this.flatCoordinates.slice(0, this.stride) } getFlatCoordinates() { return this.flatCoordinates } getLastCoordinate() { return this.flatCoordinates.slice(this.flatCoordinates.length - this.stride) } getLayout() { return this.layout } getSimplifiedGeometry(t) { if (this.simplifiedGeometryRevision !== this.getRevision() && (this.simplifiedGeometryMaxMinSquaredTolerance = 0, this.simplifiedGeometryRevision = this.getRevision()), t < 0 || 0 !== this.simplifiedGeometryMaxMinSquaredTolerance && t <= this.simplifiedGeometryMaxMinSquaredTolerance) return this; const e = this.getSimplifiedGeometryInternal(t); return e.getFlatCoordinates().length < this.flatCoordinates.length ? e : (this.simplifiedGeometryMaxMinSquaredTolerance = t, this) } getSimplifiedGeometryInternal(t) { return this } getStride() { return this.stride } setFlatCoordinates(t, e) { this.stride = yn(t), this.layout = t, this.flatCoordinates = e } setCoordinates(t, e) { B() } setLayout(t, e, i) { let n; if (t) n = yn(t); else { for (let t = 0; t < i; ++t) { if (0 === e.length) return this.layout = "XY", void (this.stride = 2); e = e[0] } n = e.length, t = function (t) { let e; 2 == t ? e = "XY" : 3 == t ? e = "XYZ" : 4 == t && (e = "XYZM"); return e }(n) } this.layout = t, this.stride = n } applyTransform(t) { this.flatCoordinates && (t(this.flatCoordinates, this.flatCoordinates, this.stride), this.changed()) } rotate(t, e) { const i = this.getFlatCoordinates(); if (i) { const n = this.getStride(); dn(i, 0, i.length, n, t, e, i), this.changed() } } scale(t, e, i) { void 0 === e && (e = t), i || (i = ge(this.getExtent())); const n = this.getFlatCoordinates(); if (n) { const r = this.getStride(); gn(n, 0, n.length, r, t, e, i, n), this.changed() } } translate(t, e) { const i = this.getFlatCoordinates(); if (i) { const n = this.getStride(); fn(i, 0, i.length, n, t, e, i), this.changed() } } } function yn(t) { let e; return "XY" == t ? e = 2 : "XYZ" == t || "XYM" == t ? e = 3 : "XYZM" == t && (e = 4), e } function xn(t, e, i) { const n = t.getFlatCoordinates(); if (n) { const r = t.getStride(); return un(n, 0, n.length, r, e, i) } return null } function vn(t, e, i, n, r, s, o) { const a = t[e], l = t[e + 1], h = t[i] - a, c = t[i + 1] - l; let u; if (0 === h && 0 === c) u = e; else { const d = ((r - a) * h + (s - l) * c) / (h * h + c * c); if (d > 1) u = i; else { if (d > 0) { for (let r = 0; r < n; ++r)o[r] = hi(t[e + r], t[i + r], d); return void (o.length = n) } u = e } } for (let e = 0; e < n; ++e)o[e] = t[u + e]; o.length = n } function Sn(t, e, i, n, r) { let s = t[e], o = t[e + 1]; for (e += n; e < i; e += n) { const i = t[e], n = t[e + 1], a = ri(s, o, i, n); a > r && (r = a), s = i, o = n } return r } function wn(t, e, i, n, r) { for (let s = 0, o = i.length; s < o; ++s) { const o = i[s]; r = Sn(t, e, o, n, r), e = o } return r } function En(t, e, i, n, r) { for (let s = 0, o = i.length; s < o; ++s) { const o = i[s]; r = wn(t, e, o, n, r), e = o[o.length - 1] } return r } function Tn(t, e, i, n, r, s, o, a, l, h, c) { if (e == i) return h; let u, d; if (0 === r) { if (d = ri(o, a, t[e], t[e + 1]), d < h) { for (u = 0; u < n; ++u)l[u] = t[e + u]; return l.length = n, d } return h } c = c || [NaN, NaN]; let g = e + n; for (; g < i;)if (vn(t, g - n, g, n, o, a, c), d = ri(o, a, c[0], c[1]), d < h) { for (h = d, u = 0; u < n; ++u)l[u] = c[u]; l.length = n, g += n } else g += n * Math.max((Math.sqrt(d) - Math.sqrt(h)) / r | 0, 1); if (s && (vn(t, i - n, e, n, o, a, c), d = ri(o, a, c[0], c[1]), d < h)) { for (h = d, u = 0; u < n; ++u)l[u] = c[u]; l.length = n } return h } function Cn(t, e, i, n, r, s, o, a, l, h, c) { c = c || [NaN, NaN]; for (let u = 0, d = i.length; u < d; ++u) { const d = i[u]; h = Tn(t, e, d, n, r, s, o, a, l, h, c), e = d } return h } function bn(t, e, i, n, r, s, o, a, l, h, c) { c = c || [NaN, NaN]; for (let u = 0, d = i.length; u < d; ++u) { const d = i[u]; h = Cn(t, e, d, n, r, s, o, a, l, h, c), e = d[d.length - 1] } return h } function Rn(t, e, i, n) { for (let n = 0, r = i.length; n < r; ++n)t[e++] = i[n]; return e } function Pn(t, e, i, n) { for (let r = 0, s = i.length; r < s; ++r) { const s = i[r]; for (let i = 0; i < n; ++i)t[e++] = s[i] } return e } function In(t, e, i, n, r) { r = r || []; let s = 0; for (let o = 0, a = i.length; o < a; ++o) { const a = Pn(t, e, i[o], n); r[s++] = a, e = a } return r.length = s, r } function Ln(t, e, i, n, r) { r = r || []; let s = 0; for (let o = 0, a = i.length; o < a; ++o) { const a = In(t, e, i[o], n, r[s]); 0 === a.length && (a[0] = e), r[s++] = a, e = a[a.length - 1] } return r.length = s, r } function Mn(t, e, i, n, r, s, o) { const a = (i - e) / n; if (a < 3) { for (; e < i; e += n)s[o++] = t[e], s[o++] = t[e + 1]; return o } const l = new Array(a); l[0] = 1, l[a - 1] = 1; const h = [e, i - n]; let c = 0; for (; h.length > 0;) { const i = h.pop(), s = h.pop(); let o = 0; const a = t[s], u = t[s + 1], d = t[i], g = t[i + 1]; for (let e = s + n; e < i; e += n) { const i = ni(t[e], t[e + 1], a, u, d, g); i > o && (c = e, o = i) } o > r && (l[(c - e) / n] = 1, s + n < c && h.push(s, c), c + n < i && h.push(c, i)) } for (let i = 0; i < a; ++i)l[i] && (s[o++] = t[e + i * n], s[o++] = t[e + i * n + 1]); return o } function Fn(t, e, i, n, r, s, o, a) { for (let l = 0, h = i.length; l < h; ++l) { const h = i[l]; o = Mn(t, e, h, n, r, s, o), a.push(o), e = h } return o } function An(t, e, i, n, r, s, o) { if (i <= e + n) { for (; e < i; e += n)s[o++] = t[e], s[o++] = t[e + 1]; return o } let a = t[e], l = t[e + 1]; s[o++] = a, s[o++] = l; let h = a, c = l; for (e += n; e < i; e += n)h = t[e], c = t[e + 1], ri(a, l, h, c) > r && (s[o++] = h, s[o++] = c, a = h, l = c); return h == a && c == l || (s[o++] = h, s[o++] = c), o } function On(t, e) { return e * Math.round(t / e) } function Nn(t, e, i, n, r, s, o) { if (e == i) return o; let a, l, h = On(t[e], r), c = On(t[e + 1], r); e += n, s[o++] = h, s[o++] = c; do { if (a = On(t[e], r), l = On(t[e + 1], r), (e += n) == i) return s[o++] = a, s[o++] = l, o } while (a == h && l == c); for (; e < i;) { const i = On(t[e], r), u = On(t[e + 1], r); if (e += n, i == a && u == l) continue; const d = a - h, g = l - c, f = i - h, p = u - c; d * p == g * f && (d < 0 && f < d || d == f || d > 0 && f > d) && (g < 0 && p < g || g == p || g > 0 && p > g) ? (a = i, l = u) : (s[o++] = a, s[o++] = l, h = a, c = l, a = i, l = u) } return s[o++] = a, s[o++] = l, o } function Dn(t, e, i, n, r, s, o, a) { for (let l = 0, h = i.length; l < h; ++l) { const h = i[l]; o = Nn(t, e, h, n, r, s, o), a.push(o), e = h } return o } function kn(t, e, i, n, r, s, o, a) { for (let l = 0, h = i.length; l < h; ++l) { const h = i[l], c = []; o = Dn(t, e, h, n, r, s, o, c), a.push(c), e = h[h.length - 1] } return o } function Gn(t, e, i, n, r) { r = void 0 !== r ? r : []; let s = 0; for (let o = e; o < i; o += n)r[s++] = t.slice(o, o + n); return r.length = s, r } function jn(t, e, i, n, r) { r = void 0 !== r ? r : []; let s = 0; for (let o = 0, a = i.length; o < a; ++o) { const a = i[o]; r[s++] = Gn(t, e, a, n, r[s]), e = a } return r.length = s, r } function Bn(t, e, i, n, r) { r = void 0 !== r ? r : []; let s = 0; for (let o = 0, a = i.length; o < a; ++o) { const a = i[o]; r[s++] = 1 === a.length && a[0] === e ? [] : jn(t, e, a, n, r[s]), e = a[a.length - 1] } return r.length = s, r } function Un(t, e, i, n) { let r = 0, s = t[i - n], o = t[i - n + 1]; for (; e < i; e += n) { const i = t[e], n = t[e + 1]; r += o * i - s * n, s = i, o = n } return r / 2 } function zn(t, e, i, n) { let r = 0; for (let s = 0, o = i.length; s < o; ++s) { const o = i[s]; r += Un(t, e, o, n), e = o } return r } function Xn(t, e, i, n) { let r = 0; for (let s = 0, o = i.length; s < o; ++s) { const o = i[s]; r += zn(t, e, o, n), e = o[o.length - 1] } return r } class Vn extends _n { constructor(t, e) { super(), this.maxDelta_ = -1, this.maxDeltaRevision_ = -1, void 0 === e || Array.isArray(t[0]) ? this.setCoordinates(t, e) : this.setFlatCoordinates(e, t) } clone() { return new Vn(this.flatCoordinates.slice(), this.layout) } closestPointXY(t, e, i, n) { return n < Wt(this.getExtent(), t, e) ? n : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(Sn(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0)), this.maxDeltaRevision_ = this.getRevision()), Tn(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, this.maxDelta_, !0, t, e, i, n)) } getArea() { return Un(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride) } getCoordinates() { return Gn(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride) } getSimplifiedGeometryInternal(t) { const e = []; return e.length = Mn(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t, e, 0), new Vn(e, "XY") } getType() { return "LinearRing" } intersectsExtent(t) { return !1 } setCoordinates(t, e) { this.setLayout(e, t, 1), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = Pn(this.flatCoordinates, 0, t, this.stride), this.changed() } } class Wn extends _n { constructor(t, e) { super(), this.setCoordinates(t, e) } clone() { const t = new Wn(this.flatCoordinates.slice(), this.layout); return t.applyProperties(this), t } closestPointXY(t, e, i, n) { const r = this.flatCoordinates, s = ri(t, e, r[0], r[1]); if (s < n) { const t = this.stride; for (let e = 0; e < t; ++e)i[e] = r[e]; return i.length = t, s } return n } getCoordinates() { return this.flatCoordinates ? this.flatCoordinates.slice() : [] } computeExtent(t) { return Qt(this.flatCoordinates, t) } getType() { return "Point" } intersectsExtent(t) { return Kt(t, this.flatCoordinates[0], this.flatCoordinates[1]) } setCoordinates(t, e) { this.setLayout(e, t, 0), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = Rn(this.flatCoordinates, 0, t, this.stride), this.changed() } } function Zn(t, e, i, n, r) { return !he(r, (function (r) { return !Yn(t, e, i, n, r[0], r[1]) })) } function Yn(t, e, i, n, r, s) { let o = 0, a = t[i - n], l = t[i - n + 1]; for (; e < i; e += n) { const i = t[e], n = t[e + 1]; l <= s ? n > s && (i - a) * (s - l) - (r - a) * (n - l) > 0 && o++ : n <= s && (i - a) * (s - l) - (r - a) * (n - l) < 0 && o--, a = i, l = n } return 0 !== o } function Kn(t, e, i, n, r, s) { if (0 === i.length) return !1; if (!Yn(t, e, i[0], n, r, s)) return !1; for (let e = 1, o = i.length; e < o; ++e)if (Yn(t, i[e - 1], i[e], n, r, s)) return !1; return !0 } function qn(t, e, i, n, r, s) { if (0 === i.length) return !1; for (let o = 0, a = i.length; o < a; ++o) { const a = i[o]; if (Kn(t, e, a, n, r, s)) return !0; e = a[a.length - 1] } return !1 } function Hn(t, e, i, n, r, s, o) { let l, h, c, u, d, g, f; const p = r[s + 1], m = []; for (let r = 0, s = i.length; r < s; ++r) { const s = i[r]; for (u = t[s - n], g = t[s - n + 1], l = e; l < s; l += n)d = t[l], f = t[l + 1], (p <= g && f <= p || g <= p && p <= f) && (c = (p - g) / (f - g) * (d - u) + u, m.push(c)), u = d, g = f } let _ = NaN, y = -1 / 0; for (m.sort(a), u = m[0], l = 1, h = m.length; l < h; ++l) { d = m[l]; const r = Math.abs(d - u); r > y && (c = (u + d) / 2, Kn(t, e, i, n, c, p) && (_ = c, y = r)), u = d } return isNaN(_) && (_ = r[s]), o ? (o.push(_, p, y), o) : [_, p, y] } function $n(t, e, i, n, r) { let s = []; for (let o = 0, a = i.length; o < a; ++o) { const a = i[o]; s = Hn(t, e, a, n, r, 2 * o, s), e = a[a.length - 1] } return s } function Jn(t, e, i, n, r) { let s; for (e += n; e < i; e += n)if (s = r(t.slice(e - n, e), t.slice(e, e + n)), s) return s; return !1 } function Qn(t, e, i, n, r) { const s = oe([1 / 0, 1 / 0, -1 / 0, -1 / 0], t, e, i, n); return !!we(r, s) && (!!Yt(r, s) || (s[0] >= r[0] && s[2] <= r[2] || (s[1] >= r[1] && s[3] <= r[3] || Jn(t, e, i, n, (function (t, e) { return be(r, t, e) }))))) } function tr(t, e, i, n, r) { for (let s = 0, o = i.length; s < o; ++s) { if (Qn(t, e, i[s], n, r)) return !0; e = i[s] } return !1 } function er(t, e, i, n, r) { return !!Qn(t, e, i, n, r) || (!!Yn(t, e, i, n, r[0], r[1]) || (!!Yn(t, e, i, n, r[0], r[3]) || (!!Yn(t, e, i, n, r[2], r[1]) || !!Yn(t, e, i, n, r[2], r[3])))) } function ir(t, e, i, n, r) { if (!er(t, e, i[0], n, r)) return !1; if (1 === i.length) return !0; for (let e = 1, s = i.length; e < s; ++e)if (Zn(t, i[e - 1], i[e], n, r) && !Qn(t, i[e - 1], i[e], n, r)) return !1; return !0 } function nr(t, e, i, n, r) { for (let s = 0, o = i.length; s < o; ++s) { const o = i[s]; if (ir(t, e, o, n, r)) return !0; e = o[o.length - 1] } return !1 } function rr(t, e, i, n) { for (; e < i - n;) { for (let r = 0; r < n; ++r) { const s = t[e + r]; t[e + r] = t[i - n + r], t[i - n + r] = s } e += n, i -= n } } function sr(t, e, i, n) { let r = 0, s = t[i - n], o = t[i - n + 1]; for (; e < i; e += n) { const i = t[e], n = t[e + 1]; r += (i - s) * (n + o), s = i, o = n } return 0 === r ? void 0 : r > 0 } function or(t, e, i, n, r) { r = void 0 !== r && r; for (let s = 0, o = i.length; s < o; ++s) { const o = i[s], a = sr(t, e, o, n); if (0 === s) { if (r && a || !r && !a) return !1 } else if (r && !a || !r && a) return !1; e = o } return !0 } function ar(t, e, i, n, r) { for (let s = 0, o = i.length; s < o; ++s) { const o = i[s]; if (!or(t, e, o, n, r)) return !1; o.length && (e = o[o.length - 1]) } return !0 } function lr(t, e, i, n, r) { r = void 0 !== r && r; for (let s = 0, o = i.length; s < o; ++s) { const o = i[s], a = sr(t, e, o, n); (0 === s ? r && a || !r && !a : r && !a || !r && a) && rr(t, e, o, n), e = o } return e } function hr(t, e, i, n, r) { for (let s = 0, o = i.length; s < o; ++s)e = lr(t, e, i[s], n, r); return e } function cr(t, e) { const i = []; let n = 0, r = 0; for (let s = 0, o = e.length; s < o; ++s) { const o = e[s]; if (sr(t, n, o, 2)) { if (0 === i.length) continue; i[i.length - 1].push(e[r]) } else i.push(e.slice(r, s + 1)); r = s + 1, n = o } return i } class ur extends _n { constructor(t, e, i) { super(), this.ends_ = [], this.flatInteriorPointRevision_ = -1, this.flatInteriorPoint_ = null, this.maxDelta_ = -1, this.maxDeltaRevision_ = -1, this.orientedRevision_ = -1, this.orientedFlatCoordinates_ = null, void 0 !== e && i ? (this.setFlatCoordinates(e, t), this.ends_ = i) : this.setCoordinates(t, e) } appendLinearRing(t) { this.flatCoordinates ? c(this.flatCoordinates, t.getFlatCoordinates()) : this.flatCoordinates = t.getFlatCoordinates().slice(), this.ends_.push(this.flatCoordinates.length), this.changed() } clone() { const t = new ur(this.flatCoordinates.slice(), this.layout, this.ends_.slice()); return t.applyProperties(this), t } closestPointXY(t, e, i, n) { return n < Wt(this.getExtent(), t, e) ? n : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(wn(this.flatCoordinates, 0, this.ends_, this.stride, 0)), this.maxDeltaRevision_ = this.getRevision()), Cn(this.flatCoordinates, 0, this.ends_, this.stride, this.maxDelta_, !0, t, e, i, n)) } containsXY(t, e) { return Kn(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, t, e) } getArea() { return zn(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride) } getCoordinates(t) { let e; return void 0 !== t ? (e = this.getOrientedFlatCoordinates().slice(), lr(e, 0, this.ends_, this.stride, t)) : e = this.flatCoordinates, jn(e, 0, this.ends_, this.stride) } getEnds() { return this.ends_ } getFlatInteriorPoint() { if (this.flatInteriorPointRevision_ != this.getRevision()) { const t = ge(this.getExtent()); this.flatInteriorPoint_ = Hn(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, t, 0), this.flatInteriorPointRevision_ = this.getRevision() } return this.flatInteriorPoint_ } getInteriorPoint() { return new Wn(this.getFlatInteriorPoint(), "XYM") } getLinearRingCount() { return this.ends_.length } getLinearRing(t) { return t < 0 || this.ends_.length <= t ? null : new Vn(this.flatCoordinates.slice(0 === t ? 0 : this.ends_[t - 1], this.ends_[t]), this.layout) } getLinearRings() { const t = this.layout, e = this.flatCoordinates, i = this.ends_, n = []; let r = 0; for (let s = 0, o = i.length; s < o; ++s) { const o = i[s], a = new Vn(e.slice(r, o), t); n.push(a), r = o } return n } getOrientedFlatCoordinates() { if (this.orientedRevision_ != this.getRevision()) { const t = this.flatCoordinates; or(t, 0, this.ends_, this.stride) ? this.orientedFlatCoordinates_ = t : (this.orientedFlatCoordinates_ = t.slice(), this.orientedFlatCoordinates_.length = lr(this.orientedFlatCoordinates_, 0, this.ends_, this.stride)), this.orientedRevision_ = this.getRevision() } return this.orientedFlatCoordinates_ } getSimplifiedGeometryInternal(t) { const e = [], i = []; return e.length = Dn(this.flatCoordinates, 0, this.ends_, this.stride, Math.sqrt(t), e, 0, i), new ur(e, "XY", i) } getType() { return "Polygon" } intersectsExtent(t) { return ir(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, t) } setCoordinates(t, e) { this.setLayout(e, t, 2), this.flatCoordinates || (this.flatCoordinates = []); const i = In(this.flatCoordinates, 0, t, this.stride, this.ends_); this.flatCoordinates.length = 0 === i.length ? 0 : i[i.length - 1], this.changed() } } function dr(t, e, i, n) { i = i || 32; const r = []; for (let s = 0; s < i; ++s)c(r, Oi(t, e, 2 * Math.PI * s / i, n)); return r.push(r[0], r[1]), new ur(r, "XY", [r.length]) } function gr(t) { const e = t[0], i = t[1], n = t[2], r = t[3], s = [e, i, e, r, n, r, n, i, e, i]; return new ur(s, "XY", [s.length]) } function fr(t, e, i) { e = e || 32; const n = t.getStride(), r = t.getLayout(), s = t.getCenter(), o = n * (e + 1), a = new Array(o); for (let t = 0; t < o; t += n) { a[t] = 0, a[t + 1] = 0; for (let e = 2; e < n; e++)a[t + e] = s[e] } const l = [a.length], h = new ur(a, r, l); return pr(h, s, t.getRadius(), i), h } function pr(t, e, i, n) { const r = t.getFlatCoordinates(), s = t.getStride(), o = r.length / s - 1, a = n || 0; for (let t = 0; t <= o; ++t) { const n = t * s, l = a + 2 * li(t, o) * Math.PI / o; r[n] = e[0] + i * Math.cos(l), r[n + 1] = e[1] + i * Math.sin(l) } t.changed() } const mr = "accuracy", _r = "accuracyGeometry", yr = "altitude", xr = "altitudeAccuracy", vr = "heading", Sr = "position", wr = "projection", Er = "speed", Tr = "tracking", Cr = "trackingOptions"; class br extends i { constructor(t) { super(w), this.code = t.code, this.message = t.message } } class Rr extends v { constructor(t, e, i, n) { super(), this.extent = t, this.pixelRatio_ = i, this.resolution = e, this.state = n } changed() { this.dispatchEvent(S) } getExtent() { return this.extent } getImage() { return B() } getPixelRatio() { return this.pixelRatio_ } getResolution() { return this.resolution } getState() { return this.state } load() { B() } } var Pr = 0, Ir = 1, Lr = 2, Mr = 3, Fr = 4; class Ar extends Rr { constructor(t, e, i, n, r, s) { super(t, e, i, Pr), this.src_ = n, this.image_ = new Image, null !== r && (this.image_.crossOrigin = r), this.unlisten_ = null, this.state = Pr, this.imageLoadFunction_ = s } getImage() { return this.image_ } handleImageError_() { this.state = Mr, this.unlistenImage_(), this.changed() } handleImageLoad_() { void 0 === this.resolution && (this.resolution = _e(this.extent) / this.image_.height), this.state = Lr, this.unlistenImage_(), this.changed() } load() { this.state != Pr && this.state != Mr || (this.state = Ir, this.changed(), this.imageLoadFunction_(this, this.src_), this.unlisten_ = Or(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this))) } setImage(t) { this.image_ = t, this.resolution = _e(this.extent) / this.image_.height } unlistenImage_() { this.unlisten_ && (this.unlisten_(), this.unlisten_ = null) } } function Or(t, e, i) { const n = t; let r = !0, s = !1, o = !1; const a = [D(n, M, (function () { o = !0, s || e() }))]; return n.src && yt ? (s = !0, n.decode().then((function () { r && e() })).catch((function (t) { r && (o ? e() : i()) }))) : a.push(D(n, w, i)), function () { r = !1, a.forEach(k) } } class Nr extends Rr { constructor(t, e, i, n, r) { super(t, e, i, void 0 !== r ? Pr : Lr), this.loader_ = void 0 !== r ? r : null, this.canvas_ = n, this.error_ = null } getError() { return this.error_ } handleLoad_(t) { t ? (this.error_ = t, this.state = Mr) : this.state = Lr, this.changed() } load() { this.state == Pr && (this.state = Ir, this.changed(), this.loader_(this.handleLoad_.bind(this))) } getImage() { return this.canvas_ } } function Dr(t, e, i, n) { let r; return r = i && i.length ? i.shift() : _t ? new OffscreenCanvas(t || 300, e || 300) : document.createElement("canvas"), t && (r.width = t), e && (r.height = e), r.getContext("2d", n) } function kr(t) { const e = t.canvas; e.width = 1, e.height = 1, t.clearRect(0, 0, 1, 1) } function Gr(t) { let e = t.offsetWidth; const i = getComputedStyle(t); return e += parseInt(i.marginLeft, 10) + parseInt(i.marginRight, 10), e } function jr(t) { let e = t.offsetHeight; const i = getComputedStyle(t); return e += parseInt(i.marginTop, 10) + parseInt(i.marginBottom, 10), e } function Br(t, e) { const i = e.parentNode; i && i.replaceChild(t, e) } function Ur(t) { return t && t.parentNode ? t.parentNode.removeChild(t) : null } function zr(t) { for (; t.lastChild;)t.removeChild(t.lastChild) } function Xr(t, e) { const i = t.childNodes; for (let n = 0; ; ++n) { const r = i[n], s = e[n]; if (!r && !s) break; r !== s && (r ? s ? t.insertBefore(s, r) : (t.removeChild(r), --n) : t.appendChild(s)) } } class Vr extends st { constructor(t, e, i, n, r, s) { super(t, e, s), this.crossOrigin_ = n, this.src_ = i, this.key = i, this.image_ = new Image, null !== n && (this.image_.crossOrigin = n), this.unlisten_ = null, this.tileLoadFunction_ = r } getImage() { return this.image_ } setImage(t) { this.image_ = t, this.state = J, this.unlistenImage_(), this.changed() } handleImageError_() { this.state = Q, this.unlistenImage_(), this.image_ = function () { const t = Dr(1, 1); return t.fillStyle = "rgba(0,0,0,0)", t.fillRect(0, 0, 1, 1), t.canvas }(), this.changed() } handleImageLoad_() { const t = this.image_; t.naturalWidth && t.naturalHeight ? this.state = J : this.state = tt, this.unlistenImage_(), this.changed() } load() { this.state == Q && (this.state = H, this.image_ = new Image, null !== this.crossOrigin_ && (this.image_.crossOrigin = this.crossOrigin_)), this.state == H && (this.state = $, this.changed(), this.tileLoadFunction_(this, this.src_), this.unlisten_ = Or(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this))) } unlistenImage_() { this.unlisten_ && (this.unlisten_(), this.unlisten_ = null) } } class Wr { constructor(t, e, i) { this.decay_ = t, this.minVelocity_ = e, this.delay_ = i, this.points_ = [], this.angle_ = 0, this.initialVelocity_ = 0 } begin() { this.points_.length = 0, this.angle_ = 0, this.initialVelocity_ = 0 } update(t, e) { this.points_.push(t, e, Date.now()) } end() { if (this.points_.length < 6) return !1; const t = Date.now() - this.delay_, e = this.points_.length - 3; if (this.points_[e + 2] < t) return !1; let i = e - 3; for (; i > 0 && this.points_[i + 2] > t;)i -= 3; const n = this.points_[e + 2] - this.points_[i + 2]; if (n < 1e3 / 60) return !1; const r = this.points_[e] - this.points_[i], s = this.points_[e + 1] - this.points_[i + 1]; return this.angle_ = Math.atan2(s, r), this.initialVelocity_ = Math.sqrt(r * r + s * s) / n, this.initialVelocity_ > this.minVelocity_ } getDistance() { return (this.minVelocity_ - this.initialVelocity_) / this.decay_ } getAngle() { return this.angle_ } } const Zr = /^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i, Yr = /^([a-z]*)$|^hsla?\(.*\)$/i; function Kr(t) { return "string" == typeof t ? t : Qr(t) } function qr(t) { const e = document.createElement("div"); if (e.style.color = t, "" !== e.style.color) { document.body.appendChild(e); const t = getComputedStyle(e).color; return document.body.removeChild(e), t } return "" } const Hr = function () { const t = {}; let e = 0; return function (i) { let n; if (t.hasOwnProperty(i)) n = t[i]; else { if (e >= 1024) { let i = 0; for (const n in t) 0 == (3 & i++) && (delete t[n], --e) } n = function (t) { let e, i, n, r, s; Yr.exec(t) && (t = qr(t)); if (Zr.exec(t)) { const o = t.length - 1; let a; a = o <= 4 ? 1 : 2; const l = 4 === o || 8 === o; e = parseInt(t.substr(1 + 0 * a, a), 16), i = parseInt(t.substr(1 + 1 * a, a), 16), n = parseInt(t.substr(1 + 2 * a, a), 16), r = l ? parseInt(t.substr(1 + 3 * a, a), 16) : 255, 1 == a && (e = (e << 4) + e, i = (i << 4) + i, n = (n << 4) + n, l && (r = (r << 4) + r)), s = [e, i, n, r / 255] } else t.startsWith("rgba(") ? (s = t.slice(5, -1).split(",").map(Number), Jr(s)) : t.startsWith("rgb(") ? (s = t.slice(4, -1).split(",").map(Number), s.push(1), Jr(s)) : at(!1, 14); return s }(i), t[i] = n, ++e } return n } }(); function $r(t) { return Array.isArray(t) ? t : Hr(t) } function Jr(t) { return t[0] = ii(t[0] + .5 | 0, 0, 255), t[1] = ii(t[1] + .5 | 0, 0, 255), t[2] = ii(t[2] + .5 | 0, 0, 255), t[3] = ii(t[3], 0, 1), t } function Qr(t) { let e = t[0]; e != (0 | e) && (e = e + .5 | 0); let i = t[1]; i != (0 | i) && (i = i + .5 | 0); let n = t[2]; n != (0 | n) && (n = n + .5 | 0); return "rgba(" + e + "," + i + "," + n + "," + (void 0 === t[3] ? 1 : Math.round(100 * t[3]) / 100) + ")" } function ts(t) { return Yr.test(t) && (t = qr(t)), Zr.test(t) || t.startsWith("rgba(") || t.startsWith("rgb(") } class es { constructor() { this.cache_ = {}, this.cacheSize_ = 0, this.maxCacheSize_ = 32 } clear() { this.cache_ = {}, this.cacheSize_ = 0 } canExpireCache() { return this.cacheSize_ > this.maxCacheSize_ } expire() { if (this.canExpireCache()) { let t = 0; for (const e in this.cache_) { const i = this.cache_[e]; 0 != (3 & t++) || i.hasListener() || (delete this.cache_[e], --this.cacheSize_) } } } get(t, e, i) { const n = is(t, e, i); return n in this.cache_ ? this.cache_[n] : null } set(t, e, i, n) { const r = is(t, e, i); this.cache_[r] = n, ++this.cacheSize_ } setSize(t) { this.maxCacheSize_ = t, this.expire() } } function is(t, e, i) { return e + ":" + t + ":" + (i ? Kr(i) : "null") } const ns = new es; var rs = "opacity", ss = "visible", os = "extent", as = "zIndex", ls = "maxResolution", hs = "minResolution", cs = "maxZoom", us = "minZoom", ds = "source", gs = "map"; class fs extends V { constructor(t) { super(), this.on, this.once, this.un, this.background_ = t.background; const e = Object.assign({}, t); "object" == typeof t.properties && (delete e.properties, Object.assign(e, t.properties)), e[rs] = void 0 !== t.opacity ? t.opacity : 1, at("number" == typeof e[rs], 64), e[ss] = void 0 === t.visible || t.visible, e[as] = t.zIndex, e[ls] = void 0 !== t.maxResolution ? t.maxResolution : 1 / 0, e[hs] = void 0 !== t.minResolution ? t.minResolution : 0, e[us] = void 0 !== t.minZoom ? t.minZoom : -1 / 0, e[cs] = void 0 !== t.maxZoom ? t.maxZoom : 1 / 0, this.className_ = void 0 !== e.className ? e.className : "ol-layer", delete e.className, this.setProperties(e), this.state_ = null } getBackground() { return this.background_ } getClassName() { return this.className_ } getLayerState(t) { const e = this.state_ || { layer: this, managed: void 0 === t || t }, i = this.getZIndex(); return e.opacity = ii(Math.round(100 * this.getOpacity()) / 100, 0, 1), e.visible = this.getVisible(), e.extent = this.getExtent(), e.zIndex = void 0 !== i || e.managed ? i : 1 / 0, e.maxResolution = this.getMaxResolution(), e.minResolution = Math.max(this.getMinResolution(), 0), e.minZoom = this.getMinZoom(), e.maxZoom = this.getMaxZoom(), this.state_ = e, e } getLayersArray(t) { return B() } getLayerStatesArray(t) { return B() } getExtent() { return this.get(os) } getMaxResolution() { return this.get(ls) } getMinResolution() { return this.get(hs) } getMinZoom() { return this.get(us) } getMaxZoom() { return this.get(cs) } getOpacity() { return this.get(rs) } getSourceState() { return B() } getVisible() { return this.get(ss) } getZIndex() { return this.get(as) } setBackground(t) { this.background_ = t, this.changed() } setExtent(t) { this.set(os, t) } setMaxResolution(t) { this.set(ls, t) } setMinResolution(t) { this.set(hs, t) } setMaxZoom(t) { this.set(cs, t) } setMinZoom(t) { this.set(us, t) } setOpacity(t) { at("number" == typeof t, 64), this.set(rs, t) } setVisible(t) { this.set(ss, t) } setZIndex(t) { this.set(as, t) } disposeInternal() { this.state_ && (this.state_.layer = null, this.state_ = null), super.disposeInternal() } } var ps = "prerender", ms = "postrender", _s = "precompose", ys = "postcompose", xs = "rendercomplete"; class vs extends fs { constructor(t) { const e = Object.assign({}, t); delete e.source, super(e), this.on, this.once, this.un, this.mapPrecomposeKey_ = null, this.mapRenderKey_ = null, this.sourceChangeKey_ = null, this.renderer_ = null, this.rendered = !1, t.render && (this.render = t.render), t.map && this.setMap(t.map), this.addChangeListener(ds, this.handleSourcePropertyChange_); const i = t.source ? t.source : null; this.setSource(i) } getLayersArray(t) { return (t = t || []).push(this), t } getLayerStatesArray(t) { return (t = t || []).push(this.getLayerState()), t } getSource() { return this.get(ds) || null } getRenderSource() { return this.getSource() } getSourceState() { const t = this.getSource(); return t ? t.getState() : "undefined" } handleSourceChange_() { this.changed() } handleSourcePropertyChange_() { this.sourceChangeKey_ && (k(this.sourceChangeKey_), this.sourceChangeKey_ = null); const t = this.getSource(); t && (this.sourceChangeKey_ = N(t, S, this.handleSourceChange_, this)), this.changed() } getFeatures(t) { return this.renderer_ ? this.renderer_.getFeatures(t) : new Promise((t => t([]))) } getData(t) { return this.renderer_ && this.rendered ? this.renderer_.getData(t) : null } render(t, e) { const i = this.getRenderer(); if (i.prepareFrame(t)) return this.rendered = !0, i.renderFrame(t, e) } unrender() { this.rendered = !1 } setMapInternal(t) { t || this.unrender(), this.set(gs, t) } getMapInternal() { return this.get(gs) } setMap(t) { this.mapPrecomposeKey_ && (k(this.mapPrecomposeKey_), this.mapPrecomposeKey_ = null), t || this.changed(), this.mapRenderKey_ && (k(this.mapRenderKey_), this.mapRenderKey_ = null), t && (this.mapPrecomposeKey_ = N(t, _s, (function (t) { const e = t.frameState.layerStatesArray, i = this.getLayerState(!1); at(!e.some((function (t) { return t.layer === i.layer })), 67), e.push(i) }), this), this.mapRenderKey_ = N(this, S, t.render, t), this.changed()) } setSource(t) { this.set(ds, t) } getRenderer() { return this.renderer_ || (this.renderer_ = this.createRenderer()), this.renderer_ } hasRenderer() { return !!this.renderer_ } createRenderer() { return null } disposeInternal() { this.renderer_ && (this.renderer_.dispose(), delete this.renderer_), this.setSource(null), super.disposeInternal() } } function Ss(t, e) { if (!t.visible) return !1; const i = e.resolution; if (i < t.minResolution || i >= t.maxResolution) return !1; const n = e.zoom; return n > t.minZoom && n <= t.maxZoom } class ws extends s { constructor(t) { super(), this.map_ = t } dispatchRenderEvent(t, e) { B() } calculateMatrices2D(t) { const e = t.viewState, i = t.coordinateToPixelTransform, n = t.pixelToCoordinateTransform; Mt(i, t.size[0] / 2, t.size[1] / 2, 1 / e.resolution, -1 / e.resolution, -e.rotation, -e.center[0], -e.center[1]), Ft(n, i) } forEachFeatureAtCoordinate(t, e, i, n, r, s, o, a) { let l; const h = e.viewState; function c(t, e, i, n) { return r.call(s, e, t ? i : null, n) } const u = h.projection, d = Pi(t.slice(), u), g = [[0, 0]]; if (u.canWrapX() && n) { const t = Se(u.getExtent()); g.push([-t, 0], [t, 0]) } const f = e.layerStatesArray, p = f.length, m = [], _ = []; for (let n = 0; n < g.length; n++)for (let r = p - 1; r >= 0; --r) { const s = f[r], u = s.layer; if (u.hasRenderer() && Ss(s, h) && o.call(a, u)) { const r = u.getRenderer(), o = u.getSource(); if (r && o) { const a = o.getWrapX() ? d : t, h = c.bind(null, s.managed); _[0] = a[0] + g[n][0], _[1] = a[1] + g[n][1], l = r.forEachFeatureAtCoordinate(_, e, i, h, m) } if (l) return l } } if (0 === m.length) return; const y = 1 / m.length; return m.forEach(((t, e) => t.distanceSq += e * y)), m.sort(((t, e) => t.distanceSq - e.distanceSq)), m.some((t => l = t.callback(t.feature, t.layer, t.geometry))), l } hasFeatureAtCoordinate(t, e, i, n, r, s) { return void 0 !== this.forEachFeatureAtCoordinate(t, e, i, n, g, this, r, s) } getMap() { return this.map_ } renderFrame(t) { B() } scheduleExpireIconCache(t) { ns.canExpireCache() && t.postRenderFunctions.push(Es) } } function Es(t, e) { ns.expire() } class Ts extends i { constructor(t, e, i, n) { super(t), this.inversePixelTransform = e, this.frameState = i, this.context = n } } const Cs = "ol-hidden", bs = "ol-selectable", Rs = "ol-unselectable", Ps = "ol-unsupported", Is = "ol-control", Ls = "ol-collapsed", Ms = new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)", "(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)", "(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)", "(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?", "(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))", "(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))", "?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""), "i"), Fs = ["style", "variant", "weight", "size", "lineHeight", "family"], As = function (t) { const e = t.match(Ms); if (!e) return null; const i = { lineHeight: "normal", size: "1.2em", style: "normal", weight: "normal", variant: "normal" }; for (let t = 0, n = Fs.length; t < n; ++t) { const n = e[t + 1]; void 0 !== n && (i[Fs[t]] = n) } return i.families = i.family.split(/,\s?/), i }, Os = "10px sans-serif", Ns = "#000", Ds = "round", ks = [], Gs = "round", js = 10, Bs = "#000", Us = "center", zs = "middle", Xs = [0, 0, 0, 0], Vs = new V; let Ws, Zs = null; const Ys = {}, Ks = function () { const t = "32px ", e = ["monospace", "serif"], i = e.length, n = "wmytzilWMYTZIL@#/&?$%10ï€“"; let r, s; function o(r, o, a) { let l = !0; for (let h = 0; h < i; ++h) { const i = e[h]; if (s = $s(r + " " + o + " " + t + i, n), a != i) { const e = $s(r + " " + o + " " + t + a + "," + i, n); l = l && e != s } } return !!l } function a() { let t = !0; const e = Vs.getKeys(); for (let i = 0, n = e.length; i < n; ++i) { const n = e[i]; Vs.get(n) < 100 && (o.apply(this, n.split("\n")) ? (y(Ys), Zs = null, Ws = void 0, Vs.set(n, 100)) : (Vs.set(n, Vs.get(n) + 1, !0), t = !1)) } t && (clearInterval(r), r = void 0) } return function (t) { const e = As(t); if (!e) return; const i = e.families; for (let t = 0, n = i.length; t < n; ++t) { const n = i[t], s = e.style + "\n" + e.weight + "\n" + n; void 0 === Vs.get(s) && (Vs.set(s, 100, !0), o(e.style, e.weight, n) || (Vs.set(s, 0, !0), void 0 === r && (r = setInterval(a, 32)))) } } }(), qs = function () { let t; return function (e) { let i = Ys[e]; if (null == i) { if (_t) { const t = As(e), n = Hs(e, "Å½g"); i = (isNaN(Number(t.lineHeight)) ? 1.2 : Number(t.lineHeight)) * (n.actualBoundingBoxAscent + n.actualBoundingBoxDescent) } else t || (t = document.createElement("div"), t.innerHTML = "M", t.style.minHeight = "0", t.style.maxHeight = "none", t.style.height = "auto", t.style.padding = "0", t.style.border = "none", t.style.position = "absolute", t.style.display = "block", t.style.left = "-99999px"), t.style.font = e, document.body.appendChild(t), i = t.offsetHeight, document.body.removeChild(t); Ys[e] = i } return i } }(); function Hs(t, e) { return Zs || (Zs = Dr(1, 1)), t != Ws && (Zs.font = t, Ws = Zs.font), Zs.measureText(e) } function $s(t, e) { return Hs(t, e).width } function Js(t, e, i) { if (e in i) return i[e]; const n = e.split("\n").reduce(((e, i) => Math.max(e, $s(t, i))), 0); return i[e] = n, n } function Qs(t, e) { const i = [], n = [], r = []; let s = 0, o = 0, a = 0, l = 0; for (let h = 0, c = e.length; h <= c; h += 2) { const u = e[h]; if ("\n" === u || h === c) { s = Math.max(s, o), r.push(o), o = 0, a += l; continue } const d = e[h + 1] || t.font, g = $s(d, u); i.push(g), o += g; const f = qs(d); n.push(f), l = Math.max(l, f) } return { width: s, height: a, widths: i, heights: n, lineWidths: r } } function to(t, e, i, n, r, s, o, a, l, h, c) { t.save(), 1 !== i && (t.globalAlpha *= i), e && t.setTransform.apply(t, e), n.contextInstructions ? (t.translate(l, h), t.scale(c[0], c[1]), function (t, e) { const i = t.contextInstructions; for (let t = 0, n = i.length; t < n; t += 2)Array.isArray(i[t + 1]) ? e[i[t]].apply(e, i[t + 1]) : e[i[t]] = i[t + 1] }(n, t)) : c[0] < 0 || c[1] < 0 ? (t.translate(l, h), t.scale(c[0], c[1]), t.drawImage(n, r, s, o, a, 0, 0, o, a)) : t.drawImage(n, r, s, o, a, l, h, o * c[0], a * c[1]), t.restore() } class eo extends ws { constructor(t) { super(t), this.fontChangeListenerKey_ = N(Vs, r, t.redrawText.bind(t)), this.element_ = document.createElement("div"); const e = this.element_.style; e.position = "absolute", e.width = "100%", e.height = "100%", e.zIndex = "0", this.element_.className = "ol-unselectable ol-layers"; const i = t.getViewport(); i.insertBefore(this.element_, i.firstChild || null), this.children_ = [], this.renderedVisible_ = !0 } dispatchRenderEvent(t, e) { const i = this.getMap(); if (i.hasListener(t)) { const n = new Ts(t, void 0, e); i.dispatchEvent(n) } } disposeInternal() { k(this.fontChangeListenerKey_), this.element_.parentNode.removeChild(this.element_), super.disposeInternal() } renderFrame(t) { if (!t) return void (this.renderedVisible_ && (this.element_.style.display = "none", this.renderedVisible_ = !1)); this.calculateMatrices2D(t), this.dispatchRenderEvent(_s, t); const e = t.layerStatesArray.sort((function (t, e) { return t.zIndex - e.zIndex })), i = t.viewState; this.children_.length = 0; const n = []; let r = null; for (let s = 0, o = e.length; s < o; ++s) { const o = e[s]; t.layerIndex = s; const a = o.layer, l = a.getSourceState(); if (!Ss(o, i) || "ready" != l && "undefined" != l) { a.unrender(); continue } const h = a.render(t, r); h && (h !== r && (this.children_.push(h), r = h), "getDeclutter" in a && n.push(a)) } for (let e = n.length - 1; e >= 0; --e)n[e].renderDeclutter(t); Xr(this.element_, this.children_), this.dispatchRenderEvent(ys, t), this.renderedVisible_ || (this.element_.style.display = "", this.renderedVisible_ = !0), this.scheduleExpireIconCache(t) } } class io extends i { constructor(t, e) { super(t), this.layer = e } } const no = "layers"; class ro extends fs { constructor(t) { t = t || {}; const e = Object.assign({}, t); delete e.layers; let i = t.layers; super(e), this.on, this.once, this.un, this.layersListenerKeys_ = [], this.listenerKeys_ = {}, this.addChangeListener(no, this.handleLayersChanged_), i ? Array.isArray(i) ? i = new q(i.slice(), { unique: !0 }) : at("function" == typeof i.getArray, 43) : i = new q(void 0, { unique: !0 }), this.setLayers(i) } handleLayerChange_() { this.changed() } handleLayersChanged_() { this.layersListenerKeys_.forEach(k), this.layersListenerKeys_.length = 0; const t = this.getLayers(); this.layersListenerKeys_.push(N(t, W, this.handleLayersAdd_, this), N(t, Z, this.handleLayersRemove_, this)); for (const t in this.listenerKeys_) this.listenerKeys_[t].forEach(k); y(this.listenerKeys_); const e = t.getArray(); for (let t = 0, i = e.length; t < i; t++) { const i = e[t]; this.registerLayerListeners_(i), this.dispatchEvent(new io("addlayer", i)) } this.changed() } registerLayerListeners_(t) { const e = [N(t, r, this.handleLayerChange_, this), N(t, S, this.handleLayerChange_, this)]; t instanceof ro && e.push(N(t, "addlayer", this.handleLayerGroupAdd_, this), N(t, "removelayer", this.handleLayerGroupRemove_, this)), this.listenerKeys_[z(t)] = e } handleLayerGroupAdd_(t) { this.dispatchEvent(new io("addlayer", t.layer)) } handleLayerGroupRemove_(t) { this.dispatchEvent(new io("removelayer", t.layer)) } handleLayersAdd_(t) { const e = t.element; this.registerLayerListeners_(e), this.dispatchEvent(new io("addlayer", e)), this.changed() } handleLayersRemove_(t) { const e = t.element, i = z(e); this.listenerKeys_[i].forEach(k), delete this.listenerKeys_[i], this.dispatchEvent(new io("removelayer", e)), this.changed() } getLayers() { return this.get(no) } setLayers(t) { const e = this.getLayers(); if (e) { const t = e.getArray(); for (let e = 0, i = t.length; e < i; ++e)this.dispatchEvent(new io("removelayer", t[e])) } this.set(no, t) } getLayersArray(t) { return t = void 0 !== t ? t : [], this.getLayers().forEach((function (e) { e.getLayersArray(t) })), t } getLayerStatesArray(t) { const e = void 0 !== t ? t : [], i = e.length; this.getLayers().forEach((function (t) { t.getLayerStatesArray(e) })); const n = this.getLayerState(); let r = n.zIndex; t || void 0 !== n.zIndex || (r = 0); for (let t = i, s = e.length; t < s; t++) { const i = e[t]; i.opacity *= n.opacity, i.visible = i.visible && n.visible, i.maxResolution = Math.min(i.maxResolution, n.maxResolution), i.minResolution = Math.max(i.minResolution, n.minResolution), i.minZoom = Math.max(i.minZoom, n.minZoom), i.maxZoom = Math.min(i.maxZoom, n.maxZoom), void 0 !== n.extent && (void 0 !== i.extent ? i.extent = ye(i.extent, n.extent) : i.extent = n.extent), void 0 === i.zIndex && (i.zIndex = r) } return e } getSourceState() { return "ready" } } class so extends i { constructor(t, e, i) { super(t), this.map = e, this.frameState = void 0 !== i ? i : null } } class oo extends so { constructor(t, e, i, n, r, s) { super(t, e, r), this.originalEvent = i, this.pixel_ = null, this.coordinate_ = null, this.dragging = void 0 !== n && n, this.activePointers = s } get pixel() { return this.pixel_ || (this.pixel_ = this.map.getEventPixel(this.originalEvent)), this.pixel_ } set pixel(t) { this.pixel_ = t } get coordinate() { return this.coordinate_ || (this.coordinate_ = this.map.getCoordinateFromPixel(this.pixel)), this.coordinate_ } set coordinate(t) { this.coordinate_ = t } preventDefault() { super.preventDefault(), "preventDefault" in this.originalEvent && this.originalEvent.preventDefault() } stopPropagation() { super.stopPropagation(), "stopPropagation" in this.originalEvent && this.originalEvent.stopPropagation() } } var ao = { SINGLECLICK: "singleclick", CLICK: T, DBLCLICK: C, POINTERDRAG: "pointerdrag", POINTERMOVE: "pointermove", POINTERDOWN: "pointerdown", POINTERUP: "pointerup", POINTEROVER: "pointerover", POINTEROUT: "pointerout", POINTERENTER: "pointerenter", POINTERLEAVE: "pointerleave", POINTERCANCEL: "pointercancel" }, lo = "pointermove", ho = "pointerdown", co = "pointerup", uo = "pointerout"; class go extends v { constructor(t, e) { super(t), this.map_ = t, this.clickTimeoutId_, this.emulateClicks_ = !1, this.dragging_ = !1, this.dragListenerKeys_ = [], this.moveTolerance_ = void 0 === e ? 1 : e, this.down_ = null; const i = this.map_.getViewport(); this.activePointers_ = [], this.trackedTouches_ = {}, this.element_ = i, this.pointerdownListenerKey_ = N(i, ho, this.handlePointerDown_, this), this.originalPointerMoveEvent_, this.relayedListenerKey_ = N(i, lo, this.relayMoveEvent_, this), this.boundHandleTouchMove_ = this.handleTouchMove_.bind(this), this.element_.addEventListener(A, this.boundHandleTouchMove_, !!xt && { passive: !1 }) } emulateClick_(t) { let e = new oo(ao.CLICK, this.map_, t); this.dispatchEvent(e), void 0 !== this.clickTimeoutId_ ? (clearTimeout(this.clickTimeoutId_), this.clickTimeoutId_ = void 0, e = new oo(ao.DBLCLICK, this.map_, t), this.dispatchEvent(e)) : this.clickTimeoutId_ = setTimeout(function () { this.clickTimeoutId_ = void 0; const e = new oo(ao.SINGLECLICK, this.map_, t); this.dispatchEvent(e) }.bind(this), 250) } updateActivePointers_(t) { const e = t, i = e.pointerId; if (e.type == ao.POINTERUP || e.type == ao.POINTERCANCEL) { delete this.trackedTouches_[i]; for (const t in this.trackedTouches_) if (this.trackedTouches_[t].target !== e.target) { delete this.trackedTouches_[t]; break } } else e.type != ao.POINTERDOWN && e.type != ao.POINTERMOVE || (this.trackedTouches_[i] = e); this.activePointers_ = Object.values(this.trackedTouches_) } handlePointerUp_(t) { this.updateActivePointers_(t); const e = new oo(ao.POINTERUP, this.map_, t, void 0, void 0, this.activePointers_); this.dispatchEvent(e), this.emulateClicks_ && !e.defaultPrevented && !this.dragging_ && this.isMouseActionButton_(t) && this.emulateClick_(this.down_), 0 === this.activePointers_.length && (this.dragListenerKeys_.forEach(k), this.dragListenerKeys_.length = 0, this.dragging_ = !1, this.down_ = null) } isMouseActionButton_(t) { return 0 === t.button } handlePointerDown_(t) { this.emulateClicks_ = 0 === this.activePointers_.length, this.updateActivePointers_(t); const e = new oo(ao.POINTERDOWN, this.map_, t, void 0, void 0, this.activePointers_); this.dispatchEvent(e), this.down_ = {}; for (const e in t) { const i = t[e]; this.down_[e] = "function" == typeof i ? p : i } if (0 === this.dragListenerKeys_.length) { const t = this.map_.getOwnerDocument(); this.dragListenerKeys_.push(N(t, ao.POINTERMOVE, this.handlePointerMove_, this), N(t, ao.POINTERUP, this.handlePointerUp_, this), N(this.element_, ao.POINTERCANCEL, this.handlePointerUp_, this)), this.element_.getRootNode && this.element_.getRootNode() !== t && this.dragListenerKeys_.push(N(this.element_.getRootNode(), ao.POINTERUP, this.handlePointerUp_, this)) } } handlePointerMove_(t) { if (this.isMoving_(t)) { this.updateActivePointers_(t), this.dragging_ = !0; const e = new oo(ao.POINTERDRAG, this.map_, t, this.dragging_, void 0, this.activePointers_); this.dispatchEvent(e) } } relayMoveEvent_(t) { this.originalPointerMoveEvent_ = t; const e = !(!this.down_ || !this.isMoving_(t)); this.dispatchEvent(new oo(ao.POINTERMOVE, this.map_, t, e)) } handleTouchMove_(t) { const e = this.originalPointerMoveEvent_; e && !e.defaultPrevented || "boolean" == typeof t.cancelable && !0 !== t.cancelable || t.preventDefault() } isMoving_(t) { return this.dragging_ || Math.abs(t.clientX - this.down_.clientX) > this.moveTolerance_ || Math.abs(t.clientY - this.down_.clientY) > this.moveTolerance_ } disposeInternal() { this.relayedListenerKey_ && (k(this.relayedListenerKey_), this.relayedListenerKey_ = null), this.element_.removeEventListener(A, this.boundHandleTouchMove_), this.pointerdownListenerKey_ && (k(this.pointerdownListenerKey_), this.pointerdownListenerKey_ = null), this.dragListenerKeys_.forEach(k), this.dragListenerKeys_.length = 0, this.element_ = null, super.disposeInternal() } } var fo = "postrender", po = "movestart", mo = "moveend", _o = "loadstart", yo = "loadend", xo = "layergroup", vo = "size", So = "target", wo = "view"; const Eo = 1 / 0; class To { constructor(t, e) { this.priorityFunction_ = t, this.keyFunction_ = e, this.elements_ = [], this.priorities_ = [], this.queuedElements_ = {} } clear() { this.elements_.length = 0, this.priorities_.length = 0, y(this.queuedElements_) } dequeue() { const t = this.elements_, e = this.priorities_, i = t[0]; 1 == t.length ? (t.length = 0, e.length = 0) : (t[0] = t.pop(), e[0] = e.pop(), this.siftUp_(0)); const n = this.keyFunction_(i); return delete this.queuedElements_[n], i } enqueue(t) { at(!(this.keyFunction_(t) in this.queuedElements_), 31); const e = this.priorityFunction_(t); return e != Eo && (this.elements_.push(t), this.priorities_.push(e), this.queuedElements_[this.keyFunction_(t)] = !0, this.siftDown_(0, this.elements_.length - 1), !0) } getCount() { return this.elements_.length } getLeftChildIndex_(t) { return 2 * t + 1 } getRightChildIndex_(t) { return 2 * t + 2 } getParentIndex_(t) { return t - 1 >> 1 } heapify_() { let t; for (t = (this.elements_.length >> 1) - 1; t >= 0; t--)this.siftUp_(t) } isEmpty() { return 0 === this.elements_.length } isKeyQueued(t) { return t in this.queuedElements_ } isQueued(t) { return this.isKeyQueued(this.keyFunction_(t)) } siftUp_(t) { const e = this.elements_, i = this.priorities_, n = e.length, r = e[t], s = i[t], o = t; for (; t < n >> 1;) { const r = this.getLeftChildIndex_(t), s = this.getRightChildIndex_(t), o = s < n && i[s] < i[r] ? s : r; e[t] = e[o], i[t] = i[o], t = o } e[t] = r, i[t] = s, this.siftDown_(o, t) } siftDown_(t, e) { const i = this.elements_, n = this.priorities_, r = i[e], s = n[e]; for (; e > t;) { const t = this.getParentIndex_(e); if (!(n[t] > s)) break; i[e] = i[t], n[e] = n[t], e = t } i[e] = r, n[e] = s } reprioritize() { const t = this.priorityFunction_, e = this.elements_, i = this.priorities_; let n = 0; const r = e.length; let s, o, a; for (o = 0; o < r; ++o)s = e[o], a = t(s), a == Eo ? delete this.queuedElements_[this.keyFunction_(s)] : (i[n] = a, e[n++] = s); e.length = n, i.length = n, this.heapify_() } } class Co extends To { constructor(t, e) { super((function (e) { return t.apply(null, e) }), (function (t) { return t[0].getKey() })), this.boundHandleTileChange_ = this.handleTileChange.bind(this), this.tileChangeCallback_ = e, this.tilesLoading_ = 0, this.tilesLoadingKeys_ = {} } enqueue(t) { const e = super.enqueue(t); if (e) { t[0].addEventListener(S, this.boundHandleTileChange_) } return e } getTilesLoading() { return this.tilesLoading_ } handleTileChange(t) { const e = t.target, i = e.getState(); if (i === J || i === Q || i === tt) { i !== Q && e.removeEventListener(S, this.boundHandleTileChange_); const t = e.getKey(); t in this.tilesLoadingKeys_ && (delete this.tilesLoadingKeys_[t], --this.tilesLoading_), this.tileChangeCallback_() } } loadMoreTiles(t, e) { let i, n, r, s = 0; for (; this.tilesLoading_ < t && s < e && this.getCount() > 0;)n = this.dequeue()[0], r = n.getKey(), i = n.getState(), i !== H || r in this.tilesLoadingKeys_ || (this.tilesLoadingKeys_[r] = !0, ++this.tilesLoading_, ++s, n.load()) } } function bo(t, e, i, n, r) { if (!t || !(i in t.wantedTiles)) return Eo; if (!t.wantedTiles[i][e.getKey()]) return Eo; const s = t.viewState.center, o = n[0] - s[0], a = n[1] - s[1]; return 65536 * Math.log(r) + Math.sqrt(o * o + a * a) / r } var Ro = 0, Po = 1, Io = { CENTER: "center", RESOLUTION: "resolution", ROTATION: "rotation" }; const Lo = 256; function Mo(t, e, i) { return function (n, r, s, o, a) { if (!n) return; if (!r && !e) return n; const l = e ? 0 : s[0] * r, h = e ? 0 : s[1] * r, c = a ? a[0] : 0, u = a ? a[1] : 0; let d = t[0] + l / 2 + c, g = t[2] - l / 2 + c, f = t[1] + h / 2 + u, p = t[3] - h / 2 + u; d > g && (d = (g + d) / 2, g = d), f > p && (f = (p + f) / 2, p = f); let m = ii(n[0], d, g), _ = ii(n[1], f, p); if (o && i && r) { const t = 30 * r; m += -t * Math.log(1 + Math.max(0, d - n[0]) / t) + t * Math.log(1 + Math.max(0, n[0] - g) / t), _ += -t * Math.log(1 + Math.max(0, f - n[1]) / t) + t * Math.log(1 + Math.max(0, n[1] - p) / t) } return [m, _] } } function Fo(t) { return t } function Ao(t, e, i, n) { const r = Se(e) / i[0], s = _e(e) / i[1]; return n ? Math.min(t, Math.max(r, s)) : Math.min(t, Math.min(r, s)) } function Oo(t, e, i) { let n = Math.min(t, e); return n *= Math.log(1 + 50 * Math.max(0, t / e - 1)) / 50 + 1, i && (n = Math.max(n, i), n /= Math.log(1 + 50 * Math.max(0, i / t - 1)) / 50 + 1), ii(n, i / 2, 2 * e) } function No(t, e, i, n) { return e = void 0 === e || e, function (r, s, o, a) { if (void 0 !== r) { const h = t[0], c = t[t.length - 1], u = i ? Ao(h, i, o, n) : h; if (a) return e ? Oo(r, u, c) : ii(r, c, u); const d = Math.min(u, r), g = Math.floor(l(t, d, s)); return t[g] > u && g < t.length - 1 ? t[g + 1] : t[g] } } } function Do(t, e, i, n, r, s) { return n = void 0 === n || n, i = void 0 !== i ? i : 0, function (o, a, l, h) { if (void 0 !== o) { const c = r ? Ao(e, r, l, s) : e; if (h) return n ? Oo(o, c, i) : ii(o, i, c); const u = 1e-9, d = Math.ceil(Math.log(e / c) / Math.log(t) - u), g = -a * (.5 - u) + .5, f = Math.min(c, o), p = Math.floor(Math.log(e / f) / Math.log(t) + g), m = Math.max(d, p); return ii(e / Math.pow(t, m), i, c) } } } function ko(t, e, i, n, r) { return i = void 0 === i || i, function (s, o, a, l) { if (void 0 !== s) { const o = n ? Ao(t, n, a, r) : t; return i && l ? Oo(s, o, e) : ii(s, e, o) } } } function Go(t) { return void 0 !== t ? 0 : void 0 } function jo(t) { return void 0 !== t ? t : void 0 } function Bo(t) { const e = 2 * Math.PI / t; return function (t, i) { return i ? t : void 0 !== t ? t = Math.floor(t / e + .5) * e : void 0 } } function Uo(t) { return t = t || ai(5), function (e, i) { return i ? e : void 0 !== e ? Math.abs(e) <= t ? 0 : e : void 0 } } class zo extends V { constructor(t) { super(), this.on, this.once, this.un, t = Object.assign({}, t), this.hints_ = [0, 0], this.animations_ = [], this.updateAnimationKey_, this.projection_ = Wi(t.projection, "EPSG:3857"), this.viewportSize_ = [100, 100], this.targetCenter_ = null, this.targetResolution_, this.targetRotation_, this.nextCenter_ = null, this.nextResolution_, this.nextRotation_, this.cancelAnchor_ = void 0, t.projection && Di(), t.center && (t.center = rn(t.center, this.projection_)), t.extent && (t.extent = on(t.extent, this.projection_)), this.applyOptions_(t) } applyOptions_(t) { const e = Object.assign({}, t); for (const t in Io) delete e[t]; this.setProperties(e, !0); const i = Wo(t); this.maxResolution_ = i.maxResolution, this.minResolution_ = i.minResolution, this.zoomFactor_ = i.zoomFactor, this.resolutions_ = t.resolutions, this.padding_ = t.padding, this.minZoom_ = i.minZoom; const n = Vo(t), r = i.constraint, s = Zo(t); this.constraints_ = { center: n, resolution: r, rotation: s }, this.setRotation(void 0 !== t.rotation ? t.rotation : 0), this.setCenterInternal(void 0 !== t.center ? t.center : null), void 0 !== t.resolution ? this.setResolution(t.resolution) : void 0 !== t.zoom && this.setZoom(t.zoom) } get padding() { return this.padding_ } set padding(t) { let e = this.padding_; this.padding_ = t; const i = this.getCenter(); if (i) { const n = t || [0, 0, 0, 0]; e = e || [0, 0, 0, 0]; const r = this.getResolution(), s = r / 2 * (n[3] - e[3] + e[1] - n[1]), o = r / 2 * (n[0] - e[0] + e[2] - n[2]); this.setCenterInternal([i[0] + s, i[1] - o]) } } getUpdatedOptions_(t) { const e = this.getProperties(); return void 0 !== e.resolution ? e.resolution = this.getResolution() : e.zoom = this.getZoom(), e.center = this.getCenterInternal(), e.rotation = this.getRotation(), Object.assign({}, e, t) } animate(t) { this.isDef() && !this.getAnimating() && this.resolveConstraints(0); const e = new Array(arguments.length); for (let t = 0; t < e.length; ++t) { let i = arguments[t]; i.center && (i = Object.assign({}, i), i.center = rn(i.center, this.getProjection())), i.anchor && (i = Object.assign({}, i), i.anchor = rn(i.anchor, this.getProjection())), e[t] = i } this.animateInternal.apply(this, e) } animateInternal(t) { let e, i = arguments.length; i > 1 && "function" == typeof arguments[i - 1] && (e = arguments[i - 1], --i); let n = 0; for (; n < i && !this.isDef(); ++n) { const t = arguments[n]; t.center && this.setCenterInternal(t.center), void 0 !== t.zoom ? this.setZoom(t.zoom) : t.resolution && this.setResolution(t.resolution), void 0 !== t.rotation && this.setRotation(t.rotation) } if (n === i) return void (e && Xo(e, !0)); let r = Date.now(), s = this.targetCenter_.slice(), o = this.targetResolution_, a = this.targetRotation_; const l = []; for (; n < i; ++n) { const t = arguments[n], i = { start: r, complete: !1, anchor: t.anchor, duration: void 0 !== t.duration ? t.duration : 1e3, easing: t.easing || nt, callback: e }; if (t.center && (i.sourceCenter = s, i.targetCenter = t.center.slice(), s = i.targetCenter), void 0 !== t.zoom ? (i.sourceResolution = o, i.targetResolution = this.getResolutionForZoom(t.zoom), o = i.targetResolution) : t.resolution && (i.sourceResolution = o, i.targetResolution = t.resolution, o = i.targetResolution), void 0 !== t.rotation) { i.sourceRotation = a; const e = li(t.rotation - a + Math.PI, 2 * Math.PI) - Math.PI; i.targetRotation = a + e, a = i.targetRotation } Yo(i) ? i.complete = !0 : r += i.duration, l.push(i) } this.animations_.push(l), this.setHint(Ro, 1), this.updateAnimations_() } getAnimating() { return this.hints_[Ro] > 0 } getInteracting() { return this.hints_[Po] > 0 } cancelAnimations() { let t; this.setHint(Ro, -this.hints_[Ro]); for (let e = 0, i = this.animations_.length; e < i; ++e) { const i = this.animations_[e]; if (i[0].callback && Xo(i[0].callback, !1), !t) for (let e = 0, n = i.length; e < n; ++e) { const n = i[e]; if (!n.complete) { t = n.anchor; break } } } this.animations_.length = 0, this.cancelAnchor_ = t, this.nextCenter_ = null, this.nextResolution_ = NaN, this.nextRotation_ = NaN } updateAnimations_() { if (void 0 !== this.updateAnimationKey_ && (cancelAnimationFrame(this.updateAnimationKey_), this.updateAnimationKey_ = void 0), !this.getAnimating()) return; const t = Date.now(); let e = !1; for (let i = this.animations_.length - 1; i >= 0; --i) { const n = this.animations_[i]; let r = !0; for (let i = 0, s = n.length; i < s; ++i) { const s = n[i]; if (s.complete) continue; const o = t - s.start; let a = s.duration > 0 ? o / s.duration : 1; a >= 1 ? (s.complete = !0, a = 1) : r = !1; const l = s.easing(a); if (s.sourceCenter) { const t = s.sourceCenter[0], e = s.sourceCenter[1], i = s.targetCenter[0], n = s.targetCenter[1]; this.nextCenter_ = s.targetCenter; const r = t + l * (i - t), o = e + l * (n - e); this.targetCenter_ = [r, o] } if (s.sourceResolution && s.targetResolution) { const t = 1 === l ? s.targetResolution : s.sourceResolution + l * (s.targetResolution - s.sourceResolution); if (s.anchor) { const e = this.getViewportSize_(this.getRotation()), i = this.constraints_.resolution(t, 0, e, !0); this.targetCenter_ = this.calculateCenterZoom(i, s.anchor) } this.nextResolution_ = s.targetResolution, this.targetResolution_ = t, this.applyTargetState_(!0) } if (void 0 !== s.sourceRotation && void 0 !== s.targetRotation) { const t = 1 === l ? li(s.targetRotation + Math.PI, 2 * Math.PI) - Math.PI : s.sourceRotation + l * (s.targetRotation - s.sourceRotation); if (s.anchor) { const e = this.constraints_.rotation(t, !0); this.targetCenter_ = this.calculateCenterRotate(e, s.anchor) } this.nextRotation_ = s.targetRotation, this.targetRotation_ = t } if (this.applyTargetState_(!0), e = !0, !s.complete) break } if (r) { this.animations_[i] = null, this.setHint(Ro, -1), this.nextCenter_ = null, this.nextResolution_ = NaN, this.nextRotation_ = NaN; const t = n[0].callback; t && Xo(t, !0) } } this.animations_ = this.animations_.filter(Boolean), e && void 0 === this.updateAnimationKey_ && (this.updateAnimationKey_ = requestAnimationFrame(this.updateAnimations_.bind(this))) } calculateCenterRotate(t, e) { let i; const n = this.getCenterInternal(); return void 0 !== n && (i = [n[0] - e[0], n[1] - e[1]], wi(i, t - this.getRotation()), mi(i, e)), i } calculateCenterZoom(t, e) { let i; const n = this.getCenterInternal(), r = this.getResolution(); if (void 0 !== n && void 0 !== r) { i = [e[0] - t * (e[0] - n[0]) / r, e[1] - t * (e[1] - n[1]) / r] } return i } getViewportSize_(t) { const e = this.viewportSize_; if (t) { const i = e[0], n = e[1]; return [Math.abs(i * Math.cos(t)) + Math.abs(n * Math.sin(t)), Math.abs(i * Math.sin(t)) + Math.abs(n * Math.cos(t))] } return e } setViewportSize(t) { this.viewportSize_ = Array.isArray(t) ? t.slice() : [100, 100], this.getAnimating() || this.resolveConstraints(0) } getCenter() { const t = this.getCenterInternal(); return t ? nn(t, this.getProjection()) : t } getCenterInternal() { return this.get(Io.CENTER) } getConstraints() { return this.constraints_ } getConstrainResolution() { return this.get("constrainResolution") } getHints(t) { return void 0 !== t ? (t[0] = this.hints_[0], t[1] = this.hints_[1], t) : this.hints_.slice() } calculateExtent(t) { return sn(this.calculateExtentInternal(t), this.getProjection()) } calculateExtentInternal(t) { t = t || this.getViewportSizeMinusPadding_(); const e = this.getCenterInternal(); at(e, 1); const i = this.getResolution(); at(void 0 !== i, 2); const n = this.getRotation(); return at(void 0 !== n, 3), pe(e, i, n, t) } getMaxResolution() { return this.maxResolution_ } getMinResolution() { return this.minResolution_ } getMaxZoom() { return this.getZoomForResolution(this.minResolution_) } setMaxZoom(t) { this.applyOptions_(this.getUpdatedOptions_({ maxZoom: t })) } getMinZoom() { return this.getZoomForResolution(this.maxResolution_) } setMinZoom(t) { this.applyOptions_(this.getUpdatedOptions_({ minZoom: t })) } setConstrainResolution(t) { this.applyOptions_(this.getUpdatedOptions_({ constrainResolution: t })) } getProjection() { return this.projection_ } getResolution() { return this.get(Io.RESOLUTION) } getResolutions() { return this.resolutions_ } getResolutionForExtent(t, e) { return this.getResolutionForExtentInternal(on(t, this.getProjection()), e) } getResolutionForExtentInternal(t, e) { e = e || this.getViewportSizeMinusPadding_(); const i = Se(t) / e[0], n = _e(t) / e[1]; return Math.max(i, n) } getResolutionForValueFunction(t) { t = t || 2; const e = this.getConstrainedResolution(this.maxResolution_), i = this.minResolution_, n = Math.log(e / i) / Math.log(t); return function (i) { return e / Math.pow(t, i * n) } } getRotation() { return this.get(Io.ROTATION) } getValueForResolutionFunction(t) { const e = Math.log(t || 2), i = this.getConstrainedResolution(this.maxResolution_), n = this.minResolution_, r = Math.log(i / n) / e; return function (t) { return Math.log(i / t) / e / r } } getViewportSizeMinusPadding_(t) { let e = this.getViewportSize_(t); const i = this.padding_; return i && (e = [e[0] - i[1] - i[3], e[1] - i[0] - i[2]]), e } getState() { const t = this.getProjection(), e = this.getResolution(), i = this.getRotation(); let n = this.getCenterInternal(); const r = this.padding_; if (r) { const t = this.getViewportSizeMinusPadding_(); n = Ko(n, this.getViewportSize_(), [t[0] / 2 + r[3], t[1] / 2 + r[0]], e, i) } return { center: n.slice(0), projection: void 0 !== t ? t : null, resolution: e, nextCenter: this.nextCenter_, nextResolution: this.nextResolution_, nextRotation: this.nextRotation_, rotation: i, zoom: this.getZoom() } } getZoom() { let t; const e = this.getResolution(); return void 0 !== e && (t = this.getZoomForResolution(e)), t } getZoomForResolution(t) { let e, i, n = this.minZoom_ || 0; if (this.resolutions_) { const r = l(this.resolutions_, t, 1); n = r, e = this.resolutions_[r], i = r == this.resolutions_.length - 1 ? 2 : e / this.resolutions_[r + 1] } else e = this.maxResolution_, i = this.zoomFactor_; return n + Math.log(e / t) / Math.log(i) } getResolutionForZoom(t) { if (this.resolutions_) { if (this.resolutions_.length <= 1) return 0; const e = ii(Math.floor(t), 0, this.resolutions_.length - 2), i = this.resolutions_[e] / this.resolutions_[e + 1]; return this.resolutions_[e] / Math.pow(i, ii(t - e, 0, 1)) } return this.maxResolution_ / Math.pow(this.zoomFactor_, t - this.minZoom_) } fit(t, e) { let i; if (at(Array.isArray(t) || "function" == typeof t.getSimplifiedGeometry, 24), Array.isArray(t)) { at(!Ee(t), 25); i = gr(on(t, this.getProjection())) } else if ("Circle" === t.getType()) { const e = on(t.getExtent(), this.getProjection()); i = gr(e), i.rotate(this.getRotation(), ge(e)) } else { const e = en(); i = e ? t.clone().transform(e, this.getProjection()) : t } this.fitInternal(i, e) } rotatedExtentForGeometry(t) { const e = this.getRotation(), i = Math.cos(e), n = Math.sin(-e), r = t.getFlatCoordinates(), s = t.getStride(); let o = 1 / 0, a = 1 / 0, l = -1 / 0, h = -1 / 0; for (let t = 0, e = r.length; t < e; t += s) { const e = r[t] * i - r[t + 1] * n, s = r[t] * n + r[t + 1] * i; o = Math.min(o, e), a = Math.min(a, s), l = Math.max(l, e), h = Math.max(h, s) } return [o, a, l, h] } fitInternal(t, e) { let i = (e = e || {}).size; i || (i = this.getViewportSizeMinusPadding_()); const n = void 0 !== e.padding ? e.padding : [0, 0, 0, 0], r = void 0 !== e.nearest && e.nearest; let s; s = void 0 !== e.minResolution ? e.minResolution : void 0 !== e.maxZoom ? this.getResolutionForZoom(e.maxZoom) : 0; const o = this.rotatedExtentForGeometry(t); let a = this.getResolutionForExtentInternal(o, [i[0] - n[1] - n[3], i[1] - n[0] - n[2]]); a = isNaN(a) ? s : Math.max(a, s), a = this.getConstrainedResolution(a, r ? 0 : 1); const l = this.getRotation(), h = Math.sin(l), c = Math.cos(l), u = ge(o); u[0] += (n[1] - n[3]) / 2 * a, u[1] += (n[0] - n[2]) / 2 * a; const d = u[0] * c - u[1] * h, g = u[1] * c + u[0] * h, f = this.getConstrainedCenter([d, g], a), m = e.callback ? e.callback : p; void 0 !== e.duration ? this.animateInternal({ resolution: a, center: f, duration: e.duration, easing: e.easing }, m) : (this.targetResolution_ = a, this.targetCenter_ = f, this.applyTargetState_(!1, !0), Xo(m, !0)) } centerOn(t, e, i) { this.centerOnInternal(rn(t, this.getProjection()), e, i) } centerOnInternal(t, e, i) { this.setCenterInternal(Ko(t, e, i, this.getResolution(), this.getRotation())) } calculateCenterShift(t, e, i, n) { let r; const s = this.padding_; if (s && t) { const o = this.getViewportSizeMinusPadding_(-i), a = Ko(t, n, [o[0] / 2 + s[3], o[1] / 2 + s[0]], e, i); r = [t[0] - a[0], t[1] - a[1]] } return r } isDef() { return !!this.getCenterInternal() && void 0 !== this.getResolution() } adjustCenter(t) { const e = nn(this.targetCenter_, this.getProjection()); this.setCenter([e[0] + t[0], e[1] + t[1]]) } adjustCenterInternal(t) { const e = this.targetCenter_; this.setCenterInternal([e[0] + t[0], e[1] + t[1]]) } adjustResolution(t, e) { e = e && rn(e, this.getProjection()), this.adjustResolutionInternal(t, e) } adjustResolutionInternal(t, e) { const i = this.getAnimating() || this.getInteracting(), n = this.getViewportSize_(this.getRotation()), r = this.constraints_.resolution(this.targetResolution_ * t, 0, n, i); e && (this.targetCenter_ = this.calculateCenterZoom(r, e)), this.targetResolution_ *= t, this.applyTargetState_() } adjustZoom(t, e) { this.adjustResolution(Math.pow(this.zoomFactor_, -t), e) } adjustRotation(t, e) { e && (e = rn(e, this.getProjection())), this.adjustRotationInternal(t, e) } adjustRotationInternal(t, e) { const i = this.getAnimating() || this.getInteracting(), n = this.constraints_.rotation(this.targetRotation_ + t, i); e && (this.targetCenter_ = this.calculateCenterRotate(n, e)), this.targetRotation_ += t, this.applyTargetState_() } setCenter(t) { this.setCenterInternal(t ? rn(t, this.getProjection()) : t) } setCenterInternal(t) { this.targetCenter_ = t, this.applyTargetState_() } setHint(t, e) { return this.hints_[t] += e, this.changed(), this.hints_[t] } setResolution(t) { this.targetResolution_ = t, this.applyTargetState_() } setRotation(t) { this.targetRotation_ = t, this.applyTargetState_() } setZoom(t) { this.setResolution(this.getResolutionForZoom(t)) } applyTargetState_(t, e) { const i = this.getAnimating() || this.getInteracting() || e, n = this.constraints_.rotation(this.targetRotation_, i), r = this.getViewportSize_(n), s = this.constraints_.resolution(this.targetResolution_, 0, r, i), o = this.constraints_.center(this.targetCenter_, s, r, i, this.calculateCenterShift(this.targetCenter_, s, n, r)); this.get(Io.ROTATION) !== n && this.set(Io.ROTATION, n), this.get(Io.RESOLUTION) !== s && (this.set(Io.RESOLUTION, s), this.set("zoom", this.getZoom(), !0)), o && this.get(Io.CENTER) && Si(this.get(Io.CENTER), o) || this.set(Io.CENTER, o), this.getAnimating() && !t && this.cancelAnimations(), this.cancelAnchor_ = void 0 } resolveConstraints(t, e, i) { t = void 0 !== t ? t : 200; const n = e || 0, r = this.constraints_.rotation(this.targetRotation_), s = this.getViewportSize_(r), o = this.constraints_.resolution(this.targetResolution_, n, s), a = this.constraints_.center(this.targetCenter_, o, s, !1, this.calculateCenterShift(this.targetCenter_, o, r, s)); if (0 === t && !this.cancelAnchor_) return this.targetResolution_ = o, this.targetRotation_ = r, this.targetCenter_ = a, void this.applyTargetState_(); i = i || (0 === t ? this.cancelAnchor_ : void 0), this.cancelAnchor_ = void 0, this.getResolution() === o && this.getRotation() === r && this.getCenterInternal() && Si(this.getCenterInternal(), a) || (this.getAnimating() && this.cancelAnimations(), this.animateInternal({ rotation: r, center: a, resolution: o, duration: t, easing: it, anchor: i })) } beginInteraction() { this.resolveConstraints(0), this.setHint(Po, 1) } endInteraction(t, e, i) { i = i && rn(i, this.getProjection()), this.endInteractionInternal(t, e, i) } endInteractionInternal(t, e, i) { this.setHint(Po, -1), this.resolveConstraints(t, e, i) } getConstrainedCenter(t, e) { const i = this.getViewportSize_(this.getRotation()); return this.constraints_.center(t, e || this.getResolution(), i) } getConstrainedZoom(t, e) { const i = this.getResolutionForZoom(t); return this.getZoomForResolution(this.getConstrainedResolution(i, e)) } getConstrainedResolution(t, e) { e = e || 0; const i = this.getViewportSize_(this.getRotation()); return this.constraints_.resolution(t, e, i) } } function Xo(t, e) { setTimeout((function () { t(e) }), 0) } function Vo(t) { if (void 0 !== t.extent) { const e = void 0 === t.smoothExtentConstraint || t.smoothExtentConstraint; return Mo(t.extent, t.constrainOnlyCenter, e) } const e = Wi(t.projection, "EPSG:3857"); if (!0 !== t.multiWorld && e.isGlobal()) { const t = e.getExtent().slice(); return t[0] = -1 / 0, t[2] = 1 / 0, Mo(t, !1, !1) } return Fo } function Wo(t) { let e, i, n; let r = void 0 !== t.minZoom ? t.minZoom : 0, s = void 0 !== t.maxZoom ? t.maxZoom : 28; const o = void 0 !== t.zoomFactor ? t.zoomFactor : 2, a = void 0 !== t.multiWorld && t.multiWorld, l = void 0 === t.smoothResolutionConstraint || t.smoothResolutionConstraint, h = void 0 !== t.showFullExtent && t.showFullExtent, c = Wi(t.projection, "EPSG:3857"), u = c.getExtent(); let d = t.constrainOnlyCenter, g = t.extent; if (a || g || !c.isGlobal() || (d = !1, g = u), void 0 !== t.resolutions) { const o = t.resolutions; i = o[r], n = void 0 !== o[s] ? o[s] : o[o.length - 1], e = t.constrainResolution ? No(o, l, !d && g, h) : ko(i, n, l, !d && g, h) } else { const a = (u ? Math.max(Se(u), _e(u)) : 360 * Fe.degrees / c.getMetersPerUnit()) / Lo / Math.pow(2, 0), f = a / Math.pow(2, 28); i = t.maxResolution, void 0 !== i ? r = 0 : i = a / Math.pow(o, r), n = t.minResolution, void 0 === n && (n = void 0 !== t.maxZoom ? void 0 !== t.maxResolution ? i / Math.pow(o, s) : a / Math.pow(o, s) : f), s = r + Math.floor(Math.log(i / n) / Math.log(o)), n = i / Math.pow(o, s - r), e = t.constrainResolution ? Do(o, i, n, l, !d && g, h) : ko(i, n, l, !d && g, h) } return { constraint: e, maxResolution: i, minResolution: n, minZoom: r, zoomFactor: o } } function Zo(t) { if (void 0 === t.enableRotation || t.enableRotation) { const e = t.constrainRotation; return void 0 === e || !0 === e ? Uo() : !1 === e ? jo : "number" == typeof e ? Bo(e) : jo } return Go } function Yo(t) { return !(t.sourceCenter && t.targetCenter && !Si(t.sourceCenter, t.targetCenter)) && (t.sourceResolution === t.targetResolution && t.sourceRotation === t.targetRotation) } function Ko(t, e, i, n, r) { const s = Math.cos(-r); let o = Math.sin(-r), a = t[0] * s - t[1] * o, l = t[1] * s + t[0] * o; a += (e[0] / 2 - i[0]) * n, l += (i[1] - e[1] / 2) * n, o = -o; return [a * s - l * o, l * s + a * o] } class qo extends V { constructor(t) { super(); const e = t.element; !e || t.target || e.style.pointerEvents || (e.style.pointerEvents = "auto"), this.element = e || null, this.target_ = null, this.map_ = null, this.listenerKeys = [], t.render && (this.render = t.render), t.target && this.setTarget(t.target) } disposeInternal() { Ur(this.element), super.disposeInternal() } getMap() { return this.map_ } setMap(t) { this.map_ && Ur(this.element); for (let t = 0, e = this.listenerKeys.length; t < e; ++t)k(this.listenerKeys[t]); if (this.listenerKeys.length = 0, this.map_ = t, t) { (this.target_ ? this.target_ : t.getOverlayContainerStopEvent()).appendChild(this.element), this.render !== p && this.listenerKeys.push(N(t, fo, this.render, this)), t.render() } } render(t) { } setTarget(t) { this.target_ = "string" == typeof t ? document.getElementById(t) : t } } class Ho extends qo { constructor(t) { t = t || {}, super({ element: document.createElement("div"), render: t.render, target: t.target }), this.ulElement_ = document.createElement("ul"), this.collapsed_ = void 0 === t.collapsed || t.collapsed, this.userCollapsed_ = this.collapsed_, this.overrideCollapsible_ = void 0 !== t.collapsible, this.collapsible_ = void 0 === t.collapsible || t.collapsible, this.collapsible_ || (this.collapsed_ = !1); const e = void 0 !== t.className ? t.className : "ol-attribution", i = void 0 !== t.tipLabel ? t.tipLabel : "Attributions", n = void 0 !== t.expandClassName ? t.expandClassName : e + "-expand", r = void 0 !== t.collapseLabel ? t.collapseLabel : "â€º", s = void 0 !== t.collapseClassName ? t.collapseClassName : e + "-collapse"; "string" == typeof r ? (this.collapseLabel_ = document.createElement("span"), this.collapseLabel_.textContent = r, this.collapseLabel_.className = s) : this.collapseLabel_ = r; const o = void 0 !== t.label ? t.label : "i"; "string" == typeof o ? (this.label_ = document.createElement("span"), this.label_.textContent = o, this.label_.className = n) : this.label_ = o; const a = this.collapsible_ && !this.collapsed_ ? this.collapseLabel_ : this.label_; this.toggleButton_ = document.createElement("button"), this.toggleButton_.setAttribute("type", "button"), this.toggleButton_.setAttribute("aria-expanded", String(!this.collapsed_)), this.toggleButton_.title = i, this.toggleButton_.appendChild(a), this.toggleButton_.addEventListener(T, this.handleClick_.bind(this), !1); const l = e + " " + "ol-unselectable " + Is + (this.collapsed_ && this.collapsible_ ? " ol-collapsed" : "") + (this.collapsible_ ? "" : " ol-uncollapsible"), h = this.element; h.className = l, h.appendChild(this.toggleButton_), h.appendChild(this.ulElement_), this.renderedAttributions_ = [], this.renderedVisible_ = !0 } collectSourceAttributions_(t) { const e = {}, i = []; let n = !0; const r = t.layerStatesArray; for (let s = 0, o = r.length; s < o; ++s) { const o = r[s]; if (!Ss(o, t.viewState)) continue; const a = o.layer.getSource(); if (!a) continue; const l = a.getAttributions(); if (!l) continue; const h = l(t); if (h) if (n = n && !1 !== a.getAttributionsCollapsible(), Array.isArray(h)) for (let t = 0, n = h.length; t < n; ++t)h[t] in e || (i.push(h[t]), e[h[t]] = !0); else h in e || (i.push(h), e[h] = !0) } return this.overrideCollapsible_ || this.setCollapsible(n), i } updateElement_(t) { if (!t) return void (this.renderedVisible_ && (this.element.style.display = "none", this.renderedVisible_ = !1)); const e = this.collectSourceAttributions_(t), i = e.length > 0; if (this.renderedVisible_ != i && (this.element.style.display = i ? "" : "none", this.renderedVisible_ = i), !u(e, this.renderedAttributions_)) { zr(this.ulElement_); for (let t = 0, i = e.length; t < i; ++t) { const i = document.createElement("li"); i.innerHTML = e[t], this.ulElement_.appendChild(i) } this.renderedAttributions_ = e } } handleClick_(t) { t.preventDefault(), this.handleToggle_(), this.userCollapsed_ = this.collapsed_ } handleToggle_() { this.element.classList.toggle(Ls), this.collapsed_ ? Br(this.collapseLabel_, this.label_) : Br(this.label_, this.collapseLabel_), this.collapsed_ = !this.collapsed_, this.toggleButton_.setAttribute("aria-expanded", String(!this.collapsed_)) } getCollapsible() { return this.collapsible_ } setCollapsible(t) { this.collapsible_ !== t && (this.collapsible_ = t, this.element.classList.toggle("ol-uncollapsible"), this.userCollapsed_ && this.handleToggle_()) } setCollapsed(t) { this.userCollapsed_ = t, this.collapsible_ && this.collapsed_ !== t && this.handleToggle_() } getCollapsed() { return this.collapsed_ } render(t) { this.updateElement_(t.frameState) } } class $o extends qo { constructor(t) { t = t || {}, super({ element: document.createElement("div"), render: t.render, target: t.target }); const e = void 0 !== t.className ? t.className : "ol-rotate", i = void 0 !== t.label ? t.label : "â‡§", n = void 0 !== t.compassClassName ? t.compassClassName : "ol-compass"; this.label_ = null, "string" == typeof i ? (this.label_ = document.createElement("span"), this.label_.className = n, this.label_.textContent = i) : (this.label_ = i, this.label_.classList.add(n)); const r = t.tipLabel ? t.tipLabel : "Reset rotation", s = document.createElement("button"); s.className = e + "-reset", s.setAttribute("type", "button"), s.title = r, s.appendChild(this.label_), s.addEventListener(T, this.handleClick_.bind(this), !1); const o = e + " " + "ol-unselectable " + Is, a = this.element; a.className = o, a.appendChild(s), this.callResetNorth_ = t.resetNorth ? t.resetNorth : void 0, this.duration_ = void 0 !== t.duration ? t.duration : 250, this.autoHide_ = void 0 === t.autoHide || t.autoHide, this.rotation_ = void 0, this.autoHide_ && this.element.classList.add(Cs) } handleClick_(t) { t.preventDefault(), void 0 !== this.callResetNorth_ ? this.callResetNorth_() : this.resetNorth_() } resetNorth_() { const t = this.getMap().getView(); if (!t) return; const e = t.getRotation(); void 0 !== e && (this.duration_ > 0 && e % (2 * Math.PI) != 0 ? t.animate({ rotation: 0, duration: this.duration_, easing: it }) : t.setRotation(0)) } render(t) { const e = t.frameState; if (!e) return; const i = e.viewState.rotation; if (i != this.rotation_) { const t = "rotate(" + i + "rad)"; if (this.autoHide_) { const t = this.element.classList.contains(Cs); t || 0 !== i ? t && 0 !== i && this.element.classList.remove(Cs) : this.element.classList.add(Cs) } this.label_.style.transform = t } this.rotation_ = i } } class Jo extends qo { constructor(t) { t = t || {}, super({ element: document.createElement("div"), target: t.target }); const e = void 0 !== t.className ? t.className : "ol-zoom", i = void 0 !== t.delta ? t.delta : 1, n = void 0 !== t.zoomInClassName ? t.zoomInClassName : e + "-in", r = void 0 !== t.zoomOutClassName ? t.zoomOutClassName : e + "-out", s = void 0 !== t.zoomInLabel ? t.zoomInLabel : "+", o = void 0 !== t.zoomOutLabel ? t.zoomOutLabel : "â€“", a = void 0 !== t.zoomInTipLabel ? t.zoomInTipLabel : "Zoom in", l = void 0 !== t.zoomOutTipLabel ? t.zoomOutTipLabel : "Zoom out", h = document.createElement("button"); h.className = n, h.setAttribute("type", "button"), h.title = a, h.appendChild("string" == typeof s ? document.createTextNode(s) : s), h.addEventListener(T, this.handleClick_.bind(this, i), !1); const c = document.createElement("button"); c.className = r, c.setAttribute("type", "button"), c.title = l, c.appendChild("string" == typeof o ? document.createTextNode(o) : o), c.addEventListener(T, this.handleClick_.bind(this, -i), !1); const u = e + " " + "ol-unselectable " + Is, d = this.element; d.className = u, d.appendChild(h), d.appendChild(c), this.duration_ = void 0 !== t.duration ? t.duration : 250 } handleClick_(t, e) { e.preventDefault(), this.zoomByDelta_(t) } zoomByDelta_(t) { const e = this.getMap().getView(); if (!e) return; const i = e.getZoom(); if (void 0 !== i) { const n = e.getConstrainedZoom(i + t); this.duration_ > 0 ? (e.getAnimating() && e.cancelAnimations(), e.animate({ zoom: n, duration: this.duration_, easing: it })) : e.setZoom(n) } } } function Qo(t) { t = t || {}; const e = new q; (void 0 === t.zoom || t.zoom) && e.push(new Jo(t.zoomOptions)); (void 0 === t.rotate || t.rotate) && e.push(new $o(t.rotateOptions)); return (void 0 === t.attribution || t.attribution) && e.push(new Ho(t.attributionOptions)), e } var ta = "active"; class ea extends V { constructor(t) { super(), this.on, this.once, this.un, t && t.handleEvent && (this.handleEvent = t.handleEvent), this.map_ = null, this.setActive(!0) } getActive() { return this.get(ta) } getMap() { return this.map_ } handleEvent(t) { return !0 } setActive(t) { this.set(ta, t) } setMap(t) { this.map_ = t } } function ia(t, e, i) { const n = t.getCenterInternal(); if (n) { const r = [n[0] + e[0], n[1] + e[1]]; t.animateInternal({ duration: void 0 !== i ? i : 250, easing: rt, center: t.getConstrainedCenter(r) }) } } function na(t, e, i, n) { const r = t.getZoom(); if (void 0 === r) return; const s = t.getConstrainedZoom(r + e), o = t.getResolutionForZoom(s); t.getAnimating() && t.cancelAnimations(), t.animate({ resolution: o, anchor: i, duration: void 0 !== n ? n : 250, easing: it }) } class ra extends ea { constructor(t) { super(), t = t || {}, this.delta_ = t.delta ? t.delta : 1, this.duration_ = void 0 !== t.duration ? t.duration : 250 } handleEvent(t) { let e = !1; if (t.type == ao.DBLCLICK) { const i = t.originalEvent, n = t.map, r = t.coordinate, s = i.shiftKey ? -this.delta_ : this.delta_; na(n.getView(), s, r, this.duration_), i.preventDefault(), e = !0 } return !e } } class sa extends ea { constructor(t) { super(t = t || {}), t.handleDownEvent && (this.handleDownEvent = t.handleDownEvent), t.handleDragEvent && (this.handleDragEvent = t.handleDragEvent), t.handleMoveEvent && (this.handleMoveEvent = t.handleMoveEvent), t.handleUpEvent && (this.handleUpEvent = t.handleUpEvent), t.stopDown && (this.stopDown = t.stopDown), this.handlingDownUpSequence = !1, this.targetPointers = [] } getPointerCount() { return this.targetPointers.length } handleDownEvent(t) { return !1 } handleDragEvent(t) { } handleEvent(t) { if (!t.originalEvent) return !0; let e = !1; if (this.updateTrackedPointers_(t), this.handlingDownUpSequence) { if (t.type == ao.POINTERDRAG) this.handleDragEvent(t), t.originalEvent.preventDefault(); else if (t.type == ao.POINTERUP) { const e = this.handleUpEvent(t); this.handlingDownUpSequence = e && this.targetPointers.length > 0 } } else if (t.type == ao.POINTERDOWN) { const i = this.handleDownEvent(t); this.handlingDownUpSequence = i, e = this.stopDown(i) } else t.type == ao.POINTERMOVE && this.handleMoveEvent(t); return !e } handleMoveEvent(t) { } handleUpEvent(t) { return !1 } stopDown(t) { return t } updateTrackedPointers_(t) { t.activePointers && (this.targetPointers = t.activePointers) } } function oa(t) { const e = t.length; let i = 0, n = 0; for (let r = 0; r < e; r++)i += t[r].clientX, n += t[r].clientY; return [i / e, n / e] } function aa(t) { const e = arguments; return function (t) { let i = !0; for (let n = 0, r = e.length; n < r && (i = i && e[n](t), i); ++n); return i } } const la = function (t) { const e = t.originalEvent; return e.altKey && !(e.metaKey || e.ctrlKey) && !e.shiftKey }, ha = function (t) { const e = t.originalEvent; return e.altKey && !(e.metaKey || e.ctrlKey) && e.shiftKey }, ca = function (t) { const e = t.map.getTargetElement(), i = t.map.getOwnerDocument().activeElement; return e.contains(i) }, ua = function (t) { return !t.map.getTargetElement().hasAttribute("tabindex") || ca(t) }, da = g, ga = function (t) { const e = t.originalEvent; return 0 == e.button && !(ft && pt && e.ctrlKey) }, fa = f, pa = function (t) { return t.type == ao.SINGLECLICK }, ma = function (t) { const e = t.originalEvent; return !e.altKey && !(e.metaKey || e.ctrlKey) && !e.shiftKey }, _a = function (t) { const e = t.originalEvent; return !e.altKey && !(e.metaKey || e.ctrlKey) && e.shiftKey }, ya = function (t) { const e = t.originalEvent, i = e.target.tagName; return "INPUT" !== i && "SELECT" !== i && "TEXTAREA" !== i && !e.target.isContentEditable }, xa = function (t) { const e = t.originalEvent; return at(void 0 !== e, 56), "mouse" == e.pointerType }, va = function (t) { const e = t.originalEvent; return at(void 0 !== e, 56), e.isPrimary && 0 === e.button }; class Sa extends sa { constructor(t) { super({ stopDown: f }), t = t || {}, this.kinetic_ = t.kinetic, this.lastCentroid = null, this.lastPointersCount_, this.panning_ = !1; const e = t.condition ? t.condition : aa(ma, va); this.condition_ = t.onFocusOnly ? aa(ua, e) : e, this.noKinetic_ = !1 } handleDragEvent(t) { this.panning_ || (this.panning_ = !0, this.getMap().getView().beginInteraction()); const e = this.targetPointers, i = oa(e); if (e.length == this.lastPointersCount_) { if (this.kinetic_ && this.kinetic_.update(i[0], i[1]), this.lastCentroid) { const e = [this.lastCentroid[0] - i[0], i[1] - this.lastCentroid[1]], n = t.map.getView(); Ei(e, n.getResolution()), wi(e, n.getRotation()), n.adjustCenterInternal(e) } } else this.kinetic_ && this.kinetic_.begin(); this.lastCentroid = i, this.lastPointersCount_ = e.length, t.originalEvent.preventDefault() } handleUpEvent(t) { const e = t.map, i = e.getView(); if (0 === this.targetPointers.length) { if (!this.noKinetic_ && this.kinetic_ && this.kinetic_.end()) { const t = this.kinetic_.getDistance(), n = this.kinetic_.getAngle(), r = i.getCenterInternal(), s = e.getPixelFromCoordinateInternal(r), o = e.getCoordinateFromPixelInternal([s[0] - t * Math.cos(n), s[1] - t * Math.sin(n)]); i.animateInternal({ center: i.getConstrainedCenter(o), duration: 500, easing: it }) } return this.panning_ && (this.panning_ = !1, i.endInteraction()), !1 } return this.kinetic_ && this.kinetic_.begin(), this.lastCentroid = null, !0 } handleDownEvent(t) { if (this.targetPointers.length > 0 && this.condition_(t)) { const e = t.map.getView(); return this.lastCentroid = null, e.getAnimating() && e.cancelAnimations(), this.kinetic_ && this.kinetic_.begin(), this.noKinetic_ = this.targetPointers.length > 1, !0 } return !1 } } class wa extends sa { constructor(t) { t = t || {}, super({ stopDown: f }), this.condition_ = t.condition ? t.condition : ha, this.lastAngle_ = void 0, this.duration_ = void 0 !== t.duration ? t.duration : 250 } handleDragEvent(t) { if (!xa(t)) return; const e = t.map, i = e.getView(); if (i.getConstraints().rotation === Go) return; const n = e.getSize(), r = t.pixel, s = Math.atan2(n[1] / 2 - r[1], r[0] - n[0] / 2); if (void 0 !== this.lastAngle_) { const t = s - this.lastAngle_; i.adjustRotationInternal(-t) } this.lastAngle_ = s } handleUpEvent(t) { if (!xa(t)) return !0; return t.map.getView().endInteraction(this.duration_), !1 } handleDownEvent(t) { if (!xa(t)) return !1; if (ga(t) && this.condition_(t)) { return t.map.getView().beginInteraction(), this.lastAngle_ = void 0, !0 } return !1 } } class Ea extends s { constructor(t) { super(), this.geometry_ = null, this.element_ = document.createElement("div"), this.element_.style.position = "absolute", this.element_.style.pointerEvents = "auto", this.element_.className = "ol-box " + t, this.map_ = null, this.startPixel_ = null, this.endPixel_ = null } disposeInternal() { this.setMap(null) } render_() { const t = this.startPixel_, e = this.endPixel_, i = "px", n = this.element_.style; n.left = Math.min(t[0], e[0]) + i, n.top = Math.min(t[1], e[1]) + i, n.width = Math.abs(e[0] - t[0]) + i, n.height = Math.abs(e[1] - t[1]) + i } setMap(t) { if (this.map_) { this.map_.getOverlayContainer().removeChild(this.element_); const t = this.element_.style; t.left = "inherit", t.top = "inherit", t.width = "inherit", t.height = "inherit" } this.map_ = t, this.map_ && this.map_.getOverlayContainer().appendChild(this.element_) } setPixels(t, e) { this.startPixel_ = t, this.endPixel_ = e, this.createOrUpdateGeometry(), this.render_() } createOrUpdateGeometry() { const t = this.startPixel_, e = this.endPixel_, i = [t, [t[0], e[1]], e, [e[0], t[1]]].map(this.map_.getCoordinateFromPixelInternal, this.map_); i[4] = i[0].slice(), this.geometry_ ? this.geometry_.setCoordinates([i]) : this.geometry_ = new ur([i]) } getGeometry() { return this.geometry_ } } const Ta = "boxstart", Ca = "boxdrag", ba = "boxend", Ra = "boxcancel"; class Pa extends i { constructor(t, e, i) { super(t), this.coordinate = e, this.mapBrowserEvent = i } } class Ia extends sa { constructor(t) { super(), this.on, this.once, this.un, t = t || {}, this.box_ = new Ea(t.className || "ol-dragbox"), this.minArea_ = void 0 !== t.minArea ? t.minArea : 64, t.onBoxEnd && (this.onBoxEnd = t.onBoxEnd), this.startPixel_ = null, this.condition_ = t.condition ? t.condition : ga, this.boxEndCondition_ = t.boxEndCondition ? t.boxEndCondition : this.defaultBoxEndCondition } defaultBoxEndCondition(t, e, i) { const n = i[0] - e[0], r = i[1] - e[1]; return n * n + r * r >= this.minArea_ } getGeometry() { return this.box_.getGeometry() } handleDragEvent(t) { this.box_.setPixels(this.startPixel_, t.pixel), this.dispatchEvent(new Pa(Ca, t.coordinate, t)) } handleUpEvent(t) { this.box_.setMap(null); const e = this.boxEndCondition_(t, this.startPixel_, t.pixel); return e && this.onBoxEnd(t), this.dispatchEvent(new Pa(e ? ba : Ra, t.coordinate, t)), !1 } handleDownEvent(t) { return !!this.condition_(t) && (this.startPixel_ = t.pixel, this.box_.setMap(t.map), this.box_.setPixels(this.startPixel_, this.startPixel_), this.dispatchEvent(new Pa(Ta, t.coordinate, t)), !0) } onBoxEnd(t) { } } class La extends Ia { constructor(t) { super({ condition: (t = t || {}).condition ? t.condition : _a, className: t.className || "ol-dragzoom", minArea: t.minArea }), this.duration_ = void 0 !== t.duration ? t.duration : 200, this.out_ = void 0 !== t.out && t.out } onBoxEnd(t) { const e = this.getMap().getView(); let i = this.getGeometry(); if (this.out_) { const t = e.rotatedExtentForGeometry(i), n = e.getResolutionForExtentInternal(t), r = e.getResolution() / n; i = i.clone(), i.scale(r * r) } e.fitInternal(i, { duration: this.duration_, easing: it }) } } var Ma = 37, Fa = 38, Aa = 39, Oa = 40; class Na extends ea { constructor(t) { super(), t = t || {}, this.defaultCondition_ = function (t) { return ma(t) && ya(t) }, this.condition_ = void 0 !== t.condition ? t.condition : this.defaultCondition_, this.duration_ = void 0 !== t.duration ? t.duration : 100, this.pixelDelta_ = void 0 !== t.pixelDelta ? t.pixelDelta : 128 } handleEvent(t) { let e = !1; if (t.type == I) { const i = t.originalEvent, n = i.keyCode; if (this.condition_(t) && (n == Oa || n == Ma || n == Aa || n == Fa)) { const r = t.map.getView(), s = r.getResolution() * this.pixelDelta_; let o = 0, a = 0; n == Oa ? a = -s : n == Ma ? o = -s : n == Aa ? o = s : a = s; const l = [o, a]; wi(l, r.getRotation()), ia(r, l, this.duration_), i.preventDefault(), e = !0 } } return !e } } class Da extends ea { constructor(t) { super(), t = t || {}, this.condition_ = t.condition ? t.condition : ya, this.delta_ = t.delta ? t.delta : 1, this.duration_ = void 0 !== t.duration ? t.duration : 100 } handleEvent(t) { let e = !1; if (t.type == I || t.type == L) { const i = t.originalEvent, n = i.charCode; if (this.condition_(t) && (n == "+".charCodeAt(0) || n == "-".charCodeAt(0))) { const r = t.map, s = n == "+".charCodeAt(0) ? this.delta_ : -this.delta_; na(r.getView(), s, void 0, this.duration_), i.preventDefault(), e = !0 } } return !e } } class ka extends ea { constructor(t) { super(t = t || {}), this.totalDelta_ = 0, this.lastDelta_ = 0, this.maxDelta_ = void 0 !== t.maxDelta ? t.maxDelta : 1, this.duration_ = void 0 !== t.duration ? t.duration : 250, this.timeout_ = void 0 !== t.timeout ? t.timeout : 80, this.useAnchor_ = void 0 === t.useAnchor || t.useAnchor, this.constrainResolution_ = void 0 !== t.constrainResolution && t.constrainResolution; const e = t.condition ? t.condition : da; this.condition_ = t.onFocusOnly ? aa(ua, e) : e, this.lastAnchor_ = null, this.startTime_ = void 0, this.timeoutId_, this.mode_ = void 0, this.trackpadEventGap_ = 400, this.trackpadTimeoutId_, this.deltaPerZoom_ = 300 } endInteraction_() { this.trackpadTimeoutId_ = void 0; const t = this.getMap(); if (!t) return; t.getView().endInteraction(void 0, this.lastDelta_ ? this.lastDelta_ > 0 ? 1 : -1 : 0, this.lastAnchor_) } handleEvent(t) { if (!this.condition_(t)) return !0; if (t.type !== O) return !0; const e = t.map, i = t.originalEvent; let n; if (i.preventDefault(), this.useAnchor_ && (this.lastAnchor_ = t.coordinate), t.type == O && (n = i.deltaY, ut && i.deltaMode === WheelEvent.DOM_DELTA_PIXEL && (n /= mt), i.deltaMode === WheelEvent.DOM_DELTA_LINE && (n *= 40)), 0 === n) return !1; this.lastDelta_ = n; const r = Date.now(); void 0 === this.startTime_ && (this.startTime_ = r), (!this.mode_ || r - this.startTime_ > this.trackpadEventGap_) && (this.mode_ = Math.abs(n) < 4 ? "trackpad" : "wheel"); const s = e.getView(); if ("trackpad" === this.mode_ && !s.getConstrainResolution() && !this.constrainResolution_) return this.trackpadTimeoutId_ ? clearTimeout(this.trackpadTimeoutId_) : (s.getAnimating() && s.cancelAnimations(), s.beginInteraction()), this.trackpadTimeoutId_ = setTimeout(this.endInteraction_.bind(this), this.timeout_), s.adjustZoom(-n / this.deltaPerZoom_, this.lastAnchor_), this.startTime_ = r, !1; this.totalDelta_ += n; const o = Math.max(this.timeout_ - (r - this.startTime_), 0); return clearTimeout(this.timeoutId_), this.timeoutId_ = setTimeout(this.handleWheelZoom_.bind(this, e), o), !1 } handleWheelZoom_(t) { const e = t.getView(); e.getAnimating() && e.cancelAnimations(); let i = -ii(this.totalDelta_, -this.maxDelta_ * this.deltaPerZoom_, this.maxDelta_ * this.deltaPerZoom_) / this.deltaPerZoom_; (e.getConstrainResolution() || this.constrainResolution_) && (i = i ? i > 0 ? 1 : -1 : 0), na(e, i, this.lastAnchor_, this.duration_), this.mode_ = void 0, this.totalDelta_ = 0, this.lastAnchor_ = null, this.startTime_ = void 0, this.timeoutId_ = void 0 } setMouseAnchor(t) { this.useAnchor_ = t, t || (this.lastAnchor_ = null) } } class Ga extends sa { constructor(t) { const e = t = t || {}; e.stopDown || (e.stopDown = f), super(e), this.anchor_ = null, this.lastAngle_ = void 0, this.rotating_ = !1, this.rotationDelta_ = 0, this.threshold_ = void 0 !== t.threshold ? t.threshold : .3, this.duration_ = void 0 !== t.duration ? t.duration : 250 } handleDragEvent(t) { let e = 0; const i = this.targetPointers[0], n = this.targetPointers[1], r = Math.atan2(n.clientY - i.clientY, n.clientX - i.clientX); if (void 0 !== this.lastAngle_) { const t = r - this.lastAngle_; this.rotationDelta_ += t, !this.rotating_ && Math.abs(this.rotationDelta_) > this.threshold_ && (this.rotating_ = !0), e = t } this.lastAngle_ = r; const s = t.map, o = s.getView(); if (o.getConstraints().rotation === Go) return; const a = s.getViewport().getBoundingClientRect(), l = oa(this.targetPointers); l[0] -= a.left, l[1] -= a.top, this.anchor_ = s.getCoordinateFromPixelInternal(l), this.rotating_ && (s.render(), o.adjustRotationInternal(e, this.anchor_)) } handleUpEvent(t) { if (this.targetPointers.length < 2) { return t.map.getView().endInteraction(this.duration_), !1 } return !0 } handleDownEvent(t) { if (this.targetPointers.length >= 2) { const e = t.map; return this.anchor_ = null, this.lastAngle_ = void 0, this.rotating_ = !1, this.rotationDelta_ = 0, this.handlingDownUpSequence || e.getView().beginInteraction(), !0 } return !1 } } class ja extends sa { constructor(t) { const e = t = t || {}; e.stopDown || (e.stopDown = f), super(e), this.anchor_ = null, this.duration_ = void 0 !== t.duration ? t.duration : 400, this.lastDistance_ = void 0, this.lastScaleDelta_ = 1 } handleDragEvent(t) { let e = 1; const i = this.targetPointers[0], n = this.targetPointers[1], r = i.clientX - n.clientX, s = i.clientY - n.clientY, o = Math.sqrt(r * r + s * s); void 0 !== this.lastDistance_ && (e = this.lastDistance_ / o), this.lastDistance_ = o; const a = t.map, l = a.getView(); 1 != e && (this.lastScaleDelta_ = e); const h = a.getViewport().getBoundingClientRect(), c = oa(this.targetPointers); c[0] -= h.left, c[1] -= h.top, this.anchor_ = a.getCoordinateFromPixelInternal(c), a.render(), l.adjustResolutionInternal(e, this.anchor_) } handleUpEvent(t) { if (this.targetPointers.length < 2) { const e = t.map.getView(), i = this.lastScaleDelta_ > 1 ? 1 : -1; return e.endInteraction(this.duration_, i), !1 } return !0 } handleDownEvent(t) { if (this.targetPointers.length >= 2) { const e = t.map; return this.anchor_ = null, this.lastDistance_ = void 0, this.lastScaleDelta_ = 1, this.handlingDownUpSequence || e.getView().beginInteraction(), !0 } return !1 } } function Ba(t) { t = t || {}; const e = new q, i = new Wr(-.005, .05, 100); (void 0 === t.altShiftDragRotate || t.altShiftDragRotate) && e.push(new wa); (void 0 === t.doubleClickZoom || t.doubleClickZoom) && e.push(new ra({ delta: t.zoomDelta, duration: t.zoomDuration })); (void 0 === t.dragPan || t.dragPan) && e.push(new Sa({ onFocusOnly: t.onFocusOnly, kinetic: i })); (void 0 === t.pinchRotate || t.pinchRotate) && e.push(new Ga); (void 0 === t.pinchZoom || t.pinchZoom) && e.push(new ja({ duration: t.zoomDuration })); (void 0 === t.keyboard || t.keyboard) && (e.push(new Na), e.push(new Da({ delta: t.zoomDelta, duration: t.zoomDuration }))); (void 0 === t.mouseWheelZoom || t.mouseWheelZoom) && e.push(new ka({ onFocusOnly: t.onFocusOnly, duration: t.zoomDuration })); return (void 0 === t.shiftDragZoom || t.shiftDragZoom) && e.push(new La({ duration: t.zoomDuration })), e } function Ua(t, e, i) { return void 0 === i && (i = [0, 0]), i[0] = t[0] + 2 * e, i[1] = t[1] + 2 * e, i } function za(t) { return t[0] > 0 && t[1] > 0 } function Xa(t, e, i) { return void 0 === i && (i = [0, 0]), i[0] = t[0] * e + .5 | 0, i[1] = t[1] * e + .5 | 0, i } function Va(t, e) { return Array.isArray(t) ? t : (void 0 === e ? e = [t, t] : (e[0] = t, e[1] = t), e) } function Wa(t) { t instanceof vs ? t.setMapInternal(null) : t instanceof ro && t.getLayers().forEach(Wa) } function Za(t, e) { if (t instanceof vs) t.setMapInternal(e); else if (t instanceof ro) { const i = t.getLayers().getArray(); for (let t = 0, n = i.length; t < n; ++t)Za(i[t], e) } } class Ya extends V { constructor(t) { super(), t = t || {}, this.on, this.once, this.un; const e = function (t) { let e = null; void 0 !== t.keyboardEventTarget && (e = "string" == typeof t.keyboardEventTarget ? document.getElementById(t.keyboardEventTarget) : t.keyboardEventTarget); const i = {}, n = t.layers && "function" == typeof t.layers.getLayers ? t.layers : new ro({ layers: t.layers }); let r, s, o; i[xo] = n, i[So] = t.target, i[wo] = t.view instanceof zo ? t.view : new zo, void 0 !== t.controls && (Array.isArray(t.controls) ? r = new q(t.controls.slice()) : (at("function" == typeof t.controls.getArray, 47), r = t.controls)); void 0 !== t.interactions && (Array.isArray(t.interactions) ? s = new q(t.interactions.slice()) : (at("function" == typeof t.interactions.getArray, 48), s = t.interactions)); void 0 !== t.overlays ? Array.isArray(t.overlays) ? o = new q(t.overlays.slice()) : (at("function" == typeof t.overlays.getArray, 49), o = t.overlays) : o = new q; return { controls: r, interactions: s, keyboardEventTarget: e, overlays: o, values: i } }(t); this.renderComplete_, this.loaded_ = !0, this.boundHandleBrowserEvent_ = this.handleBrowserEvent.bind(this), this.maxTilesLoading_ = void 0 !== t.maxTilesLoading ? t.maxTilesLoading : 16, this.pixelRatio_ = void 0 !== t.pixelRatio ? t.pixelRatio : mt, this.postRenderTimeoutHandle_, this.animationDelayKey_, this.animationDelay_ = this.animationDelay_.bind(this), this.coordinateToPixelTransform_ = [1, 0, 0, 1, 0, 0], this.pixelToCoordinateTransform_ = [1, 0, 0, 1, 0, 0], this.frameIndex_ = 0, this.frameState_ = null, this.previousExtent_ = null, this.viewPropertyListenerKey_ = null, this.viewChangeListenerKey_ = null, this.layerGroupPropertyListenerKeys_ = null, this.viewport_ = document.createElement("div"), this.viewport_.className = "ol-viewport" + ("ontouchstart" in window ? " ol-touch" : ""), this.viewport_.style.position = "relative", this.viewport_.style.overflow = "hidden", this.viewport_.style.width = "100%", this.viewport_.style.height = "100%", this.overlayContainer_ = document.createElement("div"), this.overlayContainer_.style.position = "absolute", this.overlayContainer_.style.zIndex = "0", this.overlayContainer_.style.width = "100%", this.overlayContainer_.style.height = "100%", this.overlayContainer_.style.pointerEvents = "none", this.overlayContainer_.className = "ol-overlaycontainer", this.viewport_.appendChild(this.overlayContainer_), this.overlayContainerStopEvent_ = document.createElement("div"), this.overlayContainerStopEvent_.style.position = "absolute", this.overlayContainerStopEvent_.style.zIndex = "0", this.overlayContainerStopEvent_.style.width = "100%", this.overlayContainerStopEvent_.style.height = "100%", this.overlayContainerStopEvent_.style.pointerEvents = "none", this.overlayContainerStopEvent_.className = "ol-overlaycontainer-stopevent", this.viewport_.appendChild(this.overlayContainerStopEvent_), this.mapBrowserEventHandler_ = null, this.moveTolerance_ = t.moveTolerance, this.keyboardEventTarget_ = e.keyboardEventTarget, this.targetChangeHandlerKeys_ = null, this.controls = e.controls || Qo(), this.interactions = e.interactions || Ba({ onFocusOnly: !0 }), this.overlays_ = e.overlays, this.overlayIdIndex_ = {}, this.renderer_ = null, this.postRenderFunctions_ = [], this.tileQueue_ = new Co(this.getTilePriority.bind(this), this.handleTileChange_.bind(this)), this.addChangeListener(xo, this.handleLayerGroupChanged_), this.addChangeListener(wo, this.handleViewChanged_), this.addChangeListener(vo, this.handleSizeChanged_), this.addChangeListener(So, this.handleTargetChanged_), this.setProperties(e.values); const i = this; !t.view || t.view instanceof zo || t.view.then((function (t) { i.setView(new zo(t)) })), this.controls.addEventListener(W, function (t) { t.element.setMap(this) }.bind(this)), this.controls.addEventListener(Z, function (t) { t.element.setMap(null) }.bind(this)), this.interactions.addEventListener(W, function (t) { t.element.setMap(this) }.bind(this)), this.interactions.addEventListener(Z, function (t) { t.element.setMap(null) }.bind(this)), this.overlays_.addEventListener(W, function (t) { this.addOverlayInternal_(t.element) }.bind(this)), this.overlays_.addEventListener(Z, function (t) { const e = t.element.getId(); void 0 !== e && delete this.overlayIdIndex_[e.toString()], t.element.setMap(null) }.bind(this)), this.controls.forEach(function (t) { t.setMap(this) }.bind(this)), this.interactions.forEach(function (t) { t.setMap(this) }.bind(this)), this.overlays_.forEach(this.addOverlayInternal_.bind(this)) } addControl(t) { this.getControls().push(t) } addInteraction(t) { this.getInteractions().push(t) } addLayer(t) { this.getLayerGroup().getLayers().push(t) } handleLayerAdd_(t) { Za(t.layer, this) } addOverlay(t) { this.getOverlays().push(t) } addOverlayInternal_(t) { const e = t.getId(); void 0 !== e && (this.overlayIdIndex_[e.toString()] = t), t.setMap(this) } disposeInternal() { this.controls.clear(), this.interactions.clear(), this.overlays_.clear(), this.setTarget(null), super.disposeInternal() } forEachFeatureAtPixel(t, e, i) { if (!this.frameState_ || !this.renderer_) return; const n = this.getCoordinateFromPixelInternal(t), r = void 0 !== (i = void 0 !== i ? i : {}).hitTolerance ? i.hitTolerance : 0, s = void 0 !== i.layerFilter ? i.layerFilter : g, o = !1 !== i.checkWrapped; return this.renderer_.forEachFeatureAtCoordinate(n, this.frameState_, r, o, e, null, s, null) } getFeaturesAtPixel(t, e) { const i = []; return this.forEachFeatureAtPixel(t, (function (t) { i.push(t) }), e), i } getAllLayers() { const t = []; return function e(i) { i.forEach((function (i) { i instanceof ro ? e(i.getLayers()) : t.push(i) })) }(this.getLayers()), t } hasFeatureAtPixel(t, e) { if (!this.frameState_ || !this.renderer_) return !1; const i = this.getCoordinateFromPixelInternal(t), n = void 0 !== (e = void 0 !== e ? e : {}).layerFilter ? e.layerFilter : g, r = void 0 !== e.hitTolerance ? e.hitTolerance : 0, s = !1 !== e.checkWrapped; return this.renderer_.hasFeatureAtCoordinate(i, this.frameState_, r, s, n, null) } getEventCoordinate(t) { return this.getCoordinateFromPixel(this.getEventPixel(t)) } getEventCoordinateInternal(t) { return this.getCoordinateFromPixelInternal(this.getEventPixel(t)) } getEventPixel(t) { const e = this.viewport_.getBoundingClientRect(), i = "changedTouches" in t ? t.changedTouches[0] : t; return [i.clientX - e.left, i.clientY - e.top] } getTarget() { return this.get(So) } getTargetElement() { const t = this.getTarget(); return void 0 !== t ? "string" == typeof t ? document.getElementById(t) : t : null } getCoordinateFromPixel(t) { return nn(this.getCoordinateFromPixelInternal(t), this.getView().getProjection()) } getCoordinateFromPixelInternal(t) { const e = this.frameState_; return e ? bt(e.pixelToCoordinateTransform, t.slice()) : null } getControls() { return this.controls } getOverlays() { return this.overlays_ } getOverlayById(t) { const e = this.overlayIdIndex_[t.toString()]; return void 0 !== e ? e : null } getInteractions() { return this.interactions } getLayerGroup() { return this.get(xo) } setLayers(t) { const e = this.getLayerGroup(); if (t instanceof q) return void e.setLayers(t); const i = e.getLayers(); i.clear(), i.extend(t) } getLayers() { return this.getLayerGroup().getLayers() } getLoadingOrNotReady() { const t = this.getLayerGroup().getLayerStatesArray(); for (let e = 0, i = t.length; e < i; ++e) { const i = t[e]; if (!i.visible) continue; const n = i.layer.getRenderer(); if (n && !n.ready) return !0; const r = i.layer.getSource(); if (r && r.loading) return !0 } return !1 } getPixelFromCoordinate(t) { const e = rn(t, this.getView().getProjection()); return this.getPixelFromCoordinateInternal(e) } getPixelFromCoordinateInternal(t) { const e = this.frameState_; return e ? bt(e.coordinateToPixelTransform, t.slice(0, 2)) : null } getRenderer() { return this.renderer_ } getSize() { return this.get(vo) } getView() { return this.get(wo) } getViewport() { return this.viewport_ } getOverlayContainer() { return this.overlayContainer_ } getOverlayContainerStopEvent() { return this.overlayContainerStopEvent_ } getOwnerDocument() { const t = this.getTargetElement(); return t ? t.ownerDocument : document } getTilePriority(t, e, i, n) { return bo(this.frameState_, t, e, i, n) } handleBrowserEvent(t, e) { e = e || t.type; const i = new oo(e, this, t); this.handleMapBrowserEvent(i) } handleMapBrowserEvent(t) { if (!this.frameState_) return; const e = t.originalEvent, i = e.type; if (i === ho || i === O || i === I) { const t = this.getOwnerDocument(), i = this.viewport_.getRootNode ? this.viewport_.getRootNode() : t, n = e.target; if (this.overlayContainerStopEvent_.contains(n) || !(i === t ? t.documentElement : i).contains(n)) return } if (t.frameState = this.frameState_, !1 !== this.dispatchEvent(t)) { const e = this.getInteractions().getArray().slice(); for (let i = e.length - 1; i >= 0; i--) { const n = e[i]; if (n.getMap() !== this || !n.getActive() || !this.getTargetElement()) continue; if (!n.handleEvent(t) || t.propagationStopped) break } } } handlePostRender() { const t = this.frameState_, e = this.tileQueue_; if (!e.isEmpty()) { let i = this.maxTilesLoading_, n = i; if (t) { const e = t.viewHints; if (e[Ro] || e[Po]) { const e = Date.now() - t.time > 8; i = e ? 0 : 8, n = e ? 0 : 2 } } e.getTilesLoading() < i && (e.reprioritize(), e.loadMoreTiles(i, n)) } t && this.renderer_ && !t.animate && (!0 === this.renderComplete_ ? (this.hasListener(xs) && this.renderer_.dispatchRenderEvent(xs, t), !1 === this.loaded_ && (this.loaded_ = !0, this.dispatchEvent(new so(yo, this, t)))) : !0 === this.loaded_ && (this.loaded_ = !1, this.dispatchEvent(new so(_o, this, t)))); const i = this.postRenderFunctions_; for (let e = 0, n = i.length; e < n; ++e)i[e](this, t); i.length = 0 } handleSizeChanged_() { this.getView() && !this.getView().getAnimating() && this.getView().resolveConstraints(0), this.render() } handleTargetChanged_() { if (this.mapBrowserEventHandler_) { for (let t = 0, e = this.targetChangeHandlerKeys_.length; t < e; ++t)k(this.targetChangeHandlerKeys_[t]); this.targetChangeHandlerKeys_ = null, this.viewport_.removeEventListener(E, this.boundHandleBrowserEvent_), this.viewport_.removeEventListener(O, this.boundHandleBrowserEvent_), this.mapBrowserEventHandler_.dispose(), this.mapBrowserEventHandler_ = null, Ur(this.viewport_) } const t = this.getTargetElement(); if (t) { t.appendChild(this.viewport_), this.renderer_ || (this.renderer_ = new eo(this)), this.mapBrowserEventHandler_ = new go(this, this.moveTolerance_); for (const t in ao) this.mapBrowserEventHandler_.addEventListener(ao[t], this.handleMapBrowserEvent.bind(this)); this.viewport_.addEventListener(E, this.boundHandleBrowserEvent_, !1), this.viewport_.addEventListener(O, this.boundHandleBrowserEvent_, !!xt && { passive: !1 }); const e = this.getOwnerDocument().defaultView, i = this.keyboardEventTarget_ ? this.keyboardEventTarget_ : t; this.targetChangeHandlerKeys_ = [N(i, I, this.handleBrowserEvent, this), N(i, L, this.handleBrowserEvent, this), N(e, F, this.updateSize, this)] } else this.renderer_ && (clearTimeout(this.postRenderTimeoutHandle_), this.postRenderTimeoutHandle_ = void 0, this.postRenderFunctions_.length = 0, this.renderer_.dispose(), this.renderer_ = null), this.animationDelayKey_ && (cancelAnimationFrame(this.animationDelayKey_), this.animationDelayKey_ = void 0); this.updateSize() } handleTileChange_() { this.render() } handleViewPropertyChanged_() { this.render() } handleViewChanged_() { this.viewPropertyListenerKey_ && (k(this.viewPropertyListenerKey_), this.viewPropertyListenerKey_ = null), this.viewChangeListenerKey_ && (k(this.viewChangeListenerKey_), this.viewChangeListenerKey_ = null); const t = this.getView(); t && (this.updateViewportSize_(), this.viewPropertyListenerKey_ = N(t, r, this.handleViewPropertyChanged_, this), this.viewChangeListenerKey_ = N(t, S, this.handleViewPropertyChanged_, this), t.resolveConstraints(0)), this.render() } handleLayerGroupChanged_() { this.layerGroupPropertyListenerKeys_ && (this.layerGroupPropertyListenerKeys_.forEach(k), this.layerGroupPropertyListenerKeys_ = null); const t = this.getLayerGroup(); t && (this.handleLayerAdd_(new io("addlayer", t)), this.layerGroupPropertyListenerKeys_ = [N(t, r, this.render, this), N(t, S, this.render, this), N(t, "addlayer", this.handleLayerAdd_, this), N(t, "removelayer", this.handleLayerRemove_, this)]), this.render() } isRendered() { return !!this.frameState_ } animationDelay_() { this.animationDelayKey_ = void 0, this.renderFrame_(Date.now()) } renderSync() { this.animationDelayKey_ && cancelAnimationFrame(this.animationDelayKey_), this.animationDelay_() } redrawText() { const t = this.getLayerGroup().getLayerStatesArray(); for (let e = 0, i = t.length; e < i; ++e) { const i = t[e].layer; i.hasRenderer() && i.getRenderer().handleFontsChanged() } } render() { this.renderer_ && void 0 === this.animationDelayKey_ && (this.animationDelayKey_ = requestAnimationFrame(this.animationDelay_)) } removeControl(t) { return this.getControls().remove(t) } removeInteraction(t) { return this.getInteractions().remove(t) } removeLayer(t) { return this.getLayerGroup().getLayers().remove(t) } handleLayerRemove_(t) { Wa(t.layer) } removeOverlay(t) { return this.getOverlays().remove(t) } renderFrame_(t) { const e = this.getSize(), i = this.getView(), n = this.frameState_; let r = null; if (void 0 !== e && za(e) && i && i.isDef()) { const n = i.getHints(this.frameState_ ? this.frameState_.viewHints : void 0), s = i.getState(); if (r = { animate: !1, coordinateToPixelTransform: this.coordinateToPixelTransform_, declutterTree: null, extent: pe(s.center, s.resolution, s.rotation, e), index: this.frameIndex_++, layerIndex: 0, layerStatesArray: this.getLayerGroup().getLayerStatesArray(), pixelRatio: this.pixelRatio_, pixelToCoordinateTransform: this.pixelToCoordinateTransform_, postRenderFunctions: [], size: e, tileQueue: this.tileQueue_, time: t, usedTiles: {}, viewState: s, viewHints: n, wantedTiles: {}, mapId: z(this), renderTargets: {} }, s.nextCenter && s.nextResolution) { const t = isNaN(s.nextRotation) ? s.rotation : s.nextRotation; r.nextExtent = pe(s.nextCenter, s.nextResolution, t, e) } } if (this.frameState_ = r, this.renderer_.renderFrame(r), r) { if (r.animate && this.render(), Array.prototype.push.apply(this.postRenderFunctions_, r.postRenderFunctions), n) { (!this.previousExtent_ || !Ee(this.previousExtent_) && !ee(r.extent, this.previousExtent_)) && (this.dispatchEvent(new so(po, this, n)), this.previousExtent_ = Jt(this.previousExtent_)) } this.previousExtent_ && !r.viewHints[Ro] && !r.viewHints[Po] && !ee(r.extent, this.previousExtent_) && (this.dispatchEvent(new so(mo, this, r)), Vt(r.extent, this.previousExtent_)) } this.dispatchEvent(new so(fo, this, r)), this.renderComplete_ = this.hasListener(_o) || this.hasListener(yo) || this.hasListener(xs) ? !this.tileQueue_.getTilesLoading() && !this.tileQueue_.getCount() && !this.getLoadingOrNotReady() : void 0, this.postRenderTimeoutHandle_ || (this.postRenderTimeoutHandle_ = setTimeout((() => { this.postRenderTimeoutHandle_ = void 0, this.handlePostRender() }), 0)) } setLayerGroup(t) { const e = this.getLayerGroup(); e && this.handleLayerRemove_(new io("removelayer", e)), this.set(xo, t) } setSize(t) { this.set(vo, t) } setTarget(t) { this.set(So, t) } setView(t) { if (!t || t instanceof zo) return void this.set(wo, t); this.set(wo, new zo); const e = this; t.then((function (t) { e.setView(new zo(t)) })) } updateSize() { const t = this.getTargetElement(); let e; if (t) { const i = getComputedStyle(t), n = t.offsetWidth - parseFloat(i.borderLeftWidth) - parseFloat(i.paddingLeft) - parseFloat(i.paddingRight) - parseFloat(i.borderRightWidth), r = t.offsetHeight - parseFloat(i.borderTopWidth) - parseFloat(i.paddingTop) - parseFloat(i.paddingBottom) - parseFloat(i.borderBottomWidth); isNaN(n) || isNaN(r) || (e = [n, r], !za(e) && (t.offsetWidth || t.offsetHeight || t.getClientRects().length) && console.warn("No map visible because the map container's width or height are 0.")) } this.setSize(e), this.updateViewportSize_() } updateViewportSize_() { const t = this.getView(); if (t) { let e; const i = getComputedStyle(this.viewport_); i.width && i.height && (e = [parseInt(i.width, 10), parseInt(i.height, 10)]), t.setViewportSize(e) } } } const Ka = "element", qa = "map", Ha = "offset", $a = "position", Ja = "positioning"; class Qa extends V { constructor(t) { super(), this.on, this.once, this.un, this.options = t, this.id = t.id, this.insertFirst = void 0 === t.insertFirst || t.insertFirst, this.stopEvent = void 0 === t.stopEvent || t.stopEvent, this.element = document.createElement("div"), this.element.className = void 0 !== t.className ? t.className : "ol-overlay-container ol-selectable", this.element.style.position = "absolute", this.element.style.pointerEvents = "auto", this.autoPan = !0 === t.autoPan ? {} : t.autoPan || void 0, this.rendered = { transform_: "", visible: !0 }, this.mapPostrenderListenerKey = null, this.addChangeListener(Ka, this.handleElementChanged), this.addChangeListener(qa, this.handleMapChanged), this.addChangeListener(Ha, this.handleOffsetChanged), this.addChangeListener($a, this.handlePositionChanged), this.addChangeListener(Ja, this.handlePositioningChanged), void 0 !== t.element && this.setElement(t.element), this.setOffset(void 0 !== t.offset ? t.offset : [0, 0]), this.setPositioning(t.positioning || "top-left"), void 0 !== t.position && this.setPosition(t.position) } getElement() { return this.get(Ka) } getId() { return this.id } getMap() { return this.get(qa) || null } getOffset() { return this.get(Ha) } getPosition() { return this.get($a) } getPositioning() { return this.get(Ja) } handleElementChanged() { zr(this.element); const t = this.getElement(); t && this.element.appendChild(t) } handleMapChanged() { this.mapPostrenderListenerKey && (Ur(this.element), k(this.mapPostrenderListenerKey), this.mapPostrenderListenerKey = null); const t = this.getMap(); if (t) { this.mapPostrenderListenerKey = N(t, fo, this.render, this), this.updatePixelPosition(); const e = this.stopEvent ? t.getOverlayContainerStopEvent() : t.getOverlayContainer(); this.insertFirst ? e.insertBefore(this.element, e.childNodes[0] || null) : e.appendChild(this.element), this.performAutoPan() } } render() { this.updatePixelPosition() } handleOffsetChanged() { this.updatePixelPosition() } handlePositionChanged() { this.updatePixelPosition(), this.performAutoPan() } handlePositioningChanged() { this.updatePixelPosition() } setElement(t) { this.set(Ka, t) } setMap(t) { this.set(qa, t) } setOffset(t) { this.set(Ha, t) } setPosition(t) { this.set($a, t) } performAutoPan() { this.autoPan && this.panIntoView(this.autoPan) } panIntoView(t) { const e = this.getMap(); if (!e || !e.getTargetElement() || !this.get($a)) return; const i = this.getRect(e.getTargetElement(), e.getSize()), n = this.getElement(), r = this.getRect(n, [Gr(n), jr(n)]), s = void 0 === (t = t || {}).margin ? 20 : t.margin; if (!Yt(i, r)) { const n = r[0] - i[0], o = i[2] - r[2], a = r[1] - i[1], l = i[3] - r[3], h = [0, 0]; if (n < 0 ? h[0] = n - s : o < 0 && (h[0] = Math.abs(o) + s), a < 0 ? h[1] = a - s : l < 0 && (h[1] = Math.abs(l) + s), 0 !== h[0] || 0 !== h[1]) { const i = e.getView().getCenterInternal(), n = e.getPixelFromCoordinateInternal(i); if (!n) return; const r = [n[0] + h[0], n[1] + h[1]], s = t.animation || {}; e.getView().animateInternal({ center: e.getCoordinateFromPixelInternal(r), duration: s.duration, easing: s.easing }) } } } getRect(t, e) { const i = t.getBoundingClientRect(), n = i.left + window.pageXOffset, r = i.top + window.pageYOffset; return [n, r, n + e[0], r + e[1]] } setPositioning(t) { this.set(Ja, t) } setVisible(t) { this.rendered.visible !== t && (this.element.style.display = t ? "" : "none", this.rendered.visible = t) } updatePixelPosition() { const t = this.getMap(), e = this.getPosition(); if (!t || !t.isRendered() || !e) return void this.setVisible(!1); const i = t.getPixelFromCoordinate(e), n = t.getSize(); this.updateRenderedPosition(i, n) } updateRenderedPosition(t, e) { const i = this.element.style, n = this.getOffset(), r = this.getPositioning(); this.setVisible(!0); let s = "0%", o = "0%"; "bottom-right" == r || "center-right" == r || "top-right" == r ? s = "-100%" : "bottom-center" != r && "center-center" != r && "top-center" != r || (s = "-50%"), "bottom-left" == r || "bottom-center" == r || "bottom-right" == r ? o = "-100%" : "center-left" != r && "center-center" != r && "center-right" != r || (o = "-50%"); const a = `translate(${s}, ${o}) translate(${Math.round(t[0] + n[0]) + "px"}, ${Math.round(t[1] + n[1]) + "px"})`; this.rendered.transform_ != a && (this.rendered.transform_ = a, i.transform = a) } getOptions() { return this.options } } class tl { constructor(t) { this.highWaterMark = void 0 !== t ? t : 2048, this.count_ = 0, this.entries_ = {}, this.oldest_ = null, this.newest_ = null } canExpireCache() { return this.highWaterMark > 0 && this.getCount() > this.highWaterMark } expireCache(t) { for (; this.canExpireCache();)this.pop() } clear() { this.count_ = 0, this.entries_ = {}, this.oldest_ = null, this.newest_ = null } containsKey(t) { return this.entries_.hasOwnProperty(t) } forEach(t) { let e = this.oldest_; for (; e;)t(e.value_, e.key_, this), e = e.newer } get(t, e) { const i = this.entries_[t]; return at(void 0 !== i, 15), i === this.newest_ || (i === this.oldest_ ? (this.oldest_ = this.oldest_.newer, this.oldest_.older = null) : (i.newer.older = i.older, i.older.newer = i.newer), i.newer = null, i.older = this.newest_, this.newest_.newer = i, this.newest_ = i), i.value_ } remove(t) { const e = this.entries_[t]; return at(void 0 !== e, 15), e === this.newest_ ? (this.newest_ = e.older, this.newest_ && (this.newest_.newer = null)) : e === this.oldest_ ? (this.oldest_ = e.newer, this.oldest_ && (this.oldest_.older = null)) : (e.newer.older = e.older, e.older.newer = e.newer), delete this.entries_[t], --this.count_, e.value_ } getCount() { return this.count_ } getKeys() { const t = new Array(this.count_); let e, i = 0; for (e = this.newest_; e; e = e.older)t[i++] = e.key_; return t } getValues() { const t = new Array(this.count_); let e, i = 0; for (e = this.newest_; e; e = e.older)t[i++] = e.value_; return t } peekLast() { return this.oldest_.value_ } peekLastKey() { return this.oldest_.key_ } peekFirstKey() { return this.newest_.key_ } peek(t) { if (this.containsKey(t)) return this.entries_[t].value_ } pop() { const t = this.oldest_; return delete this.entries_[t.key_], t.newer && (t.newer.older = null), this.oldest_ = t.newer, this.oldest_ || (this.newest_ = null), --this.count_, t.value_ } replace(t, e) { this.get(t), this.entries_[t].value_ = e } set(t, e) { at(!(t in this.entries_), 16); const i = { key_: t, newer: null, older: this.newest_, value_: e }; this.newest_ ? this.newest_.newer = i : this.oldest_ = i, this.newest_ = i, this.entries_[t] = i, ++this.count_ } setSize(t) { this.highWaterMark = t } } function el(t, e, i, n) { return void 0 !== n ? (n[0] = t, n[1] = e, n[2] = i, n) : [t, e, i] } function il(t, e, i) { return t + "/" + e + "/" + i } function nl(t) { return il(t[0], t[1], t[2]) } function rl(t) { const [e, i, n] = t.substring(t.lastIndexOf("/") + 1, t.length).split(",").map(Number); return il(e, i, n) } function sl(t) { return t.split("/").map(Number) } function ol(t) { return (t[1] << t[0]) + t[2] } function al(t, e) { const i = t[0], n = t[1], r = t[2]; if (e.getMinZoom() > i || i > e.getMaxZoom()) return !1; const s = e.getFullTileRange(i); return !s || s.containsXY(n, r) } class ll extends tl { clear() { for (; this.getCount() > 0;)this.pop().release(); super.clear() } expireCache(t) { for (; this.canExpireCache();) { if (this.peekLast().getKey() in t) break; this.pop().release() } } pruneExceptNewestZ() { if (0 === this.getCount()) return; const t = sl(this.peekFirstKey())[0]; this.forEach(function (e) { e.tileCoord[0] !== t && (this.remove(nl(e.tileCoord)), e.release()) }.bind(this)) } } class hl { constructor(t, e, i, n) { this.minX = t, this.maxX = e, this.minY = i, this.maxY = n } contains(t) { return this.containsXY(t[1], t[2]) } containsTileRange(t) { return this.minX <= t.minX && t.maxX <= this.maxX && this.minY <= t.minY && t.maxY <= this.maxY } containsXY(t, e) { return this.minX <= t && t <= this.maxX && this.minY <= e && e <= this.maxY } equals(t) { return this.minX == t.minX && this.minY == t.minY && this.maxX == t.maxX && this.maxY == t.maxY } extend(t) { t.minX < this.minX && (this.minX = t.minX), t.maxX > this.maxX && (this.maxX = t.maxX), t.minY < this.minY && (this.minY = t.minY), t.maxY > this.maxY && (this.maxY = t.maxY) } getHeight() { return this.maxY - this.minY + 1 } getSize() { return [this.getWidth(), this.getHeight()] } getWidth() { return this.maxX - this.minX + 1 } intersects(t) { return this.minX <= t.maxX && this.maxX >= t.minX && this.minY <= t.maxY && this.maxY >= t.minY } } function cl(t, e, i, n, r) { return void 0 !== r ? (r.minX = t, r.maxX = e, r.minY = i, r.maxY = n, r) : new hl(t, e, i, n) } const ul = []; class dl extends st { constructor(t, e, i, n) { super(t, e, { transition: 0 }), this.context_ = {}, this.executorGroups = {}, this.declutterExecutorGroups = {}, this.loadingSourceTiles = 0, this.hitDetectionImageData = {}, this.replayState_ = {}, this.sourceTiles = [], this.errorTileKeys = {}, this.wantedResolution, this.getSourceTiles = n.bind(void 0, this), this.wrappedTileCoord = i } getContext(t) { const e = z(t); return e in this.context_ || (this.context_[e] = Dr(1, 1, ul)), this.context_[e] } hasContext(t) { return z(t) in this.context_ } getImage(t) { return this.hasContext(t) ? this.getContext(t).canvas : null } getReplayState(t) { const e = z(t); return e in this.replayState_ || (this.replayState_[e] = { dirty: !1, renderedRenderOrder: null, renderedResolution: NaN, renderedRevision: -1, renderedTileResolution: NaN, renderedTileRevision: -1, renderedTileZ: -1 }), this.replayState_[e] } load() { this.getSourceTiles() } release() { for (const t in this.context_) { const e = this.context_[t]; kr(e), ul.push(e.canvas), delete this.context_[t] } super.release() } } class gl extends st { constructor(t, e, i, n, r, s) { super(t, e, s), this.extent = null, this.format_ = n, this.features_ = null, this.loader_, this.projection = null, this.resolution, this.tileLoadFunction_ = r, this.url_ = i, this.key = i } getFormat() { return this.format_ } getFeatures() { return this.features_ } load() { this.state == H && (this.setState($), this.tileLoadFunction_(this, this.url_), this.loader_ && this.loader_(this.extent, this.resolution, this.projection)) } onLoad(t, e) { this.setFeatures(t) } onError() { this.setState(Q) } setFeatures(t) { this.features_ = t, this.setState(J) } setLoader(t) { this.loader_ = t } } function fl(t) { return Array.isArray(t) ? Qr(t) : t } let pl, ml = !1; function _l(t, e, i, n, r, s, o) { const a = new XMLHttpRequest; a.open("GET", "function" == typeof t ? t(i, n, r) : t, !0), "arraybuffer" == e.getType() && (a.responseType = "arraybuffer"), a.withCredentials = ml, a.onload = function (t) { if (!a.status || a.status >= 200 && a.status < 300) { const t = e.getType(); let n; "json" == t || "text" == t ? n = a.responseText : "xml" == t ? (n = a.responseXML, n || (n = (new DOMParser).parseFromString(a.responseText, "application/xml"))) : "arraybuffer" == t && (n = a.response), n ? s(e.readFeatures(n, { extent: i, featureProjection: r }), e.readProjection(n)) : o() } else o() }, a.onerror = o, a.send() } function yl(t, e) { return function (i, n, r, s, o) { const a = this; _l(t, e, i, n, r, (function (t, e) { a.addFeatures(t), void 0 !== s && s(t) }), o || p) } } function xl(t, e) { return [[-1 / 0, -1 / 0, 1 / 0, 1 / 0]] } function vl(t, e, i, n) { const r = document.createElement("script"), s = "olc_" + z(e); function o() { delete window[s], r.parentNode.removeChild(r) } r.async = !0, r.src = t + (t.includes("?") ? "&" : "?") + (n || "callback") + "=" + s; const a = setTimeout((function () { o(), i && i() }), 1e4); window[s] = function (t) { clearTimeout(a), o(), e(t) }, document.head.appendChild(r) } class Sl extends Error { constructor(t) { super("Unexpected response status: " + t.status), this.name = "ResponseError", this.response = t } } class wl extends Error { constructor(t) { super("Failed to issue request"), this.name = "ClientError", this.client = t } } function El(t) { return new Promise((function (e, i) { const n = new XMLHttpRequest; n.addEventListener("load", (function (t) { const n = t.target; if (!n.status || n.status >= 200 && n.status < 300) { let t; try { t = JSON.parse(n.responseText) } catch (t) { const e = "Error parsing response text as JSON: " + t.message; return void i(new Error(e)) } e(t) } else i(new Sl(n)) })), n.addEventListener("error", (function (t) { i(new wl(t.target)) })), n.open("GET", t), n.setRequestHeader("Accept", "application/json"), n.send() })) } function Tl(t, e) { return e.includes("://") ? e : new URL(e, t).href } class Cl { drawCustom(t, e, i, n) { } drawGeometry(t) { } setStyle(t) { } drawCircle(t, e) { } drawFeature(t, e) { } drawGeometryCollection(t, e) { } drawLineString(t, e) { } drawMultiLineString(t, e) { } drawMultiPoint(t, e) { } drawMultiPolygon(t, e) { } drawPoint(t, e) { } drawPolygon(t, e) { } drawText(t, e) { } setFillStrokeStyle(t, e) { } setImageStyle(t, e) { } setTextStyle(t, e) { } } class bl extends Cl { constructor(t, e, i, n, r, s, o) { super(), this.context_ = t, this.pixelRatio_ = e, this.extent_ = i, this.transform_ = n, this.viewRotation_ = r, this.squaredTolerance_ = s, this.userTransform_ = o, this.contextFillState_ = null, this.contextStrokeState_ = null, this.contextTextState_ = null, this.fillState_ = null, this.strokeState_ = null, this.image_ = null, this.imageAnchorX_ = 0, this.imageAnchorY_ = 0, this.imageHeight_ = 0, this.imageOpacity_ = 0, this.imageOriginX_ = 0, this.imageOriginY_ = 0, this.imageRotateWithView_ = !1, this.imageRotation_ = 0, this.imageScale_ = [0, 0], this.imageWidth_ = 0, this.text_ = "", this.textOffsetX_ = 0, this.textOffsetY_ = 0, this.textRotateWithView_ = !1, this.textRotation_ = 0, this.textScale_ = [0, 0], this.textFillState_ = null, this.textStrokeState_ = null, this.textState_ = null, this.pixelCoordinates_ = [], this.tmpLocalTransform_ = [1, 0, 0, 1, 0, 0] } drawImages_(t, e, i, n) { if (!this.image_) return; const r = un(t, e, i, n, this.transform_, this.pixelCoordinates_), s = this.context_, o = this.tmpLocalTransform_, a = s.globalAlpha; 1 != this.imageOpacity_ && (s.globalAlpha = a * this.imageOpacity_); let l = this.imageRotation_; this.imageRotateWithView_ && (l += this.viewRotation_); for (let t = 0, e = r.length; t < e; t += 2) { const e = r[t] - this.imageAnchorX_, i = r[t + 1] - this.imageAnchorY_; if (0 !== l || 1 != this.imageScale_[0] || 1 != this.imageScale_[1]) { const t = e + this.imageAnchorX_, n = i + this.imageAnchorY_; Mt(o, t, n, 1, 1, l, -t, -n), s.setTransform.apply(s, o), s.translate(t, n), s.scale(this.imageScale_[0], this.imageScale_[1]), s.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_, this.imageWidth_, this.imageHeight_, -this.imageAnchorX_, -this.imageAnchorY_, this.imageWidth_, this.imageHeight_), s.setTransform(1, 0, 0, 1, 0, 0) } else s.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_, this.imageWidth_, this.imageHeight_, e, i, this.imageWidth_, this.imageHeight_) } 1 != this.imageOpacity_ && (s.globalAlpha = a) } drawText_(t, e, i, n) { if (!this.textState_ || "" === this.text_) return; this.textFillState_ && this.setContextFillState_(this.textFillState_), this.textStrokeState_ && this.setContextStrokeState_(this.textStrokeState_), this.setContextTextState_(this.textState_); const r = un(t, e, i, n, this.transform_, this.pixelCoordinates_), s = this.context_; let o = this.textRotation_; for (this.textRotateWithView_ && (o += this.viewRotation_); e < i; e += n) { const t = r[e] + this.textOffsetX_, i = r[e + 1] + this.textOffsetY_; 0 !== o || 1 != this.textScale_[0] || 1 != this.textScale_[1] ? (s.translate(t - this.textOffsetX_, i - this.textOffsetY_), s.rotate(o), s.translate(this.textOffsetX_, this.textOffsetY_), s.scale(this.textScale_[0], this.textScale_[1]), this.textStrokeState_ && s.strokeText(this.text_, 0, 0), this.textFillState_ && s.fillText(this.text_, 0, 0), s.setTransform(1, 0, 0, 1, 0, 0)) : (this.textStrokeState_ && s.strokeText(this.text_, t, i), this.textFillState_ && s.fillText(this.text_, t, i)) } } moveToLineTo_(t, e, i, n, r) { const s = this.context_, o = un(t, e, i, n, this.transform_, this.pixelCoordinates_); s.moveTo(o[0], o[1]); let a = o.length; r && (a -= 2); for (let t = 2; t < a; t += 2)s.lineTo(o[t], o[t + 1]); return r && s.closePath(), i } drawRings_(t, e, i, n) { for (let r = 0, s = i.length; r < s; ++r)e = this.moveToLineTo_(t, e, i[r], n, !0); return e } drawCircle(t) { if (we(this.extent_, t.getExtent())) { if (this.fillState_ || this.strokeState_) { this.fillState_ && this.setContextFillState_(this.fillState_), this.strokeState_ && this.setContextStrokeState_(this.strokeState_); const e = xn(t, this.transform_, this.pixelCoordinates_), i = e[2] - e[0], n = e[3] - e[1], r = Math.sqrt(i * i + n * n), s = this.context_; s.beginPath(), s.arc(e[0], e[1], r, 0, 2 * Math.PI), this.fillState_ && s.fill(), this.strokeState_ && s.stroke() } "" !== this.text_ && this.drawText_(t.getCenter(), 0, 2, 2) } } setStyle(t) { this.setFillStrokeStyle(t.getFill(), t.getStroke()), this.setImageStyle(t.getImage()), this.setTextStyle(t.getText()) } setTransform(t) { this.transform_ = t } drawGeometry(t) { switch (t.getType()) { case "Point": this.drawPoint(t); break; case "LineString": this.drawLineString(t); break; case "Polygon": this.drawPolygon(t); break; case "MultiPoint": this.drawMultiPoint(t); break; case "MultiLineString": this.drawMultiLineString(t); break; case "MultiPolygon": this.drawMultiPolygon(t); break; case "GeometryCollection": this.drawGeometryCollection(t); break; case "Circle": this.drawCircle(t) } } drawFeature(t, e) { const i = e.getGeometryFunction()(t); i && we(this.extent_, i.getExtent()) && (this.setStyle(e), this.drawGeometry(i)) } drawGeometryCollection(t) { const e = t.getGeometriesArray(); for (let t = 0, i = e.length; t < i; ++t)this.drawGeometry(e[t]) } drawPoint(t) { this.squaredTolerance_ && (t = t.simplifyTransformed(this.squaredTolerance_, this.userTransform_)); const e = t.getFlatCoordinates(), i = t.getStride(); this.image_ && this.drawImages_(e, 0, e.length, i), "" !== this.text_ && this.drawText_(e, 0, e.length, i) } drawMultiPoint(t) { this.squaredTolerance_ && (t = t.simplifyTransformed(this.squaredTolerance_, this.userTransform_)); const e = t.getFlatCoordinates(), i = t.getStride(); this.image_ && this.drawImages_(e, 0, e.length, i), "" !== this.text_ && this.drawText_(e, 0, e.length, i) } drawLineString(t) { if (this.squaredTolerance_ && (t = t.simplifyTransformed(this.squaredTolerance_, this.userTransform_)), we(this.extent_, t.getExtent())) { if (this.strokeState_) { this.setContextStrokeState_(this.strokeState_); const e = this.context_, i = t.getFlatCoordinates(); e.beginPath(), this.moveToLineTo_(i, 0, i.length, t.getStride(), !1), e.stroke() } if ("" !== this.text_) { const e = t.getFlatMidpoint(); this.drawText_(e, 0, 2, 2) } } } drawMultiLineString(t) { this.squaredTolerance_ && (t = t.simplifyTransformed(this.squaredTolerance_, this.userTransform_)); const e = t.getExtent(); if (we(this.extent_, e)) { if (this.strokeState_) { this.setContextStrokeState_(this.strokeState_); const e = this.context_, i = t.getFlatCoordinates(); let n = 0; const r = t.getEnds(), s = t.getStride(); e.beginPath(); for (let t = 0, e = r.length; t < e; ++t)n = this.moveToLineTo_(i, n, r[t], s, !1); e.stroke() } if ("" !== this.text_) { const e = t.getFlatMidpoints(); this.drawText_(e, 0, e.length, 2) } } } drawPolygon(t) { if (this.squaredTolerance_ && (t = t.simplifyTransformed(this.squaredTolerance_, this.userTransform_)), we(this.extent_, t.getExtent())) { if (this.strokeState_ || this.fillState_) { this.fillState_ && this.setContextFillState_(this.fillState_), this.strokeState_ && this.setContextStrokeState_(this.strokeState_); const e = this.context_; e.beginPath(), this.drawRings_(t.getOrientedFlatCoordinates(), 0, t.getEnds(), t.getStride()), this.fillState_ && e.fill(), this.strokeState_ && e.stroke() } if ("" !== this.text_) { const e = t.getFlatInteriorPoint(); this.drawText_(e, 0, 2, 2) } } } drawMultiPolygon(t) { if (this.squaredTolerance_ && (t = t.simplifyTransformed(this.squaredTolerance_, this.userTransform_)), we(this.extent_, t.getExtent())) { if (this.strokeState_ || this.fillState_) { this.fillState_ && this.setContextFillState_(this.fillState_), this.strokeState_ && this.setContextStrokeState_(this.strokeState_); const e = this.context_, i = t.getOrientedFlatCoordinates(); let n = 0; const r = t.getEndss(), s = t.getStride(); e.beginPath(); for (let t = 0, e = r.length; t < e; ++t) { const e = r[t]; n = this.drawRings_(i, n, e, s) } this.fillState_ && e.fill(), this.strokeState_ && e.stroke() } if ("" !== this.text_) { const e = t.getFlatInteriorPoints(); this.drawText_(e, 0, e.length, 2) } } } setContextFillState_(t) { const e = this.context_, i = this.contextFillState_; i ? i.fillStyle != t.fillStyle && (i.fillStyle = t.fillStyle, e.fillStyle = t.fillStyle) : (e.fillStyle = t.fillStyle, this.contextFillState_ = { fillStyle: t.fillStyle }) } setContextStrokeState_(t) { const e = this.context_, i = this.contextStrokeState_; i ? (i.lineCap != t.lineCap && (i.lineCap = t.lineCap, e.lineCap = t.lineCap), u(i.lineDash, t.lineDash) || e.setLineDash(i.lineDash = t.lineDash), i.lineDashOffset != t.lineDashOffset && (i.lineDashOffset = t.lineDashOffset, e.lineDashOffset = t.lineDashOffset), i.lineJoin != t.lineJoin && (i.lineJoin = t.lineJoin, e.lineJoin = t.lineJoin), i.lineWidth != t.lineWidth && (i.lineWidth = t.lineWidth, e.lineWidth = t.lineWidth), i.miterLimit != t.miterLimit && (i.miterLimit = t.miterLimit, e.miterLimit = t.miterLimit), i.strokeStyle != t.strokeStyle && (i.strokeStyle = t.strokeStyle, e.strokeStyle = t.strokeStyle)) : (e.lineCap = t.lineCap, e.setLineDash(t.lineDash), e.lineDashOffset = t.lineDashOffset, e.lineJoin = t.lineJoin, e.lineWidth = t.lineWidth, e.miterLimit = t.miterLimit, e.strokeStyle = t.strokeStyle, this.contextStrokeState_ = { lineCap: t.lineCap, lineDash: t.lineDash, lineDashOffset: t.lineDashOffset, lineJoin: t.lineJoin, lineWidth: t.lineWidth, miterLimit: t.miterLimit, strokeStyle: t.strokeStyle }) } setContextTextState_(t) { const e = this.context_, i = this.contextTextState_, n = t.textAlign ? t.textAlign : Us; i ? (i.font != t.font && (i.font = t.font, e.font = t.font), i.textAlign != n && (i.textAlign = n, e.textAlign = n), i.textBaseline != t.textBaseline && (i.textBaseline = t.textBaseline, e.textBaseline = t.textBaseline)) : (e.font = t.font, e.textAlign = n, e.textBaseline = t.textBaseline, this.contextTextState_ = { font: t.font, textAlign: n, textBaseline: t.textBaseline }) } setFillStrokeStyle(t, e) { if (t) { const e = t.getColor(); this.fillState_ = { fillStyle: fl(e || Ns) } } else this.fillState_ = null; if (e) { const t = e.getColor(), i = e.getLineCap(), n = e.getLineDash(), r = e.getLineDashOffset(), s = e.getLineJoin(), o = e.getWidth(), a = e.getMiterLimit(), l = n || ks; this.strokeState_ = { lineCap: void 0 !== i ? i : Ds, lineDash: 1 === this.pixelRatio_ ? l : l.map((t => t * this.pixelRatio_)), lineDashOffset: (r || 0) * this.pixelRatio_, lineJoin: void 0 !== s ? s : Gs, lineWidth: (void 0 !== o ? o : 1) * this.pixelRatio_, miterLimit: void 0 !== a ? a : js, strokeStyle: fl(t || Bs) } } else this.strokeState_ = null } setImageStyle(t) { let e; if (!t || !(e = t.getSize())) return void (this.image_ = null); const i = t.getPixelRatio(this.pixelRatio_), n = t.getAnchor(), r = t.getOrigin(); this.image_ = t.getImage(this.pixelRatio_), this.imageAnchorX_ = n[0] * i, this.imageAnchorY_ = n[1] * i, this.imageHeight_ = e[1] * i, this.imageOpacity_ = t.getOpacity(), this.imageOriginX_ = r[0], this.imageOriginY_ = r[1], this.imageRotateWithView_ = t.getRotateWithView(), this.imageRotation_ = t.getRotation(); const s = t.getScaleArray(); this.imageScale_ = [s[0] * this.pixelRatio_ / i, s[1] * this.pixelRatio_ / i], this.imageWidth_ = e[0] * i } setTextStyle(t) { if (t) { const e = t.getFill(); if (e) { const t = e.getColor(); this.textFillState_ = { fillStyle: fl(t || Ns) } } else this.textFillState_ = null; const i = t.getStroke(); if (i) { const t = i.getColor(), e = i.getLineCap(), n = i.getLineDash(), r = i.getLineDashOffset(), s = i.getLineJoin(), o = i.getWidth(), a = i.getMiterLimit(); this.textStrokeState_ = { lineCap: void 0 !== e ? e : Ds, lineDash: n || ks, lineDashOffset: r || 0, lineJoin: void 0 !== s ? s : Gs, lineWidth: void 0 !== o ? o : 1, miterLimit: void 0 !== a ? a : js, strokeStyle: fl(t || Bs) } } else this.textStrokeState_ = null; const n = t.getFont(), r = t.getOffsetX(), s = t.getOffsetY(), o = t.getRotateWithView(), a = t.getRotation(), l = t.getScaleArray(), h = t.getText(), c = t.getTextAlign(), u = t.getTextBaseline(); this.textState_ = { font: void 0 !== n ? n : Os, textAlign: void 0 !== c ? c : Us, textBaseline: void 0 !== u ? u : zs }, this.text_ = void 0 !== h ? Array.isArray(h) ? h.reduce(((t, e, i) => t + (i % 2 ? " " : e)), "") : h : "", this.textOffsetX_ = void 0 !== r ? this.pixelRatio_ * r : 0, this.textOffsetY_ = void 0 !== s ? this.pixelRatio_ * s : 0, this.textRotateWithView_ = void 0 !== o && o, this.textRotation_ = void 0 !== a ? a : 0, this.textScale_ = [this.pixelRatio_ * l[0], this.pixelRatio_ * l[1]] } else this.text_ = "" } } const Rl = { Point: function (t, e, i, n, r) { const s = i.getImage(), o = i.getText(); let a; if (s) { if (s.getImageState() != Lr) return; let l = t; if (r) { const h = s.getDeclutterMode(); if ("none" !== h) if (l = r, "obstacle" === h) { const r = t.getBuilder(i.getZIndex(), "Image"); r.setImageStyle(s, a), r.drawPoint(e, n) } else o && o.getText() && (a = {}) } const h = l.getBuilder(i.getZIndex(), "Image"); h.setImageStyle(s, a), h.drawPoint(e, n) } if (o && o.getText()) { let s = t; r && (s = r); const l = s.getBuilder(i.getZIndex(), "Text"); l.setTextStyle(o, a), l.drawText(e, n) } }, LineString: function (t, e, i, n, r) { const s = i.getStroke(); if (s) { const r = t.getBuilder(i.getZIndex(), "LineString"); r.setFillStrokeStyle(null, s), r.drawLineString(e, n) } const o = i.getText(); if (o && o.getText()) { const s = (r || t).getBuilder(i.getZIndex(), "Text"); s.setTextStyle(o), s.drawText(e, n) } }, Polygon: function (t, e, i, n, r) { const s = i.getFill(), o = i.getStroke(); if (s || o) { const r = t.getBuilder(i.getZIndex(), "Polygon"); r.setFillStrokeStyle(s, o), r.drawPolygon(e, n) } const a = i.getText(); if (a && a.getText()) { const s = (r || t).getBuilder(i.getZIndex(), "Text"); s.setTextStyle(a), s.drawText(e, n) } }, MultiPoint: function (t, e, i, n, r) { const s = i.getImage(), o = i.getText(); let a; if (s) { if (s.getImageState() != Lr) return; let l = t; if (r) { const h = s.getDeclutterMode(); if ("none" !== h) if (l = r, "obstacle" === h) { const r = t.getBuilder(i.getZIndex(), "Image"); r.setImageStyle(s, a), r.drawMultiPoint(e, n) } else o && o.getText() && (a = {}) } const h = l.getBuilder(i.getZIndex(), "Image"); h.setImageStyle(s, a), h.drawMultiPoint(e, n) } if (o && o.getText()) { let s = t; r && (s = r); const l = s.getBuilder(i.getZIndex(), "Text"); l.setTextStyle(o, a), l.drawText(e, n) } }, MultiLineString: function (t, e, i, n, r) { const s = i.getStroke(); if (s) { const r = t.getBuilder(i.getZIndex(), "LineString"); r.setFillStrokeStyle(null, s), r.drawMultiLineString(e, n) } const o = i.getText(); if (o && o.getText()) { const s = (r || t).getBuilder(i.getZIndex(), "Text"); s.setTextStyle(o), s.drawText(e, n) } }, MultiPolygon: function (t, e, i, n, r) { const s = i.getFill(), o = i.getStroke(); if (o || s) { const r = t.getBuilder(i.getZIndex(), "Polygon"); r.setFillStrokeStyle(s, o), r.drawMultiPolygon(e, n) } const a = i.getText(); if (a && a.getText()) { const s = (r || t).getBuilder(i.getZIndex(), "Text"); s.setTextStyle(a), s.drawText(e, n) } }, GeometryCollection: function (t, e, i, n, r) { const s = e.getGeometriesArray(); let o, a; for (o = 0, a = s.length; o < a; ++o) { (0, Rl[s[o].getType()])(t, s[o], i, n, r) } }, Circle: function (t, e, i, n, r) { const s = i.getFill(), o = i.getStroke(); if (s || o) { const r = t.getBuilder(i.getZIndex(), "Circle"); r.setFillStrokeStyle(s, o), r.drawCircle(e, n) } const a = i.getText(); if (a && a.getText()) { const s = (r || t).getBuilder(i.getZIndex(), "Text"); s.setTextStyle(a), s.drawText(e, n) } } }; function Pl(t, e) { return parseInt(z(t), 10) - parseInt(z(e), 10) } function Il(t, e) { const i = Ll(t, e); return i * i } function Ll(t, e) { return .5 * t / e } function Ml(t, e, i, n, r, s, o) { let a = !1; const l = i.getImage(); if (l) { const t = l.getImageState(); t == Lr || t == Mr ? l.unlistenImageChange(r) : (t == Pr && l.load(), l.listenImageChange(r), a = !0) } return function (t, e, i, n, r, s) { const o = i.getGeometryFunction()(e); if (!o) return; const a = o.simplifyTransformed(n, r); if (i.getRenderer()) Fl(t, a, i, e); else { (0, Rl[a.getType()])(t, a, i, e, s) } }(t, e, i, n, s, o), a } function Fl(t, e, i, n) { if ("GeometryCollection" == e.getType()) { const r = e.getGeometries(); for (let e = 0, s = r.length; e < s; ++e)Fl(t, r[e], i, n); return } t.getBuilder(i.getZIndex(), "Default").drawCustom(e, n, i.getRenderer(), i.getHitDetectionRenderer()) } function Al(t) { if (!(t.context instanceof CanvasRenderingContext2D)) throw new Error("Only works for render events from Canvas 2D layers"); const e = t.inversePixelTransform[0], i = t.frameState, n = Et(t.inversePixelTransform.slice(), i.coordinateToPixelTransform), r = Il(i.viewState.resolution, e); let s; const o = en(); return o && (s = qi(o, i.viewState.projection)), new bl(t.context, e, i.extent, n, i.viewState.rotation, r, s) } let Ol; const Nl = []; function Dl(t, e, i, n, r) { t.beginPath(), t.moveTo(0, 0), t.lineTo(e, i), t.lineTo(n, r), t.closePath(), t.save(), t.clip(), t.fillRect(0, 0, Math.max(e, n) + 1, Math.max(i, r)), t.restore() } function kl(t, e) { return Math.abs(t[4 * e] - 210) > 2 || Math.abs(t[4 * e + 3] - 191.25) > 2 } function Gl(t, e, i, n) { const r = $i(i, e, t); let s = zi(e, n, i); const o = e.getMetersPerUnit(); void 0 !== o && (s *= o); const a = t.getMetersPerUnit(); void 0 !== a && (s /= a); const l = t.getExtent(); if (!l || Zt(l, r)) { const e = zi(t, s, r) / s; isFinite(e) && e > 0 && (s /= e) } return s } function jl(t, e, i, n) { const r = ge(i); let s = Gl(t, e, r, n); return (!isFinite(s) || s <= 0) && he(i, (function (i) { return s = Gl(t, e, i, n), isFinite(s) && s > 0 })), s } function Bl(t, e, i, n, r, s, o, a, l, h, c, u) { const d = Dr(Math.round(i * t), Math.round(i * e), Nl); if (u || (d.imageSmoothingEnabled = !1), 0 === l.length) return d.canvas; function g(t) { return Math.round(t * i) / i } d.scale(i, i), d.globalCompositeOperation = "lighter"; const f = [1 / 0, 1 / 0, -1 / 0, -1 / 0]; l.forEach((function (t, e, i) { ne(f, t.extent) })); const p = Se(f), m = _e(f), _ = Dr(Math.round(i * p / n), Math.round(i * m / n)); u || (_.imageSmoothingEnabled = !1); const y = i / n; l.forEach((function (t, e, i) { const n = t.extent[0] - f[0], r = -(t.extent[3] - f[3]), s = Se(t.extent), o = _e(t.extent); t.image.width > 0 && t.image.height > 0 && _.drawImage(t.image, h, h, t.image.width - 2 * h, t.image.height - 2 * h, n * y, r * y, s * y, o * y) })); const x = xe(o); return a.getTriangles().forEach((function (t, e, r) { const o = t.source, a = t.target; let l = o[0][0], h = o[0][1], c = o[1][0], p = o[1][1], m = o[2][0], y = o[2][1]; const v = g((a[0][0] - x[0]) / s), S = g(-(a[0][1] - x[1]) / s), w = g((a[1][0] - x[0]) / s), E = g(-(a[1][1] - x[1]) / s), T = g((a[2][0] - x[0]) / s), C = g(-(a[2][1] - x[1]) / s), b = l, R = h; l = 0, h = 0, c -= b, p -= R, m -= b, y -= R; const P = si([[c, p, 0, 0, w - v], [m, y, 0, 0, T - v], [0, 0, c, p, E - S], [0, 0, m, y, C - S]]); if (P) { if (d.save(), d.beginPath(), function () { if (void 0 === Ol) { const t = document.createElement("canvas").getContext("2d"); t.globalCompositeOperation = "lighter", t.fillStyle = "rgba(210, 0, 0, 0.75)", Dl(t, 4, 5, 4, 0), Dl(t, 4, 5, 0, 5); const e = t.getImageData(0, 0, 3, 3).data; Ol = kl(e, 0) || kl(e, 4) || kl(e, 8) } return Ol }() || !u) { d.moveTo(w, E); const t = 4, e = v - w, i = S - E; for (let n = 0; n < t; n++)d.lineTo(w + g((n + 1) * e / t), E + g(n * i / (t - 1))), n != t - 1 && d.lineTo(w + g((n + 1) * e / t), E + g((n + 1) * i / (t - 1))); d.lineTo(T, C) } else d.moveTo(w, E), d.lineTo(v, S), d.lineTo(T, C); d.clip(), d.transform(P[0], P[2], P[1], P[3], v, S), d.translate(f[0] - b, f[3] - R), d.scale(n / i, -n / i), d.drawImage(_.canvas, 0, 0), d.restore() } })), c && (d.save(), d.globalCompositeOperation = "source-over", d.strokeStyle = "black", d.lineWidth = 1, a.getTriangles().forEach((function (t, e, i) { const n = t.target, r = (n[0][0] - x[0]) / s, o = -(n[0][1] - x[1]) / s, a = (n[1][0] - x[0]) / s, l = -(n[1][1] - x[1]) / s, h = (n[2][0] - x[0]) / s, c = -(n[2][1] - x[1]) / s; d.beginPath(), d.moveTo(a, l), d.lineTo(r, o), d.lineTo(h, c), d.closePath(), d.stroke() })), d.restore()), d.canvas } class Ul { constructor(t, e, i, n, r, s) { this.sourceProj_ = t, this.targetProj_ = e; let o = {}; const a = Hi(this.targetProj_, this.sourceProj_); this.transformInv_ = function (t) { const e = t[0] + "/" + t[1]; return o[e] || (o[e] = a(t)), o[e] }, this.maxSourceExtent_ = n, this.errorThresholdSquared_ = r * r, this.triangles_ = [], this.wrapsXInSource_ = !1, this.canWrapXInSource_ = this.sourceProj_.canWrapX() && !!n && !!this.sourceProj_.getExtent() && Se(n) == Se(this.sourceProj_.getExtent()), this.sourceWorldWidth_ = this.sourceProj_.getExtent() ? Se(this.sourceProj_.getExtent()) : null, this.targetWorldWidth_ = this.targetProj_.getExtent() ? Se(this.targetProj_.getExtent()) : null; const l = xe(i), h = ve(i), c = de(i), u = ue(i), d = this.transformInv_(l), g = this.transformInv_(h), f = this.transformInv_(c), p = this.transformInv_(u), m = 10 + (s ? Math.max(0, Math.ceil(Math.log2(ce(i) / (s * s * 256 * 256)))) : 0); if (this.addQuad_(l, h, c, u, d, g, f, p, m), this.wrapsXInSource_) { let t = 1 / 0; this.triangles_.forEach((function (e, i, n) { t = Math.min(t, e.source[0][0], e.source[1][0], e.source[2][0]) })), this.triangles_.forEach(function (e) { if (Math.max(e.source[0][0], e.source[1][0], e.source[2][0]) - t > this.sourceWorldWidth_ / 2) { const i = [[e.source[0][0], e.source[0][1]], [e.source[1][0], e.source[1][1]], [e.source[2][0], e.source[2][1]]]; i[0][0] - t > this.sourceWorldWidth_ / 2 && (i[0][0] -= this.sourceWorldWidth_), i[1][0] - t > this.sourceWorldWidth_ / 2 && (i[1][0] -= this.sourceWorldWidth_), i[2][0] - t > this.sourceWorldWidth_ / 2 && (i[2][0] -= this.sourceWorldWidth_); const n = Math.min(i[0][0], i[1][0], i[2][0]); Math.max(i[0][0], i[1][0], i[2][0]) - n < this.sourceWorldWidth_ / 2 && (e.source = i) } }.bind(this)) } o = {} } addTriangle_(t, e, i, n, r, s) { this.triangles_.push({ source: [n, r, s], target: [t, e, i] }) } addQuad_(t, e, i, n, r, s, o, a, l) { const h = zt([r, s, o, a]), c = this.sourceWorldWidth_ ? Se(h) / this.sourceWorldWidth_ : null, u = this.sourceWorldWidth_, d = this.sourceProj_.canWrapX() && c > .5 && c < 1; let g = !1; if (l > 0) { if (this.targetProj_.isGlobal() && this.targetWorldWidth_) { g = Se(zt([t, e, i, n])) / this.targetWorldWidth_ > .25 || g } !d && this.sourceProj_.isGlobal() && c && (g = c > .25 || g) } if (!g && this.maxSourceExtent_ && isFinite(h[0]) && isFinite(h[1]) && isFinite(h[2]) && isFinite(h[3]) && !we(h, this.maxSourceExtent_)) return; let f = 0; if (!(g || isFinite(r[0]) && isFinite(r[1]) && isFinite(s[0]) && isFinite(s[1]) && isFinite(o[0]) && isFinite(o[1]) && isFinite(a[0]) && isFinite(a[1]))) if (l > 0) g = !0; else if (f = (isFinite(r[0]) && isFinite(r[1]) ? 0 : 8) + (isFinite(s[0]) && isFinite(s[1]) ? 0 : 4) + (isFinite(o[0]) && isFinite(o[1]) ? 0 : 2) + (isFinite(a[0]) && isFinite(a[1]) ? 0 : 1), 1 != f && 2 != f && 4 != f && 8 != f) return; if (l > 0) { if (!g) { const e = [(t[0] + i[0]) / 2, (t[1] + i[1]) / 2], n = this.transformInv_(e); let s; if (d) { s = (li(r[0], u) + li(o[0], u)) / 2 - li(n[0], u) } else s = (r[0] + o[0]) / 2 - n[0]; const a = (r[1] + o[1]) / 2 - n[1]; g = s * s + a * a > this.errorThresholdSquared_ } if (g) { if (Math.abs(t[0] - i[0]) <= Math.abs(t[1] - i[1])) { const h = [(e[0] + i[0]) / 2, (e[1] + i[1]) / 2], c = this.transformInv_(h), u = [(n[0] + t[0]) / 2, (n[1] + t[1]) / 2], d = this.transformInv_(u); this.addQuad_(t, e, h, u, r, s, c, d, l - 1), this.addQuad_(u, h, i, n, d, c, o, a, l - 1) } else { const h = [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2], c = this.transformInv_(h), u = [(i[0] + n[0]) / 2, (i[1] + n[1]) / 2], d = this.transformInv_(u); this.addQuad_(t, h, u, n, r, c, d, a, l - 1), this.addQuad_(h, e, i, u, c, s, o, d, l - 1) } return } } if (d) { if (!this.canWrapXInSource_) return; this.wrapsXInSource_ = !0 } 0 == (11 & f) && this.addTriangle_(t, i, n, r, o, a), 0 == (14 & f) && this.addTriangle_(t, i, e, r, o, s), f && (0 == (13 & f) && this.addTriangle_(e, n, t, s, a, r), 0 == (7 & f) && this.addTriangle_(e, n, i, s, a, o)) } calculateSourceExtent() { const t = [1 / 0, 1 / 0, -1 / 0, -1 / 0]; return this.triangles_.forEach((function (e, i, n) { const r = e.source; re(t, r[0]), re(t, r[1]), re(t, r[2]) })), t } getTriangles() { return this.triangles_ } } class zl extends st { constructor(t, e, i, n, r, s, o, a, l, h, c, u) { super(r, H, { interpolate: !!u }), this.renderEdges_ = void 0 !== c && c, this.pixelRatio_ = o, this.gutter_ = a, this.canvas_ = null, this.sourceTileGrid_ = e, this.targetTileGrid_ = n, this.wrappedTileCoord_ = s || r, this.sourceTiles_ = [], this.sourcesListenerKeys_ = null, this.sourceZ_ = 0; const d = n.getTileCoordExtent(this.wrappedTileCoord_), g = this.targetTileGrid_.getExtent(); let f = this.sourceTileGrid_.getExtent(); const p = g ? ye(d, g) : d; if (0 === ce(p)) return void (this.state = tt); const m = t.getExtent(); m && (f = f ? ye(f, m) : m); const _ = n.getResolution(this.wrappedTileCoord_[0]), y = jl(t, i, p, _); if (!isFinite(y) || y <= 0) return void (this.state = tt); const x = void 0 !== h ? h : .5; if (this.triangulation_ = new Ul(t, i, p, f, y * x, _), 0 === this.triangulation_.getTriangles().length) return void (this.state = tt); this.sourceZ_ = e.getZForResolution(y); let v = this.triangulation_.calculateSourceExtent(); if (f && (t.canWrapX() ? (v[1] = ii(v[1], f[1], f[3]), v[3] = ii(v[3], f[1], f[3])) : v = ye(v, f)), ce(v)) { const t = e.getTileRangeForExtentAndZ(v, this.sourceZ_); for (let e = t.minX; e <= t.maxX; e++)for (let i = t.minY; i <= t.maxY; i++) { const t = l(this.sourceZ_, e, i, o); t && this.sourceTiles_.push(t) } 0 === this.sourceTiles_.length && (this.state = tt) } else this.state = tt } getImage() { return this.canvas_ } reproject_() { const t = []; if (this.sourceTiles_.forEach(function (e, i, n) { e && e.getState() == J && t.push({ extent: this.sourceTileGrid_.getTileCoordExtent(e.tileCoord), image: e.getImage() }) }.bind(this)), this.sourceTiles_.length = 0, 0 === t.length) this.state = Q; else { const e = this.wrappedTileCoord_[0], i = this.targetTileGrid_.getTileSize(e), n = "number" == typeof i ? i : i[0], r = "number" == typeof i ? i : i[1], s = this.targetTileGrid_.getResolution(e), o = this.sourceTileGrid_.getResolution(this.sourceZ_), a = this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_); this.canvas_ = Bl(n, r, this.pixelRatio_, o, this.sourceTileGrid_.getExtent(), s, a, this.triangulation_, t, this.gutter_, this.renderEdges_, this.interpolate), this.state = J } this.changed() } load() { if (this.state == H) { this.state = $, this.changed(); let t = 0; this.sourcesListenerKeys_ = [], this.sourceTiles_.forEach(function (e, i, n) { const r = e.getState(); if (r == H || r == $) { t++; const i = N(e, S, (function (n) { const r = e.getState(); r != J && r != Q && r != tt || (k(i), t--, 0 === t && (this.unlistenSources_(), this.reproject_())) }), this); this.sourcesListenerKeys_.push(i) } }.bind(this)), 0 === t ? setTimeout(this.reproject_.bind(this), 0) : this.sourceTiles_.forEach((function (t, e, i) { t.getState() == H && t.load() })) } } unlistenSources_() { this.sourcesListenerKeys_.forEach(k), this.sourcesListenerKeys_ = null } release() { this.canvas_ && (kr(this.canvas_.getContext("2d")), Nl.push(this.canvas_), this.canvas_ = null), super.release() } } var Xl = "tileloadstart", Vl = "tileloadend", Wl = "tileloaderror"; class Zl extends V { constructor(t) { super(), this.projection = Ui(t.projection), this.attributions_ = Yl(t.attributions), this.attributionsCollapsible_ = void 0 === t.attributionsCollapsible || t.attributionsCollapsible, this.loading = !1, this.state_ = void 0 !== t.state ? t.state : "ready", this.wrapX_ = void 0 !== t.wrapX && t.wrapX, this.interpolate_ = !!t.interpolate, this.viewResolver = null, this.viewRejector = null; const e = this; this.viewPromise_ = new Promise((function (t, i) { e.viewResolver = t, e.viewRejector = i })) } getAttributions() { return this.attributions_ } getAttributionsCollapsible() { return this.attributionsCollapsible_ } getProjection() { return this.projection } getResolutions() { return B() } getView() { return this.viewPromise_ } getState() { return this.state_ } getWrapX() { return this.wrapX_ } getInterpolate() { return this.interpolate_ } refresh() { this.changed() } setAttributions(t) { this.attributions_ = Yl(t), this.changed() } setState(t) { this.state_ = t, this.changed() } } function Yl(t) { return t ? Array.isArray(t) ? function (e) { return t } : "function" == typeof t ? t : function (e) { return [t] } : null } const Kl = [0, 0, 0]; class ql { constructor(t) { let e; if (this.minZoom = void 0 !== t.minZoom ? t.minZoom : 0, this.resolutions_ = t.resolutions, at(d(this.resolutions_, (function (t, e) { return e - t }), !0), 17), !t.origins) for (let t = 0, i = this.resolutions_.length - 1; t < i; ++t)if (e) { if (this.resolutions_[t] / this.resolutions_[t + 1] !== e) { e = void 0; break } } else e = this.resolutions_[t] / this.resolutions_[t + 1]; this.zoomFactor_ = e, this.maxZoom = this.resolutions_.length - 1, this.origin_ = void 0 !== t.origin ? t.origin : null, this.origins_ = null, void 0 !== t.origins && (this.origins_ = t.origins, at(this.origins_.length == this.resolutions_.length, 20)); const i = t.extent; void 0 === i || this.origin_ || this.origins_ || (this.origin_ = xe(i)), at(!this.origin_ && this.origins_ || this.origin_ && !this.origins_, 18), this.tileSizes_ = null, void 0 !== t.tileSizes && (this.tileSizes_ = t.tileSizes, at(this.tileSizes_.length == this.resolutions_.length, 19)), this.tileSize_ = void 0 !== t.tileSize ? t.tileSize : this.tileSizes_ ? null : Lo, at(!this.tileSize_ && this.tileSizes_ || this.tileSize_ && !this.tileSizes_, 22), this.extent_ = void 0 !== i ? i : null, this.fullTileRanges_ = null, this.tmpSize_ = [0, 0], this.tmpExtent_ = [0, 0, 0, 0], void 0 !== t.sizes ? this.fullTileRanges_ = t.sizes.map((function (t, e) { const n = new hl(Math.min(0, t[0]), Math.max(t[0] - 1, -1), Math.min(0, t[1]), Math.max(t[1] - 1, -1)); if (i) { const t = this.getTileRangeForExtentAndZ(i, e); n.minX = Math.max(t.minX, n.minX), n.maxX = Math.min(t.maxX, n.maxX), n.minY = Math.max(t.minY, n.minY), n.maxY = Math.min(t.maxY, n.maxY) } return n }), this) : i && this.calculateTileRanges_(i) } forEachTileCoord(t, e, i) { const n = this.getTileRangeForExtentAndZ(t, e); for (let t = n.minX, r = n.maxX; t <= r; ++t)for (let r = n.minY, s = n.maxY; r <= s; ++r)i([e, t, r]) } forEachTileCoordParentTileRange(t, e, i, n) { let r, s, o, a = null, l = t[0] - 1; for (2 === this.zoomFactor_ ? (s = t[1], o = t[2]) : a = this.getTileCoordExtent(t, n); l >= this.minZoom;) { if (2 === this.zoomFactor_ ? (s = Math.floor(s / 2), o = Math.floor(o / 2), r = cl(s, s, o, o, i)) : r = this.getTileRangeForExtentAndZ(a, l, i), e(l, r)) return !0; --l } return !1 } getExtent() { return this.extent_ } getMaxZoom() { return this.maxZoom } getMinZoom() { return this.minZoom } getOrigin(t) { return this.origin_ ? this.origin_ : this.origins_[t] } getResolution(t) { return this.resolutions_[t] } getResolutions() { return this.resolutions_ } getTileCoordChildTileRange(t, e, i) { if (t[0] < this.maxZoom) { if (2 === this.zoomFactor_) { const i = 2 * t[1], n = 2 * t[2]; return cl(i, i + 1, n, n + 1, e) } const n = this.getTileCoordExtent(t, i || this.tmpExtent_); return this.getTileRangeForExtentAndZ(n, t[0] + 1, e) } return null } getTileRangeForTileCoordAndZ(t, e, i) { if (e > this.maxZoom || e < this.minZoom) return null; const n = t[0], r = t[1], s = t[2]; if (e === n) return cl(r, s, r, s, i); if (this.zoomFactor_) { const t = Math.pow(this.zoomFactor_, e - n), o = Math.floor(r * t), a = Math.floor(s * t); if (e < n) return cl(o, o, a, a, i); return cl(o, Math.floor(t * (r + 1)) - 1, a, Math.floor(t * (s + 1)) - 1, i) } const o = this.getTileCoordExtent(t, this.tmpExtent_); return this.getTileRangeForExtentAndZ(o, e, i) } getTileRangeExtent(t, e, i) { const n = this.getOrigin(t), r = this.getResolution(t), s = Va(this.getTileSize(t), this.tmpSize_), o = n[0] + e.minX * s[0] * r, a = n[0] + (e.maxX + 1) * s[0] * r; return $t(o, n[1] + e.minY * s[1] * r, a, n[1] + (e.maxY + 1) * s[1] * r, i) } getTileRangeForExtentAndZ(t, e, i) { const n = Kl; this.getTileCoordForXYAndZ_(t[0], t[3], e, !1, n); const r = n[1], s = n[2]; return this.getTileCoordForXYAndZ_(t[2], t[1], e, !0, n), cl(r, n[1], s, n[2], i) } getTileCoordCenter(t) { const e = this.getOrigin(t[0]), i = this.getResolution(t[0]), n = Va(this.getTileSize(t[0]), this.tmpSize_); return [e[0] + (t[1] + .5) * n[0] * i, e[1] - (t[2] + .5) * n[1] * i] } getTileCoordExtent(t, e) { const i = this.getOrigin(t[0]), n = this.getResolution(t[0]), r = Va(this.getTileSize(t[0]), this.tmpSize_), s = i[0] + t[1] * r[0] * n, o = i[1] - (t[2] + 1) * r[1] * n; return $t(s, o, s + r[0] * n, o + r[1] * n, e) } getTileCoordForCoordAndResolution(t, e, i) { return this.getTileCoordForXYAndResolution_(t[0], t[1], e, !1, i) } getTileCoordForXYAndResolution_(t, e, i, n, r) { const s = this.getZForResolution(i), o = i / this.getResolution(s), a = this.getOrigin(s), l = Va(this.getTileSize(s), this.tmpSize_); let h = o * (t - a[0]) / i / l[0], c = o * (a[1] - e) / i / l[1]; return n ? (h = gi(h, 5) - 1, c = gi(c, 5) - 1) : (h = di(h, 5), c = di(c, 5)), el(s, h, c, r) } getTileCoordForXYAndZ_(t, e, i, n, r) { const s = this.getOrigin(i), o = this.getResolution(i), a = Va(this.getTileSize(i), this.tmpSize_); let l = (t - s[0]) / o / a[0], h = (s[1] - e) / o / a[1]; return n ? (l = gi(l, 5) - 1, h = gi(h, 5) - 1) : (l = di(l, 5), h = di(h, 5)), el(i, l, h, r) } getTileCoordForCoordAndZ(t, e, i) { return this.getTileCoordForXYAndZ_(t[0], t[1], e, !1, i) } getTileCoordResolution(t) { return this.resolutions_[t[0]] } getTileSize(t) { return this.tileSize_ ? this.tileSize_ : this.tileSizes_[t] } getFullTileRange(t) { return this.fullTileRanges_ ? this.fullTileRanges_[t] : this.extent_ ? this.getTileRangeForExtentAndZ(this.extent_, t) : null } getZForResolution(t, e) { return ii(l(this.resolutions_, t, e || 0), this.minZoom, this.maxZoom) } tileCoordIntersectsViewport(t, e) { return er(e, 0, e.length, 2, this.getTileCoordExtent(t)) } calculateTileRanges_(t) { const e = this.resolutions_.length, i = new Array(e); for (let n = this.minZoom; n < e; ++n)i[n] = this.getTileRangeForExtentAndZ(t, n); this.fullTileRanges_ = i } } function Hl(t) { let e = t.getDefaultTileGrid(); return e || (e = eh(t), t.setDefaultTileGrid(e)), e } function $l(t, e, i) { const n = e[0], r = t.getTileCoordCenter(e), s = ih(i); if (Zt(s, r)) return e; { const e = Se(s), i = Math.ceil((s[0] - r[0]) / e); return r[0] += e * i, t.getTileCoordForCoordAndZ(r, n) } } function Jl(t, e, i, n) { n = void 0 !== n ? n : "top-left"; const r = th(t, e, i); return new ql({ extent: t, origin: fe(t, n), resolutions: r, tileSize: i }) } function Ql(t) { const e = t || {}, i = e.extent || Ui("EPSG:3857").getExtent(), n = { extent: i, minZoom: e.minZoom, tileSize: e.tileSize, resolutions: th(i, e.maxZoom, e.tileSize, e.maxResolution) }; return new ql(n) } function th(t, e, i, n) { e = void 0 !== e ? e : 42, i = Va(void 0 !== i ? i : Lo); const r = _e(t), s = Se(t); n = n > 0 ? n : Math.max(s / i[0], r / i[1]); const o = e + 1, a = new Array(o); for (let t = 0; t < o; ++t)a[t] = n / Math.pow(2, t); return a } function eh(t, e, i, n) { return Jl(ih(t), e, i, n) } function ih(t) { let e = (t = Ui(t)).getExtent(); if (!e) { const i = 180 * Fe.degrees / t.getMetersPerUnit(); e = $t(-i, -i, i, i) } return e } class nh extends Zl { constructor(t) { super({ attributions: t.attributions, attributionsCollapsible: t.attributionsCollapsible, projection: t.projection, state: t.state, wrapX: t.wrapX, interpolate: t.interpolate }), this.on, this.once, this.un, this.opaque_ = void 0 !== t.opaque && t.opaque, this.tilePixelRatio_ = void 0 !== t.tilePixelRatio ? t.tilePixelRatio : 1, this.tileGrid = void 0 !== t.tileGrid ? t.tileGrid : null; const e = [256, 256]; this.tileGrid && Va(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()), e), this.tileCache = new ll(t.cacheSize || 0), this.tmpSize = [0, 0], this.key_ = t.key || "", this.tileOptions = { transition: t.transition, interpolate: t.interpolate }, this.zDirection = t.zDirection ? t.zDirection : 0 } canExpireCache() { return this.tileCache.canExpireCache() } expireCache(t, e) { const i = this.getTileCacheForProjection(t); i && i.expireCache(e) } forEachLoadedTile(t, e, i, n) { const r = this.getTileCacheForProjection(t); if (!r) return !1; let s, o, a, l = !0; for (let t = i.minX; t <= i.maxX; ++t)for (let h = i.minY; h <= i.maxY; ++h)o = il(e, t, h), a = !1, r.containsKey(o) && (s = r.get(o), a = s.getState() === J, a && (a = !1 !== n(s))), a || (l = !1); return l } getGutterForProjection(t) { return 0 } getKey() { return this.key_ } setKey(t) { this.key_ !== t && (this.key_ = t, this.changed()) } getOpaque(t) { return this.opaque_ } getResolutions() { return this.tileGrid ? this.tileGrid.getResolutions() : null } getTile(t, e, i, n, r) { return B() } getTileGrid() { return this.tileGrid } getTileGridForProjection(t) { return this.tileGrid ? this.tileGrid : Hl(t) } getTileCacheForProjection(t) { const e = this.getProjection(); return at(null === e || Ki(e, t), 68), this.tileCache } getTilePixelRatio(t) { return this.tilePixelRatio_ } getTilePixelSize(t, e, i) { const n = this.getTileGridForProjection(i), r = this.getTilePixelRatio(e), s = Va(n.getTileSize(t), this.tmpSize); return 1 == r ? s : Xa(s, r, this.tmpSize) } getTileCoordForTileUrlFunction(t, e) { e = void 0 !== e ? e : this.getProjection(); const i = this.getTileGridForProjection(e); return this.getWrapX() && e.isGlobal() && (t = $l(i, t, e)), al(t, i) ? t : null } clear() { this.tileCache.clear() } refresh() { this.clear(), super.refresh() } updateCacheSize(t, e) { const i = this.getTileCacheForProjection(e); t > i.highWaterMark && (i.highWaterMark = t) } useTile(t, e, i, n) { } } class rh extends i { constructor(t, e) { super(t), this.tile = e } } function sh(t, e) { const i = /\{z\}/g, n = /\{x\}/g, r = /\{y\}/g, s = /\{-y\}/g; return function (o, a, l) { return o ? t.replace(i, o[0].toString()).replace(n, o[1].toString()).replace(r, o[2].toString()).replace(s, (function () { const t = o[0], i = e.getFullTileRange(t); at(i, 55); return (i.getHeight() - o[2] - 1).toString() })) : void 0 } } function oh(t, e) { const i = t.length, n = new Array(i); for (let r = 0; r < i; ++r)n[r] = sh(t[r], e); return ah(n) } function ah(t) { return 1 === t.length ? t[0] : function (e, i, n) { if (e) { const r = li(ol(e), t.length); return t[r](e, i, n) } } } function lh(t, e, i) { } function hh(t) { const e = []; let i = /\{([a-z])-([a-z])\}/.exec(t); if (i) { const n = i[1].charCodeAt(0), r = i[2].charCodeAt(0); let s; for (s = n; s <= r; ++s)e.push(t.replace(i[0], String.fromCharCode(s))); return e } if (i = /\{(\d+)-(\d+)\}/.exec(t), i) { const n = parseInt(i[2], 10); for (let r = parseInt(i[1], 10); r <= n; r++)e.push(t.replace(i[0], r.toString())); return e } return e.push(t), e } class ch extends nh { constructor(t) { super({ attributions: t.attributions, cacheSize: t.cacheSize, opaque: t.opaque, projection: t.projection, state: t.state, tileGrid: t.tileGrid, tilePixelRatio: t.tilePixelRatio, wrapX: t.wrapX, transition: t.transition, interpolate: t.interpolate, key: t.key, attributionsCollapsible: t.attributionsCollapsible, zDirection: t.zDirection }), this.generateTileUrlFunction_ = this.tileUrlFunction === ch.prototype.tileUrlFunction, this.tileLoadFunction = t.tileLoadFunction, t.tileUrlFunction && (this.tileUrlFunction = t.tileUrlFunction), this.urls = null, t.urls ? this.setUrls(t.urls) : t.url && this.setUrl(t.url), this.tileLoadingKeys_ = {} } getTileLoadFunction() { return this.tileLoadFunction } getTileUrlFunction() { return Object.getPrototypeOf(this).tileUrlFunction === this.tileUrlFunction ? this.tileUrlFunction.bind(this) : this.tileUrlFunction } getUrls() { return this.urls } handleTileChange(t) { const e = t.target, i = z(e), n = e.getState(); let r; n == $ ? (this.tileLoadingKeys_[i] = !0, r = Xl) : i in this.tileLoadingKeys_ && (delete this.tileLoadingKeys_[i], r = n == Q ? Wl : n == J ? Vl : void 0), null != r && this.dispatchEvent(new rh(r, e)) } setTileLoadFunction(t) { this.tileCache.clear(), this.tileLoadFunction = t, this.changed() } setTileUrlFunction(t, e) { this.tileUrlFunction = t, this.tileCache.pruneExceptNewestZ(), void 0 !== e ? this.setKey(e) : this.changed() } setUrl(t) { const e = hh(t); this.urls = e, this.setUrls(e) } setUrls(t) { this.urls = t; const e = t.join("\n"); this.generateTileUrlFunction_ ? this.setTileUrlFunction(oh(t, this.tileGrid), e) : this.setKey(e) } tileUrlFunction(t, e, i) { } useTile(t, e, i) { const n = il(t, e, i); this.tileCache.containsKey(n) && this.tileCache.get(n) } } class uh extends ch { constructor(t) { super({ attributions: t.attributions, cacheSize: t.cacheSize, opaque: t.opaque, projection: t.projection, state: t.state, tileGrid: t.tileGrid, tileLoadFunction: t.tileLoadFunction ? t.tileLoadFunction : dh, tilePixelRatio: t.tilePixelRatio, tileUrlFunction: t.tileUrlFunction, url: t.url, urls: t.urls, wrapX: t.wrapX, transition: t.transition, interpolate: void 0 === t.interpolate || t.interpolate, key: t.key, attributionsCollapsible: t.attributionsCollapsible, zDirection: t.zDirection }), this.crossOrigin = void 0 !== t.crossOrigin ? t.crossOrigin : null, this.tileClass = void 0 !== t.tileClass ? t.tileClass : Vr, this.tileCacheForProjection = {}, this.tileGridForProjection = {}, this.reprojectionErrorThreshold_ = t.reprojectionErrorThreshold, this.renderReprojectionEdges_ = !1 } canExpireCache() { if (this.tileCache.canExpireCache()) return !0; for (const t in this.tileCacheForProjection) if (this.tileCacheForProjection[t].canExpireCache()) return !0; return !1 } expireCache(t, e) { const i = this.getTileCacheForProjection(t); this.tileCache.expireCache(this.tileCache == i ? e : {}); for (const t in this.tileCacheForProjection) { const n = this.tileCacheForProjection[t]; n.expireCache(n == i ? e : {}) } } getGutterForProjection(t) { return this.getProjection() && t && !Ki(this.getProjection(), t) ? 0 : this.getGutter() } getGutter() { return 0 } getKey() { let t = super.getKey(); return this.getInterpolate() || (t += ":disable-interpolation"), t } getOpaque(t) { return !(this.getProjection() && t && !Ki(this.getProjection(), t)) && super.getOpaque(t) } getTileGridForProjection(t) { const e = this.getProjection(); if (!this.tileGrid || e && !Ki(e, t)) { const e = z(t); return e in this.tileGridForProjection || (this.tileGridForProjection[e] = Hl(t)), this.tileGridForProjection[e] } return this.tileGrid } getTileCacheForProjection(t) { const e = this.getProjection(); if (!e || Ki(e, t)) return this.tileCache; { const e = z(t); return e in this.tileCacheForProjection || (this.tileCacheForProjection[e] = new ll(this.tileCache.highWaterMark)), this.tileCacheForProjection[e] } } createTile_(t, e, i, n, r, s) { const o = [t, e, i], a = this.getTileCoordForTileUrlFunction(o, r), l = a ? this.tileUrlFunction(a, n, r) : void 0, h = new this.tileClass(o, void 0 !== l ? H : tt, void 0 !== l ? l : "", this.crossOrigin, this.tileLoadFunction, this.tileOptions); return h.key = s, h.addEventListener(S, this.handleTileChange.bind(this)), h } getTile(t, e, i, n, r) { const s = this.getProjection(); if (s && r && !Ki(s, r)) { const o = this.getTileCacheForProjection(r), a = [t, e, i]; let l; const h = nl(a); o.containsKey(h) && (l = o.get(h)); const c = this.getKey(); if (l && l.key == c) return l; { const t = this.getTileGridForProjection(s), e = this.getTileGridForProjection(r), i = this.getTileCoordForTileUrlFunction(a, r), u = new zl(s, t, r, e, a, i, this.getTilePixelRatio(n), this.getGutter(), function (t, e, i, n) { return this.getTileInternal(t, e, i, n, s) }.bind(this), this.reprojectionErrorThreshold_, this.renderReprojectionEdges_, this.getInterpolate()); return u.key = c, l ? (u.interimTile = l, u.refreshInterimChain(), o.replace(h, u)) : o.set(h, u), u } } return this.getTileInternal(t, e, i, n, s || r) } getTileInternal(t, e, i, n, r) { let s = null; const o = il(t, e, i), a = this.getKey(); if (this.tileCache.containsKey(o)) { if (s = this.tileCache.get(o), s.key != a) { const l = s; s = this.createTile_(t, e, i, n, r, a), l.getState() == H ? s.interimTile = l.interimTile : s.interimTile = l, s.refreshInterimChain(), this.tileCache.replace(o, s) } } else s = this.createTile_(t, e, i, n, r, a), this.tileCache.set(o, s); return s } setRenderReprojectionEdges(t) { if (this.renderReprojectionEdges_ != t) { this.renderReprojectionEdges_ = t; for (const t in this.tileCacheForProjection) this.tileCacheForProjection[t].clear(); this.changed() } } setTileGridForProjection(t, e) { const i = Ui(t); if (i) { const t = z(i); t in this.tileGridForProjection || (this.tileGridForProjection[t] = e) } } clear() { super.clear(); for (const t in this.tileCacheForProjection) this.tileCacheForProjection[t].clear() } } function dh(t, e) { t.getImage().src = e } function gh(t) { const e = t[0], i = new Array(e); let n, r, s = 1 << e - 1; for (n = 0; n < e; ++n)r = 48, t[1] & s && (r += 1), t[2] & s && (r += 2), i[n] = String.fromCharCode(r), s >>= 1; return i.join("") } class fh extends uh { constructor(t) { const e = void 0 !== (t = t || {}).projection ? t.projection : "EPSG:3857", i = void 0 !== t.tileGrid ? t.tileGrid : Ql({ extent: ih(e), maxResolution: t.maxResolution, maxZoom: t.maxZoom, minZoom: t.minZoom, tileSize: t.tileSize }); super({ attributions: t.attributions, cacheSize: t.cacheSize, crossOrigin: t.crossOrigin, interpolate: t.interpolate, opaque: t.opaque, projection: e, reprojectionErrorThreshold: t.reprojectionErrorThreshold, tileGrid: i, tileLoadFunction: t.tileLoadFunction, tilePixelRatio: t.tilePixelRatio, tileUrlFunction: t.tileUrlFunction, url: t.url, urls: t.urls, wrapX: void 0 === t.wrapX || t.wrapX, transition: t.transition, attributionsCollapsible: t.attributionsCollapsible, zDirection: t.zDirection }), this.gutter_ = void 0 !== t.gutter ? t.gutter : 0 } getGutter() { return this.gutter_ } } function ph(t, e, i, n, r) { mh(t, e, i || 0, n || t.length - 1, r || yh) } function mh(t, e, i, n, r) { for (; n > i;) { if (n - i > 600) { var s = n - i + 1, o = e - i + 1, a = Math.log(s), l = .5 * Math.exp(2 * a / 3), h = .5 * Math.sqrt(a * l * (s - l) / s) * (o - s / 2 < 0 ? -1 : 1); mh(t, e, Math.max(i, Math.floor(e - o * l / s + h)), Math.min(n, Math.floor(e + (s - o) * l / s + h)), r) } var c = t[e], u = i, d = n; for (_h(t, i, e), r(t[n], c) > 0 && _h(t, i, n); u < d;) { for (_h(t, u, d), u++, d--; r(t[u], c) < 0;)u++; for (; r(t[d], c) > 0;)d-- } 0 === r(t[i], c) ? _h(t, i, d) : _h(t, ++d, n), d <= e && (i = d + 1), e <= d && (n = d - 1) } } function _h(t, e, i) { var n = t[e]; t[e] = t[i], t[i] = n } function yh(t, e) { return t < e ? -1 : t > e ? 1 : 0 } class xh { constructor(t = 9) { this._maxEntries = Math.max(4, t), this._minEntries = Math.max(2, Math.ceil(.4 * this._maxEntries)), this.clear() } all() { return this._all(this.data, []) } search(t) { let e = this.data; const i = []; if (!Lh(t, e)) return i; const n = this.toBBox, r = []; for (; e;) { for (let s = 0; s < e.children.length; s++) { const o = e.children[s], a = e.leaf ? n(o) : o; Lh(t, a) && (e.leaf ? i.push(o) : Ih(t, a) ? this._all(o, i) : r.push(o)) } e = r.pop() } return i } collides(t) { let e = this.data; if (!Lh(t, e)) return !1; const i = []; for (; e;) { for (let n = 0; n < e.children.length; n++) { const r = e.children[n], s = e.leaf ? this.toBBox(r) : r; if (Lh(t, s)) { if (e.leaf || Ih(t, s)) return !0; i.push(r) } } e = i.pop() } return !1 } load(t) { if (!t || !t.length) return this; if (t.length < this._minEntries) { for (let e = 0; e < t.length; e++)this.insert(t[e]); return this } let e = this._build(t.slice(), 0, t.length - 1, 0); if (this.data.children.length) if (this.data.height === e.height) this._splitRoot(this.data, e); else { if (this.data.height < e.height) { const t = this.data; this.data = e, e = t } this._insert(e, this.data.height - e.height - 1, !0) } else this.data = e; return this } insert(t) { return t && this._insert(t, this.data.height - 1), this } clear() { return this.data = Mh([]), this } remove(t, e) { if (!t) return this; let i = this.data; const n = this.toBBox(t), r = [], s = []; let o, a, l; for (; i || r.length;) { if (i || (i = r.pop(), a = r[r.length - 1], o = s.pop(), l = !0), i.leaf) { const n = vh(t, i.children, e); if (-1 !== n) return i.children.splice(n, 1), r.push(i), this._condense(r), this } l || i.leaf || !Ih(i, n) ? a ? (o++, i = a.children[o], l = !1) : i = null : (r.push(i), s.push(o), o = 0, a = i, i = i.children[0]) } return this } toBBox(t) { return t } compareMinX(t, e) { return t.minX - e.minX } compareMinY(t, e) { return t.minY - e.minY } toJSON() { return this.data } fromJSON(t) { return this.data = t, this } _all(t, e) { const i = []; for (; t;)t.leaf ? e.push(...t.children) : i.push(...t.children), t = i.pop(); return e } _build(t, e, i, n) { const r = i - e + 1; let s, o = this._maxEntries; if (r <= o) return s = Mh(t.slice(e, i + 1)), Sh(s, this.toBBox), s; n || (n = Math.ceil(Math.log(r) / Math.log(o)), o = Math.ceil(r / Math.pow(o, n - 1))), s = Mh([]), s.leaf = !1, s.height = n; const a = Math.ceil(r / o), l = a * Math.ceil(Math.sqrt(o)); Fh(t, e, i, l, this.compareMinX); for (let r = e; r <= i; r += l) { const e = Math.min(r + l - 1, i); Fh(t, r, e, a, this.compareMinY); for (let i = r; i <= e; i += a) { const r = Math.min(i + a - 1, e); s.children.push(this._build(t, i, r, n - 1)) } } return Sh(s, this.toBBox), s } _chooseSubtree(t, e, i, n) { for (; n.push(e), !e.leaf && n.length - 1 !== i;) { let i, n = 1 / 0, o = 1 / 0; for (let a = 0; a < e.children.length; a++) { const l = e.children[a], h = bh(l), c = (r = t, s = l, (Math.max(s.maxX, r.maxX) - Math.min(s.minX, r.minX)) * (Math.max(s.maxY, r.maxY) - Math.min(s.minY, r.minY)) - h); c < o ? (o = c, n = h < n ? h : n, i = l) : c === o && h < n && (n = h, i = l) } e = i || e.children[0] } var r, s; return e } _insert(t, e, i) { const n = i ? t : this.toBBox(t), r = [], s = this._chooseSubtree(n, this.data, e, r); for (s.children.push(t), Eh(s, n); e >= 0 && r[e].children.length > this._maxEntries;)this._split(r, e), e--; this._adjustParentBBoxes(n, r, e) } _split(t, e) { const i = t[e], n = i.children.length, r = this._minEntries; this._chooseSplitAxis(i, r, n); const s = this._chooseSplitIndex(i, r, n), o = Mh(i.children.splice(s, i.children.length - s)); o.height = i.height, o.leaf = i.leaf, Sh(i, this.toBBox), Sh(o, this.toBBox), e ? t[e - 1].children.push(o) : this._splitRoot(i, o) } _splitRoot(t, e) { this.data = Mh([t, e]), this.data.height = t.height + 1, this.data.leaf = !1, Sh(this.data, this.toBBox) } _chooseSplitIndex(t, e, i) { let n, r = 1 / 0, s = 1 / 0; for (let o = e; o <= i - e; o++) { const e = wh(t, 0, o, this.toBBox), a = wh(t, o, i, this.toBBox), l = Ph(e, a), h = bh(e) + bh(a); l < r ? (r = l, n = o, s = h < s ? h : s) : l === r && h < s && (s = h, n = o) } return n || i - e } _chooseSplitAxis(t, e, i) { const n = t.leaf ? this.compareMinX : Th, r = t.leaf ? this.compareMinY : Ch; this._allDistMargin(t, e, i, n) < this._allDistMargin(t, e, i, r) && t.children.sort(n) } _allDistMargin(t, e, i, n) { t.children.sort(n); const r = this.toBBox, s = wh(t, 0, e, r), o = wh(t, i - e, i, r); let a = Rh(s) + Rh(o); for (let n = e; n < i - e; n++) { const e = t.children[n]; Eh(s, t.leaf ? r(e) : e), a += Rh(s) } for (let n = i - e - 1; n >= e; n--) { const e = t.children[n]; Eh(o, t.leaf ? r(e) : e), a += Rh(o) } return a } _adjustParentBBoxes(t, e, i) { for (let n = i; n >= 0; n--)Eh(e[n], t) } _condense(t) { for (let e, i = t.length - 1; i >= 0; i--)0 === t[i].children.length ? i > 0 ? (e = t[i - 1].children, e.splice(e.indexOf(t[i]), 1)) : this.clear() : Sh(t[i], this.toBBox) } } function vh(t, e, i) { if (!i) return e.indexOf(t); for (let n = 0; n < e.length; n++)if (i(t, e[n])) return n; return -1 } function Sh(t, e) { wh(t, 0, t.children.length, e, t) } function wh(t, e, i, n, r) { r || (r = Mh(null)), r.minX = 1 / 0, r.minY = 1 / 0, r.maxX = -1 / 0, r.maxY = -1 / 0; for (let s = e; s < i; s++) { const e = t.children[s]; Eh(r, t.leaf ? n(e) : e) } return r } function Eh(t, e) { return t.minX = Math.min(t.minX, e.minX), t.minY = Math.min(t.minY, e.minY), t.maxX = Math.max(t.maxX, e.maxX), t.maxY = Math.max(t.maxY, e.maxY), t } function Th(t, e) { return t.minX - e.minX } function Ch(t, e) { return t.minY - e.minY } function bh(t) { return (t.maxX - t.minX) * (t.maxY - t.minY) } function Rh(t) { return t.maxX - t.minX + (t.maxY - t.minY) } function Ph(t, e) { const i = Math.max(t.minX, e.minX), n = Math.max(t.minY, e.minY), r = Math.min(t.maxX, e.maxX), s = Math.min(t.maxY, e.maxY); return Math.max(0, r - i) * Math.max(0, s - n) } function Ih(t, e) { return t.minX <= e.minX && t.minY <= e.minY && e.maxX <= t.maxX && e.maxY <= t.maxY } function Lh(t, e) { return e.minX <= t.maxX && e.minY <= t.maxY && e.maxX >= t.minX && e.maxY >= t.minY } function Mh(t) { return { children: t, height: 1, leaf: !0, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 } } function Fh(t, e, i, n, r) { const s = [e, i]; for (; s.length;) { if ((i = s.pop()) - (e = s.pop()) <= n) continue; const o = e + Math.ceil((i - e) / n / 2) * n; ph(t, o, e, i, r), s.push(e, o, o, i) } } class Ah { constructor(t) { this.rbush_ = new xh(t), this.items_ = {} } insert(t, e) { const i = { minX: t[0], minY: t[1], maxX: t[2], maxY: t[3], value: e }; this.rbush_.insert(i), this.items_[z(e)] = i } load(t, e) { const i = new Array(e.length); for (let n = 0, r = e.length; n < r; n++) { const r = t[n], s = e[n], o = { minX: r[0], minY: r[1], maxX: r[2], maxY: r[3], value: s }; i[n] = o, this.items_[z(s)] = o } this.rbush_.load(i) } remove(t) { const e = z(t), i = this.items_[e]; return delete this.items_[e], null !== this.rbush_.remove(i) } update(t, e) { const i = this.items_[z(e)]; ee([i.minX, i.minY, i.maxX, i.maxY], t) || (this.remove(e), this.insert(t, e)) } getAll() { return this.rbush_.all().map((function (t) { return t.value })) } getInExtent(t) { const e = { minX: t[0], minY: t[1], maxX: t[2], maxY: t[3] }; return this.rbush_.search(e).map((function (t) { return t.value })) } forEach(t) { return this.forEach_(this.getAll(), t) } forEachInExtent(t, e) { return this.forEach_(this.getInExtent(t), e) } forEach_(t, e) { let i; for (let n = 0, r = t.length; n < r; n++)if (i = e(t[n]), i) return i; return i } isEmpty() { return x(this.items_) } clear() { this.rbush_.clear(), this.items_ = {} } getExtent(t) { const e = this.rbush_.toJSON(); return $t(e.minX, e.minY, e.maxX, e.maxY, t) } concat(t) { this.rbush_.load(t.rbush_.all()); for (const e in t.items_) this.items_[e] = t.items_[e] } } var Oh = "addfeature", Nh = "changefeature", Dh = "clear", kh = "removefeature", Gh = "featuresloadstart", jh = "featuresloadend", Bh = "featuresloaderror"; class Uh extends i { constructor(t, e, i) { super(t), this.feature = e, this.features = i } } class zh extends Zl { constructor(t) { super({ attributions: (t = t || {}).attributions, interpolate: !0, projection: void 0, state: "ready", wrapX: void 0 === t.wrapX || t.wrapX }), this.on, this.once, this.un, this.loader_ = p, this.format_ = t.format, this.overlaps_ = void 0 === t.overlaps || t.overlaps, this.url_ = t.url, void 0 !== t.loader ? this.loader_ = t.loader : void 0 !== this.url_ && (at(this.format_, 7), this.loader_ = yl(this.url_, this.format_)), this.strategy_ = void 0 !== t.strategy ? t.strategy : xl; const e = void 0 === t.useSpatialIndex || t.useSpatialIndex; let i, n; this.featuresRtree_ = e ? new Ah : null, this.loadedExtentsRtree_ = new Ah, this.loadingExtentsCount_ = 0, this.nullGeometryFeatures_ = {}, this.idIndex_ = {}, this.uidIndex_ = {}, this.featureChangeKeys_ = {}, this.featuresCollection_ = null, Array.isArray(t.features) ? n = t.features : t.features && (i = t.features, n = i.getArray()), e || void 0 !== i || (i = new q(n)), void 0 !== n && this.addFeaturesInternal(n), void 0 !== i && this.bindFeaturesCollection_(i) } addFeature(t) { this.addFeatureInternal(t), this.changed() } addFeatureInternal(t) { const e = z(t); if (!this.addToIndex_(e, t)) return void (this.featuresCollection_ && this.featuresCollection_.remove(t)); this.setupChangeEvents_(e, t); const i = t.getGeometry(); if (i) { const e = i.getExtent(); this.featuresRtree_ && this.featuresRtree_.insert(e, t) } else this.nullGeometryFeatures_[e] = t; this.dispatchEvent(new Uh(Oh, t)) } setupChangeEvents_(t, e) { this.featureChangeKeys_[t] = [N(e, S, this.handleFeatureChange_, this), N(e, r, this.handleFeatureChange_, this)] } addToIndex_(t, e) { let i = !0; const n = e.getId(); return void 0 !== n && (n.toString() in this.idIndex_ ? i = !1 : this.idIndex_[n.toString()] = e), i && (at(!(t in this.uidIndex_), 30), this.uidIndex_[t] = e), i } addFeatures(t) { this.addFeaturesInternal(t), this.changed() } addFeaturesInternal(t) { const e = [], i = [], n = []; for (let e = 0, n = t.length; e < n; e++) { const n = t[e], r = z(n); this.addToIndex_(r, n) && i.push(n) } for (let t = 0, r = i.length; t < r; t++) { const r = i[t], s = z(r); this.setupChangeEvents_(s, r); const o = r.getGeometry(); if (o) { const t = o.getExtent(); e.push(t), n.push(r) } else this.nullGeometryFeatures_[s] = r } if (this.featuresRtree_ && this.featuresRtree_.load(e, n), this.hasListener(Oh)) for (let t = 0, e = i.length; t < e; t++)this.dispatchEvent(new Uh(Oh, i[t])) } bindFeaturesCollection_(t) { let e = !1; this.addEventListener(Oh, (function (i) { e || (e = !0, t.push(i.feature), e = !1) })), this.addEventListener(kh, (function (i) { e || (e = !0, t.remove(i.feature), e = !1) })), t.addEventListener(W, function (t) { e || (e = !0, this.addFeature(t.element), e = !1) }.bind(this)), t.addEventListener(Z, function (t) { e || (e = !0, this.removeFeature(t.element), e = !1) }.bind(this)), this.featuresCollection_ = t } clear(t) { if (t) { for (const t in this.featureChangeKeys_) { this.featureChangeKeys_[t].forEach(k) } this.featuresCollection_ || (this.featureChangeKeys_ = {}, this.idIndex_ = {}, this.uidIndex_ = {}) } else if (this.featuresRtree_) { const t = function (t) { this.removeFeatureInternal(t) }.bind(this); this.featuresRtree_.forEach(t); for (const t in this.nullGeometryFeatures_) this.removeFeatureInternal(this.nullGeometryFeatures_[t]) } this.featuresCollection_ && this.featuresCollection_.clear(), this.featuresRtree_ && this.featuresRtree_.clear(), this.nullGeometryFeatures_ = {}; const e = new Uh(Dh); this.dispatchEvent(e), this.changed() } forEachFeature(t) { if (this.featuresRtree_) return this.featuresRtree_.forEach(t); this.featuresCollection_ && this.featuresCollection_.forEach(t) } forEachFeatureAtCoordinateDirect(t, e) { const i = [t[0], t[1], t[0], t[1]]; return this.forEachFeatureInExtent(i, (function (i) { return i.getGeometry().intersectsCoordinate(t) ? e(i) : void 0 })) } forEachFeatureInExtent(t, e) { if (this.featuresRtree_) return this.featuresRtree_.forEachInExtent(t, e); this.featuresCollection_ && this.featuresCollection_.forEach(e) } forEachFeatureIntersectingExtent(t, e) { return this.forEachFeatureInExtent(t, (function (i) { if (i.getGeometry().intersectsExtent(t)) { const t = e(i); if (t) return t } })) } getFeaturesCollection() { return this.featuresCollection_ } getFeatures() { let t; return this.featuresCollection_ ? t = this.featuresCollection_.getArray().slice(0) : this.featuresRtree_ && (t = this.featuresRtree_.getAll(), x(this.nullGeometryFeatures_) || c(t, Object.values(this.nullGeometryFeatures_))), t } getFeaturesAtCoordinate(t) { const e = []; return this.forEachFeatureAtCoordinateDirect(t, (function (t) { e.push(t) })), e } getFeaturesInExtent(t, e) { if (this.featuresRtree_) { if (!(e && e.canWrapX() && this.getWrapX())) return this.featuresRtree_.getInExtent(t); const i = Ie(t, e); return [].concat(...i.map((t => this.featuresRtree_.getInExtent(t)))) } return this.featuresCollection_ ? this.featuresCollection_.getArray().slice(0) : [] } getClosestFeatureToCoordinate(t, e) { const i = t[0], n = t[1]; let r = null; const s = [NaN, NaN]; let o = 1 / 0; const a = [-1 / 0, -1 / 0, 1 / 0, 1 / 0]; return e = e || g, this.featuresRtree_.forEachInExtent(a, (function (t) { if (e(t)) { const e = t.getGeometry(), l = o; if (o = e.closestPointXY(i, n, s, o), o < l) { r = t; const e = Math.sqrt(o); a[0] = i - e, a[1] = n - e, a[2] = i + e, a[3] = n + e } } })), r } getExtent(t) { return this.featuresRtree_.getExtent(t) } getFeatureById(t) { const e = this.idIndex_[t.toString()]; return void 0 !== e ? e : null } getFeatureByUid(t) { const e = this.uidIndex_[t]; return void 0 !== e ? e : null } getFormat() { return this.format_ } getOverlaps() { return this.overlaps_ } getUrl() { return this.url_ } handleFeatureChange_(t) { const e = t.target, i = z(e), n = e.getGeometry(); if (n) { const t = n.getExtent(); i in this.nullGeometryFeatures_ ? (delete this.nullGeometryFeatures_[i], this.featuresRtree_ && this.featuresRtree_.insert(t, e)) : this.featuresRtree_ && this.featuresRtree_.update(t, e) } else i in this.nullGeometryFeatures_ || (this.featuresRtree_ && this.featuresRtree_.remove(e), this.nullGeometryFeatures_[i] = e); const r = e.getId(); if (void 0 !== r) { const t = r.toString(); this.idIndex_[t] !== e && (this.removeFromIdIndex_(e), this.idIndex_[t] = e) } else this.removeFromIdIndex_(e), this.uidIndex_[i] = e; this.changed(), this.dispatchEvent(new Uh(Nh, e)) } hasFeature(t) { const e = t.getId(); return void 0 !== e ? e in this.idIndex_ : z(t) in this.uidIndex_ } isEmpty() { return this.featuresRtree_ ? this.featuresRtree_.isEmpty() && x(this.nullGeometryFeatures_) : !this.featuresCollection_ || 0 === this.featuresCollection_.getLength() } loadFeatures(t, e, i) { const n = this.loadedExtentsRtree_, r = this.strategy_(t, e, i); for (let t = 0, s = r.length; t < s; ++t) { const s = r[t]; n.forEachInExtent(s, (function (t) { return Yt(t.extent, s) })) || (++this.loadingExtentsCount_, this.dispatchEvent(new Uh(Gh)), this.loader_.call(this, s, e, i, function (t) { --this.loadingExtentsCount_, this.dispatchEvent(new Uh(jh, void 0, t)) }.bind(this), function () { --this.loadingExtentsCount_, this.dispatchEvent(new Uh(Bh)) }.bind(this)), n.insert(s, { extent: s.slice() })) } this.loading = !(this.loader_.length < 4) && this.loadingExtentsCount_ > 0 } refresh() { this.clear(!0), this.loadedExtentsRtree_.clear(), super.refresh() } removeLoadedExtent(t) { const e = this.loadedExtentsRtree_; let i; e.forEachInExtent(t, (function (e) { if (ee(e.extent, t)) return i = e, !0 })), i && e.remove(i) } removeFeature(t) { if (!t) return; const e = z(t); e in this.nullGeometryFeatures_ ? delete this.nullGeometryFeatures_[e] : this.featuresRtree_ && this.featuresRtree_.remove(t); this.removeFeatureInternal(t) && this.changed() } removeFeatureInternal(t) { const e = z(t), i = this.featureChangeKeys_[e]; if (!i) return; i.forEach(k), delete this.featureChangeKeys_[e]; const n = t.getId(); return void 0 !== n && delete this.idIndex_[n.toString()], delete this.uidIndex_[e], this.dispatchEvent(new Uh(kh, t)), t } removeFromIdIndex_(t) { let e = !1; for (const i in this.idIndex_) if (this.idIndex_[i] === t) { delete this.idIndex_[i], e = !0; break } return e } setLoader(t) { this.loader_ = t } setUrl(t) { at(this.format_, 7), this.url_ = t, this.setLoader(yl(t, this.format_)) } } class Xh extends nh { constructor(t) { const e = void 0 === t.projection ? "EPSG:3857" : t.projection; let i = t.tileGrid; void 0 === i && e && (i = Ql({ extent: ih(e), maxResolution: t.maxResolution, maxZoom: t.maxZoom, minZoom: t.minZoom, tileSize: t.tileSize })), super({ cacheSize: .1, attributions: t.attributions, attributionsCollapsible: t.attributionsCollapsible, projection: e, tileGrid: i, opaque: t.opaque, state: t.state, wrapX: t.wrapX, transition: t.transition, interpolate: t.interpolate }), this.gutter_ = void 0 !== t.gutter ? t.gutter : 0, this.tileSize_ = t.tileSize ? Va(t.tileSize) : null, this.tileSizes_ = null, this.tileLoadingKeys_ = {}, this.loader_ = t.loader, this.handleTileChange_ = this.handleTileChange_.bind(this), this.bandCount = void 0 === t.bandCount ? 4 : t.bandCount } setTileSizes(t) { this.tileSizes_ = t } getTileSize(t) { if (this.tileSizes_) return this.tileSizes_[t]; if (this.tileSize_) return this.tileSize_; const e = this.getTileGrid(); return e ? Va(e.getTileSize(t)) : [256, 256] } getGutterForProjection(t) { return this.gutter_ } setLoader(t) { this.loader_ = t } getTile(t, e, i, n, r) { const s = this.getTileSize(t), o = il(t, e, i); if (this.tileCache.containsKey(o)) return this.tileCache.get(o); const a = this.loader_; const l = Object.assign({ tileCoord: [t, e, i], loader: function () { return _((function () { return a(t, e, i) })) }, size: s }, this.tileOptions), h = new ot(l); return h.key = this.getKey(), h.addEventListener(S, this.handleTileChange_), this.tileCache.set(o, h), h } handleTileChange_(t) { const e = t.target, i = z(e), n = e.getState(); let r; n == $ ? (this.tileLoadingKeys_[i] = !0, r = Xl) : i in this.tileLoadingKeys_ && (delete this.tileLoadingKeys_[i], r = n == Q ? Wl : n == J ? Vl : void 0), r && this.dispatchEvent(new rh(r, e)) } } function Vh(t, e) { if (!t) return !1; if (!0 === t) return !0; if (3 !== e.getSamplesPerPixel()) return !1; const i = e.fileDirectory.PhotometricInterpretation, n = GeoTIFF.globals.photometricInterpretations; return i === n.CMYK || i === n.YCbCr || i === n.CIELab || i === n.ICCLab } const Wh = "STATISTICS_MAXIMUM", Zh = "STATISTICS_MINIMUM"; let Yh; function Kh(t) { try { return t.getBoundingBox() } catch (e) { const i = t.fileDirectory; return [0, 0, i.ImageWidth, i.ImageLength] } } function qh(t) { try { return t.getOrigin().slice(0, 2) } catch (e) { return [0, t.fileDirectory.ImageLength] } } function Hh(t, e) { try { return t.getResolution(e) } catch (i) { return [e.fileDirectory.ImageWidth / t.fileDirectory.ImageWidth, e.fileDirectory.ImageHeight / t.fileDirectory.ImageHeight] } } function $h(t) { const e = t.geoKeys; if (!e) return null; if (e.ProjectedCSTypeGeoKey) { const t = "EPSG:" + e.ProjectedCSTypeGeoKey; let i = Ui(t); if (!i) { const n = Me(e.ProjLinearUnitsGeoKey); n && (i = new Ae({ code: t, units: n })) } return i } if (e.GeographicTypeGeoKey) { const t = "EPSG:" + e.GeographicTypeGeoKey; let i = Ui(t); if (!i) { const n = Me(e.GeogAngularUnitsGeoKey); n && (i = new Ae({ code: t, units: n })) } return i } return null } function Jh(t) { return t.getImageCount().then((function (e) { const i = new Array(e); for (let n = 0; n < e; ++n)i[n] = t.getImage(n); return Promise.all(i) })) } function Qh(t, e) { let i; return i = t.blob ? GeoTIFF.fromBlob(t.blob) : t.overviews ? GeoTIFF.fromUrls(t.url, t.overviews, e) : GeoTIFF.fromUrl(t.url, e), i.then(Jh) } function tc(t, e, i, n, r) { if (Array.isArray(t)) { const s = t.length; if (!Array.isArray(e) || s != e.length) { const t = new Error(n); throw r(t), t } for (let o = 0; o < s; ++o)tc(t[o], e[o], i, n, r) } else if (Math.abs(t - e) > i * t) throw new Error(n) } function ec(t) { return t instanceof Int8Array ? 127 : t instanceof Uint8Array || t instanceof Uint8ClampedArray ? 255 : t instanceof Int16Array ? 32767 : t instanceof Uint16Array ? 65535 : t instanceof Int32Array ? 2147483647 : t instanceof Uint32Array ? 4294967295 : t instanceof Float32Array ? 34e37 : 255 } class ic extends Xh { constructor(t) { super({ state: "loading", tileGrid: null, projection: null, opaque: t.opaque, transition: t.transition, interpolate: !1 !== t.interpolate, wrapX: t.wrapX }), this.sourceInfo_ = t.sources; const e = this.sourceInfo_.length; this.sourceOptions_ = t.sourceOptions, this.sourceImagery_ = new Array(e), this.sourceMasks_ = new Array(e), this.resolutionFactors_ = new Array(e), this.samplesPerPixel_, this.nodataValues_, this.metadata_, this.normalize_ = !1 !== t.normalize, this.addAlpha_ = !1, this.error_ = null, this.convertToRGB_ = t.convertToRGB || !1, this.setKey(this.sourceInfo_.map((t => t.url)).join(",")); const i = this, n = new Array(e); for (let t = 0; t < e; ++t)n[t] = Qh(this.sourceInfo_[t], this.sourceOptions_); Promise.all(n).then((function (t) { i.configure_(t) })).catch((function (t) { console.error(t), i.error_ = t, i.setState("error") })) } getError() { return this.error_ } configure_(t) { let e, i, n, r, s; const o = new Array(t.length), a = new Array(t.length), l = new Array(t.length); let h = 0; const c = t.length; for (let u = 0; u < c; ++u) { const c = [], d = []; t[u].forEach((t => { 4 == (4 & (t.fileDirectory.NewSubfileType || 0)) ? d.push(t) : c.push(t) })); const g = c.length; if (d.length > 0 && d.length !== g) throw new Error(`Expected one mask per image found ${d.length} masks and ${g} images`); let f, p; const m = new Array(g), _ = new Array(g), y = new Array(g); a[u] = new Array(g), l[u] = new Array(g); for (let t = 0; t < g; ++t) { const e = c[t], i = e.getGDALNoData(); l[u][t] = e.getGDALMetadata(0), a[u][t] = i; const n = this.sourceInfo_[u].bands; o[u] = n ? n.length : e.getSamplesPerPixel(); const r = g - (t + 1); f || (f = Kh(e)), p || (p = qh(e)); const s = Hh(e, c[0]); y[r] = s[0]; const h = [e.getTileWidth(), e.getTileHeight()]; m[r] = h; const d = s[0] / Math.abs(s[1]); _[r] = [h[0], h[1] / d] } if (e ? ye(e, f, e) : e = f, i) { tc(i, p, 0, `Origin mismatch for source ${u}, got [${p}] but expected [${i}]`, this.viewRejector) } else i = p; if (s) { s.length - h > y.length && (h = s.length - y.length); const t = s[s.length - 1] / y[y.length - 1]; this.resolutionFactors_[u] = t; const e = y.map((e => e * t)), i = `Resolution mismatch for source ${u}, got [${e}] but expected [${s}]`; tc(s.slice(h, s.length), e, .02, i, this.viewRejector) } else s = y, this.resolutionFactors_[u] = 1; n ? tc(n.slice(h, n.length), _, .01, `Tile size mismatch for source ${u}`, this.viewRejector) : n = _, r ? tc(r.slice(h, r.length), m, 0, `Tile size mismatch for source ${u}`, this.viewRejector) : r = m, this.sourceImagery_[u] = c.reverse(), this.sourceMasks_[u] = d.reverse() } for (let t = 0, e = this.sourceImagery_.length; t < e; ++t) { const e = this.sourceImagery_[t]; for (; e.length < s.length;)e.unshift(void 0) } if (!this.getProjection()) { const e = t[0]; for (let t = e.length - 1; t >= 0; --t) { const i = $h(e[t]); if (i) { this.projection = i; break } } } this.samplesPerPixel_ = o, this.nodataValues_ = a, this.metadata_ = l; t: for (let t = 0; t < c; ++t) { if (void 0 !== this.sourceInfo_[t].nodata) { this.addAlpha_ = !0; break } if (this.sourceMasks_[t].length) { this.addAlpha_ = !0; break } const e = a[t], i = this.sourceInfo_[t].bands; if (i) { for (let t = 0; t < i.length; ++t)if (null !== e[i[t] - 1]) { this.addAlpha_ = !0; break t } } else for (let t = 0; t < e.length; ++t)if (null !== e[t]) { this.addAlpha_ = !0; break t } } let u = this.addAlpha_ ? 1 : 0; for (let t = 0; t < c; ++t)u += o[t]; this.bandCount = u; const d = new ql({ extent: e, minZoom: h, origin: i, resolutions: s, tileSizes: n }); this.tileGrid = d, this.setTileSizes(r), this.setLoader(this.loadTile_.bind(this)), this.setState("ready"); let g = 0; 1 === s.length && (s = [2 * s[0], s[0]], g = 1), this.viewResolver({ showFullExtent: !0, projection: this.projection, resolutions: s, center: nn(ge(e), this.projection), extent: sn(e, this.projection), zoom: g }) } loadTile_(t, e, i) { const n = this.getTileSize(t), r = this.sourceImagery_.length, s = new Array(2 * r), o = this.nodataValues_, a = this.sourceInfo_, l = (Yh || (Yh = new GeoTIFF.Pool), Yh); for (let h = 0; h < r; ++h) { const c = a[h], u = this.resolutionFactors_[h], d = [Math.round(e * (n[0] * u)), Math.round(i * (n[1] * u)), Math.round((e + 1) * (n[0] * u)), Math.round((i + 1) * (n[1] * u))], g = this.sourceImagery_[h][t]; let f, p; c.bands && (f = c.bands.map((function (t) { return t - 1 }))), p = "nodata" in c && null !== c.nodata ? c.nodata : f ? f.map((function (t) { return o[h][t] })) : o[h]; const m = { window: d, width: n[0], height: n[1], samples: f, fillValue: p, pool: l, interleave: !1 }; Vh(this.convertToRGB_, g) ? s[h] = g.readRGB(m) : s[h] = g.readRasters(m); const _ = r + h, y = this.sourceMasks_[h][t]; y ? s[_] = y.readRasters({ window: d, width: n[0], height: n[1], samples: [0], pool: l, interleave: !1 }) : s[_] = Promise.resolve(null) } return Promise.all(s).then(this.composeTile_.bind(this, n)).catch((function (t) { throw console.error(t), t })) } composeTile_(t, e) { const i = this.metadata_, n = this.sourceInfo_, r = this.sourceImagery_.length, s = this.bandCount, o = this.samplesPerPixel_, a = this.nodataValues_, l = this.normalize_, h = this.addAlpha_, c = t[0] * t[1], u = c * s; let d; d = l ? new Uint8Array(u) : new Float32Array(u); let g = 0; for (let t = 0; t < c; ++t) { let s = h; for (let c = 0; c < r; ++c) { const u = n[c]; let p, m, _ = u.min, y = u.max; if (l) { const t = i[c][0]; void 0 === _ && (_ = t && Zh in t ? parseFloat(t.STATISTICS_MINIMUM) : (f = e[c][0]) instanceof Int8Array ? -128 : f instanceof Int16Array ? -32768 : f instanceof Int32Array ? -2147483648 : f instanceof Float32Array ? 12e-39 : 0), void 0 === y && (y = t && Wh in t ? parseFloat(t.STATISTICS_MAXIMUM) : ec(e[c][0])), p = 255 / (y - _), m = -_ * p } for (let i = 0; i < o[c]; ++i) { const n = e[c][i][t]; let r; if (r = l ? ii(p * n + m, 0, 255) : n, h) { let t = u.nodata; if (void 0 === t) { let e; e = u.bands ? u.bands[i] - 1 : i, t = a[c][e] } const e = isNaN(t); (!e && n !== t || e && !isNaN(n)) && (s = !1, d[g] = r) } else d[g] = r; g++ } if (!s) { const i = e[r + c]; i && !i[0][t] && (s = !0) } } h && (s || (d[g] = 255), g++) } var f; return d } } ic.prototype.getView; class nc extends Vr { constructor(t, e, i, n, r, s, o) { super(e, i, n, r, s, o), this.zoomifyImage_ = null, this.tileSize_ = t } getImage() { if (this.zoomifyImage_) return this.zoomifyImage_; const t = super.getImage(); if (this.state == J) { const e = this.tileSize_; if (t.width == e[0] && t.height == e[1]) return this.zoomifyImage_ = t, t; { const i = Dr(e[0], e[1]); return i.drawImage(t, 0, 0), this.zoomifyImage_ = i.canvas, i.canvas } } return t } } const rc = "version1", sc = "version2", oc = "version3", ac = {}; ac[rc] = { level0: { supports: [], formats: [], qualities: ["native"] }, level1: { supports: ["regionByPx", "sizeByW", "sizeByH", "sizeByPct"], formats: ["jpg"], qualities: ["native"] }, level2: { supports: ["regionByPx", "regionByPct", "sizeByW", "sizeByH", "sizeByPct", "sizeByConfinedWh", "sizeByWh"], formats: ["jpg", "png"], qualities: ["native", "color", "grey", "bitonal"] } }, ac[sc] = { level0: { supports: [], formats: ["jpg"], qualities: ["default"] }, level1: { supports: ["regionByPx", "sizeByW", "sizeByH", "sizeByPct"], formats: ["jpg"], qualities: ["default"] }, level2: { supports: ["regionByPx", "regionByPct", "sizeByW", "sizeByH", "sizeByPct", "sizeByConfinedWh", "sizeByDistortedWh", "sizeByWh"], formats: ["jpg", "png"], qualities: ["default", "bitonal"] } }, ac[oc] = { level0: { supports: [], formats: ["jpg"], qualities: ["default"] }, level1: { supports: ["regionByPx", "regionSquare", "sizeByW", "sizeByH", "sizeByWh"], formats: ["jpg"], qualities: ["default"] }, level2: { supports: ["regionByPx", "regionSquare", "regionByPct", "sizeByW", "sizeByH", "sizeByPct", "sizeByConfinedWh", "sizeByWh"], formats: ["jpg", "png"], qualities: ["default"] } }, ac.none = { none: { supports: [], formats: [], qualities: [] } }; const lc = /^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/, hc = /^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/, cc = /(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/; const uc = {}; uc[rc] = function (t) { let e = t.getComplianceLevelSupportedFeatures(); return void 0 === e && (e = ac[rc].level0), { url: void 0 === t.imageInfo["@id"] ? void 0 : t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g, ""), supports: e.supports, formats: [...e.formats, void 0 === t.imageInfo.formats ? [] : t.imageInfo.formats], qualities: [...e.qualities, void 0 === t.imageInfo.qualities ? [] : t.imageInfo.qualities], resolutions: t.imageInfo.scale_factors, tileSize: void 0 !== t.imageInfo.tile_width ? void 0 !== t.imageInfo.tile_height ? [t.imageInfo.tile_width, t.imageInfo.tile_height] : [t.imageInfo.tile_width, t.imageInfo.tile_width] : null != t.imageInfo.tile_height ? [t.imageInfo.tile_height, t.imageInfo.tile_height] : void 0 } }, uc[sc] = function (t) { const e = t.getComplianceLevelSupportedFeatures(), i = Array.isArray(t.imageInfo.profile) && t.imageInfo.profile.length > 1, n = i && t.imageInfo.profile[1].supports ? t.imageInfo.profile[1].supports : [], r = i && t.imageInfo.profile[1].formats ? t.imageInfo.profile[1].formats : [], s = i && t.imageInfo.profile[1].qualities ? t.imageInfo.profile[1].qualities : []; return { url: t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g, ""), sizes: void 0 === t.imageInfo.sizes ? void 0 : t.imageInfo.sizes.map((function (t) { return [t.width, t.height] })), tileSize: void 0 === t.imageInfo.tiles ? void 0 : [t.imageInfo.tiles.map((function (t) { return t.width }))[0], t.imageInfo.tiles.map((function (t) { return void 0 === t.height ? t.width : t.height }))[0]], resolutions: void 0 === t.imageInfo.tiles ? void 0 : t.imageInfo.tiles.map((function (t) { return t.scaleFactors }))[0], supports: [...e.supports, ...n], formats: [...e.formats, ...r], qualities: [...e.qualities, ...s] } }, uc[oc] = function (t) { const e = t.getComplianceLevelSupportedFeatures(), i = void 0 === t.imageInfo.extraFormats ? e.formats : [...e.formats, ...t.imageInfo.extraFormats], n = void 0 !== t.imageInfo.preferredFormats && Array.isArray(t.imageInfo.preferredFormats) && t.imageInfo.preferredFormats.length > 0 ? t.imageInfo.preferredFormats.filter((function (t) { return ["jpg", "png", "gif"].includes(t) })).reduce((function (t, e) { return void 0 === t && i.includes(e) ? e : t }), void 0) : void 0; return { url: t.imageInfo.id, sizes: void 0 === t.imageInfo.sizes ? void 0 : t.imageInfo.sizes.map((function (t) { return [t.width, t.height] })), tileSize: void 0 === t.imageInfo.tiles ? void 0 : [t.imageInfo.tiles.map((function (t) { return t.width }))[0], t.imageInfo.tiles.map((function (t) { return t.height }))[0]], resolutions: void 0 === t.imageInfo.tiles ? void 0 : t.imageInfo.tiles.map((function (t) { return t.scaleFactors }))[0], supports: void 0 === t.imageInfo.extraFeatures ? e.supports : [...e.supports, ...t.imageInfo.extraFeatures], formats: i, qualities: void 0 === t.imageInfo.extraQualities ? e.qualities : [...e.qualities, ...t.imageInfo.extraQualities], preferredFormat: n } }; function dc(t) { return t.toLocaleString("en", { maximumFractionDigits: 10 }) } class gc extends Rr { constructor(t, e, i, n, r, s, o) { const a = t.getExtent(), l = e.getExtent(), h = l ? ye(i, l) : i, c = Gl(t, e, ge(h), n), u = new Ul(t, e, h, a, .5 * c, n), d = s(u.calculateSourceExtent(), c, r), g = d ? Pr : Fr, f = d ? d.getPixelRatio() : 1; super(i, n, f, g), this.targetProj_ = e, this.maxSourceExtent_ = a, this.triangulation_ = u, this.targetResolution_ = n, this.targetExtent_ = i, this.sourceImage_ = d, this.sourcePixelRatio_ = f, this.interpolate_ = o, this.canvas_ = null, this.sourceListenerKey_ = null } disposeInternal() { this.state == Ir && this.unlistenSource_(), super.disposeInternal() } getImage() { return this.canvas_ } getProjection() { return this.targetProj_ } reproject_() { const t = this.sourceImage_.getState(); if (t == Lr) { const t = Se(this.targetExtent_) / this.targetResolution_, e = _e(this.targetExtent_) / this.targetResolution_; this.canvas_ = Bl(t, e, this.sourcePixelRatio_, this.sourceImage_.getResolution(), this.maxSourceExtent_, this.targetResolution_, this.targetExtent_, this.triangulation_, [{ extent: this.sourceImage_.getExtent(), image: this.sourceImage_.getImage() }], 0, void 0, this.interpolate_) } this.state = t, this.changed() } load() { if (this.state == Pr) { this.state = Ir, this.changed(); const t = this.sourceImage_.getState(); t == Lr || t == Mr ? this.reproject_() : (this.sourceListenerKey_ = N(this.sourceImage_, S, (function (t) { const e = this.sourceImage_.getState(); e != Lr && e != Mr || (this.unlistenSource_(), this.reproject_()) }), this), this.sourceImage_.load()) } } unlistenSource_() { k(this.sourceListenerKey_), this.sourceListenerKey_ = null } } const fc = "imageloadstart", pc = "imageloadend", mc = "imageloaderror"; class _c extends i { constructor(t, e) { super(t), this.image = e } } class yc extends Zl { constructor(t) { super({ attributions: t.attributions, projection: t.projection, state: t.state, interpolate: void 0 === t.interpolate || t.interpolate }), this.on, this.once, this.un, this.resolutions_ = void 0 !== t.resolutions ? t.resolutions : null, this.reprojectedImage_ = null, this.reprojectedRevision_ = 0 } getResolutions() { return this.resolutions_ } findNearestResolution(t) { if (this.resolutions_) { const e = l(this.resolutions_, t, 0); t = this.resolutions_[e] } return t } getImage(t, e, i, n) { const r = this.getProjection(); if (r && n && !Ki(r, n)) { if (this.reprojectedImage_) { if (this.reprojectedRevision_ == this.getRevision() && Ki(this.reprojectedImage_.getProjection(), n) && this.reprojectedImage_.getResolution() == e && ee(this.reprojectedImage_.getExtent(), t)) return this.reprojectedImage_; this.reprojectedImage_.dispose(), this.reprojectedImage_ = null } return this.reprojectedImage_ = new gc(r, n, t, e, i, function (t, e, i) { return this.getImageInternal(t, e, i, r) }.bind(this), this.getInterpolate()), this.reprojectedRevision_ = this.getRevision(), this.reprojectedImage_ } return r && (n = r), this.getImageInternal(t, e, i, n) } getImageInternal(t, e, i, n) { return B() } handleImageChange(t) { const e = t.target; let i; switch (e.getState()) { case Ir: this.loading = !0, i = fc; break; case Lr: this.loading = !1, i = pc; break; case Mr: this.loading = !1, i = mc; break; default: return }this.hasListener(i) && this.dispatchEvent(new _c(i, e)) } } function xc(t, e) { t.getImage().src = e } function vc(t, e) { const i = []; Object.keys(e).forEach((function (t) { null !== e[t] && void 0 !== e[t] && i.push(t + "=" + encodeURIComponent(e[t])) })); const n = i.join("&"); return t = t.replace(/[?&]$/, ""), (t += t.includes("?") ? "&" : "?") + n } const Sc = "1.3.0", wc = [101, 101]; const Ec = '&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'; class Tc extends vs { constructor(t) { super(t = t || {}) } } class Cc extends G { constructor(t) { super(), this.ready = !0, this.boundHandleImageChange_ = this.handleImageChange_.bind(this), this.layer_ = t, this.declutterExecutorGroup = null } getFeatures(t) { return B() } getData(t) { return null } prepareFrame(t) { return B() } renderFrame(t, e) { return B() } loadedTileCallback(t, e, i) { t[e] || (t[e] = {}), t[e][i.tileCoord.toString()] = i } createLoadedTileFinder(t, e, i) { return function (n, r) { const s = this.loadedTileCallback.bind(this, i, n); return t.forEachLoadedTile(e, n, r, s) }.bind(this) } forEachFeatureAtCoordinate(t, e, i, n, r) { } getLayer() { return this.layer_ } handleFontsChanged() { } handleImageChange_(t) { t.target.getState() === Lr && this.renderIfReadyAndVisible() } loadImage(t) { let e = t.getState(); return e != Lr && e != Mr && t.addEventListener(S, this.boundHandleImageChange_), e == Pr && (t.load(), e = t.getState()), e == Lr } renderIfReadyAndVisible() { const t = this.getLayer(); t && t.getVisible() && "ready" === t.getSourceState() && t.changed() } disposeInternal() { delete this.layer_, super.disposeInternal() } } const bc = []; let Rc = null; class Pc extends Cc { constructor(t) { super(t), this.container = null, this.renderedResolution, this.tempTransform = [1, 0, 0, 1, 0, 0], this.pixelTransform = [1, 0, 0, 1, 0, 0], this.inversePixelTransform = [1, 0, 0, 1, 0, 0], this.context = null, this.containerReused = !1, this.pixelContext_ = null, this.frameState = null } getImageData(t, e, i) { let n; Rc || function () { const t = document.createElement("canvas"); t.width = 1, t.height = 1, Rc = t.getContext("2d") }(), Rc.clearRect(0, 0, 1, 1); try { Rc.drawImage(t, e, i, 1, 1, 0, 0, 1, 1), n = Rc.getImageData(0, 0, 1, 1).data } catch (t) { return Rc = null, null } return n } getBackground(t) { let e = this.getLayer().getBackground(); return "function" == typeof e && (e = e(t.viewState.resolution)), e || void 0 } useContainer(t, e, i) { const n = this.getLayer().getClassName(); let r, s; if (t && t.className === n && (!i || t && t.style.backgroundColor && u($r(t.style.backgroundColor), $r(i)))) { const e = t.firstElementChild; e instanceof HTMLCanvasElement && (s = e.getContext("2d")) } if (s && s.canvas.style.transform === e ? (this.container = t, this.context = s, this.containerReused = !0) : this.containerReused && (this.container = null, this.context = null, this.containerReused = !1), !this.container) { r = document.createElement("div"), r.className = n; let t = r.style; t.position = "absolute", t.width = "100%", t.height = "100%", s = Dr(); const e = s.canvas; r.appendChild(e), t = e.style, t.position = "absolute", t.left = "0", t.transformOrigin = "top left", this.container = r, this.context = s } this.containerReused || !i || this.container.style.backgroundColor || (this.container.style.backgroundColor = i) } clipUnrotated(t, e, i) { const n = xe(i), r = ve(i), s = de(i), o = ue(i); bt(e.coordinateToPixelTransform, n), bt(e.coordinateToPixelTransform, r), bt(e.coordinateToPixelTransform, s), bt(e.coordinateToPixelTransform, o); const a = this.inversePixelTransform; bt(a, n), bt(a, r), bt(a, s), bt(a, o), t.save(), t.beginPath(), t.moveTo(Math.round(n[0]), Math.round(n[1])), t.lineTo(Math.round(r[0]), Math.round(r[1])), t.lineTo(Math.round(s[0]), Math.round(s[1])), t.lineTo(Math.round(o[0]), Math.round(o[1])), t.clip() } dispatchRenderEvent_(t, e, i) { const n = this.getLayer(); if (n.hasListener(t)) { const r = new Ts(t, this.inversePixelTransform, i, e); n.dispatchEvent(r) } } preRender(t, e) { this.frameState = e, this.dispatchRenderEvent_(ps, t, e) } postRender(t, e) { this.dispatchRenderEvent_(ms, t, e) } getRenderTransform(t, e, i, n, r, s, o) { const a = r / 2, l = s / 2, h = n / e, c = -h, u = -t[0] + o, d = -t[1]; return Mt(this.tempTransform, a, l, h, c, -i, u, d) } disposeInternal() { delete this.frameState, super.disposeInternal() } } class Ic extends Pc { constructor(t) { super(t), this.image_ = null } getImage() { return this.image_ ? this.image_.getImage() : null } prepareFrame(t) { const e = t.layerStatesArray[t.layerIndex], i = t.pixelRatio, n = t.viewState, r = n.resolution, s = this.getLayer().getSource(), o = t.viewHints; let a = t.extent; if (void 0 !== e.extent && (a = ye(a, on(e.extent, n.projection))), !o[Ro] && !o[Po] && !Ee(a)) if (s) { const t = n.projection, e = s.getImage(a, r, i, t); e && (this.loadImage(e) ? this.image_ = e : e.getState() === Fr && (this.image_ = null)) } else this.image_ = null; return !!this.image_ } getData(t) { const e = this.frameState; if (!e) return null; const i = this.getLayer(), n = bt(e.pixelToCoordinateTransform, t.slice()), r = i.getExtent(); if (r && !Zt(r, n)) return null; const s = this.image_.getExtent(), o = this.image_.getImage(), a = Se(s), l = Math.floor(o.width * ((n[0] - s[0]) / a)); if (l < 0 || l >= o.width) return null; const h = _e(s), c = Math.floor(o.height * ((s[3] - n[1]) / h)); return c < 0 || c >= o.height ? null : this.getImageData(o, l, c) } renderFrame(t, e) { const i = this.image_, n = i.getExtent(), r = i.getResolution(), s = i.getPixelRatio(), o = t.layerStatesArray[t.layerIndex], a = t.pixelRatio, l = t.viewState, h = l.center, c = a * r / (l.resolution * s), u = t.extent, d = l.resolution, g = l.rotation, f = Math.round(Se(u) / d * a), p = Math.round(_e(u) / d * a); Mt(this.pixelTransform, t.size[0] / 2, t.size[1] / 2, 1 / a, 1 / a, g, -f / 2, -p / 2), Ft(this.inversePixelTransform, this.pixelTransform); const m = Nt(this.pixelTransform); this.useContainer(e, m, this.getBackground(t)); const _ = this.context, y = _.canvas; y.width != f || y.height != p ? (y.width = f, y.height = p) : this.containerReused || _.clearRect(0, 0, f, p); let x = !1, v = !0; if (o.extent) { const e = on(o.extent, l.projection); v = we(e, t.extent), x = v && !Yt(e, t.extent), x && this.clipUnrotated(_, t, e) } const S = i.getImage(), w = Mt(this.tempTransform, f / 2, p / 2, c, c, 0, s * (n[0] - h[0]) / r, s * (h[1] - n[3]) / r); this.renderedResolution = r * a / s; const E = S.width * w[0], T = S.height * w[3]; if (this.getLayer().getSource().getInterpolate() || (_.imageSmoothingEnabled = !1), this.preRender(_, t), v && E >= .5 && T >= .5) { const t = w[4], e = w[5], i = o.opacity; let n; 1 !== i && (n = _.globalAlpha, _.globalAlpha = i), _.drawImage(S, 0, 0, +S.width, +S.height, t, e, E, T), 1 !== i && (_.globalAlpha = n) } return this.postRender(_, t), x && _.restore(), _.imageSmoothingEnabled = !0, m !== y.style.transform && (y.style.transform = m), this.container } } class Lc extends Tc { constructor(t) { super(t) } createRenderer() { return new Ic(this) } getData(t) { return super.getData(t) } } var Mc = "preload", Fc = "useInterimTilesOnError"; class Ac extends vs { constructor(t) { t = t || {}; const e = Object.assign({}, t); delete e.preload, delete e.useInterimTilesOnError, super(e), this.on, this.once, this.un, this.setPreload(void 0 !== t.preload ? t.preload : 0), this.setUseInterimTilesOnError(void 0 === t.useInterimTilesOnError || t.useInterimTilesOnError) } getPreload() { return this.get(Mc) } setPreload(t) { this.set(Mc, t) } getUseInterimTilesOnError() { return this.get(Fc) } setUseInterimTilesOnError(t) { this.set(Fc, t) } getData(t) { return super.getData(t) } } class Oc extends Pc { constructor(t) { super(t), this.extentChanged = !0, this.renderedExtent_ = null, this.renderedPixelRatio, this.renderedProjection = null, this.renderedRevision, this.renderedTiles = [], this.newTiles_ = !1, this.tmpExtent = [1 / 0, 1 / 0, -1 / 0, -1 / 0], this.tmpTileRange_ = new hl(0, 0, 0, 0) } isDrawableTile(t) { const e = this.getLayer(), i = t.getState(), n = e.getUseInterimTilesOnError(); return i == J || i == tt || i == Q && !n } getTile(t, e, i, n) { const r = n.pixelRatio, s = n.viewState.projection, o = this.getLayer(); let a = o.getSource().getTile(t, e, i, r, s); return a.getState() == Q && o.getUseInterimTilesOnError() && o.getPreload() > 0 && (this.newTiles_ = !0), this.isDrawableTile(a) || (a = a.getInterimTile()), a } getData(t) { const e = this.frameState; if (!e) return null; const i = this.getLayer(), n = bt(e.pixelToCoordinateTransform, t.slice()), r = i.getExtent(); if (r && !Zt(r, n)) return null; const s = e.pixelRatio, o = e.viewState.projection, a = e.viewState, l = i.getRenderSource(), h = l.getTileGridForProjection(a.projection), c = l.getTilePixelRatio(e.pixelRatio); for (let t = h.getZForResolution(a.resolution); t >= h.getMinZoom(); --t) { const e = h.getTileCoordForCoordAndZ(n, t), i = l.getTile(t, e[1], e[2], s, o); if (!(i instanceof Vr || i instanceof zl) || i instanceof zl && i.getState() === tt) return null; if (i.getState() !== J) continue; const r = h.getOrigin(t), u = Va(h.getTileSize(t)), d = h.getResolution(t), g = Math.floor(c * ((n[0] - r[0]) / d - e[1] * u[0])), f = Math.floor(c * ((r[1] - n[1]) / d - e[2] * u[1])), p = Math.round(c * l.getGutterForProjection(a.projection)); return this.getImageData(i.getImage(), g + p, f + p) } return null } loadedTileCallback(t, e, i) { return !!this.isDrawableTile(i) && super.loadedTileCallback(t, e, i) } prepareFrame(t) { return !!this.getLayer().getSource() } renderFrame(t, e) { const i = t.layerStatesArray[t.layerIndex], n = t.viewState, r = n.projection, s = n.resolution, o = n.center, l = n.rotation, h = t.pixelRatio, c = this.getLayer(), u = c.getSource(), d = u.getRevision(), g = u.getTileGridForProjection(r), f = g.getZForResolution(s, u.zDirection), p = g.getResolution(f); let m = t.extent; const _ = t.viewState.resolution, y = u.getTilePixelRatio(h), x = Math.round(Se(m) / _ * h), v = Math.round(_e(m) / _ * h), S = i.extent && on(i.extent, r); S && (m = ye(m, on(i.extent, r))); const w = p * x / 2 / y, E = p * v / 2 / y, T = [o[0] - w, o[1] - E, o[0] + w, o[1] + E], C = g.getTileRangeForExtentAndZ(m, f), b = {}; b[f] = {}; const R = this.createLoadedTileFinder(u, r, b), P = this.tmpExtent, I = this.tmpTileRange_; this.newTiles_ = !1; const L = l ? me(n.center, _, l, t.size) : void 0; for (let e = C.minX; e <= C.maxX; ++e)for (let n = C.minY; n <= C.maxY; ++n) { if (l && !g.tileCoordIntersectsViewport([f, e, n], L)) continue; const r = this.getTile(f, e, n, t); if (this.isDrawableTile(r)) { const e = z(this); if (r.getState() == J) { b[f][r.tileCoord.toString()] = r; let t = r.inTransition(e); t && 1 !== i.opacity && (r.endTransition(e), t = !1), this.newTiles_ || !t && this.renderedTiles.includes(r) || (this.newTiles_ = !0) } if (1 === r.getAlpha(e, t.time)) continue } const s = g.getTileCoordChildTileRange(r.tileCoord, I, P); let o = !1; s && (o = R(f + 1, s)), o || g.forEachTileCoordParentTileRange(r.tileCoord, R, I, P) } const M = p / s * h / y; Mt(this.pixelTransform, t.size[0] / 2, t.size[1] / 2, 1 / h, 1 / h, l, -x / 2, -v / 2); const F = Nt(this.pixelTransform); this.useContainer(e, F, this.getBackground(t)); const A = this.context, O = A.canvas; Ft(this.inversePixelTransform, this.pixelTransform), Mt(this.tempTransform, x / 2, v / 2, M, M, 0, -x / 2, -v / 2), O.width != x || O.height != v ? (O.width = x, O.height = v) : this.containerReused || A.clearRect(0, 0, x, v), S && this.clipUnrotated(A, t, S), u.getInterpolate() || (A.imageSmoothingEnabled = !1), this.preRender(A, t), this.renderedTiles.length = 0; let N, D, k, G = Object.keys(b).map(Number); G.sort(a), 1 !== i.opacity || this.containerReused && !u.getOpaque(t.viewState.projection) ? (N = [], D = []) : G = G.reverse(); for (let e = G.length - 1; e >= 0; --e) { const i = G[e], n = u.getTilePixelSize(i, h, r), s = g.getResolution(i) / p, o = n[0] * s * M, a = n[1] * s * M, l = g.getTileCoordForCoordAndZ(xe(T), i), c = g.getTileCoordExtent(l), d = bt(this.tempTransform, [y * (c[0] - T[0]) / p, y * (T[3] - c[3]) / p]), m = y * u.getGutterForProjection(r), _ = b[i]; for (const e in _) { const n = _[e], r = n.tileCoord, s = l[1] - r[1], h = Math.round(d[0] - (s - 1) * o), c = l[2] - r[2], g = Math.round(d[1] - (c - 1) * a), p = Math.round(d[0] - s * o), y = Math.round(d[1] - c * a), x = h - p, v = g - y, S = f === i, w = S && 1 !== n.getAlpha(z(this), t.time); let E = !1; if (!w) if (N) { k = [p, y, p + x, y, p + x, y + v, p, y + v]; for (let t = 0, e = N.length; t < e; ++t)if (f !== i && i < D[t]) { const e = N[t]; we([p, y, p + x, y + v], [e[0], e[3], e[4], e[7]]) && (E || (A.save(), E = !0), A.beginPath(), A.moveTo(k[0], k[1]), A.lineTo(k[2], k[3]), A.lineTo(k[4], k[5]), A.lineTo(k[6], k[7]), A.moveTo(e[6], e[7]), A.lineTo(e[4], e[5]), A.lineTo(e[2], e[3]), A.lineTo(e[0], e[1]), A.clip()) } N.push(k), D.push(i) } else A.clearRect(p, y, x, v); this.drawTileImage(n, t, p, y, x, v, m, S), N && !w ? (E && A.restore(), this.renderedTiles.unshift(n)) : this.renderedTiles.push(n), this.updateUsedTiles(t.usedTiles, u, n) } } return this.renderedRevision = d, this.renderedResolution = p, this.extentChanged = !this.renderedExtent_ || !ee(this.renderedExtent_, T), this.renderedExtent_ = T, this.renderedPixelRatio = h, this.renderedProjection = r, this.manageTilePyramid(t, u, g, h, r, m, f, c.getPreload()), this.scheduleExpireCache(t, u), this.postRender(A, t), i.extent && A.restore(), A.imageSmoothingEnabled = !0, F !== O.style.transform && (O.style.transform = F), this.container } drawTileImage(t, e, i, n, r, s, o, a) { const l = this.getTileImage(t); if (!l) return; const h = z(this), c = e.layerStatesArray[e.layerIndex], u = c.opacity * (a ? t.getAlpha(h, e.time) : 1), d = u !== this.context.globalAlpha; d && (this.context.save(), this.context.globalAlpha = u), this.context.drawImage(l, o, o, l.width - 2 * o, l.height - 2 * o, i, n, r, s), d && this.context.restore(), u !== c.opacity ? e.animate = !0 : a && t.endTransition(h) } getImage() { const t = this.context; return t ? t.canvas : null } getTileImage(t) { return t.getImage() } scheduleExpireCache(t, e) { if (e.canExpireCache()) { const i = function (t, e, i) { const n = z(t); n in i.usedTiles && t.expireCache(i.viewState.projection, i.usedTiles[n]) }.bind(null, e); t.postRenderFunctions.push(i) } } updateUsedTiles(t, e, i) { const n = z(e); n in t || (t[n] = {}), t[n][i.getKey()] = !0 } manageTilePyramid(t, e, i, n, r, s, o, a, l) { const h = z(e); h in t.wantedTiles || (t.wantedTiles[h] = {}); const c = t.wantedTiles[h], u = t.tileQueue, d = i.getMinZoom(), g = t.viewState.rotation, f = g ? me(t.viewState.center, t.viewState.resolution, g, t.size) : void 0; let p, m, _, y, x, v, S = 0; for (v = d; v <= o; ++v)for (m = i.getTileRangeForExtentAndZ(s, v, m), _ = i.getResolution(v), y = m.minX; y <= m.maxX; ++y)for (x = m.minY; x <= m.maxY; ++x)g && !i.tileCoordIntersectsViewport([v, y, x], f) || (o - v <= a ? (++S, p = e.getTile(v, y, x, n, r), p.getState() == H && (c[p.getKey()] = !0, u.isKeyQueued(p.getKey()) || u.enqueue([p, h, i.getTileCoordCenter(p.tileCoord), _])), void 0 !== l && l(p)) : e.useTile(v, y, x, r)); e.updateCacheSize(S, r) } } class Nc extends Ac { constructor(t) { super(t) } createRenderer() { return new Oc(this) } } let Dc, kc = !0; try { new ImageData(10, 10) } catch (t) { kc = !1 } function Gc(t, e, i) { if (kc) return new ImageData(t, e, i); Dc || (Dc = document.createElement("canvas").getContext("2d")); const n = Dc.createImageData(e, i); return n.data.set(t), n } function jc(t) { let e = !0; try { new ImageData(10, 10) } catch (t) { e = !1 } function i(t, i, n) { return e ? new ImageData(t, i, n) : { data: t, width: i, height: n } } return function (e) { const n = e.buffers, r = e.meta, s = e.imageOps, o = e.width, a = e.height, l = n.length, h = n[0].byteLength; if (s) { const e = new Array(l); for (let t = 0; t < l; ++t)e[t] = i(new Uint8ClampedArray(n[t]), o, a); return t(e, r).data.buffer } const c = new Uint8ClampedArray(h), u = new Array(l), d = new Array(l); for (let t = 0; t < l; ++t)u[t] = new Uint8ClampedArray(n[t]), d[t] = [0, 0, 0, 0]; for (let e = 0; e < h; e += 4) { for (let t = 0; t < l; ++t) { const i = u[t]; d[t][0] = i[e], d[t][1] = i[e + 1], d[t][2] = i[e + 2], d[t][3] = i[e + 3] } const i = t(d, r); c[e] = i[0], c[e + 1] = i[1], c[e + 2] = i[2], c[e + 3] = i[3] } return c.buffer } } function Bc(t, e) { const i = Object.keys(t.lib || {}).map((function (e) { return "const " + e + " = " + t.lib[e].toString() + ";" })).concat(["const __minion__ = (" + jc.toString() + ")(", t.operation.toString(), ");", 'self.addEventListener("message", function(event) {', "  const buffer = __minion__(event.data);", "  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);", "});"]), n = new Worker("undefined" == typeof Blob ? "data:text/javascript;base64," + Buffer.from(i.join("\n"), "binary").toString("base64") : URL.createObjectURL(new Blob(i, { type: "text/javascript" }))); return n.addEventListener("message", e), n } class Uc extends s { constructor(t) { let e; super(), this._imageOps = !!t.imageOps, e = 0 === t.threads ? 0 : this._imageOps ? 1 : t.threads || 1; const i = new Array(e); if (e) for (let n = 0; n < e; ++n)i[n] = Bc(t, this._onWorkerMessage.bind(this, n)); else i[0] = function (t, e) { const i = jc(t.operation); let n = !1; return { postMessage: function (t) { setTimeout((function () { n || e({ data: { buffer: i(t), meta: t.meta } }) }), 0) }, terminate: function () { n = !0 } } }(t, this._onWorkerMessage.bind(this, 0)); this._workers = i, this._queue = [], this._maxQueueLength = t.queue || 1 / 0, this._running = 0, this._dataLookup = {}, this._job = null } process(t, e, i) { this._enqueue({ inputs: t, meta: e, callback: i }), this._dispatch() } _enqueue(t) { for (this._queue.push(t); this._queue.length > this._maxQueueLength;)this._queue.shift().callback(null, null) } _dispatch() { if (this._running || 0 === this._queue.length) return; const t = this._queue.shift(); this._job = t; const e = t.inputs[0].width, i = t.inputs[0].height, n = t.inputs.map((function (t) { return t.data.buffer })), r = this._workers.length; if (this._running = r, 1 === r) return void this._workers[0].postMessage({ buffers: n, meta: t.meta, imageOps: this._imageOps, width: e, height: i }, n); const s = t.inputs[0].data.length, o = 4 * Math.ceil(s / 4 / r); for (let s = 0; s < r; ++s) { const r = s * o, a = []; for (let t = 0, e = n.length; t < e; ++t)a.push(n[t].slice(r, r + o)); this._workers[s].postMessage({ buffers: a, meta: t.meta, imageOps: this._imageOps, width: e, height: i }, a) } } _onWorkerMessage(t, e) { this.disposed || (this._dataLookup[t] = e.data, --this._running, 0 === this._running && this._resolveJob()) } _resolveJob() { const t = this._job, e = this._workers.length; let i, n; if (1 === e) i = new Uint8ClampedArray(this._dataLookup[0].buffer), n = this._dataLookup[0].meta; else { const r = t.inputs[0].data.length; i = new Uint8ClampedArray(r), n = new Array(e); const s = 4 * Math.ceil(r / 4 / e); for (let t = 0; t < e; ++t) { const e = this._dataLookup[t].buffer, r = t * s; i.set(new Uint8ClampedArray(e), r), n[t] = this._dataLookup[t].meta } } this._job = null, this._dataLookup = {}, t.callback(null, Gc(i, t.inputs[0].width, t.inputs[0].height), n), this._dispatch() } disposeInternal() { for (let t = 0; t < this._workers.length; ++t)this._workers[t].terminate(); this._workers.length = 0 } } const zc = "beforeoperations", Xc = "afteroperations"; class Vc extends i { constructor(t, e, i) { super(t), this.extent = e.extent, this.resolution = e.viewState.resolution / e.pixelRatio, this.data = i } } class Wc extends yc { constructor(t) { super({ projection: null }), this.on, this.once, this.un, this.processor_ = null, this.operationType_ = void 0 !== t.operationType ? t.operationType : "pixel", this.threads_ = void 0 !== t.threads ? t.threads : 1, this.layers_ = function (t) { const e = t.length, i = new Array(e); for (let n = 0; n < e; ++n)i[n] = Kc(t[n]); return i }(t.sources); const e = this.changed.bind(this); for (let t = 0, i = this.layers_.length; t < i; ++t)this.layers_[t].addEventListener(S, e); var i; this.tileQueue_ = new Co((function () { return 1 }), this.changed.bind(this)), this.requestedFrameState_, this.renderedImageCanvas_ = null, this.renderedRevision_, this.frameState_ = { animate: !1, coordinateToPixelTransform: [1, 0, 0, 1, 0, 0], declutterTree: null, extent: null, index: 0, layerIndex: 0, layerStatesArray: (i = this.layers_, i.map((function (t) { return t.getLayerState() }))), pixelRatio: 1, pixelToCoordinateTransform: [1, 0, 0, 1, 0, 0], postRenderFunctions: [], size: [0, 0], tileQueue: this.tileQueue_, time: Date.now(), usedTiles: {}, viewState: { rotation: 0 }, viewHints: [], wantedTiles: {}, mapId: z(this), renderTargets: {} }, this.setAttributions((function (e) { const i = []; for (let n = 0, r = t.sources.length; n < r; ++n) { const r = t.sources[n], s = (r instanceof Zl ? r : r.getSource()).getAttributions(); if ("function" == typeof s) { const t = s(e); i.push.apply(i, t) } } return 0 !== i.length ? i : null })), void 0 !== t.operation && this.setOperation(t.operation, t.lib) } setOperation(t, e) { this.processor_ && this.processor_.dispose(), this.processor_ = new Uc({ operation: t, imageOps: "image" === this.operationType_, queue: 1, lib: e, threads: this.threads_ }), this.changed() } updateFrameState_(t, e, i) { const n = Object.assign({}, this.frameState_); n.viewState = Object.assign({}, n.viewState); const r = ge(t); n.extent = t.slice(), n.size[0] = Math.round(Se(t) / e), n.size[1] = Math.round(_e(t) / e), n.time = Date.now(); const s = n.viewState; return s.center = r, s.projection = i, s.resolution = e, n } allSourcesReady_() { let t, e = !0; for (let i = 0, n = this.layers_.length; i < n; ++i)if (t = this.layers_[i].getSource(), "ready" !== t.getState()) { e = !1; break } return e } getImage(t, e, i, n) { if (!this.allSourcesReady_()) return null; const r = this.updateFrameState_(t, e, n); if (this.requestedFrameState_ = r, this.renderedImageCanvas_) { const i = this.renderedImageCanvas_.getResolution(), n = this.renderedImageCanvas_.getExtent(); e === i && ee(t, n) || (this.renderedImageCanvas_ = null) } return this.renderedImageCanvas_ && this.getRevision() === this.renderedRevision_ || this.processSources_(), r.tileQueue.loadMoreTiles(16, 16), r.animate && requestAnimationFrame(this.changed.bind(this)), this.renderedImageCanvas_ } processSources_() { const t = this.requestedFrameState_, e = this.layers_.length, i = new Array(e); for (let n = 0; n < e; ++n) { t.layerIndex = n; const e = Yc(this.layers_[n], t); if (!e) return; i[n] = e } const n = {}; this.dispatchEvent(new Vc(zc, t, n)), this.processor_.process(i, n, this.onWorkerComplete_.bind(this, t)) } onWorkerComplete_(t, e, i, n) { if (e || !i) return; const r = t.extent, s = t.viewState.resolution; if (s !== this.requestedFrameState_.viewState.resolution || !ee(r, this.requestedFrameState_.extent)) return; let o; if (this.renderedImageCanvas_) o = this.renderedImageCanvas_.getImage().getContext("2d"); else { o = Dr(Math.round(Se(r) / s), Math.round(_e(r) / s)), this.renderedImageCanvas_ = new Nr(r, s, 1, o.canvas) } o.putImageData(i, 0, 0), this.changed(), this.renderedRevision_ = this.getRevision(), this.dispatchEvent(new Vc(Xc, t, n)), t.animate && requestAnimationFrame(this.changed.bind(this)) } disposeInternal() { this.processor_ && this.processor_.dispose(), super.disposeInternal() } } Wc.prototype.dispose; let Zc = null; function Yc(t, e) { const i = t.getRenderer(); if (!i) throw new Error("Unsupported layer type: " + t); if (!i.prepareFrame(e)) return null; const n = e.size[0], r = e.size[1]; if (0 === n || 0 === r) return null; const s = i.renderFrame(e, null); let o; if (s instanceof HTMLCanvasElement) o = s; else { if (s && (o = s.firstElementChild), !(o instanceof HTMLCanvasElement)) throw new Error("Unsupported rendered element: " + o); if (o.width === n && o.height === r) { return o.getContext("2d").getImageData(0, 0, n, r) } } if (Zc) { const t = Zc.canvas; t.width !== n || t.height !== r ? Zc = Dr(n, r) : Zc.clearRect(0, 0, n, r) } else Zc = Dr(n, r); return Zc.drawImage(o, 0, 0, n, r), Zc.getImageData(0, 0, n, r) } function Kc(t) { let e; return t instanceof Zl ? t instanceof nh ? e = new Nc({ source: t }) : t instanceof yc && (e = new Lc({ source: t })) : e = t, e } const qc = ['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.', Ec], Hc = { terrain: { extension: "jpg", opaque: !0 }, "terrain-background": { extension: "jpg", opaque: !0 }, "terrain-labels": { extension: "png", opaque: !1 }, "terrain-lines": { extension: "png", opaque: !1 }, "toner-background": { extension: "png", opaque: !0 }, toner: { extension: "png", opaque: !0 }, "toner-hybrid": { extension: "png", opaque: !1 }, "toner-labels": { extension: "png", opaque: !1 }, "toner-lines": { extension: "png", opaque: !1 }, "toner-lite": { extension: "png", opaque: !0 }, watercolor: { extension: "jpg", opaque: !0 } }, $c = { terrain: { minZoom: 0, maxZoom: 18 }, toner: { minZoom: 0, maxZoom: 20 }, watercolor: { minZoom: 0, maxZoom: 18 } }; class Jc extends st { constructor(t, e, i, n, r, s) { super(t, e), this.src_ = i, this.extent_ = n, this.preemptive_ = r, this.grid_ = null, this.keys_ = null, this.data_ = null, this.jsonp_ = s } getImage() { return null } getData(t) { if (!this.grid_ || !this.keys_) return null; const e = (t[0] - this.extent_[0]) / (this.extent_[2] - this.extent_[0]), i = (t[1] - this.extent_[1]) / (this.extent_[3] - this.extent_[1]), n = this.grid_[Math.floor((1 - i) * this.grid_.length)]; if ("string" != typeof n) return null; let r = n.charCodeAt(Math.floor(e * n.length)); r >= 93 && r--, r >= 35 && r--, r -= 32; let s = null; if (r in this.keys_) { const t = this.keys_[r]; s = this.data_ && t in this.data_ ? this.data_[t] : t } return s } forDataAtCoordinate(t, e, i) { this.state == tt && !0 === i ? (this.state = H, D(this, S, (function (i) { e(this.getData(t)) }), this), this.loadInternal_()) : !0 === i ? setTimeout(function () { e(this.getData(t)) }.bind(this), 0) : e(this.getData(t)) } getKey() { return this.src_ } handleError_() { this.state = Q, this.changed() } handleLoad_(t) { this.grid_ = t.grid, this.keys_ = t.keys, this.data_ = t.data, this.state = J, this.changed() } loadInternal_() { if (this.state == H) if (this.state = $, this.jsonp_) vl(this.src_, this.handleLoad_.bind(this), this.handleError_.bind(this)); else { const t = new XMLHttpRequest; t.addEventListener("load", this.onXHRLoad_.bind(this)), t.addEventListener("error", this.onXHRError_.bind(this)), t.open("GET", this.src_), t.send() } } onXHRLoad_(t) { const e = t.target; if (!e.status || e.status >= 200 && e.status < 300) { let t; try { t = JSON.parse(e.responseText) } catch (t) { return void this.handleError_() } this.handleLoad_(t) } else this.handleError_() } onXHRError_(t) { this.handleError_() } load() { this.preemptive_ ? this.loadInternal_() : this.setState(tt) } } class Qc extends ch { constructor(t) { const e = t.projection || "EPSG:3857", i = t.extent || ih(e), n = t.tileGrid || Ql({ extent: i, maxResolution: t.maxResolution, maxZoom: void 0 !== t.maxZoom ? t.maxZoom : 22, minZoom: t.minZoom, tileSize: t.tileSize || 512 }); super({ attributions: t.attributions, attributionsCollapsible: t.attributionsCollapsible, cacheSize: t.cacheSize, interpolate: !0, opaque: !1, projection: e, state: t.state, tileGrid: n, tileLoadFunction: t.tileLoadFunction ? t.tileLoadFunction : tu, tileUrlFunction: t.tileUrlFunction, url: t.url, urls: t.urls, wrapX: void 0 === t.wrapX || t.wrapX, transition: t.transition, zDirection: void 0 === t.zDirection ? 1 : t.zDirection }), this.format_ = t.format ? t.format : null, this.sourceTileCache = new ll(this.tileCache.highWaterMark), this.overlaps_ = null == t.overlaps || t.overlaps, this.tileClass = t.tileClass ? t.tileClass : gl, this.tileGrids_ = {} } getFeaturesInExtent(t) { const e = [], i = this.tileCache; if (0 === i.getCount()) return e; const n = sl(i.peekFirstKey())[0], r = this.tileGrid; return i.forEach((function (i) { if (i.tileCoord[0] !== n || i.getState() !== J) return; const s = i.getSourceTiles(); for (let i = 0, n = s.length; i < n; ++i) { const n = s[i], o = n.tileCoord; if (we(t, r.getTileCoordExtent(o))) { const i = n.getFeatures(); if (i) for (let n = 0, r = i.length; n < r; ++n) { const r = i[n], s = r.getGeometry(); we(t, s.getExtent()) && e.push(r) } } } })), e } getOverlaps() { return this.overlaps_ } clear() { this.tileCache.clear(), this.sourceTileCache.clear() } expireCache(t, e) { const i = this.getTileCacheForProjection(t), n = Object.keys(e).reduce(((t, e) => { const n = rl(e), r = i.peek(n); if (r) { const e = r.sourceTiles; for (let i = 0, n = e.length; i < n; ++i)t[e[i].getKey()] = !0 } return t }), {}); super.expireCache(t, e), this.sourceTileCache.expireCache(n) } getSourceTiles(t, e, i) { if (i.getState() === H) { i.setState($); const n = i.wrappedTileCoord, r = this.getTileGridForProjection(e), s = r.getTileCoordExtent(n), o = n[0], a = r.getResolution(o); Xt(s, -a, s); const l = this.tileGrid, h = l.getExtent(); h && ye(s, h, s); const c = l.getZForResolution(a, this.zDirection); l.forEachTileCoord(s, c, (n => { const r = this.tileUrlFunction(n, t, e), s = this.sourceTileCache.containsKey(r) ? this.sourceTileCache.get(r) : new this.tileClass(n, r ? H : tt, r, this.format_, this.tileLoadFunction); i.sourceTiles.push(s); const o = s.getState(); if (o < J) { const t = e => { this.handleTileChange(e); const n = s.getState(); if (n === J || n === Q) { const e = s.getKey(); e in i.errorTileKeys ? s.getState() === J && delete i.errorTileKeys[e] : i.loadingSourceTiles--, n === Q ? i.errorTileKeys[e] = !0 : s.removeEventListener(S, t), 0 === i.loadingSourceTiles && i.setState(x(i.errorTileKeys) ? J : Q) } }; s.addEventListener(S, t), i.loadingSourceTiles++ } o === H && (s.extent = l.getTileCoordExtent(n), s.projection = e, s.resolution = l.getResolution(n[0]), this.sourceTileCache.set(r, s), s.load()) })), i.loadingSourceTiles || i.setState(i.sourceTiles.some((t => t.getState() === Q)) ? Q : J) } return i.sourceTiles } getTile(t, e, i, n, r) { const s = il(t, e, i), o = this.getKey(); let a; if (this.tileCache.containsKey(s) && (a = this.tileCache.get(s), a.key === o)) return a; const l = [t, e, i]; let h = this.getTileCoordForTileUrlFunction(l, r); const c = this.getTileGrid().getExtent(), u = this.getTileGridForProjection(r); if (h && c) { const e = u.getTileCoordExtent(h); Xt(e, -u.getResolution(t), e), we(c, e) || (h = null) } let d = !0; if (null !== h) { const e = this.tileGrid, i = u.getResolution(t), s = e.getZForResolution(i, 1), o = u.getTileCoordExtent(h); Xt(o, -i, o), e.forEachTileCoord(o, s, function (t) { d = d && !this.tileUrlFunction(t, n, r) }.bind(this)) } const g = new dl(l, d ? tt : H, h, this.getSourceTiles.bind(this, n, r)); return g.key = o, a ? (g.interimTile = a, g.refreshInterimChain(), this.tileCache.replace(s, g)) : this.tileCache.set(s, g), g } getTileGridForProjection(t) { const e = t.getCode(); let i = this.tileGrids_[e]; if (!i) { const t = this.tileGrid, n = t.getResolutions().slice(), r = n.map((function (e, i) { return t.getOrigin(i) })), s = n.map((function (e, i) { return t.getTileSize(i) })), o = 43; for (let t = n.length; t < o; ++t)n.push(n[t - 1] / 2), r.push(r[t - 1]), s.push(s[t - 1]); i = new ql({ extent: t.getExtent(), origins: r, resolutions: n, tileSizes: s }), this.tileGrids_[e] = i } return i } getTilePixelRatio(t) { return t } getTilePixelSize(t, e, i) { const n = Va(this.getTileGridForProjection(i).getTileSize(t), this.tmpSize); return [Math.round(n[0] * e), Math.round(n[1] * e)] } updateCacheSize(t, e) { super.updateCacheSize(2 * t, e), this.sourceTileCache.highWaterMark = this.getTileCacheForProjection(e).highWaterMark } } function tu(t, e) { t.setLoader((function (i, n, r) { _l(e, t.getFormat(), i, n, r, t.onLoad.bind(t), t.onError.bind(t)) })) } class eu extends ql { constructor(t) { super({ extent: t.extent, origin: t.origin, origins: t.origins, resolutions: t.resolutions, tileSize: t.tileSize, tileSizes: t.tileSizes, sizes: t.sizes }), this.matrixIds_ = t.matrixIds } getMatrixId(t) { return this.matrixIds_[t] } getMatrixIds() { return this.matrixIds_ } } function iu(t, e, i) { const n = [], r = [], s = [], o = [], a = []; i = void 0 !== i ? i : []; const l = Ui(t.SupportedCRS), h = l.getMetersPerUnit(), c = "ne" == l.getAxisOrientation().substr(0, 2); return t.TileMatrix.sort((function (t, e) { return e.ScaleDenominator - t.ScaleDenominator })), t.TileMatrix.forEach((function (e) { let l; if (l = !(i.length > 0) || i.find((function (i) { return e.Identifier == i.TileMatrix || !e.Identifier.includes(":") && t.Identifier + ":" + e.Identifier === i.TileMatrix })), l) { r.push(e.Identifier); const t = 28e-5 * e.ScaleDenominator / h, i = e.TileWidth, l = e.TileHeight; c ? s.push([e.TopLeftCorner[1], e.TopLeftCorner[0]]) : s.push(e.TopLeftCorner), n.push(t), o.push(i == l ? i : [i, l]), a.push([e.MatrixWidth, e.MatrixHeight]) } })), new eu({ extent: e, origins: s, resolutions: n, matrixIds: r, tileSizes: o, sizes: a }) } const nu = 34962, ru = 34963, su = 35044, ou = 35048, au = 5126, lu = ["experimental-webgl", "webgl", "webkit-3d", "moz-webgl"]; function hu(t, e) { e = Object.assign({ preserveDrawingBuffer: !0, antialias: !gt }, e); const i = lu.length; for (let n = 0; n < i; ++n)try { const i = t.getContext(lu[n], e); if (i) return i } catch (t) { } return null } let cu; const uu = "http://www.w3.org/2001/XMLSchema-instance"; function du(t, e) { return Du().createElementNS(t, e) } function gu(t, e) { return fu(t, e, []).join("") } function fu(t, e, i) { if (t.nodeType == Node.CDATA_SECTION_NODE || t.nodeType == Node.TEXT_NODE) e ? i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g, "")) : i.push(t.nodeValue); else { let n; for (n = t.firstChild; n; n = n.nextSibling)fu(n, e, i) } return i } function pu(t) { return "documentElement" in t } function mu(t, e, i) { return t.getAttributeNS(e, i) || "" } function _u(t) { return (new DOMParser).parseFromString(t, "application/xml") } function yu(t, e) { return function (i, n) { const r = t.call(void 0 !== e ? e : this, i, n); if (void 0 !== r) { c(n[n.length - 1], r) } } } function xu(t, e) { return function (i, n) { const r = t.call(void 0 !== e ? e : this, i, n); if (void 0 !== r) { n[n.length - 1].push(r) } } } function vu(t, e) { return function (i, n) { const r = t.call(void 0 !== e ? e : this, i, n); void 0 !== r && (n[n.length - 1] = r) } } function Su(t, e, i) { return function (n, r) { const s = t.call(void 0 !== i ? i : this, n, r); if (void 0 !== s) { const t = r[r.length - 1], i = void 0 !== e ? e : n.localName; let o; i in t ? o = t[i] : (o = [], t[i] = o), o.push(s) } } } function wu(t, e, i) { return function (n, r) { const s = t.call(void 0 !== i ? i : this, n, r); if (void 0 !== s) { r[r.length - 1][void 0 !== e ? e : n.localName] = s } } } function Eu(t, e) { return function (i, n, r) { t.call(void 0 !== e ? e : this, i, n, r); r[r.length - 1].node.appendChild(i) } } function Tu(t, e) { let i, n; return function (e, r, s) { if (void 0 === i) { i = {}; const r = {}; r[e.localName] = t, i[e.namespaceURI] = r, n = Cu(e.localName) } Mu(i, n, r, s) } } function Cu(t, e) { return function (i, n, r) { const s = n[n.length - 1].node; let o = t; void 0 === o && (o = r); return du(void 0 !== e ? e : s.namespaceURI, o) } } const bu = Cu(); function Ru(t, e) { const i = e.length, n = new Array(i); for (let r = 0; r < i; ++r)n[r] = t[e[r]]; return n } function Pu(t, e, i) { let n, r; for (i = void 0 !== i ? i : {}, n = 0, r = t.length; n < r; ++n)i[t[n]] = e; return i } function Iu(t, e, i, n) { let r; for (r = e.firstElementChild; r; r = r.nextElementSibling) { const e = t[r.namespaceURI]; if (void 0 !== e) { const t = e[r.localName]; void 0 !== t && t.call(n, r, i) } } } function Lu(t, e, i, n, r) { return n.push(t), Iu(e, i, n, r), n.pop() } function Mu(t, e, i, n, r, s) { const o = (void 0 !== r ? r : i).length; let a, l; for (let h = 0; h < o; ++h)a = i[h], void 0 !== a && (l = e.call(void 0 !== s ? s : this, a, n, void 0 !== r ? r[h] : void 0), void 0 !== l && t[l.namespaceURI][l.localName].call(s, l, a, n)) } function Fu(t, e, i, n, r, s, o) { return r.push(t), Mu(e, i, n, r, s, o), r.pop() } let Au, Ou; function Nu() { return void 0 === Au && "undefined" != typeof XMLSerializer && (Au = new XMLSerializer), Au } function Du() { return void 0 === Ou && "undefined" != typeof document && (Ou = document.implementation.createDocument("", "", null)), Ou } const ku = su; class Gu { constructor(t, e) { this.array = null, this.type = t, at(t === nu || t === ru, 62), this.usage = void 0 !== e ? e : ku } ofSize(t) { this.array = new (ju(this.type))(t) } fromArray(t) { this.array = ju(this.type).from(t) } fromArrayBuffer(t) { this.array = new (ju(this.type))(t) } getType() { return this.type } getArray() { return this.array } getUsage() { return this.usage } getSize() { return this.array ? this.array.length : 0 } } function ju(t) { switch (t) { case nu: return Float32Array; case ru: return Uint32Array; default: return Float32Array } } var Bu = "webglcontextlost", Uu = "webglcontextrestored"; class zu { constructor(t) { this.gl_ = t.webGlContext; const e = this.gl_; this.scaleRatio_ = t.scaleRatio || 1, this.renderTargetTexture_ = e.createTexture(), this.renderTargetTextureSize_ = null, this.frameBuffer_ = e.createFramebuffer(); const i = e.createShader(e.VERTEX_SHADER); e.shaderSource(i, t.vertexShader || "\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"), e.compileShader(i); const n = e.createShader(e.FRAGMENT_SHADER); e.shaderSource(n, t.fragmentShader || "\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n"), e.compileShader(n), this.renderTargetProgram_ = e.createProgram(), e.attachShader(this.renderTargetProgram_, i), e.attachShader(this.renderTargetProgram_, n), e.linkProgram(this.renderTargetProgram_), this.renderTargetVerticesBuffer_ = e.createBuffer(); e.bindBuffer(e.ARRAY_BUFFER, this.renderTargetVerticesBuffer_), e.bufferData(e.ARRAY_BUFFER, new Float32Array([-1, -1, 1, -1, -1, 1, 1, -1, 1, 1, -1, 1]), e.STATIC_DRAW), this.renderTargetAttribLocation_ = e.getAttribLocation(this.renderTargetProgram_, "a_position"), this.renderTargetUniformLocation_ = e.getUniformLocation(this.renderTargetProgram_, "u_screenSize"), this.renderTargetOpacityLocation_ = e.getUniformLocation(this.renderTargetProgram_, "u_opacity"), this.renderTargetTextureLocation_ = e.getUniformLocation(this.renderTargetProgram_, "u_image"), this.uniforms_ = [], t.uniforms && Object.keys(t.uniforms).forEach(function (i) { this.uniforms_.push({ value: t.uniforms[i], location: e.getUniformLocation(this.renderTargetProgram_, i) }) }.bind(this)) } getGL() { return this.gl_ } init(t) { const e = this.getGL(), i = [e.drawingBufferWidth * this.scaleRatio_, e.drawingBufferHeight * this.scaleRatio_]; if (e.bindFramebuffer(e.FRAMEBUFFER, this.getFrameBuffer()), e.viewport(0, 0, i[0], i[1]), !this.renderTargetTextureSize_ || this.renderTargetTextureSize_[0] !== i[0] || this.renderTargetTextureSize_[1] !== i[1]) { this.renderTargetTextureSize_ = i; const t = 0, n = e.RGBA, r = 0, s = e.RGBA, o = e.UNSIGNED_BYTE, a = null; e.bindTexture(e.TEXTURE_2D, this.renderTargetTexture_), e.texImage2D(e.TEXTURE_2D, t, n, i[0], i[1], r, s, o, a), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, this.renderTargetTexture_, 0) } } apply(t, e, i, n) { const r = this.getGL(), s = t.size; if (r.bindFramebuffer(r.FRAMEBUFFER, e ? e.getFrameBuffer() : null), r.activeTexture(r.TEXTURE0), r.bindTexture(r.TEXTURE_2D, this.renderTargetTexture_), !e) { const e = z(r.canvas); if (!t.renderTargets[e]) { const i = r.getContextAttributes(); i && i.preserveDrawingBuffer && (r.clearColor(0, 0, 0, 0), r.clear(r.COLOR_BUFFER_BIT)), t.renderTargets[e] = !0 } } r.enable(r.BLEND), r.blendFunc(r.ONE, r.ONE_MINUS_SRC_ALPHA), r.viewport(0, 0, r.drawingBufferWidth, r.drawingBufferHeight), r.bindBuffer(r.ARRAY_BUFFER, this.renderTargetVerticesBuffer_), r.useProgram(this.renderTargetProgram_), r.enableVertexAttribArray(this.renderTargetAttribLocation_), r.vertexAttribPointer(this.renderTargetAttribLocation_, 2, r.FLOAT, !1, 0, 0), r.uniform2f(this.renderTargetUniformLocation_, s[0], s[1]), r.uniform1i(this.renderTargetTextureLocation_, 0); const o = t.layerStatesArray[t.layerIndex].opacity; r.uniform1f(this.renderTargetOpacityLocation_, o), this.applyUniforms(t), i && i(r, t), r.drawArrays(r.TRIANGLES, 0, 6), n && n(r, t) } getFrameBuffer() { return this.frameBuffer_ } applyUniforms(t) { const e = this.getGL(); let i, n = 1; this.uniforms_.forEach((function (r) { if (i = "function" == typeof r.value ? r.value(t) : r.value, i instanceof HTMLCanvasElement || i instanceof ImageData) r.texture || (r.texture = e.createTexture()), e.activeTexture(e[`TEXTURE${n}`]), e.bindTexture(e.TEXTURE_2D, r.texture), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), i instanceof ImageData ? e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, i.width, i.height, 0, e.UNSIGNED_BYTE, new Uint8Array(i.data)) : e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, i), e.uniform1i(r.location, n++); else if (Array.isArray(i)) switch (i.length) { case 2: return void e.uniform2f(r.location, i[0], i[1]); case 3: return void e.uniform3f(r.location, i[0], i[1], i[2]); case 4: return void e.uniform4f(r.location, i[0], i[1], i[2], i[3]); default: return } else "number" == typeof i && e.uniform1f(r.location, i) })) } } function Xu() { return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1] } function Vu(t, e) { return t[0] = e[0], t[1] = e[1], t[4] = e[2], t[5] = e[3], t[12] = e[4], t[13] = e[5], t } const Wu = "u_projectionMatrix", Zu = "u_offsetScaleMatrix", Yu = "u_offsetRotateMatrix", Ku = "u_time", qu = "u_zoom", Hu = "u_resolution", $u = "u_sizePx", Ju = "u_pixelRatio", Qu = { UNSIGNED_BYTE: 5121, UNSIGNED_SHORT: 5123, UNSIGNED_INT: 5125, FLOAT: au }, td = {}; function ed(t) { return "shared/" + t } let id = 0; class nd extends s { constructor(t) { super(), t = t || {}, this.boundHandleWebGLContextLost_ = this.handleWebGLContextLost.bind(this), this.boundHandleWebGLContextRestored_ = this.handleWebGLContextRestored.bind(this), this.canvasCacheKey_ = t.canvasCacheKey ? ed(t.canvasCacheKey) : function () { const t = "unique/" + id; return id += 1, t }(), this.canvas_ = function (t) { let e = td[t]; if (!e) { const i = document.createElement("canvas"); i.style.position = "absolute", i.style.left = "0", e = { users: 0, canvas: i }, td[t] = e } return e.users += 1, e.canvas }(this.canvasCacheKey_), this.gl_ = hu(this.canvas_), this.bufferCache_ = {}, this.extensionCache_ = {}, this.currentProgram_ = null, this.canvas_.addEventListener(Bu, this.boundHandleWebGLContextLost_), this.canvas_.addEventListener(Uu, this.boundHandleWebGLContextRestored_), this.offsetRotateMatrix_ = [1, 0, 0, 1, 0, 0], this.offsetScaleMatrix_ = [1, 0, 0, 1, 0, 0], this.tmpMat4_ = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], this.uniformLocations_ = {}, this.attribLocations_ = {}, this.uniforms_ = [], t.uniforms && this.setUniforms(t.uniforms); const e = this.getGL(); this.postProcessPasses_ = t.postProcesses ? t.postProcesses.map((function (t) { return new zu({ webGlContext: e, scaleRatio: t.scaleRatio, vertexShader: t.vertexShader, fragmentShader: t.fragmentShader, uniforms: t.uniforms }) })) : [new zu({ webGlContext: e })], this.shaderCompileErrors_ = null, this.startTime_ = Date.now() } setUniforms(t) { this.uniforms_ = []; for (const e in t) this.uniforms_.push({ name: e, value: t[e] }); this.uniformLocations_ = {} } canvasCacheKeyMatches(t) { return this.canvasCacheKey_ === ed(t) } getExtension(t) { if (t in this.extensionCache_) return this.extensionCache_[t]; const e = this.gl_.getExtension(t); return this.extensionCache_[t] = e, e } bindBuffer(t) { const e = this.getGL(), i = z(t); let n = this.bufferCache_[i]; if (!n) { n = { buffer: t, webGlBuffer: e.createBuffer() }, this.bufferCache_[i] = n } e.bindBuffer(t.getType(), n.webGlBuffer) } flushBufferData(t) { const e = this.getGL(); this.bindBuffer(t), e.bufferData(t.getType(), t.getArray(), t.getUsage()) } deleteBuffer(t) { const e = this.getGL(), i = z(t), n = this.bufferCache_[i]; n && !e.isContextLost() && e.deleteBuffer(n.webGlBuffer), delete this.bufferCache_[i] } disposeInternal() { this.canvas_.removeEventListener(Bu, this.boundHandleWebGLContextLost_), this.canvas_.removeEventListener(Uu, this.boundHandleWebGLContextRestored_), function (t) { const e = td[t]; if (!e) return; if (e.users -= 1, e.users > 0) return; const i = hu(e.canvas).getExtension("WEBGL_lose_context"); i && i.loseContext(), delete td[t] }(this.canvasCacheKey_), delete this.gl_, delete this.canvas_ } prepareDraw(t, e) { const i = this.getGL(), n = this.getCanvas(), r = t.size, s = t.pixelRatio; n.width = r[0] * s, n.height = r[1] * s, n.style.width = r[0] + "px", n.style.height = r[1] + "px"; for (let e = this.postProcessPasses_.length - 1; e >= 0; e--)this.postProcessPasses_[e].init(t); i.bindTexture(i.TEXTURE_2D, null), i.clearColor(0, 0, 0, 0), i.clear(i.COLOR_BUFFER_BIT), i.enable(i.BLEND), i.blendFunc(i.ONE, e ? i.ZERO : i.ONE_MINUS_SRC_ALPHA) } prepareDrawToRenderTarget(t, e, i) { const n = this.getGL(), r = e.getSize(); n.bindFramebuffer(n.FRAMEBUFFER, e.getFramebuffer()), n.viewport(0, 0, r[0], r[1]), n.bindTexture(n.TEXTURE_2D, e.getTexture()), n.clearColor(0, 0, 0, 0), n.clear(n.COLOR_BUFFER_BIT), n.enable(n.BLEND), n.blendFunc(n.ONE, i ? n.ZERO : n.ONE_MINUS_SRC_ALPHA) } drawElements(t, e) { const i = this.getGL(); this.getExtension("OES_element_index_uint"); const n = i.UNSIGNED_INT, r = e - t, s = 4 * t; i.drawElements(i.TRIANGLES, r, n, s) } finalizeDraw(t, e, i) { for (let n = 0, r = this.postProcessPasses_.length; n < r; n++)n === r - 1 ? this.postProcessPasses_[n].apply(t, null, e, i) : this.postProcessPasses_[n].apply(t, this.postProcessPasses_[n + 1]) } getCanvas() { return this.canvas_ } getGL() { return this.gl_ } applyFrameState(t) { const e = t.size, i = t.viewState.rotation, n = t.pixelRatio, r = wt(this.offsetScaleMatrix_); Pt(r, 2 / e[0], 2 / e[1]); const s = wt(this.offsetRotateMatrix_); 0 !== i && Rt(s, -i), this.setUniformMatrixValue(Zu, Vu(this.tmpMat4_, r)), this.setUniformMatrixValue(Yu, Vu(this.tmpMat4_, s)), this.setUniformFloatValue(Ku, .001 * (Date.now() - this.startTime_)), this.setUniformFloatValue(qu, t.viewState.zoom), this.setUniformFloatValue(Hu, t.viewState.resolution), this.setUniformFloatValue(Ju, n), this.setUniformFloatVec2($u, [e[0], e[1]]) } applyUniforms(t) { const e = this.getGL(); let i, n = 0; this.uniforms_.forEach(function (r) { if (i = "function" == typeof r.value ? r.value(t) : r.value, i instanceof HTMLCanvasElement || i instanceof HTMLImageElement || i instanceof ImageData) { r.texture || (r.prevValue = void 0, r.texture = e.createTexture()), e.activeTexture(e[`TEXTURE${n}`]), e.bindTexture(e.TEXTURE_2D, r.texture), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE); (!(i instanceof HTMLImageElement) || i.complete) && r.prevValue !== i && (r.prevValue = i, e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, i)), e.uniform1i(this.getUniformLocation(r.name), n++) } else if (Array.isArray(i) && 6 === i.length) this.setUniformMatrixValue(r.name, Vu(this.tmpMat4_, i)); else if (Array.isArray(i) && i.length <= 4) switch (i.length) { case 2: return void e.uniform2f(this.getUniformLocation(r.name), i[0], i[1]); case 3: return void e.uniform3f(this.getUniformLocation(r.name), i[0], i[1], i[2]); case 4: return void e.uniform4f(this.getUniformLocation(r.name), i[0], i[1], i[2], i[3]); default: return } else "number" == typeof i && e.uniform1f(this.getUniformLocation(r.name), i) }.bind(this)) } useProgram(t, e) { this.getGL().useProgram(t), this.currentProgram_ = t, this.uniformLocations_ = {}, this.attribLocations_ = {}, this.applyFrameState(e), this.applyUniforms(e) } compileShader(t, e) { const i = this.getGL(), n = i.createShader(e); return i.shaderSource(n, t), i.compileShader(n), n } getProgram(t, e) { const i = this.getGL(), n = this.compileShader(t, i.FRAGMENT_SHADER), r = this.compileShader(e, i.VERTEX_SHADER), s = i.createProgram(); if (i.attachShader(s, n), i.attachShader(s, r), i.linkProgram(s), !i.getShaderParameter(n, i.COMPILE_STATUS)) { const t = `Fragment shader compliation failed: ${i.getShaderInfoLog(n)}`; throw new Error(t) } if (i.deleteShader(n), !i.getShaderParameter(r, i.COMPILE_STATUS)) { const t = `Vertex shader compilation failed: ${i.getShaderInfoLog(r)}`; throw new Error(t) } if (i.deleteShader(r), !i.getProgramParameter(s, i.LINK_STATUS)) { const t = `GL program linking failed: ${i.getShaderInfoLog(r)}`; throw new Error(t) } return s } getUniformLocation(t) { return void 0 === this.uniformLocations_[t] && (this.uniformLocations_[t] = this.getGL().getUniformLocation(this.currentProgram_, t)), this.uniformLocations_[t] } getAttributeLocation(t) { return void 0 === this.attribLocations_[t] && (this.attribLocations_[t] = this.getGL().getAttribLocation(this.currentProgram_, t)), this.attribLocations_[t] } makeProjectionTransform(t, e) { const i = t.size, n = t.viewState.rotation, r = t.viewState.resolution, s = t.viewState.center; return wt(e), Mt(e, 0, 0, 2 / (r * i[0]), 2 / (r * i[1]), -n, -s[0], -s[1]), e } setUniformFloatValue(t, e) { this.getGL().uniform1f(this.getUniformLocation(t), e) } setUniformFloatVec2(t, e) { this.getGL().uniform2fv(this.getUniformLocation(t), e) } setUniformFloatVec4(t, e) { this.getGL().uniform4fv(this.getUniformLocation(t), e) } setUniformMatrixValue(t, e) { this.getGL().uniformMatrix4fv(this.getUniformLocation(t), !1, e) } enableAttributeArray_(t, e, i, n, r) { const s = this.getAttributeLocation(t); s < 0 || (this.getGL().enableVertexAttribArray(s), this.getGL().vertexAttribPointer(s, e, i, !1, n, r)) } enableAttributes(t) { const e = rd(t); let i = 0; for (let n = 0; n < t.length; n++) { const r = t[n]; this.enableAttributeArray_(r.name, r.size, r.type || au, e, i), i += r.size * sd(r.type) } } handleWebGLContextLost() { y(this.bufferCache_), this.currentProgram_ = null } handleWebGLContextRestored() { } createTexture(t, e, i) { const n = this.getGL(); i = i || n.createTexture(); const r = n.RGBA, s = n.RGBA, o = n.UNSIGNED_BYTE; return n.bindTexture(n.TEXTURE_2D, i), e ? n.texImage2D(n.TEXTURE_2D, 0, r, s, o, e) : n.texImage2D(n.TEXTURE_2D, 0, r, t[0], t[1], 0, s, o, null), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MIN_FILTER, n.LINEAR), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_S, n.CLAMP_TO_EDGE), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_T, n.CLAMP_TO_EDGE), i } } function rd(t) { let e = 0; for (let i = 0; i < t.length; i++) { const n = t[i]; e += n.size * sd(n.type) } return e } function sd(t) { switch (t) { case Qu.UNSIGNED_BYTE: return Uint8Array.BYTES_PER_ELEMENT; case Qu.UNSIGNED_SHORT: return Uint16Array.BYTES_PER_ELEMENT; case Qu.UNSIGNED_INT: return Uint32Array.BYTES_PER_ELEMENT; case Qu.FLOAT: default: return Float32Array.BYTES_PER_ELEMENT } } class od { constructor(t, e) { this.name = t, this.data = e, this.texture_ = null } getTexture(t) { if (!this.texture_) { const e = t.createTexture(); t.bindTexture(t.TEXTURE_2D, e), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, t.NEAREST), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, t.NEAREST), t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, this.data.length / 4, 1, 0, t.RGBA, t.UNSIGNED_BYTE, this.data), this.texture_ = e } return this.texture_ } } const ad = new Uint8Array(4); class ld { constructor(t, e) { this.helper_ = t; const i = t.getGL(); this.texture_ = i.createTexture(), this.framebuffer_ = i.createFramebuffer(), this.size_ = e || [1, 1], this.data_ = new Uint8Array(0), this.dataCacheDirty_ = !0, this.updateSize_() } setSize(t) { u(t, this.size_) || (this.size_[0] = t[0], this.size_[1] = t[1], this.updateSize_()) } getSize() { return this.size_ } clearCachedData() { this.dataCacheDirty_ = !0 } readAll() { if (this.dataCacheDirty_) { const t = this.size_, e = this.helper_.getGL(); e.bindFramebuffer(e.FRAMEBUFFER, this.framebuffer_), e.readPixels(0, 0, t[0], t[1], e.RGBA, e.UNSIGNED_BYTE, this.data_), this.dataCacheDirty_ = !1 } return this.data_ } readPixel(t, e) { if (t < 0 || e < 0 || t > this.size_[0] || e >= this.size_[1]) return ad[0] = 0, ad[1] = 0, ad[2] = 0, ad[3] = 0, ad; this.readAll(); const i = Math.floor(t) + (this.size_[1] - Math.floor(e) - 1) * this.size_[0]; return ad[0] = this.data_[4 * i], ad[1] = this.data_[4 * i + 1], ad[2] = this.data_[4 * i + 2], ad[3] = this.data_[4 * i + 3], ad } getTexture() { return this.texture_ } getFramebuffer() { return this.framebuffer_ } updateSize_() { const t = this.size_, e = this.helper_.getGL(); this.texture_ = this.helper_.createTexture(t, null, this.texture_), e.bindFramebuffer(e.FRAMEBUFFER, this.framebuffer_), e.viewport(0, 0, t[0], t[1]), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, this.texture_, 0), this.data_ = new Uint8Array(t[0] * t[1] * 4) } } function hd(t, e, i) { const n = i ? t.LINEAR : t.NEAREST; t.bindTexture(t.TEXTURE_2D, e), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, n), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, n) } function cd(t, e, i, n, r, s) { const o = t.getGL(); let a, l; if (i instanceof Float32Array) { a = o.FLOAT, t.getExtension("OES_texture_float"); l = null !== t.getExtension("OES_texture_float_linear") } else a = o.UNSIGNED_BYTE, l = !0; hd(o, e, s && l); const h = i.byteLength / n[1]; let c, u = 1; switch (h % 8 == 0 ? u = 8 : h % 4 == 0 ? u = 4 : h % 2 == 0 && (u = 2), r) { case 1: c = o.LUMINANCE; break; case 2: c = o.LUMINANCE_ALPHA; break; case 3: c = o.RGB; break; case 4: c = o.RGBA; break; default: throw new Error(`Unsupported number of bands: ${r}`) }const d = o.getParameter(o.UNPACK_ALIGNMENT); o.pixelStorei(o.UNPACK_ALIGNMENT, u), o.texImage2D(o.TEXTURE_2D, 0, c, n[0], n[1], 0, c, a, i), o.pixelStorei(o.UNPACK_ALIGNMENT, d) } let ud = null; class dd extends v { constructor(t) { super(), this.tile, this.textures = [], this.handleTileChange_ = this.handleTileChange_.bind(this), this.renderSize_ = Va(t.grid.getTileSize(t.tile.tileCoord[0])), this.gutter_ = t.gutter || 0, this.bandCount = NaN, this.helper_ = t.helper; const e = new Gu(nu, su); e.fromArray([0, 1, 1, 1, 1, 0, 0, 0]), this.helper_.flushBufferData(e), this.coords = e, this.setTile(t.tile) } setTile(t) { if (t !== this.tile) if (this.tile && this.tile.removeEventListener(S, this.handleTileChange_), this.tile = t, this.textures.length = 0, this.loaded = t.getState() === J, this.loaded) this.uploadTile_(); else { if (t instanceof Vr) { const e = t.getImage(); e instanceof Image && !e.crossOrigin && (e.crossOrigin = "anonymous") } t.addEventListener(S, this.handleTileChange_) } } uploadTile_() { const t = this.helper_, e = t.getGL(), i = this.tile; if (i instanceof Vr || i instanceof zl) { const t = e.createTexture(); return this.textures.push(t), this.bandCount = 4, void function (t, e, i, n) { hd(t, e, n), t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, t.RGBA, t.UNSIGNED_BYTE, i) }(e, t, i.getImage(), i.interpolate) } const n = i.getSize(), r = [n[0] + 2 * this.gutter_, n[1] + 2 * this.gutter_], s = i.getData(), o = s instanceof Float32Array, a = r[0] * r[1], l = o ? Float32Array : Uint8Array, h = l.BYTES_PER_ELEMENT, c = s.byteLength / r[1]; this.bandCount = Math.floor(c / h / r[0]); const u = Math.ceil(this.bandCount / 4); if (1 === u) { const n = e.createTexture(); return this.textures.push(n), void cd(t, n, s, r, this.bandCount, i.interpolate) } const d = new Array(u); for (let t = 0; t < u; ++t) { const i = e.createTexture(); this.textures.push(i); const n = t < u - 1 ? 4 : (this.bandCount - 1) % 4 + 1; d[t] = new l(a * n) } let g = 0, f = 0; const p = r[0] * this.bandCount; for (let t = 0; t < r[1]; ++t) { for (let t = 0; t < p; ++t) { const e = s[f + t], i = Math.floor(g / this.bandCount), n = t % this.bandCount, r = d[Math.floor(n / 4)]; r[i * (r.length / a) + n % 4] = e, ++g } f += c / h } for (let e = 0; e < u; ++e) { const n = this.textures[e], s = d[e]; cd(t, n, s, r, s.length / a, i.interpolate) } } handleTileChange_() { this.tile.getState() === J && (this.loaded = !0, this.uploadTile_(), this.dispatchEvent(S)) } disposeInternal() { const t = this.helper_.getGL(); this.helper_.deleteBuffer(this.coords); for (let e = 0; e < this.textures.length; ++e)t.deleteTexture(this.textures[e]); this.tile.removeEventListener(S, this.handleTileChange_) } getPixelData(t, e) { if (!this.loaded) return null; const i = this.renderSize_[0], n = this.renderSize_[1], r = this.gutter_; if (this.tile instanceof ot) { const s = this.tile.getSize(), o = s[0], a = s[1], l = o + 2 * r, h = a + 2 * r, c = r + Math.floor(o * (t / i)), u = r + Math.floor(a * (e / n)), d = this.tile.getData(); if (d instanceof DataView) { const t = d.byteLength / (l * h), e = t * (u * l + c), i = d.buffer.slice(e, e + t); return new DataView(i) } const g = this.bandCount * (u * l + c); return d.slice(g, g + this.bandCount) } ud || function () { const t = document.createElement("canvas"); t.width = 1, t.height = 1, ud = t.getContext("2d") }(), ud.clearRect(0, 0, 1, 1); const s = this.tile.getImage(), o = s.width - 2 * r, a = s.height - 2 * r, l = r + Math.floor(o * (t / i)), h = r + Math.floor(a * (e / n)); let c; try { ud.drawImage(s, l, h, 1, 1, 0, 0, 1, 1), c = ud.getImageData(0, 0, 1, 1).data } catch (t) { return ud = null, null } return c } } class gd extends Cc { constructor(t, e) { super(t), e = e || {}, this.inversePixelTransform_ = [1, 0, 0, 1, 0, 0], this.pixelContext_ = null, this.postProcesses_ = e.postProcesses, this.uniforms_ = e.uniforms, this.helper, t.addChangeListener(gs, this.removeHelper.bind(this)), this.dispatchPreComposeEvent = this.dispatchPreComposeEvent.bind(this), this.dispatchPostComposeEvent = this.dispatchPostComposeEvent.bind(this) } dispatchPreComposeEvent(t, e) { const i = this.getLayer(); if (i.hasListener(_s)) { const n = new Ts(_s, void 0, e, t); i.dispatchEvent(n) } } dispatchPostComposeEvent(t, e) { const i = this.getLayer(); if (i.hasListener(ys)) { const n = new Ts(ys, void 0, e, t); i.dispatchEvent(n) } } reset(t) { this.uniforms_ = t.uniforms, this.helper && this.helper.setUniforms(this.uniforms_) } removeHelper() { this.helper && (this.helper.dispose(), delete this.helper) } prepareFrame(t) { if (this.getLayer().getRenderSource()) { let e, i = !0, n = -1; for (let r = 0, s = t.layerStatesArray.length; r < s; r++) { const s = t.layerStatesArray[r].layer, o = s.getRenderer(); if (!(o instanceof gd)) { i = !0; continue } const a = s.getClassName(); if ((i || a !== e) && (n += 1, i = !1), e = a, o === this) break } const r = "map/" + t.mapId + "/group/" + n; this.helper && this.helper.canvasCacheKeyMatches(r) || (this.removeHelper(), this.helper = new nd({ postProcesses: this.postProcesses_, uniforms: this.uniforms_, canvasCacheKey: r }), e && (this.helper.getCanvas().className = e), this.afterHelperCreated()) } return this.prepareFrameInternal(t) } afterHelperCreated() { } prepareFrameInternal(t) { return !0 } disposeInternal() { this.removeHelper(), super.disposeInternal() } dispatchRenderEvent_(t, e, i) { const n = this.getLayer(); if (n.hasListener(t)) { Mt(this.inversePixelTransform_, 0, 0, i.pixelRatio, -i.pixelRatio, 0, 0, -i.size[1]); const r = new Ts(t, this.inversePixelTransform_, i, e); n.dispatchEvent(r) } } preRender(t, e) { this.dispatchRenderEvent_(ps, t, e) } postRender(t, e) { this.dispatchRenderEvent_(ms, t, e) } } const fd = { TILE_TEXTURE_ARRAY: "u_tileTextures", TILE_TRANSFORM: "u_tileTransform", TRANSITION_ALPHA: "u_transitionAlpha", DEPTH: "u_depth", TEXTURE_PIXEL_WIDTH: "u_texturePixelWidth", TEXTURE_PIXEL_HEIGHT: "u_texturePixelHeight", TEXTURE_RESOLUTION: "u_textureResolution", TEXTURE_ORIGIN_X: "u_textureOriginX", TEXTURE_ORIGIN_Y: "u_textureOriginY", RENDER_EXTENT: "u_renderExtent", RESOLUTION: "u_resolution", ZOOM: "u_zoom" }, pd = { TEXTURE_COORD: "a_textureCoord" }, md = [{ name: pd.TEXTURE_COORD, size: 2, type: Qu.FLOAT }], _d = {}; function yd(t) { return 2 * (1 - 1 / (t + 1)) - 1 } function xd(t, e, i) { i in t || (t[i] = []), t[i].push(e) } function vd(t, e) { const i = t.layerStatesArray[t.layerIndex]; i.extent && (e = ye(e, on(i.extent, t.viewState.projection))); const n = i.layer.getRenderSource(); if (!n.getWrapX()) { const i = n.getTileGridForProjection(t.viewState.projection).getExtent(); i && (e = ye(e, i)) } return e } function Sd(t, e) { return `${t.getKey()},${nl(e)}` } class wd extends gd { constructor(t, e) { super(t, { uniforms: e.uniforms }), this.renderComplete = !1, this.tileTransform_ = [1, 0, 0, 1, 0, 0], this.tempMat4_ = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], this.tempTileRange_ = new hl(0, 0, 0, 0), this.tempTileCoord_ = el(0, 0, 0), this.tempSize_ = [0, 0], this.program_, this.vertexShader_ = e.vertexShader, this.fragmentShader_ = e.fragmentShader, this.indices_ = new Gu(ru, su), this.indices_.fromArray([0, 1, 3, 1, 2, 3]); const i = void 0 !== e.cacheSize ? e.cacheSize : 512; this.tileTextureCache_ = new tl(i), this.paletteTextures_ = e.paletteTextures || [], this.frameState_ = null, this.projection_ = void 0 } reset(t) { super.reset({ uniforms: t.uniforms }), this.vertexShader_ = t.vertexShader, this.fragmentShader_ = t.fragmentShader, this.paletteTextures_ = t.paletteTextures || [], this.helper && (this.program_ = this.helper.getProgram(this.fragmentShader_, this.vertexShader_)) } afterHelperCreated() { this.program_ = this.helper.getProgram(this.fragmentShader_, this.vertexShader_), this.helper.flushBufferData(this.indices_) } isDrawableTile_(t) { const e = this.getLayer(), i = t.getState(), n = e.getUseInterimTilesOnError(); return i == J || i == tt || i == Q && !n } prepareFrameInternal(t) { this.projection_ ? t.viewState.projection !== this.projection_ && (this.clearCache(), this.projection_ = t.viewState.projection) : this.projection_ = t.viewState.projection; const e = this.getLayer().getRenderSource(); return !!e && (!Ee(vd(t, t.extent)) && "ready" === e.getState()) } enqueueTiles(t, e, i, n, r) { const s = t.viewState, o = this.getLayer(), a = o.getRenderSource(), l = a.getTileGridForProjection(s.projection), h = a.getGutterForProjection(s.projection), c = z(a); c in t.wantedTiles || (t.wantedTiles[c] = {}); const u = t.wantedTiles[c], d = this.tileTextureCache_, g = o.getMapInternal(), f = Math.max(i - r, l.getMinZoom(), l.getZForResolution(Math.min(o.getMaxResolution(), g ? g.getView().getResolutionForZoom(Math.max(o.getMinZoom(), 0)) : l.getResolution(0)), a.zDirection)); for (let r = i; r >= f; --r) { const i = l.getTileRangeForExtentAndZ(e, r, this.tempTileRange_), o = l.getResolution(r); for (let e = i.minX; e <= i.maxX; ++e)for (let g = i.minY; g <= i.maxY; ++g) { const i = el(r, e, g, this.tempTileCoord_), f = Sd(a, i); let p, m; if (d.containsKey(f) && (p = d.get(f), m = p.tile), !p || p.tile.key !== a.getKey()) if (m = a.getTile(r, e, g, t.pixelRatio, s.projection), p) if (this.isDrawableTile_(m)) p.setTile(m); else { const t = m.getInterimTile(); p.setTile(t) } else p = new dd({ tile: m, grid: l, helper: this.helper, gutter: h }), d.set(f, p); xd(n, p, r); const _ = m.getKey(); u[_] = !0, m.getState() === H && (t.tileQueue.isKeyQueued(_) || t.tileQueue.enqueue([m, c, l.getTileCoordCenter(i), o])) } } } renderFrame(t) { this.frameState_ = t, this.renderComplete = !0; const e = this.helper.getGL(); this.preRender(e, t); const i = t.viewState, n = this.getLayer(), r = n.getRenderSource(), s = r.getTileGridForProjection(i.projection), o = r.getGutterForProjection(i.projection), l = vd(t, t.extent), h = s.getZForResolution(i.resolution, r.zDirection), c = {}, u = n.getPreload(); if (t.nextExtent) { const e = s.getZForResolution(i.nextResolution, r.zDirection), n = vd(t, t.nextExtent); this.enqueueTiles(t, n, e, c, u) } this.enqueueTiles(t, l, h, c, 0), u > 0 && setTimeout((() => { this.enqueueTiles(t, l, h - 1, c, u - 1) }), 0); const d = {}, g = z(this), f = t.time; let p = !1; const m = c[h]; for (let t = 0, e = m.length; t < e; ++t) { const e = m[t], i = e.tile; if (i instanceof zl && i.getState() === tt) continue; const n = i.tileCoord; if (e.loaded) { const t = i.getAlpha(g, f); if (1 === t) { i.endTransition(g); continue } p = !0; d[nl(n)] = t } this.renderComplete = !1; if (this.findAltTiles_(s, n, h + 1, c)) continue; const r = s.getMinZoom(); for (let t = h - 1; t >= r; --t) { if (this.findAltTiles_(s, n, t, c)) break } } this.helper.useProgram(this.program_, t), this.helper.prepareDraw(t, !p); const _ = Object.keys(c).map(Number).sort(a), y = i.center[0], x = i.center[1]; for (let n = 0, r = _.length; n < r; ++n) { const r = _[n], a = s.getResolution(r), h = Va(s.getTileSize(r), this.tempSize_), u = s.getOrigin(r), g = h[0] + 2 * o, f = h[1] + 2 * o, p = g / f, m = (y - u[0]) / (h[0] * a), v = (u[1] - x) / (h[1] * a), S = i.resolution / a, w = yd(r), E = c[r]; for (let n = 0, r = E.length; n < r; ++n) { const r = E[n]; if (!r.loaded) continue; const c = r.tile.tileCoord, _ = nl(c), y = c[1], x = c[2]; wt(this.tileTransform_), Pt(this.tileTransform_, 2 / (t.size[0] * S / g), -2 / (t.size[1] * S / g)), Rt(this.tileTransform_, i.rotation), Pt(this.tileTransform_, 1, 1 / p), Lt(this.tileTransform_, (h[0] * (y - m) - o) / g, (h[1] * (x - v) - o) / f), this.helper.setUniformMatrixValue(fd.TILE_TRANSFORM, Vu(this.tempMat4_, this.tileTransform_)), this.helper.bindBuffer(r.coords), this.helper.bindBuffer(this.indices_), this.helper.enableAttributes(md); let T = 0; for (; T < r.textures.length;) { const t = "TEXTURE" + T, i = `${fd.TILE_TEXTURE_ARRAY}[${T}]`; e.activeTexture(e[t]), e.bindTexture(e.TEXTURE_2D, r.textures[T]), e.uniform1i(this.helper.getUniformLocation(i), T), ++T } for (let t = 0; t < this.paletteTextures_.length; ++t) { const i = this.paletteTextures_[t]; e.activeTexture(e["TEXTURE" + T]); const n = i.getTexture(e); e.bindTexture(e.TEXTURE_2D, n), e.uniform1i(this.helper.getUniformLocation(i.name), T), ++T } const C = _ in d ? d[_] : 1; C < 1 && (t.animate = !0), this.helper.setUniformFloatValue(fd.TRANSITION_ALPHA, C), this.helper.setUniformFloatValue(fd.DEPTH, w), this.helper.setUniformFloatValue(fd.TEXTURE_PIXEL_WIDTH, g), this.helper.setUniformFloatValue(fd.TEXTURE_PIXEL_HEIGHT, f), this.helper.setUniformFloatValue(fd.TEXTURE_RESOLUTION, a), this.helper.setUniformFloatValue(fd.TEXTURE_ORIGIN_X, u[0] + y * h[0] * a - o * a), this.helper.setUniformFloatValue(fd.TEXTURE_ORIGIN_Y, u[1] - x * h[1] * a + o * a); let b = l; o > 0 && (b = s.getTileCoordExtent(c), ye(b, l, b)), this.helper.setUniformFloatVec4(fd.RENDER_EXTENT, b), this.helper.setUniformFloatValue(fd.RESOLUTION, i.resolution), this.helper.setUniformFloatValue(fd.ZOOM, i.zoom), this.helper.drawElements(0, this.indices_.getSize()) } } this.helper.finalizeDraw(t, this.dispatchPreComposeEvent, this.dispatchPostComposeEvent); const v = this.helper.getCanvas(), S = this.tileTextureCache_; for (; S.canExpireCache();) { S.pop().dispose() } return t.postRenderFunctions.push((function (t, e) { r.updateCacheSize(.1, e.viewState.projection), r.expireCache(e.viewState.projection, _d) })), this.postRender(e, t), v } getData(t) { if (!this.helper.getGL()) return null; const e = this.frameState_; if (!e) return null; const i = this.getLayer(), n = bt(e.pixelToCoordinateTransform, t.slice()), r = e.viewState, s = i.getExtent(); if (s && !Zt(on(s, r.projection), n)) return null; const o = i.getSources(zt([n]), r.resolution); let a, l, h; for (a = o.length - 1; a >= 0; --a)if (l = o[a], "ready" === l.getState()) { if (h = l.getTileGridForProjection(r.projection), l.getWrapX()) break; const t = h.getExtent(); if (!t || Zt(t, n)) break } if (a < 0) return null; const c = this.tileTextureCache_; for (let t = h.getZForResolution(r.resolution); t >= h.getMinZoom(); --t) { const e = h.getTileCoordForCoordAndZ(n, t), i = Sd(l, e); if (!c.containsKey(i)) continue; const r = c.get(i), s = r.tile; if (s instanceof zl && s.getState() === tt) return null; if (!r.loaded) continue; const o = h.getOrigin(t), a = Va(h.getTileSize(t)), u = h.getResolution(t), d = (n[0] - o[0]) / u - e[1] * a[0], g = (o[1] - n[1]) / u - e[2] * a[1]; return r.getPixelData(d, g) } return null } findAltTiles_(t, e, i, n) { const r = t.getTileRangeForTileCoordAndZ(e, i, this.tempTileRange_); if (!r) return !1; let s = !0; const o = this.tileTextureCache_, a = this.getLayer().getRenderSource(); for (let t = r.minX; t <= r.maxX; ++t)for (let e = r.minY; e <= r.maxY; ++e) { const r = Sd(a, [i, t, e]); let l = !1; if (o.containsKey(r)) { const t = o.get(r); t.loaded && (xd(n, t, i), l = !0) } l || (s = !1) } return s } clearCache() { const t = this.tileTextureCache_; t.forEach((t => t.dispose())), t.clear() } removeHelper() { this.helper && this.clearCache(), super.removeHelper() } disposeInternal() { const t = this.helper; if (t) { t.getGL().deleteProgram(this.program_), delete this.program_, t.deleteBuffer(this.indices_) } super.disposeInternal(), delete this.indices_, delete this.tileTextureCache_, delete this.frameState_ } } const Ed = 1, Td = 2, Cd = 4, bd = 8, Rd = 16, Pd = 31, Id = 0, Ld = {}; function Md(t) { if ("number" == typeof t) return Ed; if ("boolean" == typeof t) return bd; if ("string" == typeof t) return ts(t) ? Cd | Td : Td; if (!Array.isArray(t)) throw new Error(`Unhandled value type: ${JSON.stringify(t)}`); const e = t; if (e.every((function (t) { return "number" == typeof t }))) return 3 === e.length || 4 === e.length ? Cd | Rd : Rd; if ("string" != typeof e[0]) throw new Error(`Expected an expression operator but received: ${JSON.stringify(e)}`); const i = Ld[e[0]]; if (void 0 === i) throw new Error(`Unrecognized expression operator: ${JSON.stringify(e)}`); return i.getReturnType(e.slice(1)) } function Fd(t) { return Math.log2(t) % 1 == 0 } function Ad(t) { const e = t.toString(); return e.includes(".") ? e : e + ".0" } function Od(t) { if (t.length < 2 || t.length > 4) throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays."); return `vec${t.length}(${t.map(Ad).join(", ")})` } function Nd(t) { const e = $r(t).slice(); return e.length < 4 && e.push(1), Od(e.map((function (t, e) { return e < 3 ? t / 255 : t }))) } function Dd(t, e) { return void 0 === t.stringLiteralsMap[e] && (t.stringLiteralsMap[e] = Object.keys(t.stringLiteralsMap).length), t.stringLiteralsMap[e] } function kd(t, e) { return Ad(Dd(t, e)) } function Gd(t, e, i) { if (Array.isArray(e) && "string" == typeof e[0]) { const n = Ld[e[0]]; if (void 0 === n) throw new Error(`Unrecognized expression operator: ${JSON.stringify(e)}`); return n.toGlsl(t, e.slice(1), i) } const n = Md(e); if ((n & Ed) > 0) return Ad(e); if ((n & bd) > 0) return e.toString(); if ((n & Td) > 0 && (void 0 === i || i == Td)) return kd(t, e.toString()); if ((n & Cd) > 0 && (void 0 === i || i == Cd)) return Nd(e); if ((n & Rd) > 0) return Od(e); throw new Error(`Unexpected expression ${e} (expected type ${i})`) } function jd(t) { if (!(Md(t) & Ed)) throw new Error(`A numeric value was expected, got ${JSON.stringify(t)} instead`) } function Bd(t) { for (let e = 0; e < t.length; e++)jd(t[e]) } function Ud(t) { if (!(Md(t) & Td)) throw new Error(`A string value was expected, got ${JSON.stringify(t)} instead`) } function zd(t) { if (!(Md(t) & bd)) throw new Error(`A boolean value was expected, got ${JSON.stringify(t)} instead`) } function Xd(t, e) { if (t.length !== e) throw new Error(`Exactly ${e} arguments were expected, got ${t.length} instead`) } function Vd(t, e) { if (t.length < e) throw new Error(`At least ${e} arguments were expected, got ${t.length} instead`) } function Wd(t, e) { if (t.length > e) throw new Error(`At most ${e} arguments were expected, got ${t.length} instead`) } function Zd(t) { if (t.length % 2 != 0) throw new Error(`An even amount of arguments was expected, got ${t} instead`) } function Yd(t, e) { if (!Fd(e)) throw new Error(`Could not infer only one type from the following expression: ${JSON.stringify(t)}`) } function Kd(t) { return "u_var_" + t } Ld.get = { getReturnType: function (t) { return Pd }, toGlsl: function (t, e) { Xd(e, 1), Ud(e[0]); const i = e[0].toString(); t.attributes.includes(i) || t.attributes.push(i); return (t.inFragmentShader ? "v_" : "a_") + i } }, Ld.var = { getReturnType: function (t) { return Pd }, toGlsl: function (t, e) { Xd(e, 1), Ud(e[0]); const i = e[0].toString(); return t.variables.includes(i) || t.variables.push(i), Kd(i) } }; const qd = "u_paletteTextures"; Ld.palette = { getReturnType: function (t) { return Cd }, toGlsl: function (t, e) { Xd(e, 2), jd(e[0]); const i = Gd(t, e[0]), n = e[1]; if (!Array.isArray(n)) throw new Error("The second argument of palette must be an array"); const r = n.length, s = new Uint8Array(4 * r); for (let t = 0; t < r; t++) { const e = n[t]; let i; if ("string" == typeof e) i = Hr(e); else { if (!Array.isArray(e)) throw new Error("The second argument of palette must be an array of strings or colors"); const t = e.length; if (4 === t) i = e; else { if (3 !== t) throw new Error(`Expected palette color to have 3 or 4 values, got ${t}`); i = [e[0], e[1], e[2], 1] } } const r = 4 * t; s[r] = i[0], s[r + 1] = i[1], s[r + 2] = i[2], s[r + 3] = 255 * i[3] } t.paletteTextures || (t.paletteTextures = []); const o = `u_paletteTextures[${t.paletteTextures.length}]`, a = new od(o, s); return t.paletteTextures.push(a), `texture2D(${o}, vec2((${i} + 0.5) / ${r}.0, 0.5))` } }; const Hd = "getBandValue"; function $d(t) { return { getReturnType: function (t) { return bd }, toGlsl: function (e, i) { Xd(i, 2); let n = Pd; for (let t = 0; t < i.length; t++)n &= Md(i[t]); if (n === Id) throw new Error(`All arguments should be of compatible type, got ${JSON.stringify(i)} instead`); return n &= ~Cd, `(${Gd(e, i[0], n)} ${t} ${Gd(e, i[1], n)})` } } } function Jd(t) { return { getReturnType: function (t) { return bd }, toGlsl: function (e, i) { Vd(i, 2); for (let t = 0; t < i.length; t++)zd(i[t]); let n = ""; return n = i.map((t => Gd(e, t))).join(` ${t} `), n = `(${n})`, n } } } Ld.band = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { Vd(e, 1), Wd(e, 3); const i = e[0]; if (!(Hd in t.functions)) { let e = ""; const i = t.bandCount || 1; for (let t = 0; t < i; t++) { const n = Math.floor(t / 4); let r = t % 4; t === i - 1 && 1 === r && (r = 3); e += `\n          if (band == ${t + 1}.0) {\n            return texture2D(${`${fd.TILE_TEXTURE_ARRAY}[${n}]`}, v_textureCoord + vec2(dx, dy))[${r}];\n          }\n        ` } t.functions.getBandValue = `\n        float getBandValue(float band, float xOffset, float yOffset) {\n          float dx = xOffset / ${fd.TEXTURE_PIXEL_WIDTH};\n          float dy = yOffset / ${fd.TEXTURE_PIXEL_HEIGHT};\n          ${e}\n        }\n      ` } return `getBandValue(${Gd(t, i)}, ${Gd(t, e[1] || 0)}, ${Gd(t, e[2] || 0)})` } }, Ld.time = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 0), "u_time" } }, Ld.zoom = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 0), "u_zoom" } }, Ld.resolution = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 0), "u_resolution" } }, Ld["*"] = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 2), Bd(e), `(${Gd(t, e[0])} * ${Gd(t, e[1])})` } }, Ld["/"] = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 2), Bd(e), `(${Gd(t, e[0])} / ${Gd(t, e[1])})` } }, Ld["+"] = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 2), Bd(e), `(${Gd(t, e[0])} + ${Gd(t, e[1])})` } }, Ld["-"] = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 2), Bd(e), `(${Gd(t, e[0])} - ${Gd(t, e[1])})` } }, Ld.clamp = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { Xd(e, 3), Bd(e); const i = Gd(t, e[1]), n = Gd(t, e[2]); return `clamp(${Gd(t, e[0])}, ${i}, ${n})` } }, Ld["%"] = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 2), Bd(e), `mod(${Gd(t, e[0])}, ${Gd(t, e[1])})` } }, Ld["^"] = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 2), Bd(e), `pow(${Gd(t, e[0])}, ${Gd(t, e[1])})` } }, Ld.abs = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 1), Bd(e), `abs(${Gd(t, e[0])})` } }, Ld.floor = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 1), Bd(e), `floor(${Gd(t, e[0])})` } }, Ld.round = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 1), Bd(e), `floor(${Gd(t, e[0])} + 0.5)` } }, Ld.ceil = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 1), Bd(e), `ceil(${Gd(t, e[0])})` } }, Ld.sin = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 1), Bd(e), `sin(${Gd(t, e[0])})` } }, Ld.cos = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Xd(e, 1), Bd(e), `cos(${Gd(t, e[0])})` } }, Ld.atan = { getReturnType: function (t) { return Ed }, toGlsl: function (t, e) { return Vd(e, 1), Wd(e, 2), Bd(e), 2 === e.length ? `atan(${Gd(t, e[0])}, ${Gd(t, e[1])})` : `atan(${Gd(t, e[0])})` } }, Ld[">"] = { getReturnType: function (t) { return bd }, toGlsl: function (t, e) { return Xd(e, 2), Bd(e), `(${Gd(t, e[0])} > ${Gd(t, e[1])})` } }, Ld[">="] = { getReturnType: function (t) { return bd }, toGlsl: function (t, e) { return Xd(e, 2), Bd(e), `(${Gd(t, e[0])} >= ${Gd(t, e[1])})` } }, Ld["<"] = { getReturnType: function (t) { return bd }, toGlsl: function (t, e) { return Xd(e, 2), Bd(e), `(${Gd(t, e[0])} < ${Gd(t, e[1])})` } }, Ld["<="] = { getReturnType: function (t) { return bd }, toGlsl: function (t, e) { return Xd(e, 2), Bd(e), `(${Gd(t, e[0])} <= ${Gd(t, e[1])})` } }, Ld["=="] = $d("=="), Ld["!="] = $d("!="), Ld["!"] = { getReturnType: function (t) { return bd }, toGlsl: function (t, e) { return Xd(e, 1), zd(e[0]), `(!${Gd(t, e[0])})` } }, Ld.all = Jd("&&"), Ld.any = Jd("||"), Ld.between = { getReturnType: function (t) { return bd }, toGlsl: function (t, e) { Xd(e, 3), Bd(e); const i = Gd(t, e[1]), n = Gd(t, e[2]), r = Gd(t, e[0]); return `(${r} >= ${i} && ${r} <= ${n})` } }, Ld.array = { getReturnType: function (t) { return Rd }, toGlsl: function (t, e) { Vd(e, 2), Wd(e, 4), Bd(e); const i = e.map((function (e) { return Gd(t, e, Ed) })); return `vec${e.length}(${i.join(", ")})` } }, Ld.color = { getReturnType: function (t) { return Cd }, toGlsl: function (t, e) { Vd(e, 3), Wd(e, 4), Bd(e); const i = e; 3 === e.length && i.push(1); const n = e.map((function (e, i) { return Gd(t, e, Ed) + (i < 3 ? " / 255.0" : "") })); return `vec${e.length}(${n.join(", ")})` } }, Ld.interpolate = { getReturnType: function (t) { let e = Cd | Ed; for (let i = 3; i < t.length; i += 2)e &= Md(t[i]); return e }, toGlsl: function (t, e, i) { Zd(e), Vd(e, 6); const n = e[0]; let r; switch (n[0]) { case "linear": r = 1; break; case "exponential": r = n[1]; break; default: r = null }if (!r) throw new Error(`Invalid interpolation type for "interpolate" operator, received: ${JSON.stringify(n)}`); i = void 0 !== i ? i : Pd; const s = Ld.interpolate.getReturnType(e) & i; Yd(e, s); const o = Gd(t, e[1]), a = Ad(r); let l = ""; for (let i = 2; i < e.length - 2; i += 2) { const n = Gd(t, e[i]), r = l || Gd(t, e[i + 1], s), h = Gd(t, e[i + 2]); l = `mix(${r}, ${Gd(t, e[i + 3], s)}, pow(clamp((${o} - ${n}) / (${h} - ${n}), 0.0, 1.0), ${a}))` } return l } }, Ld.match = { getReturnType: function (t) { let e = Pd; for (let i = 2; i < t.length; i += 2)e &= Md(t[i]); return e &= Md(t[t.length - 1]), e }, toGlsl: function (t, e, i) { Zd(e), Vd(e, 4), i = void 0 !== i ? i : Pd; const n = Ld.match.getReturnType(e) & i; Yd(e, n); const r = Gd(t, e[0]), s = Gd(t, e[e.length - 1], n); let o = null; for (let i = e.length - 3; i >= 1; i -= 2) { o = `(${r} == ${Gd(t, e[i])} ? ${Gd(t, e[i + 1], n)} : ${o || s})` } return o } }, Ld.case = { getReturnType: function (t) { let e = Pd; for (let i = 1; i < t.length; i += 2)e &= Md(t[i]); return e &= Md(t[t.length - 1]), e }, toGlsl: function (t, e, i) { !function (t) { if (t.length % 2 == 0) throw new Error(`An odd amount of arguments was expected, got ${t} instead`) }(e), Vd(e, 3), i = void 0 !== i ? i : Pd; const n = Ld.case.getReturnType(e) & i; Yd(e, n); for (let t = 0; t < e.length - 1; t += 2)zd(e[t]); const r = Gd(t, e[e.length - 1], n); let s = null; for (let i = e.length - 3; i >= 0; i -= 2) { s = `(${Gd(t, e[i])} ? ${Gd(t, e[i + 1], n)} : ${s || r})` } return s } }; class Qd { constructor() { this.uniforms = [], this.attributes = [], this.varyings = [], this.sizeExpression = "vec2(1.0)", this.rotationExpression = "0.0", this.offsetExpression = "vec2(0.0)", this.colorExpression = "vec4(1.0)", this.texCoordExpression = "vec4(0.0, 0.0, 1.0, 1.0)", this.discardExpression = "false", this.rotateWithView = !1 } addUniform(t) { return this.uniforms.push(t), this } addAttribute(t) { return this.attributes.push(t), this } addVarying(t, e, i) { return this.varyings.push({ name: t, type: e, expression: i }), this } setSizeExpression(t) { return this.sizeExpression = t, this } setRotationExpression(t) { return this.rotationExpression = t, this } setSymbolOffsetExpression(t) { return this.offsetExpression = t, this } setColorExpression(t) { return this.colorExpression = t, this } setTextureCoordinateExpression(t) { return this.texCoordExpression = t, this } setFragmentDiscardExpression(t) { return this.discardExpression = t, this } setSymbolRotateWithView(t) { return this.rotateWithView = t, this } getSizeExpression() { return this.sizeExpression } getOffsetExpression() { return this.offsetExpression } getColorExpression() { return this.colorExpression } getTextureCoordinateExpression() { return this.texCoordExpression } getFragmentDiscardExpression() { return this.discardExpression } getSymbolVertexShader(t) { const e = this.rotateWithView ? "u_offsetScaleMatrix * u_offsetRotateMatrix" : "u_offsetScaleMatrix"; let i = this.attributes, n = this.varyings; return t && (i = i.concat("vec4 a_hitColor"), n = n.concat({ name: "v_hitColor", type: "vec4", expression: "a_hitColor" })), `precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n${this.uniforms.map((function (t) { return "uniform " + t + ";" })).join("\n")}\nattribute vec2 a_position;\nattribute float a_index;\n${i.map((function (t) { return "attribute " + t + ";" })).join("\n")}\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n${n.map((function (t) { return "varying " + t.type + " " + t.name + ";" })).join("\n")}\nvoid main(void) {\n  mat4 offsetMatrix = ${e};\n  vec2 halfSize = ${this.sizeExpression} * 0.5;\n  vec2 offset = ${this.offsetExpression};\n  float angle = ${this.rotationExpression};\n  float offsetX;\n  float offsetY;\n  if (a_index == 0.0) {\n    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index == 1.0) {\n    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index == 2.0) {\n    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord = ${this.texCoordExpression};\n  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;\n  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord = vec2(u, v);\n  u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n  v = a_index == 2.0 || a_index == 3.0 ? 0.0 : 1.0;\n  v_quadCoord = vec2(u, v);\n${n.map((function (t) { return "  " + t.name + " = " + t.expression + ";" })).join("\n")}\n}` } getSymbolFragmentShader(t) { const e = t ? "  if (gl_FragColor.a < 0.1) { discard; } gl_FragColor = v_hitColor;" : ""; let i = this.varyings; return t && (i = i.concat({ name: "v_hitColor", type: "vec4", expression: "a_hitColor" })), `precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n${this.uniforms.map((function (t) { return "uniform " + t + ";" })).join("\n")}\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n${i.map((function (t) { return "varying " + t.type + " " + t.name + ";" })).join("\n")}\nvoid main(void) {\n  if (${this.discardExpression}) { discard; }\n  gl_FragColor = ${this.colorExpression};\n  gl_FragColor.rgb *= gl_FragColor.a;\n${e}\n}` } } function tg(t) { const e = t.symbol, i = void 0 !== e.size ? e.size : 1, n = e.color || "white", r = e.textureCoord || [0, 0, 1, 1], s = e.offset || [0, 0], o = void 0 !== e.opacity ? e.opacity : 1, a = void 0 !== e.rotation ? e.rotation : 0, l = { inFragmentShader: !1, variables: [], attributes: [], stringLiteralsMap: {}, functions: {} }, h = Gd(l, i, Rd | Ed), c = Gd(l, s, Rd), u = Gd(l, r, Rd), d = Gd(l, a, Ed), g = { inFragmentShader: !0, variables: l.variables, attributes: [], stringLiteralsMap: l.stringLiteralsMap, functions: {} }, f = Gd(g, n, Cd), p = Gd(g, o, Ed); let m = "1.0"; const _ = `vec2(${Gd(g, i, Rd | Ed)}).x`; switch (e.symbolType) { case "square": case "image": break; case "circle": m = `(1.0-smoothstep(1.-4./${_},1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))`; break; case "triangle": const t = "(v_quadCoord*2.-1.)", i = `(atan(${t}.x,${t}.y))`; m = `(1.0-smoothstep(.5-3./${_},.5,cos(floor(.5+${i}/2.094395102)*2.094395102-${i})*length(${t})))`; break; default: throw new Error("Unexpected symbol type: " + e.symbolType) }const y = (new Qd).setSizeExpression(`vec2(${h})`).setRotationExpression(d).setSymbolOffsetExpression(c).setTextureCoordinateExpression(u).setSymbolRotateWithView(!!e.rotateWithView).setColorExpression(`vec4(${f}.rgb, ${f}.a * ${p} * ${m})`); if (t.filter) { const e = Gd(g, t.filter, bd); y.setFragmentDiscardExpression(`!${e}`) } const x = {}; if (g.variables.forEach((function (e) { const i = Kd(e); y.addUniform(`float ${i}`), x[i] = function () { if (!t.variables || void 0 === t.variables[e]) throw new Error(`The following variable is missing from the style: ${e}`); let i = t.variables[e]; return "string" == typeof i && (i = Dd(l, i)), void 0 !== i ? i : -9999999 } })), "image" === e.symbolType && e.src) { const t = new Image; t.crossOrigin = void 0 === e.crossOrigin ? "anonymous" : e.crossOrigin, t.src = e.src, y.addUniform("sampler2D u_texture").setColorExpression(y.getColorExpression() + " * texture2D(u_texture, v_texCoord)"), x.u_texture = t } return g.attributes.forEach((function (t) { l.attributes.includes(t) || l.attributes.push(t), y.addVarying(`v_${t}`, "float", `a_${t}`) })), l.attributes.forEach((function (t) { y.addAttribute(`float a_${t}`) })), { builder: y, attributes: l.attributes.map((function (t) { return { name: t, callback: function (e, i) { let n = i[t]; return "string" == typeof n && (n = Dd(l, n)), void 0 !== n ? n : -9999999 } } })), uniforms: x } } class eg { constructor(t) { this.opacity_ = t.opacity, this.rotateWithView_ = t.rotateWithView, this.rotation_ = t.rotation, this.scale_ = t.scale, this.scaleArray_ = Va(t.scale), this.displacement_ = t.displacement, this.declutterMode_ = t.declutterMode } clone() { const t = this.getScale(); return new eg({ opacity: this.getOpacity(), scale: Array.isArray(t) ? t.slice() : t, rotation: this.getRotation(), rotateWithView: this.getRotateWithView(), displacement: this.getDisplacement().slice(), declutterMode: this.getDeclutterMode() }) } getOpacity() { return this.opacity_ } getRotateWithView() { return this.rotateWithView_ } getRotation() { return this.rotation_ } getScale() { return this.scale_ } getScaleArray() { return this.scaleArray_ } getDisplacement() { return this.displacement_ } getDeclutterMode() { return this.declutterMode_ } getAnchor() { return B() } getImage(t) { return B() } getHitDetectionImage() { return B() } getPixelRatio(t) { return 1 } getImageState() { return B() } getImageSize() { return B() } getOrigin() { return B() } getSize() { return B() } setDisplacement(t) { this.displacement_ = t } setOpacity(t) { this.opacity_ = t } setRotateWithView(t) { this.rotateWithView_ = t } setRotation(t) { this.rotation_ = t } setScale(t) { this.scale_ = t, this.scaleArray_ = Va(t) } listenImageChange(t) { B() } load() { B() } unlistenImageChange(t) { B() } } class ig extends eg { constructor(t) { super({ opacity: 1, rotateWithView: void 0 !== t.rotateWithView && t.rotateWithView, rotation: void 0 !== t.rotation ? t.rotation : 0, scale: void 0 !== t.scale ? t.scale : 1, displacement: void 0 !== t.displacement ? t.displacement : [0, 0], declutterMode: t.declutterMode }), this.canvas_ = void 0, this.hitDetectionCanvas_ = null, this.fill_ = void 0 !== t.fill ? t.fill : null, this.origin_ = [0, 0], this.points_ = t.points, this.radius_ = void 0 !== t.radius ? t.radius : t.radius1, this.radius2_ = t.radius2, this.angle_ = void 0 !== t.angle ? t.angle : 0, this.stroke_ = void 0 !== t.stroke ? t.stroke : null, this.size_ = null, this.renderOptions_ = null, this.render() } clone() { const t = this.getScale(), e = new ig({ fill: this.getFill() ? this.getFill().clone() : void 0, points: this.getPoints(), radius: this.getRadius(), radius2: this.getRadius2(), angle: this.getAngle(), stroke: this.getStroke() ? this.getStroke().clone() : void 0, rotation: this.getRotation(), rotateWithView: this.getRotateWithView(), scale: Array.isArray(t) ? t.slice() : t, displacement: this.getDisplacement().slice(), declutterMode: this.getDeclutterMode() }); return e.setOpacity(this.getOpacity()), e } getAnchor() { const t = this.size_; if (!t) return null; const e = this.getDisplacement(), i = this.getScaleArray(); return [t[0] / 2 - e[0] / i[0], t[1] / 2 + e[1] / i[1]] } getAngle() { return this.angle_ } getFill() { return this.fill_ } setFill(t) { this.fill_ = t, this.render() } getHitDetectionImage() { return this.hitDetectionCanvas_ || this.createHitDetectionCanvas_(this.renderOptions_), this.hitDetectionCanvas_ } getImage(t) { let e = this.canvas_[t]; if (!e) { const i = this.renderOptions_, n = Dr(i.size * t, i.size * t); this.draw_(i, n, t), e = n.canvas, this.canvas_[t] = e } return e } getPixelRatio(t) { return t } getImageSize() { return this.size_ } getImageState() { return Lr } getOrigin() { return this.origin_ } getPoints() { return this.points_ } getRadius() { return this.radius_ } getRadius2() { return this.radius2_ } getSize() { return this.size_ } getStroke() { return this.stroke_ } setStroke(t) { this.stroke_ = t, this.render() } listenImageChange(t) { } load() { } unlistenImageChange(t) { } calculateLineJoinSize_(t, e, i) { if (0 === e || this.points_ === 1 / 0 || "bevel" !== t && "miter" !== t) return e; let n = this.radius_, r = void 0 === this.radius2_ ? n : this.radius2_; if (n < r) { const t = n; n = r, r = t } const s = void 0 === this.radius2_ ? this.points_ : 2 * this.points_, o = 2 * Math.PI / s, a = r * Math.sin(o), l = n - Math.sqrt(r * r - a * a), h = Math.sqrt(a * a + l * l), c = h / a; if ("miter" === t && c <= i) return c * e; const u = e / 2 / c, d = e / 2 * (l / h), g = Math.sqrt((n + u) * (n + u) + d * d) - n; if (void 0 === this.radius2_ || "bevel" === t) return 2 * g; const f = n * Math.sin(o), p = r - Math.sqrt(n * n - f * f), m = Math.sqrt(f * f + p * p) / f; if (m <= i) { const t = m * e / 2 - r - n; return 2 * Math.max(g, t) } return 2 * g } createRenderOptions() { let t, e = Gs, i = 0, n = null, r = 0, s = 0; this.stroke_ && (t = this.stroke_.getColor(), null === t && (t = Bs), t = fl(t), s = this.stroke_.getWidth(), void 0 === s && (s = 1), n = this.stroke_.getLineDash(), r = this.stroke_.getLineDashOffset(), e = this.stroke_.getLineJoin(), void 0 === e && (e = Gs), i = this.stroke_.getMiterLimit(), void 0 === i && (i = js)); const o = this.calculateLineJoinSize_(e, s, i), a = Math.max(this.radius_, this.radius2_ || 0); return { strokeStyle: t, strokeWidth: s, size: Math.ceil(2 * a + o), lineDash: n, lineDashOffset: r, lineJoin: e, miterLimit: i } } render() { this.renderOptions_ = this.createRenderOptions(); const t = this.renderOptions_.size; this.canvas_ = {}, this.size_ = [t, t] } draw_(t, e, i) { if (e.scale(i, i), e.translate(t.size / 2, t.size / 2), this.createPath_(e), this.fill_) { let t = this.fill_.getColor(); null === t && (t = Ns), e.fillStyle = fl(t), e.fill() } this.stroke_ && (e.strokeStyle = t.strokeStyle, e.lineWidth = t.strokeWidth, t.lineDash && (e.setLineDash(t.lineDash), e.lineDashOffset = t.lineDashOffset), e.lineJoin = t.lineJoin, e.miterLimit = t.miterLimit, e.stroke()) } createHitDetectionCanvas_(t) { if (this.fill_) { let e = this.fill_.getColor(), i = 0; if ("string" == typeof e && (e = $r(e)), null === e ? i = 1 : Array.isArray(e) && (i = 4 === e.length ? e[3] : 1), 0 === i) { const e = Dr(t.size, t.size); this.hitDetectionCanvas_ = e.canvas, this.drawHitDetectionCanvas_(t, e) } } this.hitDetectionCanvas_ || (this.hitDetectionCanvas_ = this.getImage(1)) } createPath_(t) { let e = this.points_; const i = this.radius_; if (e === 1 / 0) t.arc(0, 0, i, 0, 2 * Math.PI); else { const n = void 0 === this.radius2_ ? i : this.radius2_; void 0 !== this.radius2_ && (e *= 2); const r = this.angle_ - Math.PI / 2, s = 2 * Math.PI / e; for (let o = 0; o < e; o++) { const e = r + o * s, a = o % 2 == 0 ? i : n; t.lineTo(a * Math.cos(e), a * Math.sin(e)) } t.closePath() } } drawHitDetectionCanvas_(t, e) { e.translate(t.size / 2, t.size / 2), this.createPath_(e), e.fillStyle = Ns, e.fill(), this.stroke_ && (e.strokeStyle = t.strokeStyle, e.lineWidth = t.strokeWidth, t.lineDash && (e.setLineDash(t.lineDash), e.lineDashOffset = t.lineDashOffset), e.lineJoin = t.lineJoin, e.miterLimit = t.miterLimit, e.stroke()) } } class ng extends ig { constructor(t) { super({ points: 1 / 0, fill: (t = t || { radius: 5 }).fill, radius: t.radius, stroke: t.stroke, scale: void 0 !== t.scale ? t.scale : 1, rotation: void 0 !== t.rotation ? t.rotation : 0, rotateWithView: void 0 !== t.rotateWithView && t.rotateWithView, displacement: void 0 !== t.displacement ? t.displacement : [0, 0], declutterMode: t.declutterMode }) } clone() { const t = this.getScale(), e = new ng({ fill: this.getFill() ? this.getFill().clone() : void 0, stroke: this.getStroke() ? this.getStroke().clone() : void 0, radius: this.getRadius(), scale: Array.isArray(t) ? t.slice() : t, rotation: this.getRotation(), rotateWithView: this.getRotateWithView(), displacement: this.getDisplacement().slice(), declutterMode: this.getDeclutterMode() }); return e.setOpacity(this.getOpacity()), e } setRadius(t) { this.radius_ = t, this.render() } } class rg { constructor(t) { t = t || {}, this.color_ = void 0 !== t.color ? t.color : null } clone() { const t = this.getColor(); return new rg({ color: Array.isArray(t) ? t.slice() : t || void 0 }) } getColor() { return this.color_ } setColor(t) { this.color_ = t } } let sg = null; class og extends v { constructor(t, e, i, n, r, s) { super(), this.hitDetectionImage_ = null, this.image_ = t, this.crossOrigin_ = n, this.canvas_ = {}, this.color_ = s, this.unlisten_ = null, this.imageState_ = r, this.size_ = i, this.src_ = e, this.tainted_ } initializeImage_() { this.image_ = new Image, null !== this.crossOrigin_ && (this.image_.crossOrigin = this.crossOrigin_) } isTainted_() { if (void 0 === this.tainted_ && this.imageState_ === Lr) { sg || (sg = Dr(1, 1)), sg.drawImage(this.image_, 0, 0); try { sg.getImageData(0, 0, 1, 1), this.tainted_ = !1 } catch (t) { sg = null, this.tainted_ = !0 } } return !0 === this.tainted_ } dispatchChangeEvent_() { this.dispatchEvent(S) } handleImageError_() { this.imageState_ = Mr, this.unlistenImage_(), this.dispatchChangeEvent_() } handleImageLoad_() { this.imageState_ = Lr, this.size_ ? (this.image_.width = this.size_[0], this.image_.height = this.size_[1]) : this.size_ = [this.image_.width, this.image_.height], this.unlistenImage_(), this.dispatchChangeEvent_() } getImage(t) { return this.image_ || this.initializeImage_(), this.replaceColor_(t), this.canvas_[t] ? this.canvas_[t] : this.image_ } getPixelRatio(t) { return this.replaceColor_(t), this.canvas_[t] ? t : 1 } getImageState() { return this.imageState_ } getHitDetectionImage() { if (this.image_ || this.initializeImage_(), !this.hitDetectionImage_) if (this.isTainted_()) { const t = this.size_[0], e = this.size_[1], i = Dr(t, e); i.fillRect(0, 0, t, e), this.hitDetectionImage_ = i.canvas } else this.hitDetectionImage_ = this.image_; return this.hitDetectionImage_ } getSize() { return this.size_ } getSrc() { return this.src_ } load() { if (this.imageState_ === Pr) { this.image_ || this.initializeImage_(), this.imageState_ = Ir; try { this.image_.src = this.src_ } catch (t) { this.handleImageError_() } this.unlisten_ = Or(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this)) } } replaceColor_(t) { if (!this.color_ || this.canvas_[t] || this.imageState_ !== Lr) return; const e = this.image_, i = document.createElement("canvas"); i.width = Math.ceil(e.width * t), i.height = Math.ceil(e.height * t); const n = i.getContext("2d"); n.scale(t, t), n.drawImage(e, 0, 0), n.globalCompositeOperation = "multiply", n.fillStyle = Kr(this.color_), n.fillRect(0, 0, i.width / t, i.height / t), n.globalCompositeOperation = "destination-in", n.drawImage(e, 0, 0), this.canvas_[t] = i } unlistenImage_() { this.unlisten_ && (this.unlisten_(), this.unlisten_ = null) } } function ag(t, e, i, n, r, s) { let o = ns.get(e, n, s); return o || (o = new og(t, e, i, n, r, s), ns.set(e, n, s, o)), o } class lg extends eg { constructor(t) { const e = void 0 !== (t = t || {}).opacity ? t.opacity : 1, i = void 0 !== t.rotation ? t.rotation : 0, n = void 0 !== t.scale ? t.scale : 1, r = void 0 !== t.rotateWithView && t.rotateWithView; super({ opacity: e, rotation: i, scale: n, displacement: void 0 !== t.displacement ? t.displacement : [0, 0], rotateWithView: r, declutterMode: t.declutterMode }), this.anchor_ = void 0 !== t.anchor ? t.anchor : [.5, .5], this.normalizedAnchor_ = null, this.anchorOrigin_ = void 0 !== t.anchorOrigin ? t.anchorOrigin : "top-left", this.anchorXUnits_ = void 0 !== t.anchorXUnits ? t.anchorXUnits : "fraction", this.anchorYUnits_ = void 0 !== t.anchorYUnits ? t.anchorYUnits : "fraction", this.crossOrigin_ = void 0 !== t.crossOrigin ? t.crossOrigin : null; const s = void 0 !== t.img ? t.img : null; this.imgSize_ = t.imgSize; let o = t.src; at(!(void 0 !== o && s), 4), at(!s || s && this.imgSize_, 5), void 0 !== o && 0 !== o.length || !s || (o = s.src || z(s)), at(void 0 !== o && o.length > 0, 6); const a = void 0 !== t.src ? Pr : Lr; this.color_ = void 0 !== t.color ? $r(t.color) : null, this.iconImage_ = ag(s, o, void 0 !== this.imgSize_ ? this.imgSize_ : null, this.crossOrigin_, a, this.color_), this.offset_ = void 0 !== t.offset ? t.offset : [0, 0], this.offsetOrigin_ = void 0 !== t.offsetOrigin ? t.offsetOrigin : "top-left", this.origin_ = null, this.size_ = void 0 !== t.size ? t.size : null } clone() { const t = this.getScale(); return new lg({ anchor: this.anchor_.slice(), anchorOrigin: this.anchorOrigin_, anchorXUnits: this.anchorXUnits_, anchorYUnits: this.anchorYUnits_, color: this.color_ && this.color_.slice ? this.color_.slice() : this.color_ || void 0, crossOrigin: this.crossOrigin_, imgSize: this.imgSize_, offset: this.offset_.slice(), offsetOrigin: this.offsetOrigin_, opacity: this.getOpacity(), rotateWithView: this.getRotateWithView(), rotation: this.getRotation(), scale: Array.isArray(t) ? t.slice() : t, size: null !== this.size_ ? this.size_.slice() : void 0, src: this.getSrc(), displacement: this.getDisplacement().slice(), declutterMode: this.getDeclutterMode() }) } getAnchor() { let t = this.normalizedAnchor_; if (!t) { t = this.anchor_; const e = this.getSize(); if ("fraction" == this.anchorXUnits_ || "fraction" == this.anchorYUnits_) { if (!e) return null; t = this.anchor_.slice(), "fraction" == this.anchorXUnits_ && (t[0] *= e[0]), "fraction" == this.anchorYUnits_ && (t[1] *= e[1]) } if ("top-left" != this.anchorOrigin_) { if (!e) return null; t === this.anchor_ && (t = this.anchor_.slice()), "top-right" != this.anchorOrigin_ && "bottom-right" != this.anchorOrigin_ || (t[0] = -t[0] + e[0]), "bottom-left" != this.anchorOrigin_ && "bottom-right" != this.anchorOrigin_ || (t[1] = -t[1] + e[1]) } this.normalizedAnchor_ = t } const e = this.getDisplacement(), i = this.getScaleArray(); return [t[0] - e[0] / i[0], t[1] + e[1] / i[1]] } setAnchor(t) { this.anchor_ = t, this.normalizedAnchor_ = null } getColor() { return this.color_ } getImage(t) { return this.iconImage_.getImage(t) } getPixelRatio(t) { return this.iconImage_.getPixelRatio(t) } getImageSize() { return this.iconImage_.getSize() } getImageState() { return this.iconImage_.getImageState() } getHitDetectionImage() { return this.iconImage_.getHitDetectionImage() } getOrigin() { if (this.origin_) return this.origin_; let t = this.offset_; if ("top-left" != this.offsetOrigin_) { const e = this.getSize(), i = this.iconImage_.getSize(); if (!e || !i) return null; t = t.slice(), "top-right" != this.offsetOrigin_ && "bottom-right" != this.offsetOrigin_ || (t[0] = i[0] - e[0] - t[0]), "bottom-left" != this.offsetOrigin_ && "bottom-right" != this.offsetOrigin_ || (t[1] = i[1] - e[1] - t[1]) } return this.origin_ = t, this.origin_ } getSrc() { return this.iconImage_.getSrc() } getSize() { return this.size_ ? this.size_ : this.iconImage_.getSize() } listenImageChange(t) { this.iconImage_.addEventListener(S, t) } load() { this.iconImage_.load() } unlistenImageChange(t) { this.iconImage_.removeEventListener(S, t) } } class hg { constructor(t) { t = t || {}, this.color_ = void 0 !== t.color ? t.color : null, this.lineCap_ = t.lineCap, this.lineDash_ = void 0 !== t.lineDash ? t.lineDash : null, this.lineDashOffset_ = t.lineDashOffset, this.lineJoin_ = t.lineJoin, this.miterLimit_ = t.miterLimit, this.width_ = t.width } clone() { const t = this.getColor(); return new hg({ color: Array.isArray(t) ? t.slice() : t || void 0, lineCap: this.getLineCap(), lineDash: this.getLineDash() ? this.getLineDash().slice() : void 0, lineDashOffset: this.getLineDashOffset(), lineJoin: this.getLineJoin(), miterLimit: this.getMiterLimit(), width: this.getWidth() }) } getColor() { return this.color_ } getLineCap() { return this.lineCap_ } getLineDash() { return this.lineDash_ } getLineDashOffset() { return this.lineDashOffset_ } getLineJoin() { return this.lineJoin_ } getMiterLimit() { return this.miterLimit_ } getWidth() { return this.width_ } setColor(t) { this.color_ = t } setLineCap(t) { this.lineCap_ = t } setLineDash(t) { this.lineDash_ = t } setLineDashOffset(t) { this.lineDashOffset_ = t } setLineJoin(t) { this.lineJoin_ = t } setMiterLimit(t) { this.miterLimit_ = t } setWidth(t) { this.width_ = t } } class cg { constructor(t) { t = t || {}, this.geometry_ = null, this.geometryFunction_ = pg, void 0 !== t.geometry && this.setGeometry(t.geometry), this.fill_ = void 0 !== t.fill ? t.fill : null, this.image_ = void 0 !== t.image ? t.image : null, this.renderer_ = void 0 !== t.renderer ? t.renderer : null, this.hitDetectionRenderer_ = void 0 !== t.hitDetectionRenderer ? t.hitDetectionRenderer : null, this.stroke_ = void 0 !== t.stroke ? t.stroke : null, this.text_ = void 0 !== t.text ? t.text : null, this.zIndex_ = t.zIndex } clone() { let t = this.getGeometry(); return t && "object" == typeof t && (t = t.clone()), new cg({ geometry: t, fill: this.getFill() ? this.getFill().clone() : void 0, image: this.getImage() ? this.getImage().clone() : void 0, renderer: this.getRenderer(), stroke: this.getStroke() ? this.getStroke().clone() : void 0, text: this.getText() ? this.getText().clone() : void 0, zIndex: this.getZIndex() }) } getRenderer() { return this.renderer_ } setRenderer(t) { this.renderer_ = t } setHitDetectionRenderer(t) { this.hitDetectionRenderer_ = t } getHitDetectionRenderer() { return this.hitDetectionRenderer_ } getGeometry() { return this.geometry_ } getGeometryFunction() { return this.geometryFunction_ } getFill() { return this.fill_ } setFill(t) { this.fill_ = t } getImage() { return this.image_ } setImage(t) { this.image_ = t } getStroke() { return this.stroke_ } setStroke(t) { this.stroke_ = t } getText() { return this.text_ } setText(t) { this.text_ = t } getZIndex() { return this.zIndex_ } setGeometry(t) { "function" == typeof t ? this.geometryFunction_ = t : "string" == typeof t ? this.geometryFunction_ = function (e) { return e.get(t) } : t ? void 0 !== t && (this.geometryFunction_ = function () { return t }) : this.geometryFunction_ = pg, this.geometry_ = t } setZIndex(t) { this.zIndex_ = t } } function ug(t) { let e; if ("function" == typeof t) e = t; else { let i; if (Array.isArray(t)) i = t; else { at("function" == typeof t.getZIndex, 41); i = [t] } e = function () { return i } } return e } let dg = null; function gg(t, e) { if (!dg) { const t = new rg({ color: "rgba(255,255,255,0.4)" }), e = new hg({ color: "#3399CC", width: 1.25 }); dg = [new cg({ image: new ng({ fill: t, stroke: e, radius: 5 }), fill: t, stroke: e })] } return dg } function fg() { const t = {}, e = [255, 255, 255, 1], i = [0, 153, 255, 1]; return t.Polygon = [new cg({ fill: new rg({ color: [255, 255, 255, .5] }) })], t.MultiPolygon = t.Polygon, t.LineString = [new cg({ stroke: new hg({ color: e, width: 5 }) }), new cg({ stroke: new hg({ color: i, width: 3 }) })], t.MultiLineString = t.LineString, t.Circle = t.Polygon.concat(t.LineString), t.Point = [new cg({ image: new ng({ radius: 6, fill: new rg({ color: i }), stroke: new hg({ color: e, width: 1.5 }) }), zIndex: 1 / 0 })], t.MultiPoint = t.Point, t.GeometryCollection = t.Polygon.concat(t.LineString, t.Point), t } function pg(t) { return t.getGeometry() } class mg { constructor(t) { t = t || {}, this.font_ = t.font, this.rotation_ = t.rotation, this.rotateWithView_ = t.rotateWithView, this.scale_ = t.scale, this.scaleArray_ = Va(void 0 !== t.scale ? t.scale : 1), this.text_ = t.text, this.textAlign_ = t.textAlign, this.justify_ = t.justify, this.textBaseline_ = t.textBaseline, this.fill_ = void 0 !== t.fill ? t.fill : new rg({ color: "#333" }), this.maxAngle_ = void 0 !== t.maxAngle ? t.maxAngle : Math.PI / 4, this.placement_ = void 0 !== t.placement ? t.placement : "point", this.overflow_ = !!t.overflow, this.stroke_ = void 0 !== t.stroke ? t.stroke : null, this.offsetX_ = void 0 !== t.offsetX ? t.offsetX : 0, this.offsetY_ = void 0 !== t.offsetY ? t.offsetY : 0, this.backgroundFill_ = t.backgroundFill ? t.backgroundFill : null, this.backgroundStroke_ = t.backgroundStroke ? t.backgroundStroke : null, this.padding_ = void 0 === t.padding ? null : t.padding } clone() { const t = this.getScale(); return new mg({ font: this.getFont(), placement: this.getPlacement(), maxAngle: this.getMaxAngle(), overflow: this.getOverflow(), rotation: this.getRotation(), rotateWithView: this.getRotateWithView(), scale: Array.isArray(t) ? t.slice() : t, text: this.getText(), textAlign: this.getTextAlign(), justify: this.getJustify(), textBaseline: this.getTextBaseline(), fill: this.getFill() ? this.getFill().clone() : void 0, stroke: this.getStroke() ? this.getStroke().clone() : void 0, offsetX: this.getOffsetX(), offsetY: this.getOffsetY(), backgroundFill: this.getBackgroundFill() ? this.getBackgroundFill().clone() : void 0, backgroundStroke: this.getBackgroundStroke() ? this.getBackgroundStroke().clone() : void 0, padding: this.getPadding() || void 0 }) } getOverflow() { return this.overflow_ } getFont() { return this.font_ } getMaxAngle() { return this.maxAngle_ } getPlacement() { return this.placement_ } getOffsetX() { return this.offsetX_ } getOffsetY() { return this.offsetY_ } getFill() { return this.fill_ } getRotateWithView() { return this.rotateWithView_ } getRotation() { return this.rotation_ } getScale() { return this.scale_ } getScaleArray() { return this.scaleArray_ } getStroke() { return this.stroke_ } getText() { return this.text_ } getTextAlign() { return this.textAlign_ } getJustify() { return this.justify_ } getTextBaseline() { return this.textBaseline_ } getBackgroundFill() { return this.backgroundFill_ } getBackgroundStroke() { return this.backgroundStroke_ } getPadding() { return this.padding_ } setOverflow(t) { this.overflow_ = t } setFont(t) { this.font_ = t } setMaxAngle(t) { this.maxAngle_ = t } setOffsetX(t) { this.offsetX_ = t } setOffsetY(t) { this.offsetY_ = t } setPlacement(t) { this.placement_ = t } setRotateWithView(t) { this.rotateWithView_ = t } setFill(t) { this.fill_ = t } setRotation(t) { this.rotation_ = t } setScale(t) { this.scale_ = t, this.scaleArray_ = Va(void 0 !== t ? t : 1) } setStroke(t) { this.stroke_ = t } setText(t) { this.text_ = t } setTextAlign(t) { this.textAlign_ = t } setJustify(t) { this.justify_ = t } setTextBaseline(t) { this.textBaseline_ = t } setBackgroundFill(t) { this.backgroundFill_ = t } setBackgroundStroke(t) { this.backgroundStroke_ = t } setPadding(t) { this.padding_ = t } } function _g(t) { return new cg({ fill: yg(t, ""), stroke: xg(t, ""), text: vg(t), image: Sg(t) }) } function yg(t, e) { const i = t[e + "fill-color"]; if (i) return new rg({ color: i }) } function xg(t, e) { const i = t[e + "stroke-width"], n = t[e + "stroke-color"]; if (i || n) return new hg({ width: i, color: n, lineCap: t[e + "stroke-line-cap"], lineJoin: t[e + "stroke-line-join"], lineDash: t[e + "stroke-line-dash"], lineDashOffset: t[e + "stroke-line-dash-offset"], miterLimit: t[e + "stroke-miter-limit"] }) } function vg(t) { const e = t["text-value"]; if (!e) return; return new mg({ text: e, font: t["text-font"], maxAngle: t["text-max-angle"], offsetX: t["text-offset-x"], offsetY: t["text-offset-y"], overflow: t["text-overflow"], placement: t["text-placement"], scale: t["text-scale"], rotateWithView: t["text-rotate-with-view"], rotation: t["text-rotation"], textAlign: t["text-align"], justify: t["text-justify"], textBaseline: t["text-baseline"], padding: t["text-padding"], fill: yg(t, "text-"), backgroundFill: yg(t, "text-background-"), stroke: xg(t, "text-"), backgroundStroke: xg(t, "text-background-") }) } function Sg(t) { const e = t["icon-src"], i = t["icon-img"]; if (e || i) { return new lg({ src: e, img: i, imgSize: t["icon-img-size"], anchor: t["icon-anchor"], anchorOrigin: t["icon-anchor-origin"], anchorXUnits: t["icon-anchor-x-units"], anchorYUnits: t["icon-anchor-y-units"], color: t["icon-color"], crossOrigin: t["icon-cross-origin"], offset: t["icon-offset"], displacement: t["icon-displacement"], opacity: t["icon-opacity"], scale: t["icon-scale"], rotation: t["icon-rotation"], rotateWithView: t["icon-rotate-with-view"], size: t["icon-size"], declutterMode: t["icon-declutter-mode"] }) } const n = t["shape-points"]; if (n) { const e = "shape-"; return new ig({ points: n, fill: yg(t, e), stroke: xg(t, e), radius: t["shape-radius"], radius1: t["shape-radius1"], radius2: t["shape-radius2"], angle: t["shape-angle"], displacement: t["shape-displacement"], rotation: t["shape-rotation"], rotateWithView: t["shape-rotate-with-view"], scale: t["shape-scale"], declutterMode: t["shape-declutter-mode"] }) } const r = t["circle-radius"]; if (r) { const e = "circle-"; return new ng({ radius: r, fill: yg(t, e), stroke: xg(t, e), displacement: t["circle-displacement"], scale: t["circle-scale"], rotation: t["circle-rotation"], rotateWithView: t["circle-rotate-with-view"], declutterMode: t["circle-declutter-mode"] }) } } const wg = { "image/png": !0, "image/jpeg": !0, "image/gif": !0, "image/webp": !0 }, Eg = { "application/vnd.mapbox-vector-tile": !0, "application/geo+json": !0 }; function Tg(t, e) { let i, n; for (let r = 0; r < t.length; ++r) { const s = t[r]; if ("item" === s.rel) { if (s.type === e) { i = s.href; break } (wg[s.type] || !n && s.type.startsWith("image/")) && (n = s.href) } } if (!i) { if (!n) throw new Error('Could not find "item" link'); i = n } return i } function Cg(t, e, i) { let n, r; const s = {}; for (let i = 0; i < t.length; ++i) { const o = t[i]; if (s[o.type] = o.href, "item" === o.rel) { if (o.type === e) { n = o.href; break } Eg[o.type] && (r = o.href) } } if (!n && i) for (let t = 0; t < i.length; ++t) { const e = i[t]; if (s[e]) { n = s[e]; break } } if (!n) { if (!r) throw new Error('Could not find "item" link'); n = r } return n } function bg(t, e, i, n) { let r = t.projection; if (!r && (r = Ui(e.crs), !r)) throw new Error(`Unsupported CRS: ${e.crs}`); const s = "en" !== r.getAxisOrientation().substr(0, 2), o = e.tileMatrices, a = {}; for (let t = 0; t < o.length; ++t) { const e = o[t]; a[e.id] = e } const l = {}, h = []; if (n) for (let t = 0; t < n.length; ++t) { const e = n[t], i = e.tileMatrix; h.push(i), l[i] = e } else for (let t = 0; t < o.length; ++t) { const e = o[t].id; h.push(e) } const c = h.length, u = new Array(c), d = new Array(c), g = new Array(c), f = new Array(c), p = [-1 / 0, -1 / 0, 1 / 0, 1 / 0]; for (let t = 0; t < c; ++t) { const e = h[t], i = a[e], n = i.pointOfOrigin; u[t] = s ? [n[1], n[0]] : n, d[t] = i.cellSize, g[t] = [i.matrixWidth, i.matrixHeight], f[t] = [i.tileWidth, i.tileHeight]; const r = l[e]; if (r) { const e = i.cellSize * i.tileWidth, n = u[t][0] + r.minTileCol * e, s = u[t][0] + (r.maxTileCol + 1) * e, o = i.cellSize * i.tileHeight; let a, l; "bottomLeft" === i.cornerOfOrigin ? (a = u[t][1] + r.minTileRow * o, l = u[t][1] + (r.maxTileRow + 1) * o) : (a = u[t][1] - (r.maxTileRow + 1) * o, l = u[t][1] - r.minTileRow * o), ye(p, [n, a, s, l], p) } } const m = new ql({ origins: u, resolutions: d, sizes: g, tileSizes: f, extent: n ? p : void 0 }), _ = t.context, y = t.url; return { grid: m, urlTemplate: i, urlFunction: function (t, e, r) { if (!t) return; const s = h[t[0]], o = a[s], c = "bottomLeft" === o.cornerOfOrigin, u = { tileMatrix: s, tileCol: t[1], tileRow: c ? -t[2] - 1 : t[2] }; if (n) { const t = l[o.id]; if (u.tileCol < t.minTileCol || u.tileCol > t.maxTileCol || u.tileRow < t.minTileRow || u.tileRow > t.maxTileRow) return } Object.assign(u, _); const d = i.replace(/\{(\w+?)\}/g, (function (t, e) { return u[e] })); return Tl(y, d) } } } function Rg(t) { return El(t.url).then((function (e) { return function (t, e) { const i = e.tileMatrixSetLimits; let n; if ("map" === e.dataType) n = Tg(e.links, t.mediaType); else { if ("vector" !== e.dataType) throw new Error('Expected tileset data type to be "map" or "vector"'); n = Cg(e.links, t.mediaType, t.supportedMediaTypes) } if (e.tileMatrixSet) return bg(t, e.tileMatrixSet, n, i); const r = e.links.find((t => "http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme" === t.rel)); if (!r) throw new Error("Expected http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme link or tileMatrixSet"); const s = r.href; return El(Tl(t.url, s)).then((function (e) { return bg(t, e, n, i) })) }(t, e) })) } const Pg = "renderOrder"; class Ig extends vs { constructor(t) { t = t || {}; const e = Object.assign({}, t); delete e.style, delete e.renderBuffer, delete e.updateWhileAnimating, delete e.updateWhileInteracting, super(e), this.declutter_ = void 0 !== t.declutter && t.declutter, this.renderBuffer_ = void 0 !== t.renderBuffer ? t.renderBuffer : 100, this.style_ = null, this.styleFunction_ = void 0, this.setStyle(t.style), this.updateWhileAnimating_ = void 0 !== t.updateWhileAnimating && t.updateWhileAnimating, this.updateWhileInteracting_ = void 0 !== t.updateWhileInteracting && t.updateWhileInteracting } getDeclutter() { return this.declutter_ } getFeatures(t) { return super.getFeatures(t) } getRenderBuffer() { return this.renderBuffer_ } getRenderOrder() { return this.get(Pg) } getStyle() { return this.style_ } getStyleFunction() { return this.styleFunction_ } getUpdateWhileAnimating() { return this.updateWhileAnimating_ } getUpdateWhileInteracting() { return this.updateWhileInteracting_ } renderDeclutter(t) { t.declutterTree || (t.declutterTree = new xh(9)), this.getRenderer().renderDeclutter(t) } setRenderOrder(t) { this.set(Pg, t) } setStyle(t) { let e; if (void 0 === t) e = gg; else if (null === t) e = null; else if ("function" == typeof t) e = t; else if (t instanceof cg) e = t; else if (Array.isArray(t)) { const i = t.length, n = new Array(i); for (let e = 0; e < i; ++e) { const i = t[e]; n[e] = i instanceof cg ? i : _g(i) } e = n } else e = _g(t); this.style_ = e, this.styleFunction_ = null === t ? void 0 : ug(this.style_), this.changed() } } const Lg = "GENERATE_POLYGON_BUFFERS", Mg = "GENERATE_POINT_BUFFERS", Fg = "GENERATE_LINE_STRING_BUFFERS"; var Ag = { exports: {} }; function Og(t, e, i) { i = i || 2; var n, r, s, o, a, l, h, c = e && e.length, u = c ? e[0] * i : t.length, d = Ng(t, 0, u, i, !0), g = []; if (!d || d.next === d.prev) return g; if (c && (d = function (t, e, i, n) { var r, s, o, a = []; for (r = 0, s = e.length; r < s; r++)(o = Ng(t, e[r] * n, r < s - 1 ? e[r + 1] * n : t.length, n, !1)) === o.next && (o.steiner = !0), a.push(Zg(o)); for (a.sort(zg), r = 0; r < a.length; r++)i = Dg(i = Xg(a[r], i), i.next); return i }(t, e, d, i)), t.length > 80 * i) { n = s = t[0], r = o = t[1]; for (var f = i; f < u; f += i)(a = t[f]) < n && (n = a), (l = t[f + 1]) < r && (r = l), a > s && (s = a), l > o && (o = l); h = 0 !== (h = Math.max(s - n, o - r)) ? 1 / h : 0 } return kg(d, g, i, n, r, h), g } function Ng(t, e, i, n, r) { var s, o; if (r === of(t, e, i, n) > 0) for (s = e; s < i; s += n)o = nf(s, t[s], t[s + 1], o); else for (s = i - n; s >= e; s -= n)o = nf(s, t[s], t[s + 1], o); return o && Hg(o, o.next) && (rf(o), o = o.next), o } function Dg(t, e) { if (!t) return t; e || (e = t); var i, n = t; do { if (i = !1, n.steiner || !Hg(n, n.next) && 0 !== qg(n.prev, n, n.next)) n = n.next; else { if (rf(n), (n = e = n.prev) === n.next) break; i = !0 } } while (i || n !== e); return e } function kg(t, e, i, n, r, s, o) { if (t) { !o && s && function (t, e, i, n) { var r = t; do { null === r.z && (r.z = Wg(r.x, r.y, e, i, n)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next } while (r !== t); r.prevZ.nextZ = null, r.prevZ = null, function (t) { var e, i, n, r, s, o, a, l, h = 1; do { for (i = t, t = null, s = null, o = 0; i;) { for (o++, n = i, a = 0, e = 0; e < h && (a++, n = n.nextZ); e++); for (l = h; a > 0 || l > 0 && n;)0 !== a && (0 === l || !n || i.z <= n.z) ? (r = i, i = i.nextZ, a--) : (r = n, n = n.nextZ, l--), s ? s.nextZ = r : t = r, r.prevZ = s, s = r; i = n } s.nextZ = null, h *= 2 } while (o > 1) }(r) }(t, n, r, s); for (var a, l, h = t; t.prev !== t.next;)if (a = t.prev, l = t.next, s ? jg(t, n, r, s) : Gg(t)) e.push(a.i / i), e.push(t.i / i), e.push(l.i / i), rf(t), t = l.next, h = l.next; else if ((t = l) === h) { o ? 1 === o ? kg(t = Bg(Dg(t), e, i), e, i, n, r, s, 2) : 2 === o && Ug(t, e, i, n, r, s) : kg(Dg(t), e, i, n, r, s, 1); break } } } function Gg(t) { var e = t.prev, i = t, n = t.next; if (qg(e, i, n) >= 0) return !1; for (var r = t.next.next; r !== t.prev;) { if (Yg(e.x, e.y, i.x, i.y, n.x, n.y, r.x, r.y) && qg(r.prev, r, r.next) >= 0) return !1; r = r.next } return !0 } function jg(t, e, i, n) { var r = t.prev, s = t, o = t.next; if (qg(r, s, o) >= 0) return !1; for (var a = r.x < s.x ? r.x < o.x ? r.x : o.x : s.x < o.x ? s.x : o.x, l = r.y < s.y ? r.y < o.y ? r.y : o.y : s.y < o.y ? s.y : o.y, h = r.x > s.x ? r.x > o.x ? r.x : o.x : s.x > o.x ? s.x : o.x, c = r.y > s.y ? r.y > o.y ? r.y : o.y : s.y > o.y ? s.y : o.y, u = Wg(a, l, e, i, n), d = Wg(h, c, e, i, n), g = t.prevZ, f = t.nextZ; g && g.z >= u && f && f.z <= d;) { if (g !== t.prev && g !== t.next && Yg(r.x, r.y, s.x, s.y, o.x, o.y, g.x, g.y) && qg(g.prev, g, g.next) >= 0) return !1; if (g = g.prevZ, f !== t.prev && f !== t.next && Yg(r.x, r.y, s.x, s.y, o.x, o.y, f.x, f.y) && qg(f.prev, f, f.next) >= 0) return !1; f = f.nextZ } for (; g && g.z >= u;) { if (g !== t.prev && g !== t.next && Yg(r.x, r.y, s.x, s.y, o.x, o.y, g.x, g.y) && qg(g.prev, g, g.next) >= 0) return !1; g = g.prevZ } for (; f && f.z <= d;) { if (f !== t.prev && f !== t.next && Yg(r.x, r.y, s.x, s.y, o.x, o.y, f.x, f.y) && qg(f.prev, f, f.next) >= 0) return !1; f = f.nextZ } return !0 } function Bg(t, e, i) { var n = t; do { var r = n.prev, s = n.next.next; !Hg(r, s) && $g(r, n, n.next, s) && tf(r, s) && tf(s, r) && (e.push(r.i / i), e.push(n.i / i), e.push(s.i / i), rf(n), rf(n.next), n = t = s), n = n.next } while (n !== t); return Dg(n) } function Ug(t, e, i, n, r, s) { var o = t; do { for (var a = o.next.next; a !== o.prev;) { if (o.i !== a.i && Kg(o, a)) { var l = ef(o, a); return o = Dg(o, o.next), l = Dg(l, l.next), kg(o, e, i, n, r, s), void kg(l, e, i, n, r, s) } a = a.next } o = o.next } while (o !== t) } function zg(t, e) { return t.x - e.x } function Xg(t, e) { var i = function (t, e) { var i, n = e, r = t.x, s = t.y, o = -1 / 0; do { if (s <= n.y && s >= n.next.y && n.next.y !== n.y) { var a = n.x + (s - n.y) * (n.next.x - n.x) / (n.next.y - n.y); if (a <= r && a > o) { if (o = a, a === r) { if (s === n.y) return n; if (s === n.next.y) return n.next } i = n.x < n.next.x ? n : n.next } } n = n.next } while (n !== e); if (!i) return null; if (r === o) return i; var l, h = i, c = i.x, u = i.y, d = 1 / 0; n = i; do { r >= n.x && n.x >= c && r !== n.x && Yg(s < u ? r : o, s, c, u, s < u ? o : r, s, n.x, n.y) && (l = Math.abs(s - n.y) / (r - n.x), tf(n, t) && (l < d || l === d && (n.x > i.x || n.x === i.x && Vg(i, n))) && (i = n, d = l)), n = n.next } while (n !== h); return i }(t, e); if (!i) return e; var n = ef(i, t), r = Dg(i, i.next); return Dg(n, n.next), e === i ? r : e } function Vg(t, e) { return qg(t.prev, t, e.prev) < 0 && qg(e.next, t, t.next) < 0 } function Wg(t, e, i, n, r) { return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - i) * r) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - n) * r) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1 } function Zg(t) { var e = t, i = t; do { (e.x < i.x || e.x === i.x && e.y < i.y) && (i = e), e = e.next } while (e !== t); return i } function Yg(t, e, i, n, r, s, o, a) { return (r - o) * (e - a) - (t - o) * (s - a) >= 0 && (t - o) * (n - a) - (i - o) * (e - a) >= 0 && (i - o) * (s - a) - (r - o) * (n - a) >= 0 } function Kg(t, e) { return t.next.i !== e.i && t.prev.i !== e.i && !function (t, e) { var i = t; do { if (i.i !== t.i && i.next.i !== t.i && i.i !== e.i && i.next.i !== e.i && $g(i, i.next, t, e)) return !0; i = i.next } while (i !== t); return !1 }(t, e) && (tf(t, e) && tf(e, t) && function (t, e) { var i = t, n = !1, r = (t.x + e.x) / 2, s = (t.y + e.y) / 2; do { i.y > s != i.next.y > s && i.next.y !== i.y && r < (i.next.x - i.x) * (s - i.y) / (i.next.y - i.y) + i.x && (n = !n), i = i.next } while (i !== t); return n }(t, e) && (qg(t.prev, t, e.prev) || qg(t, e.prev, e)) || Hg(t, e) && qg(t.prev, t, t.next) > 0 && qg(e.prev, e, e.next) > 0) } function qg(t, e, i) { return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y) } function Hg(t, e) { return t.x === e.x && t.y === e.y } function $g(t, e, i, n) { var r = Qg(qg(t, e, i)), s = Qg(qg(t, e, n)), o = Qg(qg(i, n, t)), a = Qg(qg(i, n, e)); return r !== s && o !== a || (!(0 !== r || !Jg(t, i, e)) || (!(0 !== s || !Jg(t, n, e)) || (!(0 !== o || !Jg(i, t, n)) || !(0 !== a || !Jg(i, e, n))))) } function Jg(t, e, i) { return e.x <= Math.max(t.x, i.x) && e.x >= Math.min(t.x, i.x) && e.y <= Math.max(t.y, i.y) && e.y >= Math.min(t.y, i.y) } function Qg(t) { return t > 0 ? 1 : t < 0 ? -1 : 0 } function tf(t, e) { return qg(t.prev, t, t.next) < 0 ? qg(t, e, t.next) >= 0 && qg(t, t.prev, e) >= 0 : qg(t, e, t.prev) < 0 || qg(t, t.next, e) < 0 } function ef(t, e) { var i = new sf(t.i, t.x, t.y), n = new sf(e.i, e.x, e.y), r = t.next, s = e.prev; return t.next = e, e.prev = t, i.next = r, r.prev = i, n.next = i, i.prev = n, s.next = n, n.prev = s, n } function nf(t, e, i, n) { var r = new sf(t, e, i); return n ? (r.next = n.next, r.prev = n, n.next.prev = r, n.next = r) : (r.prev = r, r.next = r), r } function rf(t) { t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ) } function sf(t, e, i) { this.i = t, this.x = e, this.y = i, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1 } function of(t, e, i, n) { for (var r = 0, s = e, o = i - n; s < i; s += n)r += (t[o] - t[s]) * (t[s + 1] + t[o + 1]), o = s; return r } Ag.exports = Og, Ag.exports.default = Og, Og.deviation = function (t, e, i, n) { var r = e && e.length, s = r ? e[0] * i : t.length, o = Math.abs(of(t, 0, s, i)); if (r) for (var a = 0, l = e.length; a < l; a++) { var h = e[a] * i, c = a < l - 1 ? e[a + 1] * i : t.length; o -= Math.abs(of(t, h, c, i)) } var u = 0; for (a = 0; a < n.length; a += 3) { var d = n[a] * i, g = n[a + 1] * i, f = n[a + 2] * i; u += Math.abs((t[d] - t[f]) * (t[g + 1] - t[d + 1]) - (t[d] - t[g]) * (t[f + 1] - t[d + 1])) } return 0 === o && 0 === u ? 0 : Math.abs((u - o) / o) }, Og.flatten = function (t) { for (var e = t[0][0].length, i = { vertices: [], holes: [], dimensions: e }, n = 0, r = 0; r < t.length; r++) { for (var s = 0; s < t[r].length; s++)for (var o = 0; o < e; o++)i.vertices.push(t[r][s][o]); r > 0 && (n += t[r - 1].length, i.holes.push(n)) } return i }; const af = [], lf = { vertexPosition: 0, indexPosition: 0 }; function hf(t, e, i, n, r) { t[e + 0] = i, t[e + 1] = n, t[e + 2] = r } function cf(t, e) { const i = 256, n = 255; return (e = e || [])[0] = Math.floor(t / i / i / i) / n, e[1] = Math.floor(t / i / i) % i / n, e[2] = Math.floor(t / i) % i / n, e[3] = t % i / n, e } function uf(t) { let e = 0; const i = 256, n = 255; return e += Math.round(t[0] * i * i * i * n), e += Math.round(t[1] * i * i * n), e += Math.round(t[2] * i * n), e += Math.round(t[3] * n), e } function df() { const t = 'const e="GENERATE_POLYGON_BUFFERS",t="GENERATE_POINT_BUFFERS",n="GENERATE_LINE_STRING_BUFFERS",r="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"";r.includes("firefox");r.includes("safari")&&!r.includes("chrom")&&(r.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(r)),r.includes("webkit")&&r.includes("edge"),r.includes("macintosh"),"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&(self,WorkerGlobalScope),function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(e){}}();const o={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:\'`renderMode` must be `"hybrid"` or `"vector"`\',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection"};class i extends Error{constructor(e){const t=o[e];super(t),this.code=e,this.name="AssertionError",this.message=t}}function s(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function a(e,t){const n=(r=t)[0]*r[3]-r[1]*r[2];var r;!function(e,t){if(!e)throw new i(t)}(0!==n,32);const o=t[0],s=t[1],a=t[2],u=t[3],x=t[4],f=t[5];return e[0]=u/n,e[1]=-s/n,e[2]=-a/n,e[3]=o/n,e[4]=(a*f-u*x)/n,e[5]=-(o*f-s*x)/n,e}new Array(6);var u={exports:{}};function x(e,t,n){n=n||2;var r,o,i,s,a,u,x,y=t&&t.length,d=y?t[0]*n:e.length,h=f(e,0,d,n,!0),v=[];if(!h||h.next===h.prev)return v;if(y&&(h=function(e,t,n,r){var o,i,s,a=[];for(o=0,i=t.length;o<i;o++)(s=f(e,t[o]*r,o<i-1?t[o+1]*r:e.length,r,!1))===s.next&&(s.steiner=!0),a.push(w(s));for(a.sort(p),o=0;o<a.length;o++)n=l(n=g(a[o],n),n.next);return n}(e,t,h,n)),e.length>80*n){r=i=e[0],o=s=e[1];for(var b=n;b<d;b+=n)(a=e[b])<r&&(r=a),(u=e[b+1])<o&&(o=u),a>i&&(i=a),u>s&&(s=u);x=0!==(x=Math.max(i-r,s-o))?1/x:0}return c(h,v,n,r,o,x),v}function f(e,t,n,r,o){var i,s;if(o===B(e,t,n,r)>0)for(i=t;i<n;i+=r)s=U(i,e[i],e[i+1],s);else for(i=n-r;i>=t;i-=r)s=U(i,e[i],e[i+1],s);return s&&M(s,s.next)&&(z(s),s=s.next),s}function l(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!M(r,r.next)&&0!==Z(r.prev,r,r.next))r=r.next;else{if(z(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function c(e,t,n,r,o,i,s){if(e){!s&&i&&function(e,t,n,r){var o=e;do{null===o.z&&(o.z=m(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,n,r,o,i,s,a,u,x=1;do{for(n=e,e=null,i=null,s=0;n;){for(s++,r=n,a=0,t=0;t<x&&(a++,r=r.nextZ);t++);for(u=x;a>0||u>0&&r;)0!==a&&(0===u||!r||n.z<=r.z)?(o=n,n=n.nextZ,a--):(o=r,r=r.nextZ,u--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;n=r}i.nextZ=null,x*=2}while(s>1)}(o)}(e,r,o,i);for(var a,u,x=e;e.prev!==e.next;)if(a=e.prev,u=e.next,i?d(e,r,o,i):y(e))t.push(a.i/n),t.push(e.i/n),t.push(u.i/n),z(e),e=u.next,x=u.next;else if((e=u)===x){s?1===s?c(e=h(l(e),t,n),t,n,r,o,i,2):2===s&&v(e,t,n,r,o,i):c(l(e),t,n,r,o,i,1);break}}}function y(e){var t=e.prev,n=e,r=e.next;if(Z(t,n,r)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(A(t.x,t.y,n.x,n.y,r.x,r.y,o.x,o.y)&&Z(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function d(e,t,n,r){var o=e.prev,i=e,s=e.next;if(Z(o,i,s)>=0)return!1;for(var a=o.x<i.x?o.x<s.x?o.x:s.x:i.x<s.x?i.x:s.x,u=o.y<i.y?o.y<s.y?o.y:s.y:i.y<s.y?i.y:s.y,x=o.x>i.x?o.x>s.x?o.x:s.x:i.x>s.x?i.x:s.x,f=o.y>i.y?o.y>s.y?o.y:s.y:i.y>s.y?i.y:s.y,l=m(a,u,t,n,r),c=m(x,f,t,n,r),y=e.prevZ,d=e.nextZ;y&&y.z>=l&&d&&d.z<=c;){if(y!==e.prev&&y!==e.next&&A(o.x,o.y,i.x,i.y,s.x,s.y,y.x,y.y)&&Z(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,d!==e.prev&&d!==e.next&&A(o.x,o.y,i.x,i.y,s.x,s.y,d.x,d.y)&&Z(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;y&&y.z>=l;){if(y!==e.prev&&y!==e.next&&A(o.x,o.y,i.x,i.y,s.x,s.y,y.x,y.y)&&Z(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;d&&d.z<=c;){if(d!==e.prev&&d!==e.next&&A(o.x,o.y,i.x,i.y,s.x,s.y,d.x,d.y)&&Z(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function h(e,t,n){var r=e;do{var o=r.prev,i=r.next.next;!M(o,i)&&F(o,r,r.next,i)&&k(o,i)&&k(i,o)&&(t.push(o.i/n),t.push(r.i/n),t.push(i.i/n),z(r),z(r.next),r=e=i),r=r.next}while(r!==e);return l(r)}function v(e,t,n,r,o,i){var s=e;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&E(s,a)){var u=S(s,a);return s=l(s,s.next),u=l(u,u.next),c(s,t,n,r,o,i),void c(u,t,n,r,o,i)}a=a.next}s=s.next}while(s!==e)}function p(e,t){return e.x-t.x}function g(e,t){var n=function(e,t){var n,r=t,o=e.x,i=e.y,s=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=o&&a>s){if(s=a,a===o){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(o===s)return n;var u,x=n,f=n.x,l=n.y,c=1/0;r=n;do{o>=r.x&&r.x>=f&&o!==r.x&&A(i<l?o:s,i,f,l,i<l?s:o,i,r.x,r.y)&&(u=Math.abs(i-r.y)/(o-r.x),k(r,e)&&(u<c||u===c&&(r.x>n.x||r.x===n.x&&b(n,r)))&&(n=r,c=u)),r=r.next}while(r!==x);return n}(e,t);if(!n)return t;var r=S(n,e),o=l(n,n.next);return l(r,r.next),t===n?o:t}function b(e,t){return Z(e.prev,e,t.prev)<0&&Z(t.next,e,e.next)<0}function m(e,t,n,r,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*o)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*o)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function w(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function A(e,t,n,r,o,i,s,a){return(o-s)*(t-a)-(e-s)*(i-a)>=0&&(e-s)*(r-a)-(n-s)*(t-a)>=0&&(n-s)*(i-a)-(o-s)*(r-a)>=0}function E(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&F(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(k(e,t)&&k(t,e)&&function(e,t){var n=e,r=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Z(e.prev,e,t.prev)||Z(e,t.prev,t))||M(e,t)&&Z(e.prev,e,e.next)>0&&Z(t.prev,t,t.next)>0)}function Z(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function M(e,t){return e.x===t.x&&e.y===t.y}function F(e,t,n,r){var o=I(Z(e,t,n)),i=I(Z(e,t,r)),s=I(Z(n,r,e)),a=I(Z(n,r,t));return o!==i&&s!==a||(!(0!==o||!T(e,n,t))||(!(0!==i||!T(e,r,t))||(!(0!==s||!T(n,e,r))||!(0!==a||!T(n,t,r)))))}function T(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function I(e){return e>0?1:e<0?-1:0}function k(e,t){return Z(e.prev,e,e.next)<0?Z(e,t,e.next)>=0&&Z(e,e.prev,t)>=0:Z(e,t,e.prev)<0||Z(e,e.next,t)<0}function S(e,t){var n=new R(e.i,e.x,e.y),r=new R(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function U(e,t,n,r){var o=new R(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function z(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function R(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function B(e,t,n,r){for(var o=0,i=t,s=n-r;i<n;i+=r)o+=(e[s]-e[i])*(e[i+1]+e[s+1]),s=i;return o}u.exports=x,u.exports.default=x,x.deviation=function(e,t,n,r){var o=t&&t.length,i=o?t[0]*n:e.length,s=Math.abs(B(e,0,i,n));if(o)for(var a=0,u=t.length;a<u;a++){var x=t[a]*n,f=a<u-1?t[a+1]*n:e.length;s-=Math.abs(B(e,x,f,n))}var l=0;for(a=0;a<r.length;a+=3){var c=r[a]*n,y=r[a+1]*n,d=r[a+2]*n;l+=Math.abs((e[c]-e[d])*(e[y+1]-e[c+1])-(e[c]-e[y])*(e[d+1]-e[c+1]))}return 0===s&&0===l?0:Math.abs((l-s)/s)},x.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var s=0;s<t;s++)n.vertices.push(e[o][i][s]);o>0&&(r+=e[o-1].length,n.holes.push(r))}return n};const P=[],C={vertexPosition:0,indexPosition:0};function N(e,t,n,r,o){e[t+0]=n,e[t+1]=r,e[t+2]=o}function _(e,t,n,r,o,i){const s=3+o,a=e[t+0],u=e[t+1],x=P;x.length=o;for(let n=0;n<x.length;n++)x[n]=e[t+2+n];let f=i?i.vertexPosition:0,l=i?i.indexPosition:0;const c=f/s;return N(n,f,a,u,0),x.length&&n.set(x,f+3),f+=s,N(n,f,a,u,1),x.length&&n.set(x,f+3),f+=s,N(n,f,a,u,2),x.length&&n.set(x,f+3),f+=s,N(n,f,a,u,3),x.length&&n.set(x,f+3),f+=s,r[l++]=c,r[l++]=c+1,r[l++]=c+3,r[l++]=c+1,r[l++]=c+2,r[l++]=c+3,C.vertexPosition=f,C.indexPosition=l,C}function L(e,t,n,r,o,i,a,u,x,f){const l=5+u.length,c=i.length/l,y=[e[t+0],e[t+1]],d=[e[n],e[n+1]],h=s(f,[...y]),v=s(f,[...d]);function p(e,t,n){const r=1e4;return Math.round(1500*t)+Math.round(1500*n)*r+e*r*r}function g(e,t,n){const r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),o=[(t[0]-e[0])/r,(t[1]-e[1])/r],i=[-o[1],o[0]],s=Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),a=[(n[0]-e[0])/s,(n[1]-e[1])/s],u=0===r||0===s?0:Math.acos((x=a[0]*o[0]+a[1]*o[1],f=-1,l=1,Math.min(Math.max(x,f),l)));var x,f,l;return a[0]*i[0]+a[1]*i[1]>0?u:2*Math.PI-u}const b=null!==o;let m=0,w=0;if(null!==r){m=g(h,v,s(f,[...[e[r],e[r+1]]]))}if(b){w=g(v,h,s(f,[...[e[o],e[o+1]]]))}i.push(y[0],y[1],d[0],d[1],p(0,m,w)),i.push(...u),i.push(y[0],y[1],d[0],d[1],p(1,m,w)),i.push(...u),i.push(y[0],y[1],d[0],d[1],p(2,m,w)),i.push(...u),i.push(y[0],y[1],d[0],d[1],p(3,m,w)),i.push(...u),a.push(c,c+1,c+2,c+1,c+3,c+2)}function G(e,t,n,r,o){const i=2+o;let s=t;const a=e.slice(s,s+o);s+=o;const x=e[s++];let f=0;const l=new Array(x-1);for(let t=0;t<x;t++)f+=e[s++],t<x-1&&(l[t]=f);const c=e.slice(s,s+2*f),y=u.exports(c,l,2);for(let e=0;e<y.length;e++)r.push(y[e]+n.length/i);for(let e=0;e<c.length;e+=2)n.push(c[e],c[e+1],...a);return s+2*f}const O=self;O.onmessage=r=>{const o=r.data;switch(o.type){case t:{const e=3,t=2,n=o.customAttributesCount,r=t+n,i=new Float32Array(o.renderInstructions),s=i.length/r,a=4*s*(n+e),u=new Uint32Array(6*s),x=new Float32Array(a);let f;for(let e=0;e<i.length;e+=r)f=_(i,e,x,u,n,f);const l=Object.assign({vertexBuffer:x.buffer,indexBuffer:u.buffer,renderInstructions:i.buffer},o);O.postMessage(l,[x.buffer,u.buffer,i.buffer]);break}case n:{const e=[],t=[],n=o.customAttributesCount,r=2,i=new Float32Array(o.renderInstructions);let s=0;const u=o.renderInstructionsTransform,x=[1,0,0,1,0,0];let f,l;for(a(x,u);s<i.length;){l=Array.from(i.slice(s,s+n)),s+=n,f=i[s++];for(let n=0;n<f-1;n++)L(i,s+n*r,s+(n+1)*r,n>0?s+(n-1)*r:null,n<f-2?s+(n+2)*r:null,e,t,l,0,x);s+=f*r}const c=Uint32Array.from(t),y=Float32Array.from(e),d=Object.assign({vertexBuffer:y.buffer,indexBuffer:c.buffer,renderInstructions:i.buffer},o);O.postMessage(d,[y.buffer,c.buffer,i.buffer]);break}case e:{const e=[],t=[],n=o.customAttributesCount,r=new Float32Array(o.renderInstructions);let i=0;for(;i<r.length;)i=G(r,i,e,t,n);const s=Uint32Array.from(t),a=Float32Array.from(e),u=Object.assign({vertexBuffer:a.buffer,indexBuffer:s.buffer,renderInstructions:r.buffer},o);O.postMessage(u,[a.buffer,s.buffer,r.buffer]);break}}};'; return new Worker("undefined" == typeof Blob ? "data:application/javascript;base64," + Buffer.from(t, "binary").toString("base64") : URL.createObjectURL(new Blob([t], { type: "application/javascript" }))) } class gf extends gd { constructor(t, e) { const i = e.uniforms || {}, n = [1, 0, 0, 1, 0, 0]; i[Wu] = n, super(t, { uniforms: i, postProcesses: e.postProcesses }), this.ready = !1, this.sourceRevision_ = -1, this.verticesBuffer_ = new Gu(nu, ou), this.hitVerticesBuffer_ = new Gu(nu, ou), this.indicesBuffer_ = new Gu(ru, ou), this.vertexShader_ = e.vertexShader, this.fragmentShader_ = e.fragmentShader, this.program_, this.hitDetectionEnabled_ = !(!e.hitFragmentShader || !e.hitVertexShader), this.hitVertexShader_ = e.hitVertexShader, this.hitFragmentShader_ = e.hitFragmentShader, this.hitProgram_; const r = e.attributes ? e.attributes.map((function (t) { return { name: "a_" + t.name, size: 1, type: Qu.FLOAT } })) : []; this.attributes = [{ name: "a_position", size: 2, type: Qu.FLOAT }, { name: "a_index", size: 1, type: Qu.FLOAT }].concat(r), this.hitDetectionAttributes = [{ name: "a_position", size: 2, type: Qu.FLOAT }, { name: "a_index", size: 1, type: Qu.FLOAT }, { name: "a_hitColor", size: 4, type: Qu.FLOAT }, { name: "a_featureUid", size: 1, type: Qu.FLOAT }].concat(r), this.customAttributes = e.attributes ? e.attributes : [], this.previousExtent_ = [1 / 0, 1 / 0, -1 / 0, -1 / 0], this.currentTransform_ = n, this.renderTransform_ = [1, 0, 0, 1, 0, 0], this.invertRenderTransform_ = [1, 0, 0, 1, 0, 0], this.renderInstructions_ = new Float32Array(0), this.hitRenderInstructions_ = new Float32Array(0), this.hitRenderTarget_, this.generateBuffersRun_ = 0, this.worker_ = df(), this.worker_.addEventListener("message", function (t) { const e = t.data; if (e.type === Mg) { const i = e.projectionTransform; e.hitDetection ? (this.hitVerticesBuffer_.fromArrayBuffer(e.vertexBuffer), this.helper.flushBufferData(this.hitVerticesBuffer_)) : (this.verticesBuffer_.fromArrayBuffer(e.vertexBuffer), this.helper.flushBufferData(this.verticesBuffer_)), this.indicesBuffer_.fromArrayBuffer(e.indexBuffer), this.helper.flushBufferData(this.indicesBuffer_), this.renderTransform_ = i, Ft(this.invertRenderTransform_, this.renderTransform_), e.hitDetection ? this.hitRenderInstructions_ = new Float32Array(t.data.renderInstructions) : (this.renderInstructions_ = new Float32Array(t.data.renderInstructions), e.generateBuffersRun === this.generateBuffersRun_ && (this.ready = !0)), this.getLayer().changed() } }.bind(this)), this.featureCache_ = {}, this.featureCount_ = 0; const s = this.getLayer().getSource(); this.sourceListenKeys_ = [N(s, Oh, this.handleSourceFeatureAdded_, this), N(s, Nh, this.handleSourceFeatureChanged_, this), N(s, kh, this.handleSourceFeatureDelete_, this), N(s, Dh, this.handleSourceFeatureClear_, this)], s.forEachFeature(function (t) { this.featureCache_[z(t)] = { feature: t, properties: t.getProperties(), geometry: t.getGeometry() }, this.featureCount_++ }.bind(this)) } afterHelperCreated() { this.program_ = this.helper.getProgram(this.fragmentShader_, this.vertexShader_), this.hitDetectionEnabled_ && (this.hitProgram_ = this.helper.getProgram(this.hitFragmentShader_, this.hitVertexShader_), this.hitRenderTarget_ = new ld(this.helper)) } handleSourceFeatureAdded_(t) { const e = t.feature; this.featureCache_[z(e)] = { feature: e, properties: e.getProperties(), geometry: e.getGeometry() }, this.featureCount_++ } handleSourceFeatureChanged_(t) { const e = t.feature; this.featureCache_[z(e)] = { feature: e, properties: e.getProperties(), geometry: e.getGeometry() } } handleSourceFeatureDelete_(t) { const e = t.feature; delete this.featureCache_[z(e)], this.featureCount_-- } handleSourceFeatureClear_() { this.featureCache_ = {}, this.featureCount_ = 0 } renderFrame(t) { const e = this.helper.getGL(); this.preRender(e, t); const i = t.viewState.projection, n = this.getLayer().getSource().getWrapX() && i.canWrapX(), r = i.getExtent(), s = t.extent, o = n ? Se(r) : null, a = n ? Math.ceil((s[2] - r[2]) / o) + 1 : 1, l = n ? Math.floor((s[0] - r[0]) / o) : 0; let h = l; const c = this.indicesBuffer_.getSize(); do { this.helper.makeProjectionTransform(t, this.currentTransform_), Lt(this.currentTransform_, h * o, 0), Et(this.currentTransform_, this.invertRenderTransform_), this.helper.applyUniforms(t), this.helper.drawElements(0, c) } while (++h < a); this.helper.finalizeDraw(t, this.dispatchPreComposeEvent, this.dispatchPostComposeEvent); const u = this.helper.getCanvas(); return this.hitDetectionEnabled_ && (this.renderHitDetection(t, l, a, o), this.hitRenderTarget_.clearCachedData()), this.postRender(e, t), u } prepareFrameInternal(t) { const e = this.getLayer(), i = e.getSource(), n = t.viewState, r = !t.viewHints[Ro] && !t.viewHints[Po], s = !ee(this.previousExtent_, t.extent), o = this.sourceRevision_ < i.getRevision(); if (o && (this.sourceRevision_ = i.getRevision()), r && (s || o)) { const r = n.projection, s = n.resolution, o = e instanceof Ig ? e.getRenderBuffer() : 0, a = Xt(t.extent, o * s); i.loadFeatures(a, s, r), this.rebuildBuffers_(t), this.previousExtent_ = t.extent.slice() } return this.helper.useProgram(this.program_, t), this.helper.prepareDraw(t), this.helper.bindBuffer(this.verticesBuffer_), this.helper.bindBuffer(this.indicesBuffer_), this.helper.enableAttributes(this.attributes), !0 } rebuildBuffers_(t) { const e = [1, 0, 0, 1, 0, 0]; this.helper.makeProjectionTransform(t, e); const i = (2 + this.customAttributes.length) * this.featureCount_; if (this.renderInstructions_ && this.renderInstructions_.length === i || (this.renderInstructions_ = new Float32Array(i)), this.hitDetectionEnabled_) { const t = (7 + this.customAttributes.length) * this.featureCount_; this.hitRenderInstructions_ && this.hitRenderInstructions_.length === t || (this.hitRenderInstructions_ = new Float32Array(t)) } let n, r; const s = [], o = []; let a, l = 0, h = 0; for (const t in this.featureCache_) { if (n = this.featureCache_[t], r = n.geometry, !r || "Point" !== r.getType()) continue; let i; s[0] = r.getFlatCoordinates()[0], s[1] = r.getFlatCoordinates()[1], bt(e, s), a = cf(h + 6, o), this.renderInstructions_[l++] = s[0], this.renderInstructions_[l++] = s[1], this.hitDetectionEnabled_ && (this.hitRenderInstructions_[h++] = s[0], this.hitRenderInstructions_[h++] = s[1], this.hitRenderInstructions_[h++] = a[0], this.hitRenderInstructions_[h++] = a[1], this.hitRenderInstructions_[h++] = a[2], this.hitRenderInstructions_[h++] = a[3], this.hitRenderInstructions_[h++] = Number(t)); for (let t = 0; t < this.customAttributes.length; t++)i = this.customAttributes[t].callback(n.feature, n.properties), this.renderInstructions_[l++] = i, this.hitDetectionEnabled_ && (this.hitRenderInstructions_[h++] = i) } const c = { id: 0, type: Mg, renderInstructions: this.renderInstructions_.buffer, customAttributesCount: this.customAttributes.length }; if (c.projectionTransform = e, c.generateBuffersRun = ++this.generateBuffersRun_, this.ready = !1, this.worker_.postMessage(c, [this.renderInstructions_.buffer]), this.renderInstructions_ = null, this.hitDetectionEnabled_) { const t = { id: 0, type: Mg, renderInstructions: this.hitRenderInstructions_.buffer, customAttributesCount: 5 + this.customAttributes.length }; t.projectionTransform = e, t.hitDetection = !0, this.worker_.postMessage(t, [this.hitRenderInstructions_.buffer]), this.hitRenderInstructions_ = null } } forEachFeatureAtCoordinate(t, e, i, n, r) { if (at(this.hitDetectionEnabled_, 66), !this.hitRenderInstructions_) return; const s = bt(e.coordinateToPixelTransform, t.slice()), o = this.hitRenderTarget_.readPixel(s[0] / 2, s[1] / 2), a = uf([o[0] / 255, o[1] / 255, o[2] / 255, o[3] / 255]), l = this.hitRenderInstructions_[a], h = Math.floor(l).toString(), c = this.getLayer().getSource().getFeatureByUid(h); return c ? n(c, this.getLayer(), null) : void 0 } renderHitDetection(t, e, i, n) { if (!this.hitVerticesBuffer_.getSize()) return; let r = e; this.hitRenderTarget_.setSize([Math.floor(t.size[0] / 2), Math.floor(t.size[1] / 2)]), this.helper.useProgram(this.hitProgram_, t), this.helper.prepareDrawToRenderTarget(t, this.hitRenderTarget_, !0), this.helper.bindBuffer(this.hitVerticesBuffer_), this.helper.bindBuffer(this.indicesBuffer_), this.helper.enableAttributes(this.hitDetectionAttributes); do { this.helper.makeProjectionTransform(t, this.currentTransform_), Lt(this.currentTransform_, r * n, 0), Et(this.currentTransform_, this.invertRenderTransform_), this.helper.applyUniforms(t); const e = this.indicesBuffer_.getSize(); this.helper.drawElements(0, e) } while (++r < i) } disposeInternal() { this.worker_.terminate(), this.layer_ = null, this.sourceListenKeys_.forEach((function (t) { k(t) })), this.sourceListenKeys_ = null, super.disposeInternal() } } let ff = 0; class pf { constructor(t, e, i, n, r) { this.helper_ = t, this.worker_ = e, this.program_ = this.helper_.getProgram(n, i), this.attributes = [], this.customAttributes = r } rebuild(t, e, i, n) { t.renderInstructionsTransform = this.helper_.makeProjectionTransform(e, [1, 0, 0, 1, 0, 0]), this.generateRenderInstructions(t), this.generateBuffers_(t, i, n) } render(t, e, i, n) { this.helper_.makeProjectionTransform(i, e), Lt(e, n, 0), Et(e, t.invertVerticesBufferTransform), this.helper_.useProgram(this.program_, i), this.helper_.bindBuffer(t.verticesBuffer), this.helper_.bindBuffer(t.indicesBuffer), this.helper_.enableAttributes(this.attributes); const r = t.indicesBuffer.getSize(); this.helper_.drawElements(0, r) } generateRenderInstructions(t) { B() } generateBuffers_(t, e, i) { const n = ff++; let r; switch (e) { case "Polygon": r = Lg; break; case "Point": r = Mg; break; case "LineString": r = Fg }const s = { id: n, type: r, renderInstructions: t.renderInstructions.buffer, renderInstructionsTransform: t.renderInstructionsTransform, customAttributesCount: this.customAttributes.length }; this.worker_.postMessage(s, [t.renderInstructions.buffer]), t.renderInstructions = null; const o = function (e) { const r = e.data; r.id === n && (this.worker_.removeEventListener("message", o), t.verticesBufferTransform = r.renderInstructionsTransform, Ft(t.invertVerticesBufferTransform, t.verticesBufferTransform), t.verticesBuffer.fromArrayBuffer(r.vertexBuffer), this.helper_.flushBufferData(t.verticesBuffer), t.indicesBuffer.fromArrayBuffer(r.indexBuffer), this.helper_.flushBufferData(t.indicesBuffer), t.renderInstructions = new Float32Array(r.renderInstructions), i()) }.bind(this); this.worker_.addEventListener("message", o) } } const mf = { SEGMENT_START: "a_segmentStart", SEGMENT_END: "a_segmentEnd", PARAMETERS: "a_parameters" }; class _f extends pf { constructor(t, e, i, n, r) { super(t, e, i, n, r), this.attributes = [{ name: mf.SEGMENT_START, size: 2, type: Qu.FLOAT }, { name: mf.SEGMENT_END, size: 2, type: Qu.FLOAT }, { name: mf.PARAMETERS, size: 1, type: Qu.FLOAT }].concat(r.map((function (t) { return { name: "a_" + t.name, size: 1, type: Qu.FLOAT } }))) } generateRenderInstructions(t) { const e = 2 * t.verticesCount + (1 + this.customAttributes.length) * t.geometriesCount; let i; t.renderInstructions && t.renderInstructions.length === e || (t.renderInstructions = new Float32Array(e)); const n = []; let r, s = 0; for (const e in t.entries) { i = t.entries[e]; for (let e = 0, o = i.flatCoordss.length; e < o; e++) { n.length = i.flatCoordss[e].length, un(i.flatCoordss[e], 0, n.length, 2, t.renderInstructionsTransform, n); for (let e = 0, n = this.customAttributes.length; e < n; e++)r = this.customAttributes[e].callback(i.feature), t.renderInstructions[s++] = r; t.renderInstructions[s++] = n.length / 2; for (let e = 0, i = n.length; e < i; e += 2)t.renderInstructions[s++] = n[e], t.renderInstructions[s++] = n[e + 1] } } } } class yf { constructor() { this.polygonBatch = { entries: {}, geometriesCount: 0, verticesCount: 0, ringsCount: 0, renderInstructions: new Float32Array(0), verticesBuffer: new Gu(nu, ou), indicesBuffer: new Gu(ru, ou), renderInstructionsTransform: [1, 0, 0, 1, 0, 0], verticesBufferTransform: [1, 0, 0, 1, 0, 0], invertVerticesBufferTransform: [1, 0, 0, 1, 0, 0] }, this.pointBatch = { entries: {}, geometriesCount: 0, renderInstructions: new Float32Array(0), verticesBuffer: new Gu(nu, ou), indicesBuffer: new Gu(ru, ou), renderInstructionsTransform: [1, 0, 0, 1, 0, 0], verticesBufferTransform: [1, 0, 0, 1, 0, 0], invertVerticesBufferTransform: [1, 0, 0, 1, 0, 0] }, this.lineStringBatch = { entries: {}, geometriesCount: 0, verticesCount: 0, renderInstructions: new Float32Array(0), verticesBuffer: new Gu(nu, ou), indicesBuffer: new Gu(ru, ou), renderInstructionsTransform: [1, 0, 0, 1, 0, 0], verticesBufferTransform: [1, 0, 0, 1, 0, 0], invertVerticesBufferTransform: [1, 0, 0, 1, 0, 0] } } addFeatures(t) { for (let e = 0; e < t.length; e++)this.addFeature(t[e]) } addFeature(t) { const e = t.getGeometry(); e && this.addGeometry_(e, t) } addFeatureEntryInPointBatch_(t) { const e = z(t); return e in this.pointBatch.entries || (this.pointBatch.entries[e] = { feature: t, flatCoordss: [] }), this.pointBatch.entries[e] } addFeatureEntryInLineStringBatch_(t) { const e = z(t); return e in this.lineStringBatch.entries || (this.lineStringBatch.entries[e] = { feature: t, flatCoordss: [], verticesCount: 0 }), this.lineStringBatch.entries[e] } addFeatureEntryInPolygonBatch_(t) { const e = z(t); return e in this.polygonBatch.entries || (this.polygonBatch.entries[e] = { feature: t, flatCoordss: [], verticesCount: 0, ringsCount: 0, ringsVerticesCounts: [] }), this.polygonBatch.entries[e] } clearFeatureEntryInPointBatch_(t) { const e = this.pointBatch.entries[z(t)]; e && (this.pointBatch.geometriesCount -= e.flatCoordss.length, delete this.pointBatch.entries[z(t)]) } clearFeatureEntryInLineStringBatch_(t) { const e = this.lineStringBatch.entries[z(t)]; e && (this.lineStringBatch.verticesCount -= e.verticesCount, this.lineStringBatch.geometriesCount -= e.flatCoordss.length, delete this.lineStringBatch.entries[z(t)]) } clearFeatureEntryInPolygonBatch_(t) { const e = this.polygonBatch.entries[z(t)]; e && (this.polygonBatch.verticesCount -= e.verticesCount, this.polygonBatch.ringsCount -= e.ringsCount, this.polygonBatch.geometriesCount -= e.flatCoordss.length, delete this.polygonBatch.entries[z(t)]) } addGeometry_(t, e) { let i, n, r; switch (t.getType()) { case "GeometryCollection": t.getGeometries().map((t => this.addGeometry_(t, e))); break; case "MultiPolygon": t.getPolygons().map((t => this.addGeometry_(t, e))); break; case "MultiLineString": t.getLineStrings().map((t => this.addGeometry_(t, e))); break; case "MultiPoint": t.getPoints().map((t => this.addGeometry_(t, e))); break; case "Polygon": const s = t; r = this.addFeatureEntryInPolygonBatch_(e), i = s.getFlatCoordinates(), n = i.length / 2; const o = s.getLinearRingCount(), a = s.getEnds().map(((t, e, i) => e > 0 ? (t - i[e - 1]) / 2 : t / 2)); this.polygonBatch.verticesCount += n, this.polygonBatch.ringsCount += o, this.polygonBatch.geometriesCount++, r.flatCoordss.push(i), r.ringsVerticesCounts.push(a), r.verticesCount += n, r.ringsCount += o, s.getLinearRings().map((t => this.addGeometry_(t, e))); break; case "Point": const l = t; r = this.addFeatureEntryInPointBatch_(e), i = l.getFlatCoordinates(), this.pointBatch.geometriesCount++, r.flatCoordss.push(i); break; case "LineString": case "LinearRing": const h = t; r = this.addFeatureEntryInLineStringBatch_(e), i = h.getFlatCoordinates(), n = i.length / 2, this.lineStringBatch.verticesCount += n, this.lineStringBatch.geometriesCount++, r.flatCoordss.push(i), r.verticesCount += n } } changeFeature(t) { this.clearFeatureEntryInPointBatch_(t), this.clearFeatureEntryInPolygonBatch_(t), this.clearFeatureEntryInLineStringBatch_(t); const e = t.getGeometry(); e && this.addGeometry_(e, t) } removeFeature(t) { this.clearFeatureEntryInPointBatch_(t), this.clearFeatureEntryInPolygonBatch_(t), this.clearFeatureEntryInLineStringBatch_(t) } clear() { this.polygonBatch.entries = {}, this.polygonBatch.geometriesCount = 0, this.polygonBatch.verticesCount = 0, this.polygonBatch.ringsCount = 0, this.lineStringBatch.entries = {}, this.lineStringBatch.geometriesCount = 0, this.lineStringBatch.verticesCount = 0, this.pointBatch.entries = {}, this.pointBatch.geometriesCount = 0 } } const xf = { POSITION: "a_position", INDEX: "a_index" }; class vf extends pf { constructor(t, e, i, n, r) { super(t, e, i, n, r), this.attributes = [{ name: xf.POSITION, size: 2, type: Qu.FLOAT }, { name: xf.INDEX, size: 1, type: Qu.FLOAT }].concat(r.map((function (t) { return { name: "a_" + t.name, size: 1, type: Qu.FLOAT } }))) } generateRenderInstructions(t) { const e = (2 + this.customAttributes.length) * t.geometriesCount; let i; t.renderInstructions && t.renderInstructions.length === e || (t.renderInstructions = new Float32Array(e)); const n = []; let r, s = 0; for (const e in t.entries) { i = t.entries[e]; for (let e = 0, o = i.flatCoordss.length; e < o; e++) { n[0] = i.flatCoordss[e][0], n[1] = i.flatCoordss[e][1], bt(t.renderInstructionsTransform, n), t.renderInstructions[s++] = n[0], t.renderInstructions[s++] = n[1]; for (let e = 0, n = this.customAttributes.length; e < n; e++)r = this.customAttributes[e].callback(i.feature), t.renderInstructions[s++] = r } } } } const Sf = { POSITION: "a_position" }; class wf extends pf { constructor(t, e, i, n, r) { super(t, e, i, n, r), this.attributes = [{ name: Sf.POSITION, size: 2, type: Qu.FLOAT }].concat(r.map((function (t) { return { name: "a_" + t.name, size: 1, type: Qu.FLOAT } }))) } generateRenderInstructions(t) { const e = 2 * t.verticesCount + (1 + this.customAttributes.length) * t.geometriesCount + t.ringsCount; let i; t.renderInstructions && t.renderInstructions.length === e || (t.renderInstructions = new Float32Array(e)); const n = []; let r, s = 0; for (const e in t.entries) { i = t.entries[e]; for (let e = 0, o = i.flatCoordss.length; e < o; e++) { n.length = i.flatCoordss[e].length, un(i.flatCoordss[e], 0, n.length, 2, t.renderInstructionsTransform, n); for (let e = 0, n = this.customAttributes.length; e < n; e++)r = this.customAttributes[e].callback(i.feature), t.renderInstructions[s++] = r; t.renderInstructions[s++] = i.ringsVerticesCounts[e].length; for (let n = 0, r = i.ringsVerticesCounts[e].length; n < r; n++)t.renderInstructions[s++] = i.ringsVerticesCounts[e][n]; for (let e = 0, i = n.length; e < i; e += 2)t.renderInstructions[s++] = n[e], t.renderInstructions[s++] = n[e + 1] } } } } function Ef(t) { const e = $r(t); return 256 * e[0] * 256 + 256 * e[1] + e[2] } const Tf = "vec3(\n  fract(floor(a_color / 256.0 / 256.0) / 256.0),\n  fract(floor(a_color / 256.0) / 256.0),\n  fract(a_color / 256.0)\n);", Cf = `\n  precision mediump float;\n  uniform mat4 u_projectionMatrix;\n  attribute vec2 a_position;\n  attribute float a_color;\n  attribute float a_opacity;\n  varying vec3 v_color;\n  varying float v_opacity;\n\n  void main(void) {\n    gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n    v_color = ${Tf}\n    v_opacity = a_opacity;\n  }`, bf = "\n  precision mediump float;\n  varying vec3 v_color;\n  varying float v_opacity;\n\n  void main(void) {\n    gl_FragColor = vec4(v_color, 1.0) * v_opacity;\n  }", Rf = `\n  precision mediump float;\n  uniform mat4 u_projectionMatrix;\n  uniform vec2 u_sizePx;\n  attribute vec2 a_segmentStart;\n  attribute vec2 a_segmentEnd;\n  attribute float a_parameters;\n  attribute float a_color;\n  attribute float a_opacity;\n  attribute float a_width;\n  varying vec2 v_segmentStart;\n  varying vec2 v_segmentEnd;\n  varying float v_angleStart;\n  varying float v_angleEnd;\n  varying vec3 v_color;\n  varying float v_opacity;\n  varying float v_width;\n\n  vec2 worldToPx(vec2 worldPos) {\n    vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);\n    return (0.5 * screenPos.xy + 0.5) * u_sizePx;\n  }\n\n  vec4 pxToScreen(vec2 pxPos) {\n    vec2 screenPos = pxPos * 4.0 / u_sizePx;\n    return vec4(screenPos.xy, 0.0, 0.0);\n  }\n\n  vec2 getOffsetDirection(vec2 normalPx, vec2 tangentPx, float joinAngle) {\n    if (cos(joinAngle) > 0.93) return normalPx - tangentPx;\n    float halfAngle = joinAngle / 2.0;\n    vec2 angleBisectorNormal = vec2(\n      sin(halfAngle) * normalPx.x + cos(halfAngle) * normalPx.y,\n      -cos(halfAngle) * normalPx.x + sin(halfAngle) * normalPx.y\n    );\n    float length = 1.0 / sin(halfAngle);\n    return angleBisectorNormal * length;\n  }\n\n  void main(void) {\n    float anglePrecision = 1500.0;\n    float paramShift = 10000.0;\n    v_angleStart = fract(a_parameters / paramShift) * paramShift / anglePrecision;\n    v_angleEnd = fract(floor(a_parameters / paramShift + 0.5) / paramShift) * paramShift / anglePrecision;\n    float vertexNumber = floor(a_parameters / paramShift / paramShift + 0.0001);\n    vec2 tangentPx = worldToPx(a_segmentEnd) - worldToPx(a_segmentStart);\n    tangentPx = normalize(tangentPx);\n    vec2 normalPx = vec2(-tangentPx.y, tangentPx.x);\n    float normalDir = vertexNumber < 0.5 || (vertexNumber > 1.5 && vertexNumber < 2.5) ? 1.0 : -1.0;\n    float tangentDir = vertexNumber < 1.5 ? 1.0 : -1.0;\n    float angle = vertexNumber < 1.5 ? v_angleStart : v_angleEnd;\n    vec2 offsetPx = getOffsetDirection(normalPx * normalDir, tangentDir * tangentPx, angle) * a_width * 0.5;\n    vec2 position =  vertexNumber < 1.5 ? a_segmentStart : a_segmentEnd;\n    gl_Position = u_projectionMatrix * vec4(position, 0.0, 1.0) + pxToScreen(offsetPx);\n    v_segmentStart = worldToPx(a_segmentStart);\n    v_segmentEnd = worldToPx(a_segmentEnd);\n    v_color = ${Tf}\n    v_opacity = a_opacity;\n    v_width = a_width;\n  }`, Pf = "\n  precision mediump float;\n  uniform float u_pixelRatio;\n  varying vec2 v_segmentStart;\n  varying vec2 v_segmentEnd;\n  varying float v_angleStart;\n  varying float v_angleEnd;\n  varying vec3 v_color;\n  varying float v_opacity;\n  varying float v_width;\n\n  float segmentDistanceField(vec2 point, vec2 start, vec2 end, float radius) {\n    vec2 startToPoint = point - start;\n    vec2 startToEnd = end - start;\n    float ratio = clamp(dot(startToPoint, startToEnd) / dot(startToEnd, startToEnd), 0.0, 1.0);\n    float dist = length(startToPoint - ratio * startToEnd);\n    return 1.0 - smoothstep(radius - 1.0, radius, dist);\n  }\n\n  void main(void) {\n    vec2 v_currentPoint = gl_FragCoord.xy / u_pixelRatio;\n    gl_FragColor = vec4(v_color, 1.0) * v_opacity;\n    gl_FragColor *= segmentDistanceField(v_currentPoint, v_segmentStart, v_segmentEnd, v_width);\n  }", If = `\n  precision mediump float;\n  uniform mat4 u_projectionMatrix;\n  uniform mat4 u_offsetScaleMatrix;\n  attribute vec2 a_position;\n  attribute float a_index;\n  attribute float a_color;\n  attribute float a_opacity;\n  varying vec2 v_texCoord;\n  varying vec3 v_color;\n  varying float v_opacity;\n\n  void main(void) {\n    mat4 offsetMatrix = u_offsetScaleMatrix;\n    float size = 6.0;\n    float offsetX = a_index == 0.0 || a_index == 3.0 ? -size / 2.0 : size / 2.0;\n    float offsetY = a_index == 0.0 || a_index == 1.0 ? -size / 2.0 : size / 2.0;\n    vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n    gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n    float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n    float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n    v_texCoord = vec2(u, v);\n    v_color = ${Tf}\n    v_opacity = a_opacity;\n  }`, Lf = "\n  precision mediump float;\n  varying vec3 v_color;\n  varying float v_opacity;\n\n  void main(void) {\n      gl_FragColor = vec4(v_color, 1.0) * v_opacity;\n  }"; function Mf(t) { return Object.keys(t).map((e => ({ name: e, callback: t[e] }))) } const Ff = 0, Af = 1, Of = 2, Nf = 3, Df = 4, kf = 5, Gf = 6, jf = 7, Bf = 8, Uf = 9, zf = 10, Xf = 11, Vf = 12, Wf = [Bf], Zf = [Vf], Yf = [Af], Kf = [Nf]; class qf extends Cl { constructor(t, e, i, n) { super(), this.tolerance = t, this.maxExtent = e, this.pixelRatio = n, this.maxLineWidth = 0, this.resolution = i, this.beginGeometryInstruction1_ = null, this.beginGeometryInstruction2_ = null, this.bufferedMaxExtent_ = null, this.instructions = [], this.coordinates = [], this.tmpCoordinate_ = [], this.hitDetectionInstructions = [], this.state = {} } applyPixelRatio(t) { const e = this.pixelRatio; return 1 == e ? t : t.map((function (t) { return t * e })) } appendFlatPointCoordinates(t, e) { const i = this.getBufferedMaxExtent(), n = this.tmpCoordinate_, r = this.coordinates; let s = r.length; for (let o = 0, a = t.length; o < a; o += e)n[0] = t[o], n[1] = t[o + 1], Zt(i, n) && (r[s++] = n[0], r[s++] = n[1]); return s } appendFlatLineCoordinates(t, e, i, n, r, s) { const o = this.coordinates; let a = o.length; const l = this.getBufferedMaxExtent(); s && (e += n); let h = t[e], c = t[e + 1]; const u = this.tmpCoordinate_; let d, g, f, p = !0; for (d = e + n; d < i; d += n)u[0] = t[d], u[1] = t[d + 1], f = qt(l, u), f !== g ? (p && (o[a++] = h, o[a++] = c, p = !1), o[a++] = u[0], o[a++] = u[1]) : f === kt ? (o[a++] = u[0], o[a++] = u[1], p = !1) : p = !0, h = u[0], c = u[1], g = f; return (r && p || d === e + n) && (o[a++] = h, o[a++] = c), a } drawCustomCoordinates_(t, e, i, n, r) { for (let s = 0, o = i.length; s < o; ++s) { const o = i[s], a = this.appendFlatLineCoordinates(t, e, o, n, !1, !1); r.push(a), e = o } return e } drawCustom(t, e, i, n) { this.beginGeometry(t, e); const r = t.getType(), s = t.getStride(), o = this.coordinates.length; let a, l, h, c, u; switch (r) { case "MultiPolygon": a = t.getOrientedFlatCoordinates(), c = []; const e = t.getEndss(); u = 0; for (let t = 0, i = e.length; t < i; ++t) { const i = []; u = this.drawCustomCoordinates_(a, u, e[t], s, i), c.push(i) } this.instructions.push([Df, o, c, t, i, Bn]), this.hitDetectionInstructions.push([Df, o, c, t, n || i, Bn]); break; case "Polygon": case "MultiLineString": h = [], a = "Polygon" == r ? t.getOrientedFlatCoordinates() : t.getFlatCoordinates(), u = this.drawCustomCoordinates_(a, 0, t.getEnds(), s, h), this.instructions.push([Df, o, h, t, i, jn]), this.hitDetectionInstructions.push([Df, o, h, t, n || i, jn]); break; case "LineString": case "Circle": a = t.getFlatCoordinates(), l = this.appendFlatLineCoordinates(a, 0, a.length, s, !1, !1), this.instructions.push([Df, o, l, t, i, Gn]), this.hitDetectionInstructions.push([Df, o, l, t, n || i, Gn]); break; case "MultiPoint": a = t.getFlatCoordinates(), l = this.appendFlatPointCoordinates(a, s), l > o && (this.instructions.push([Df, o, l, t, i, Gn]), this.hitDetectionInstructions.push([Df, o, l, t, n || i, Gn])); break; case "Point": a = t.getFlatCoordinates(), this.coordinates.push(a[0], a[1]), l = this.coordinates.length, this.instructions.push([Df, o, l, t, i]), this.hitDetectionInstructions.push([Df, o, l, t, n || i]) }this.endGeometry(e) } beginGeometry(t, e) { this.beginGeometryInstruction1_ = [Ff, e, 0, t], this.instructions.push(this.beginGeometryInstruction1_), this.beginGeometryInstruction2_ = [Ff, e, 0, t], this.hitDetectionInstructions.push(this.beginGeometryInstruction2_) } finish() { return { instructions: this.instructions, hitDetectionInstructions: this.hitDetectionInstructions, coordinates: this.coordinates } } reverseHitDetectionInstructions() { const t = this.hitDetectionInstructions; let e; t.reverse(); const i = t.length; let n, r, s = -1; for (e = 0; e < i; ++e)n = t[e], r = n[0], r == jf ? s = e : r == Ff && (n[2] = e, h(this.hitDetectionInstructions, s, e), s = -1) } setFillStrokeStyle(t, e) { const i = this.state; if (t) { const e = t.getColor(); i.fillStyle = fl(e || Ns) } else i.fillStyle = void 0; if (e) { const t = e.getColor(); i.strokeStyle = fl(t || Bs); const n = e.getLineCap(); i.lineCap = void 0 !== n ? n : Ds; const r = e.getLineDash(); i.lineDash = r ? r.slice() : ks; const s = e.getLineDashOffset(); i.lineDashOffset = s || 0; const o = e.getLineJoin(); i.lineJoin = void 0 !== o ? o : Gs; const a = e.getWidth(); i.lineWidth = void 0 !== a ? a : 1; const l = e.getMiterLimit(); i.miterLimit = void 0 !== l ? l : js, i.lineWidth > this.maxLineWidth && (this.maxLineWidth = i.lineWidth, this.bufferedMaxExtent_ = null) } else i.strokeStyle = void 0, i.lineCap = void 0, i.lineDash = null, i.lineDashOffset = void 0, i.lineJoin = void 0, i.lineWidth = void 0, i.miterLimit = void 0 } createFill(t) { const e = t.fillStyle, i = [zf, e]; return "string" != typeof e && i.push(!0), i } applyStroke(t) { this.instructions.push(this.createStroke(t)) } createStroke(t) { return [Xf, t.strokeStyle, t.lineWidth * this.pixelRatio, t.lineCap, t.lineJoin, t.miterLimit, this.applyPixelRatio(t.lineDash), t.lineDashOffset * this.pixelRatio] } updateFillStyle(t, e) { const i = t.fillStyle; "string" == typeof i && t.currentFillStyle == i || (void 0 !== i && this.instructions.push(e.call(this, t)), t.currentFillStyle = i) } updateStrokeStyle(t, e) { const i = t.strokeStyle, n = t.lineCap, r = t.lineDash, s = t.lineDashOffset, o = t.lineJoin, a = t.lineWidth, l = t.miterLimit; (t.currentStrokeStyle != i || t.currentLineCap != n || r != t.currentLineDash && !u(t.currentLineDash, r) || t.currentLineDashOffset != s || t.currentLineJoin != o || t.currentLineWidth != a || t.currentMiterLimit != l) && (void 0 !== i && e.call(this, t), t.currentStrokeStyle = i, t.currentLineCap = n, t.currentLineDash = r, t.currentLineDashOffset = s, t.currentLineJoin = o, t.currentLineWidth = a, t.currentMiterLimit = l) } endGeometry(t) { this.beginGeometryInstruction1_[2] = this.instructions.length, this.beginGeometryInstruction1_ = null, this.beginGeometryInstruction2_[2] = this.hitDetectionInstructions.length, this.beginGeometryInstruction2_ = null; const e = [jf, t]; this.instructions.push(e), this.hitDetectionInstructions.push(e) } getBufferedMaxExtent() { if (!this.bufferedMaxExtent_ && (this.bufferedMaxExtent_ = Vt(this.maxExtent), this.maxLineWidth > 0)) { const t = this.resolution * (this.maxLineWidth + 1) / 2; Xt(this.bufferedMaxExtent_, t, this.bufferedMaxExtent_) } return this.bufferedMaxExtent_ } } class Hf extends qf { constructor(t, e, i, n) { super(t, e, i, n), this.hitDetectionImage_ = null, this.image_ = null, this.imagePixelRatio_ = void 0, this.anchorX_ = void 0, this.anchorY_ = void 0, this.height_ = void 0, this.opacity_ = void 0, this.originX_ = void 0, this.originY_ = void 0, this.rotateWithView_ = void 0, this.rotation_ = void 0, this.scale_ = void 0, this.width_ = void 0, this.declutterMode_ = void 0, this.declutterImageWithText_ = void 0 } drawPoint(t, e) { if (!this.image_) return; this.beginGeometry(t, e); const i = t.getFlatCoordinates(), n = t.getStride(), r = this.coordinates.length, s = this.appendFlatPointCoordinates(i, n); this.instructions.push([Gf, r, s, this.image_, this.anchorX_ * this.imagePixelRatio_, this.anchorY_ * this.imagePixelRatio_, Math.ceil(this.height_ * this.imagePixelRatio_), this.opacity_, this.originX_ * this.imagePixelRatio_, this.originY_ * this.imagePixelRatio_, this.rotateWithView_, this.rotation_, [this.scale_[0] * this.pixelRatio / this.imagePixelRatio_, this.scale_[1] * this.pixelRatio / this.imagePixelRatio_], Math.ceil(this.width_ * this.imagePixelRatio_), this.declutterMode_, this.declutterImageWithText_]), this.hitDetectionInstructions.push([Gf, r, s, this.hitDetectionImage_, this.anchorX_, this.anchorY_, this.height_, this.opacity_, this.originX_, this.originY_, this.rotateWithView_, this.rotation_, this.scale_, this.width_, this.declutterMode_, this.declutterImageWithText_]), this.endGeometry(e) } drawMultiPoint(t, e) { if (!this.image_) return; this.beginGeometry(t, e); const i = t.getFlatCoordinates(), n = t.getStride(), r = this.coordinates.length, s = this.appendFlatPointCoordinates(i, n); this.instructions.push([Gf, r, s, this.image_, this.anchorX_ * this.imagePixelRatio_, this.anchorY_ * this.imagePixelRatio_, Math.ceil(this.height_ * this.imagePixelRatio_), this.opacity_, this.originX_ * this.imagePixelRatio_, this.originY_ * this.imagePixelRatio_, this.rotateWithView_, this.rotation_, [this.scale_[0] * this.pixelRatio / this.imagePixelRatio_, this.scale_[1] * this.pixelRatio / this.imagePixelRatio_], Math.ceil(this.width_ * this.imagePixelRatio_), this.declutterMode_, this.declutterImageWithText_]), this.hitDetectionInstructions.push([Gf, r, s, this.hitDetectionImage_, this.anchorX_, this.anchorY_, this.height_, this.opacity_, this.originX_, this.originY_, this.rotateWithView_, this.rotation_, this.scale_, this.width_, this.declutterMode_, this.declutterImageWithText_]), this.endGeometry(e) } finish() { return this.reverseHitDetectionInstructions(), this.anchorX_ = void 0, this.anchorY_ = void 0, this.hitDetectionImage_ = null, this.image_ = null, this.imagePixelRatio_ = void 0, this.height_ = void 0, this.scale_ = void 0, this.opacity_ = void 0, this.originX_ = void 0, this.originY_ = void 0, this.rotateWithView_ = void 0, this.rotation_ = void 0, this.width_ = void 0, super.finish() } setImageStyle(t, e) { const i = t.getAnchor(), n = t.getSize(), r = t.getOrigin(); this.imagePixelRatio_ = t.getPixelRatio(this.pixelRatio), this.anchorX_ = i[0], this.anchorY_ = i[1], this.hitDetectionImage_ = t.getHitDetectionImage(), this.image_ = t.getImage(this.pixelRatio), this.height_ = n[1], this.opacity_ = t.getOpacity(), this.originX_ = r[0], this.originY_ = r[1], this.rotateWithView_ = t.getRotateWithView(), this.rotation_ = t.getRotation(), this.scale_ = t.getScaleArray(), this.width_ = n[0], this.declutterMode_ = t.getDeclutterMode(), this.declutterImageWithText_ = e } } class $f extends qf { constructor(t, e, i, n) { super(t, e, i, n) } drawFlatCoordinates_(t, e, i, n) { const r = this.coordinates.length, s = this.appendFlatLineCoordinates(t, e, i, n, !1, !1), o = [Uf, r, s]; return this.instructions.push(o), this.hitDetectionInstructions.push(o), i } drawLineString(t, e) { const i = this.state, n = i.strokeStyle, r = i.lineWidth; if (void 0 === n || void 0 === r) return; this.updateStrokeStyle(i, this.applyStroke), this.beginGeometry(t, e), this.hitDetectionInstructions.push([Xf, i.strokeStyle, i.lineWidth, i.lineCap, i.lineJoin, i.miterLimit, ks, 0], Yf); const s = t.getFlatCoordinates(), o = t.getStride(); this.drawFlatCoordinates_(s, 0, s.length, o), this.hitDetectionInstructions.push(Zf), this.endGeometry(e) } drawMultiLineString(t, e) { const i = this.state, n = i.strokeStyle, r = i.lineWidth; if (void 0 === n || void 0 === r) return; this.updateStrokeStyle(i, this.applyStroke), this.beginGeometry(t, e), this.hitDetectionInstructions.push([Xf, i.strokeStyle, i.lineWidth, i.lineCap, i.lineJoin, i.miterLimit, i.lineDash, i.lineDashOffset], Yf); const s = t.getEnds(), o = t.getFlatCoordinates(), a = t.getStride(); let l = 0; for (let t = 0, e = s.length; t < e; ++t)l = this.drawFlatCoordinates_(o, l, s[t], a); this.hitDetectionInstructions.push(Zf), this.endGeometry(e) } finish() { const t = this.state; return null != t.lastStroke && t.lastStroke != this.coordinates.length && this.instructions.push(Zf), this.reverseHitDetectionInstructions(), this.state = null, super.finish() } applyStroke(t) { null != t.lastStroke && t.lastStroke != this.coordinates.length && (this.instructions.push(Zf), t.lastStroke = this.coordinates.length), t.lastStroke = 0, super.applyStroke(t), this.instructions.push(Yf) } } class Jf extends qf { constructor(t, e, i, n) { super(t, e, i, n) } drawFlatCoordinatess_(t, e, i, n) { const r = this.state, s = void 0 !== r.fillStyle, o = void 0 !== r.strokeStyle, a = i.length; this.instructions.push(Yf), this.hitDetectionInstructions.push(Yf); for (let r = 0; r < a; ++r) { const s = i[r], a = this.coordinates.length, l = this.appendFlatLineCoordinates(t, e, s, n, !0, !o), h = [Uf, a, l]; this.instructions.push(h), this.hitDetectionInstructions.push(h), o && (this.instructions.push(Kf), this.hitDetectionInstructions.push(Kf)), e = s } return s && (this.instructions.push(Wf), this.hitDetectionInstructions.push(Wf)), o && (this.instructions.push(Zf), this.hitDetectionInstructions.push(Zf)), e } drawCircle(t, e) { const i = this.state, n = i.fillStyle, r = i.strokeStyle; if (void 0 === n && void 0 === r) return; this.setFillStrokeStyles_(), this.beginGeometry(t, e), void 0 !== i.fillStyle && this.hitDetectionInstructions.push([zf, Ns]), void 0 !== i.strokeStyle && this.hitDetectionInstructions.push([Xf, i.strokeStyle, i.lineWidth, i.lineCap, i.lineJoin, i.miterLimit, i.lineDash, i.lineDashOffset]); const s = t.getFlatCoordinates(), o = t.getStride(), a = this.coordinates.length; this.appendFlatLineCoordinates(s, 0, s.length, o, !1, !1); const l = [Of, a]; this.instructions.push(Yf, l), this.hitDetectionInstructions.push(Yf, l), void 0 !== i.fillStyle && (this.instructions.push(Wf), this.hitDetectionInstructions.push(Wf)), void 0 !== i.strokeStyle && (this.instructions.push(Zf), this.hitDetectionInstructions.push(Zf)), this.endGeometry(e) } drawPolygon(t, e) { const i = this.state, n = i.fillStyle, r = i.strokeStyle; if (void 0 === n && void 0 === r) return; this.setFillStrokeStyles_(), this.beginGeometry(t, e), void 0 !== i.fillStyle && this.hitDetectionInstructions.push([zf, Ns]), void 0 !== i.strokeStyle && this.hitDetectionInstructions.push([Xf, i.strokeStyle, i.lineWidth, i.lineCap, i.lineJoin, i.miterLimit, i.lineDash, i.lineDashOffset]); const s = t.getEnds(), o = t.getOrientedFlatCoordinates(), a = t.getStride(); this.drawFlatCoordinatess_(o, 0, s, a), this.endGeometry(e) } drawMultiPolygon(t, e) { const i = this.state, n = i.fillStyle, r = i.strokeStyle; if (void 0 === n && void 0 === r) return; this.setFillStrokeStyles_(), this.beginGeometry(t, e), void 0 !== i.fillStyle && this.hitDetectionInstructions.push([zf, Ns]), void 0 !== i.strokeStyle && this.hitDetectionInstructions.push([Xf, i.strokeStyle, i.lineWidth, i.lineCap, i.lineJoin, i.miterLimit, i.lineDash, i.lineDashOffset]); const s = t.getEndss(), o = t.getOrientedFlatCoordinates(), a = t.getStride(); let l = 0; for (let t = 0, e = s.length; t < e; ++t)l = this.drawFlatCoordinatess_(o, l, s[t], a); this.endGeometry(e) } finish() { this.reverseHitDetectionInstructions(), this.state = null; const t = this.tolerance; if (0 !== t) { const e = this.coordinates; for (let i = 0, n = e.length; i < n; ++i)e[i] = On(e[i], t) } return super.finish() } setFillStrokeStyles_() { const t = this.state; void 0 !== t.fillStyle && this.updateFillStyle(t, this.createFill), void 0 !== t.strokeStyle && this.updateStrokeStyle(t, this.applyStroke) } } function Qf(t, e, i, n, r) { let s, o, a, l, h, c, u, d, g, f, p = i, m = i, _ = 0, y = 0, x = i; for (o = i; o < n; o += r) { const i = e[o], n = e[o + 1]; void 0 !== h && (g = i - h, f = n - c, l = Math.sqrt(g * g + f * f), void 0 !== u && (y += a, s = Math.acos((u * g + d * f) / (a * l)), s > t && (y > _ && (_ = y, p = x, m = o), y = 0, x = o - r)), a = l, u = g, d = f), h = i, c = n } return y += l, y > _ ? [x, o] : [p, m] } const tp = { left: 0, end: 0, center: .5, right: 1, start: 1, top: 0, middle: .5, hanging: .2, alphabetic: .8, ideographic: .8, bottom: 1 }; class ep extends qf { constructor(t, e, i, n) { super(t, e, i, n), this.labels_ = null, this.text_ = "", this.textOffsetX_ = 0, this.textOffsetY_ = 0, this.textRotateWithView_ = void 0, this.textRotation_ = 0, this.textFillState_ = null, this.fillStates = {}, this.textStrokeState_ = null, this.strokeStates = {}, this.textState_ = {}, this.textStates = {}, this.textKey_ = "", this.fillKey_ = "", this.strokeKey_ = "", this.declutterImageWithText_ = void 0 } finish() { const t = super.finish(); return t.textStates = this.textStates, t.fillStates = this.fillStates, t.strokeStates = this.strokeStates, t } drawText(t, e) { const i = this.textFillState_, n = this.textStrokeState_, r = this.textState_; if ("" === this.text_ || !r || !i && !n) return; const s = this.coordinates; let o = s.length; const a = t.getType(); let l = null, h = t.getStride(); if ("line" !== r.placement || "LineString" != a && "MultiLineString" != a && "Polygon" != a && "MultiPolygon" != a) { let i = r.overflow ? null : []; switch (a) { case "Point": case "MultiPoint": l = t.getFlatCoordinates(); break; case "LineString": l = t.getFlatMidpoint(); break; case "Circle": l = t.getCenter(); break; case "MultiLineString": l = t.getFlatMidpoints(), h = 2; break; case "Polygon": l = t.getFlatInteriorPoint(), r.overflow || i.push(l[2] / this.resolution), h = 3; break; case "MultiPolygon": const e = t.getFlatInteriorPoints(); l = []; for (let t = 0, n = e.length; t < n; t += 3)r.overflow || i.push(e[t + 2] / this.resolution), l.push(e[t], e[t + 1]); if (0 === l.length) return; h = 2 }const n = this.appendFlatPointCoordinates(l, h); if (n === o) return; if (i && (n - o) / 2 != l.length / h) { let t = o / 2; i = i.filter(((e, i) => { const n = s[2 * (t + i)] === l[i * h] && s[2 * (t + i) + 1] === l[i * h + 1]; return n || --t, n })) } this.saveTextStates_(), (r.backgroundFill || r.backgroundStroke) && (this.setFillStrokeStyle(r.backgroundFill, r.backgroundStroke), r.backgroundFill && (this.updateFillStyle(this.state, this.createFill), this.hitDetectionInstructions.push(this.createFill(this.state))), r.backgroundStroke && (this.updateStrokeStyle(this.state, this.applyStroke), this.hitDetectionInstructions.push(this.createStroke(this.state)))), this.beginGeometry(t, e); let c = r.padding; if (c != Xs && (r.scale[0] < 0 || r.scale[1] < 0)) { let t = r.padding[0], e = r.padding[1], i = r.padding[2], n = r.padding[3]; r.scale[0] < 0 && (e = -e, n = -n), r.scale[1] < 0 && (t = -t, i = -i), c = [t, e, i, n] } const u = this.pixelRatio; this.instructions.push([Gf, o, n, null, NaN, NaN, NaN, 1, 0, 0, this.textRotateWithView_, this.textRotation_, [1, 1], NaN, void 0, this.declutterImageWithText_, c == Xs ? Xs : c.map((function (t) { return t * u })), !!r.backgroundFill, !!r.backgroundStroke, this.text_, this.textKey_, this.strokeKey_, this.fillKey_, this.textOffsetX_, this.textOffsetY_, i]); const d = 1 / u; this.hitDetectionInstructions.push([Gf, o, n, null, NaN, NaN, NaN, 1, 0, 0, this.textRotateWithView_, this.textRotation_, [d, d], NaN, void 0, this.declutterImageWithText_, c, !!r.backgroundFill, !!r.backgroundStroke, this.text_, this.textKey_, this.strokeKey_, this.fillKey_, this.textOffsetX_, this.textOffsetY_, i]), this.endGeometry(e) } else { if (!we(this.getBufferedMaxExtent(), t.getExtent())) return; let i; if (l = t.getFlatCoordinates(), "LineString" == a) i = [l.length]; else if ("MultiLineString" == a) i = t.getEnds(); else if ("Polygon" == a) i = t.getEnds().slice(0, 1); else if ("MultiPolygon" == a) { const e = t.getEndss(); i = []; for (let t = 0, n = e.length; t < n; ++t)i.push(e[t][0]) } this.beginGeometry(t, e); const n = r.textAlign; let c, u = 0; for (let t = 0, e = i.length; t < e; ++t) { if (null == n) { const e = Qf(r.maxAngle, l, u, i[t], h); u = e[0], c = e[1] } else c = i[t]; for (let t = u; t < c; t += h)s.push(l[t], l[t + 1]); const e = s.length; u = i[t], this.drawChars_(o, e), o = e } this.endGeometry(e) } } saveTextStates_() { const t = this.textStrokeState_, e = this.textState_, i = this.textFillState_, n = this.strokeKey_; t && (n in this.strokeStates || (this.strokeStates[n] = { strokeStyle: t.strokeStyle, lineCap: t.lineCap, lineDashOffset: t.lineDashOffset, lineWidth: t.lineWidth, lineJoin: t.lineJoin, miterLimit: t.miterLimit, lineDash: t.lineDash })); const r = this.textKey_; r in this.textStates || (this.textStates[r] = { font: e.font, textAlign: e.textAlign || Us, justify: e.justify, textBaseline: e.textBaseline || zs, scale: e.scale }); const s = this.fillKey_; i && (s in this.fillStates || (this.fillStates[s] = { fillStyle: i.fillStyle })) } drawChars_(t, e) { const i = this.textStrokeState_, n = this.textState_, r = this.strokeKey_, s = this.textKey_, o = this.fillKey_; this.saveTextStates_(); const a = this.pixelRatio, l = tp[n.textBaseline], h = this.textOffsetY_ * a, c = this.text_, u = i ? i.lineWidth * Math.abs(n.scale[0]) / 2 : 0; this.instructions.push([kf, t, e, l, n.overflow, o, n.maxAngle, a, h, r, u * a, c, s, 1]), this.hitDetectionInstructions.push([kf, t, e, l, n.overflow, o, n.maxAngle, 1, h, r, u, c, s, 1 / a]) } setTextStyle(t, e) { let i, n, r; if (t) { const e = t.getFill(); e ? (n = this.textFillState_, n || (n = {}, this.textFillState_ = n), n.fillStyle = fl(e.getColor() || Ns)) : (n = null, this.textFillState_ = n); const s = t.getStroke(); if (s) { r = this.textStrokeState_, r || (r = {}, this.textStrokeState_ = r); const t = s.getLineDash(), e = s.getLineDashOffset(), i = s.getWidth(), n = s.getMiterLimit(); r.lineCap = s.getLineCap() || Ds, r.lineDash = t ? t.slice() : ks, r.lineDashOffset = void 0 === e ? 0 : e, r.lineJoin = s.getLineJoin() || Gs, r.lineWidth = void 0 === i ? 1 : i, r.miterLimit = void 0 === n ? js : n, r.strokeStyle = fl(s.getColor() || Bs) } else r = null, this.textStrokeState_ = r; i = this.textState_; const o = t.getFont() || Os; Ks(o); const a = t.getScaleArray(); i.overflow = t.getOverflow(), i.font = o, i.maxAngle = t.getMaxAngle(), i.placement = t.getPlacement(), i.textAlign = t.getTextAlign(), i.justify = t.getJustify(), i.textBaseline = t.getTextBaseline() || zs, i.backgroundFill = t.getBackgroundFill(), i.backgroundStroke = t.getBackgroundStroke(), i.padding = t.getPadding() || Xs, i.scale = void 0 === a ? [1, 1] : a; const l = t.getOffsetX(), h = t.getOffsetY(), c = t.getRotateWithView(), u = t.getRotation(); this.text_ = t.getText() || "", this.textOffsetX_ = void 0 === l ? 0 : l, this.textOffsetY_ = void 0 === h ? 0 : h, this.textRotateWithView_ = void 0 !== c && c, this.textRotation_ = void 0 === u ? 0 : u, this.strokeKey_ = r ? ("string" == typeof r.strokeStyle ? r.strokeStyle : z(r.strokeStyle)) + r.lineCap + r.lineDashOffset + "|" + r.lineWidth + r.lineJoin + r.miterLimit + "[" + r.lineDash.join() + "]" : "", this.textKey_ = i.font + i.scale + (i.textAlign || "?") + (i.justify || "?") + (i.textBaseline || "?"), this.fillKey_ = n ? "string" == typeof n.fillStyle ? n.fillStyle : "|" + z(n.fillStyle) : "" } else this.text_ = ""; this.declutterImageWithText_ = e } } const ip = { Circle: Jf, Default: qf, Image: Hf, LineString: $f, Polygon: Jf, Text: ep }; class np { constructor(t, e, i, n) { this.tolerance_ = t, this.maxExtent_ = e, this.pixelRatio_ = n, this.resolution_ = i, this.buildersByZIndex_ = {} } finish() { const t = {}; for (const e in this.buildersByZIndex_) { t[e] = t[e] || {}; const i = this.buildersByZIndex_[e]; for (const n in i) { const r = i[n].finish(); t[e][n] = r } } return t } getBuilder(t, e) { const i = void 0 !== t ? t.toString() : "0"; let n = this.buildersByZIndex_[i]; void 0 === n && (n = {}, this.buildersByZIndex_[i] = n); let r = n[e]; if (void 0 === r) { r = new (0, ip[e])(this.tolerance_, this.maxExtent_, this.resolution_, this.pixelRatio_), n[e] = r } return r } } function rp(t, e, i, n, r, s, o, a, l, h, c, u) { let d = t[e], g = t[e + 1], f = 0, p = 0, m = 0, _ = 0; function y() { f = d, p = g, d = t[e += n], g = t[e + 1], _ += m, m = Math.sqrt((d - f) * (d - f) + (g - p) * (g - p)) } do { y() } while (e < i - n && _ + m < s); let x = 0 === m ? 0 : (s - _) / m; const v = hi(f, d, x), S = hi(p, g, x), w = e - n, E = _, T = s + a * l(h, r, c); for (; e < i - n && _ + m < T;)y(); x = 0 === m ? 0 : (T - _) / m; const C = hi(f, d, x), b = hi(p, g, x); let R; if (u) { const t = [v, S, C, b]; dn(t, 0, 4, 2, u, t, t), R = t[0] > t[2] } else R = v > C; const P = Math.PI, I = [], L = w + n === e; let M; if (m = 0, _ = E, d = t[e = w], g = t[e + 1], L) { y(), M = Math.atan2(g - p, d - f), R && (M += M > 0 ? -P : P); const t = (C + v) / 2, e = (b + S) / 2; return I[0] = [t, e, (T - s) / 2, M, r], I } for (let t = 0, u = (r = r.replace(/\n/g, " ")).length; t < u;) { y(); let v = Math.atan2(g - p, d - f); if (R && (v += v > 0 ? -P : P), void 0 !== M) { let t = v - M; if (t += t > P ? -2 * P : t < -P ? 2 * P : 0, Math.abs(t) > o) return null } M = v; const S = t; let w = 0; for (; t < u; ++t) { const o = a * l(h, r[R ? u - t - 1 : t], c); if (e + n < i && _ + m < s + w + o / 2) break; w += o } if (t === S) continue; const E = R ? r.substring(u - S, u - t) : r.substring(S, t); x = 0 === m ? 0 : (s + w / 2 - _) / m; const T = hi(f, d, x), C = hi(p, g, x); I.push([T, C, w / 2, v, E]), s += w } return I } function sp(t, e, i, n) { let r = t[e], s = t[e + 1], o = 0; for (let a = e + n; a < i; a += n) { const e = t[a], i = t[a + 1]; o += Math.sqrt((e - r) * (e - r) + (i - s) * (i - s)), r = e, s = i } return o } const op = [1 / 0, 1 / 0, -1 / 0, -1 / 0], ap = [], lp = [], hp = [], cp = []; function up(t) { return t[3].declutterBox } const dp = new RegExp("[" + String.fromCharCode(1425) + "-" + String.fromCharCode(2303) + String.fromCharCode(64285) + "-" + String.fromCharCode(65023) + String.fromCharCode(65136) + "-" + String.fromCharCode(65276) + String.fromCharCode(67584) + "-" + String.fromCharCode(69631) + String.fromCharCode(124928) + "-" + String.fromCharCode(126975) + "]"); function gp(t, e) { return "start" !== e && "end" !== e || dp.test(t) || (e = "start" === e ? "left" : "right"), tp[e] } function fp(t, e, i) { return i > 0 && t.push("\n", ""), t.push(e, ""), t } class pp { constructor(t, e, i, n) { this.overlaps = i, this.pixelRatio = e, this.resolution = t, this.alignFill_, this.instructions = n.instructions, this.coordinates = n.coordinates, this.coordinateCache_ = {}, this.renderedTransform_ = [1, 0, 0, 1, 0, 0], this.hitDetectionInstructions = n.hitDetectionInstructions, this.pixelCoordinates_ = null, this.viewRotation_ = 0, this.fillStates = n.fillStates || {}, this.strokeStates = n.strokeStates || {}, this.textStates = n.textStates || {}, this.widths_ = {}, this.labels_ = {} } createLabel(t, e, i, n) { const r = t + e + i + n; if (this.labels_[r]) return this.labels_[r]; const s = n ? this.strokeStates[n] : null, o = i ? this.fillStates[i] : null, a = this.textStates[e], l = this.pixelRatio, h = [a.scale[0] * l, a.scale[1] * l], c = Array.isArray(t), u = a.justify ? tp[a.justify] : gp(Array.isArray(t) ? t[0] : t, a.textAlign || Us), d = n && s.lineWidth ? s.lineWidth : 0, g = c ? t : t.split("\n").reduce(fp, []), { width: f, height: p, widths: m, heights: _, lineWidths: y } = Qs(a, g), x = f + d, v = [], S = (x + 2) * h[0], w = (p + d) * h[1], E = { width: S < 0 ? Math.floor(S) : Math.ceil(S), height: w < 0 ? Math.floor(w) : Math.ceil(w), contextInstructions: v }; 1 == h[0] && 1 == h[1] || v.push("scale", h), n && (v.push("strokeStyle", s.strokeStyle), v.push("lineWidth", d), v.push("lineCap", s.lineCap), v.push("lineJoin", s.lineJoin), v.push("miterLimit", s.miterLimit), v.push("setLineDash", [s.lineDash]), v.push("lineDashOffset", s.lineDashOffset)), i && v.push("fillStyle", o.fillStyle), v.push("textBaseline", "middle"), v.push("textAlign", "center"); const T = .5 - u; let C = u * x + T * d; const b = [], R = []; let P, I = 0, L = 0, M = 0, F = 0; for (let t = 0, e = g.length; t < e; t += 2) { const e = g[t]; if ("\n" === e) { L += I, I = 0, C = u * x + T * d, ++F; continue } const r = g[t + 1] || a.font; r !== P && (n && b.push("font", r), i && R.push("font", r), P = r), I = Math.max(I, _[M]); const s = [e, C + T * m[M] + u * (m[M] - y[F]), .5 * (d + I) + L]; C += m[M], n && b.push("strokeText", s), i && R.push("fillText", s), ++M } return Array.prototype.push.apply(v, b), Array.prototype.push.apply(v, R), this.labels_[r] = E, E } replayTextBackground_(t, e, i, n, r, s, o) { t.beginPath(), t.moveTo.apply(t, e), t.lineTo.apply(t, i), t.lineTo.apply(t, n), t.lineTo.apply(t, r), t.lineTo.apply(t, e), s && (this.alignFill_ = s[2], this.fill_(t)), o && (this.setStrokeStyle_(t, o), t.stroke()) } calculateImageOrLabelDimensions_(t, e, i, n, r, s, o, a, l, h, c, u, d, g, f, p) { let m = i - (o *= u[0]), _ = n - (a *= u[1]); const y = r + l > t ? t - l : r, x = s + h > e ? e - h : s, v = g[3] + y * u[0] + g[1], S = g[0] + x * u[1] + g[2], w = m - g[3], E = _ - g[0]; let T; return (f || 0 !== c) && (ap[0] = w, cp[0] = w, ap[1] = E, lp[1] = E, lp[0] = w + v, hp[0] = lp[0], hp[1] = E + S, cp[1] = hp[1]), 0 !== c ? (T = Mt([1, 0, 0, 1, 0, 0], i, n, 1, 1, c, -i, -n), bt(T, ap), bt(T, lp), bt(T, hp), bt(T, cp), $t(Math.min(ap[0], lp[0], hp[0], cp[0]), Math.min(ap[1], lp[1], hp[1], cp[1]), Math.max(ap[0], lp[0], hp[0], cp[0]), Math.max(ap[1], lp[1], hp[1], cp[1]), op)) : $t(Math.min(w, w + v), Math.min(E, E + S), Math.max(w, w + v), Math.max(E, E + S), op), d && (m = Math.round(m), _ = Math.round(_)), { drawImageX: m, drawImageY: _, drawImageW: y, drawImageH: x, originX: l, originY: h, declutterBox: { minX: op[0], minY: op[1], maxX: op[2], maxY: op[3], value: p }, canvasTransform: T, scale: u } } replayImageOrLabel_(t, e, i, n, r, s, o) { const a = !(!s && !o), l = n.declutterBox, h = t.canvas, c = o ? o[2] * n.scale[0] / 2 : 0; return l.minX - c <= h.width / e && l.maxX + c >= 0 && l.minY - c <= h.height / e && l.maxY + c >= 0 && (a && this.replayTextBackground_(t, ap, lp, hp, cp, s, o), to(t, n.canvasTransform, r, i, n.originX, n.originY, n.drawImageW, n.drawImageH, n.drawImageX, n.drawImageY, n.scale)), !0 } fill_(t) { if (this.alignFill_) { const e = bt(this.renderedTransform_, [0, 0]), i = 512 * this.pixelRatio; t.save(), t.translate(e[0] % i, e[1] % i), t.rotate(this.viewRotation_) } t.fill(), this.alignFill_ && t.restore() } setStrokeStyle_(t, e) { t.strokeStyle = e[1], t.lineWidth = e[2], t.lineCap = e[3], t.lineJoin = e[4], t.miterLimit = e[5], t.lineDashOffset = e[7], t.setLineDash(e[6]) } drawLabelWithPointPlacement_(t, e, i, n) { const r = this.textStates[e], s = this.createLabel(t, e, n, i), o = this.strokeStates[i], a = this.pixelRatio, l = gp(Array.isArray(t) ? t[0] : t, r.textAlign || Us), h = tp[r.textBaseline || zs], c = o && o.lineWidth ? o.lineWidth : 0; return { label: s, anchorX: l * (s.width / a - 2 * r.scale[0]) + 2 * (.5 - l) * c, anchorY: h * s.height / a + 2 * (.5 - h) * c } } execute_(t, e, i, n, r, s, o, a) { let l; this.pixelCoordinates_ && u(i, this.renderedTransform_) ? l = this.pixelCoordinates_ : (this.pixelCoordinates_ || (this.pixelCoordinates_ = []), l = un(this.coordinates, 0, this.coordinates.length, 2, i, this.pixelCoordinates_), Ct(this.renderedTransform_, i)); let h = 0; const c = n.length; let d, g, f, p, m, _, y, x, v, S, w, E, T = 0, C = 0, b = 0, R = null, P = null; const I = this.coordinateCache_, L = this.viewRotation_, M = Math.round(1e12 * Math.atan2(-i[1], i[0])) / 1e12, F = { context: t, pixelRatio: this.pixelRatio, resolution: this.resolution, rotation: L }, A = this.instructions != n || this.overlaps ? 0 : 200; let O, N, D, k; for (; h < c;) { const i = n[h]; switch (i[0]) { case Ff: O = i[1], k = i[3], O.getGeometry() ? void 0 === o || we(o, k.getExtent()) ? ++h : h = i[2] + 1 : h = i[2]; break; case Af: C > A && (this.fill_(t), C = 0), b > A && (t.stroke(), b = 0), C || b || (t.beginPath(), p = NaN, m = NaN), ++h; break; case Of: T = i[1]; const n = l[T], c = l[T + 1], u = l[T + 2] - n, G = l[T + 3] - c, j = Math.sqrt(u * u + G * G); t.moveTo(n + j, c), t.arc(n, c, j, 0, 2 * Math.PI, !0), ++h; break; case Nf: t.closePath(), ++h; break; case Df: T = i[1], d = i[2]; const B = i[3], U = i[4], z = 6 == i.length ? i[5] : void 0; F.geometry = B, F.feature = O, h in I || (I[h] = []); const X = I[h]; z ? z(l, T, d, 2, X) : (X[0] = l[T], X[1] = l[T + 1], X.length = 2), U(X, F), ++h; break; case Gf: T = i[1], d = i[2], x = i[3], g = i[4], f = i[5]; let V = i[6]; const W = i[7], Z = i[8], Y = i[9], K = i[10]; let q = i[11]; const H = i[12]; let $ = i[13]; const J = i[14], Q = i[15]; if (!x && i.length >= 20) { v = i[19], S = i[20], w = i[21], E = i[22]; const t = this.drawLabelWithPointPlacement_(v, S, w, E); x = t.label, i[3] = x; const e = i[23]; g = (t.anchorX - e) * this.pixelRatio, i[4] = g; const n = i[24]; f = (t.anchorY - n) * this.pixelRatio, i[5] = f, V = x.height, i[6] = V, $ = x.width, i[13] = $ } let tt, et, it, nt; i.length > 25 && (tt = i[25]), i.length > 17 ? (et = i[16], it = i[17], nt = i[18]) : (et = Xs, it = !1, nt = !1), K && M ? q += L : K || M || (q -= L); let rt = 0; for (; T < d; T += 2) { if (tt && tt[rt++] < $ / this.pixelRatio) continue; const i = this.calculateImageOrLabelDimensions_(x.width, x.height, l[T], l[T + 1], $, V, g, f, Z, Y, q, H, r, et, it || nt, O), n = [t, e, x, i, W, it ? R : null, nt ? P : null]; if (a) { if ("none" === J) continue; if ("obstacle" === J) { a.insert(i.declutterBox); continue } { let t, e; if (Q) { const i = d - T; if (!Q[i]) { Q[i] = n; continue } if (t = Q[i], delete Q[i], e = up(t), a.collides(e)) continue } if (a.collides(i.declutterBox)) continue; t && (a.insert(e), this.replayImageOrLabel_.apply(this, t)), a.insert(i.declutterBox) } } this.replayImageOrLabel_.apply(this, n) } ++h; break; case kf: const st = i[1], ot = i[2], at = i[3], lt = i[4]; E = i[5]; const ht = i[6], ct = i[7], ut = i[8]; w = i[9]; const dt = i[10]; v = i[11], S = i[12]; const gt = [i[13], i[13]], ft = this.textStates[S], pt = ft.font, mt = [ft.scale[0] * ct, ft.scale[1] * ct]; let _t; pt in this.widths_ ? _t = this.widths_[pt] : (_t = {}, this.widths_[pt] = _t); const yt = sp(l, st, ot, 2), xt = Math.abs(mt[0]) * Js(pt, v, _t); if (lt || xt <= yt) { const i = this.textStates[S].textAlign, n = rp(l, st, ot, 2, v, (yt - xt) * tp[i], ht, Math.abs(mt[0]), Js, pt, _t, M ? 0 : this.viewRotation_); t: if (n) { const i = []; let r, s, o, l, h; if (w) for (r = 0, s = n.length; r < s; ++r) { h = n[r], o = h[4], l = this.createLabel(o, S, "", w), g = h[2] + (mt[0] < 0 ? -dt : dt), f = at * l.height + 2 * (.5 - at) * dt * mt[1] / mt[0] - ut; const s = this.calculateImageOrLabelDimensions_(l.width, l.height, h[0], h[1], l.width, l.height, g, f, 0, 0, h[3], gt, !1, Xs, !1, O); if (a && a.collides(s.declutterBox)) break t; i.push([t, e, l, s, 1, null, null]) } if (E) for (r = 0, s = n.length; r < s; ++r) { h = n[r], o = h[4], l = this.createLabel(o, S, E, ""), g = h[2], f = at * l.height - ut; const s = this.calculateImageOrLabelDimensions_(l.width, l.height, h[0], h[1], l.width, l.height, g, f, 0, 0, h[3], gt, !1, Xs, !1, O); if (a && a.collides(s.declutterBox)) break t; i.push([t, e, l, s, 1, null, null]) } a && a.load(i.map(up)); for (let t = 0, e = i.length; t < e; ++t)this.replayImageOrLabel_.apply(this, i[t]) } } ++h; break; case jf: if (void 0 !== s) { O = i[1]; const t = s(O, k); if (t) return t } ++h; break; case Bf: A ? C++ : this.fill_(t), ++h; break; case Uf: for (T = i[1], d = i[2], N = l[T], D = l[T + 1], _ = N + .5 | 0, y = D + .5 | 0, _ === p && y === m || (t.moveTo(N, D), p = _, m = y), T += 2; T < d; T += 2)N = l[T], D = l[T + 1], _ = N + .5 | 0, y = D + .5 | 0, T != d - 2 && _ === p && y === m || (t.lineTo(N, D), p = _, m = y); ++h; break; case zf: R = i, this.alignFill_ = i[2], C && (this.fill_(t), C = 0, b && (t.stroke(), b = 0)), t.fillStyle = i[1], ++h; break; case Xf: P = i, b && (t.stroke(), b = 0), this.setStrokeStyle_(t, i), ++h; break; case Vf: A ? b++ : t.stroke(), ++h; break; default: ++h } } C && this.fill_(t), b && t.stroke() } execute(t, e, i, n, r, s) { this.viewRotation_ = n, this.execute_(t, e, i, this.instructions, r, void 0, void 0, s) } executeHitDetection(t, e, i, n, r) { return this.viewRotation_ = i, this.execute_(t, 1, e, this.hitDetectionInstructions, !0, n, r) } } const mp = ["Polygon", "Circle", "LineString", "Image", "Text", "Default"]; class _p { constructor(t, e, i, n, r, s) { this.maxExtent_ = t, this.overlaps_ = n, this.pixelRatio_ = i, this.resolution_ = e, this.renderBuffer_ = s, this.executorsByZIndex_ = {}, this.hitDetectionContext_ = null, this.hitDetectionTransform_ = [1, 0, 0, 1, 0, 0], this.createExecutors_(r) } clip(t, e) { const i = this.getClipCoords(e); t.beginPath(), t.moveTo(i[0], i[1]), t.lineTo(i[2], i[3]), t.lineTo(i[4], i[5]), t.lineTo(i[6], i[7]), t.clip() } createExecutors_(t) { for (const e in t) { let i = this.executorsByZIndex_[e]; void 0 === i && (i = {}, this.executorsByZIndex_[e] = i); const n = t[e]; for (const t in n) { const e = n[t]; i[t] = new pp(this.resolution_, this.pixelRatio_, this.overlaps_, e) } } } hasExecutors(t) { for (const e in this.executorsByZIndex_) { const i = this.executorsByZIndex_[e]; for (let e = 0, n = t.length; e < n; ++e)if (t[e] in i) return !0 } return !1 } forEachFeatureAtCoordinate(t, e, i, n, r, s) { const o = 2 * (n = Math.round(n)) + 1, l = Mt(this.hitDetectionTransform_, n + .5, n + .5, 1 / e, -1 / e, -i, -t[0], -t[1]), h = !this.hitDetectionContext_; h && (this.hitDetectionContext_ = Dr(o, o)); const c = this.hitDetectionContext_; let u; c.canvas.width !== o || c.canvas.height !== o ? (c.canvas.width = o, c.canvas.height = o) : h || c.clearRect(0, 0, o, o), void 0 !== this.renderBuffer_ && (u = [1 / 0, 1 / 0, -1 / 0, -1 / 0], re(u, t), Xt(u, e * (this.renderBuffer_ + n), u)); const d = xp(n); let g; function f(t, e) { const i = c.getImageData(0, 0, o, o).data; for (let a = 0, l = d.length; a < l; a++)if (i[d[a]] > 0) { if (!s || "Image" !== g && "Text" !== g || s.includes(t)) { const i = (d[a] - 3) / 4, s = n - i % o, l = n - (i / o | 0), h = r(t, e, s * s + l * l); if (h) return h } c.clearRect(0, 0, o, o); break } } const p = Object.keys(this.executorsByZIndex_).map(Number); let m, _, y, x, v; for (p.sort(a), m = p.length - 1; m >= 0; --m) { const t = p[m].toString(); for (y = this.executorsByZIndex_[t], _ = mp.length - 1; _ >= 0; --_)if (g = mp[_], x = y[g], void 0 !== x && (v = x.executeHitDetection(c, l, i, f, u), v)) return v } } getClipCoords(t) { const e = this.maxExtent_; if (!e) return null; const i = e[0], n = e[1], r = e[2], s = e[3], o = [i, n, i, s, r, s, r, n]; return un(o, 0, 8, 2, t, o), o } isEmpty() { return x(this.executorsByZIndex_) } execute(t, e, i, n, r, s, o) { const l = Object.keys(this.executorsByZIndex_).map(Number); let h, c, u, d, g, f; for (l.sort(a), this.maxExtent_ && (t.save(), this.clip(t, i)), s = s || mp, o && l.reverse(), h = 0, c = l.length; h < c; ++h) { const a = l[h].toString(); for (g = this.executorsByZIndex_[a], u = 0, d = s.length; u < d; ++u) { f = g[s[u]], void 0 !== f && f.execute(t, e, i, n, r, o) } } this.maxExtent_ && t.restore() } } const yp = {}; function xp(t) { if (void 0 !== yp[t]) return yp[t]; const e = 2 * t + 1, i = t * t, n = new Array(i + 1); for (let r = 0; r <= t; ++r)for (let s = 0; s <= t; ++s) { const o = r * r + s * s; if (o > i) break; let a = n[o]; a || (a = [], n[o] = a), a.push(4 * ((t + r) * e + (t + s)) + 3), r > 0 && a.push(4 * ((t - r) * e + (t + s)) + 3), s > 0 && (a.push(4 * ((t + r) * e + (t - s)) + 3), r > 0 && a.push(4 * ((t - r) * e + (t - s)) + 3)) } const r = []; for (let t = 0, e = n.length; t < e; ++t)n[t] && r.push(...n[t]); return yp[t] = r, r } const vp = .5; function Sp(t, e, i, n, r, s, o) { const l = Dr(t[0] * vp, t[1] * vp); l.imageSmoothingEnabled = !1; const h = l.canvas, c = new bl(l, vp, r, null, o), u = i.length, d = Math.floor(16777215 / u), g = {}; for (let t = 1; t <= u; ++t) { const e = i[t - 1], o = e.getStyleFunction() || n; if (!n) continue; let a = o(e, s); if (!a) continue; Array.isArray(a) || (a = [a]); const l = "#" + ("000000" + (t * d).toString(16)).slice(-6); for (let t = 0, i = a.length; t < i; ++t) { const i = a[t], n = i.getGeometryFunction()(e); if (!n || !we(r, n.getExtent())) continue; const s = i.clone(), o = s.getFill(); o && o.setColor(l); const h = s.getStroke(); h && (h.setColor(l), h.setLineDash(null)), s.setText(void 0); const c = i.getImage(); if (c && 0 !== c.getOpacity()) { const t = c.getImageSize(); if (!t) continue; const e = Dr(t[0], t[1], void 0, { alpha: !1 }), i = e.canvas; e.fillStyle = l, e.fillRect(0, 0, i.width, i.height), s.setImage(new lg({ img: i, imgSize: t, anchor: c.getAnchor(), anchorXUnits: "pixels", anchorYUnits: "pixels", offset: c.getOrigin(), opacity: 1, size: c.getSize(), scale: c.getScale(), rotation: c.getRotation(), rotateWithView: c.getRotateWithView() })) } const u = s.getZIndex() || 0; let d = g[u]; d || (d = {}, g[u] = d, d.Polygon = [], d.Circle = [], d.LineString = [], d.Point = []), d[n.getType().replace("Multi", "")].push(n, s) } } const f = Object.keys(g).map(Number).sort(a); for (let t = 0, i = f.length; t < i; ++t) { const i = g[f[t]]; for (const t in i) { const n = i[t]; for (let t = 0, i = n.length; t < i; t += 2) { c.setStyle(n[t + 1]); for (let i = 0, r = e.length; i < r; ++i)c.setTransform(e[i]), c.drawGeometry(n[t]) } } } return l.getImageData(0, 0, h.width, h.height) } function wp(t, e, i) { const n = []; if (i) { const r = Math.floor(Math.round(t[0]) * vp), s = Math.floor(Math.round(t[1]) * vp), o = 4 * (ii(r, 0, i.width - 1) + ii(s, 0, i.height - 1) * i.width), a = i.data[o], l = i.data[o + 1], h = i.data[o + 2] + 256 * (l + 256 * a), c = Math.floor(16777215 / e.length); h && h % c == 0 && n.push(e[h / c - 1]) } return n } class Ep extends Pc { constructor(t) { super(t), this.boundHandleStyleImageChange_ = this.handleStyleImageChange_.bind(this), this.animatingOrInteracting_, this.hitDetectionImageData_ = null, this.renderedFeatures_ = null, this.renderedRevision_ = -1, this.renderedResolution_ = NaN, this.renderedExtent_ = [1 / 0, 1 / 0, -1 / 0, -1 / 0], this.wrappedRenderedExtent_ = [1 / 0, 1 / 0, -1 / 0, -1 / 0], this.renderedRotation_, this.renderedCenter_ = null, this.renderedProjection_ = null, this.renderedRenderOrder_ = null, this.replayGroup_ = null, this.replayGroupChanged = !0, this.declutterExecutorGroup = null, this.clipping = !0, this.compositionContext_ = null, this.opacity_ = 1 } renderWorlds(t, e, i) { const n = e.extent, r = e.viewState, s = r.center, o = r.resolution, a = r.projection, l = r.rotation, h = a.getExtent(), c = this.getLayer().getSource(), u = e.pixelRatio, d = e.viewHints, g = !(d[Ro] || d[Po]), f = this.compositionContext_, p = Math.round(e.size[0] * u), m = Math.round(e.size[1] * u), _ = c.getWrapX() && a.canWrapX(), y = _ ? Se(h) : null, x = _ ? Math.ceil((n[2] - h[2]) / y) + 1 : 1; let v = _ ? Math.floor((n[0] - h[0]) / y) : 0; do { const e = this.getRenderTransform(s, o, l, u, p, m, v * y); t.execute(f, 1, e, l, g, void 0, i) } while (++v < x) } setupCompositionContext_() { if (1 !== this.opacity_) { const t = Dr(this.context.canvas.width, this.context.canvas.height, bc); this.compositionContext_ = t } else this.compositionContext_ = this.context } releaseCompositionContext_() { if (1 !== this.opacity_) { const t = this.context.globalAlpha; this.context.globalAlpha = this.opacity_, this.context.drawImage(this.compositionContext_.canvas, 0, 0), this.context.globalAlpha = t, kr(this.compositionContext_), bc.push(this.compositionContext_.canvas), this.compositionContext_ = null } } renderDeclutter(t) { this.declutterExecutorGroup && (this.setupCompositionContext_(), this.renderWorlds(this.declutterExecutorGroup, t, t.declutterTree), this.releaseCompositionContext_()) } renderFrame(t, e) { const i = t.pixelRatio, n = t.layerStatesArray[t.layerIndex]; It(this.pixelTransform, 1 / i, 1 / i), Ft(this.inversePixelTransform, this.pixelTransform); const r = Nt(this.pixelTransform); this.useContainer(e, r, this.getBackground(t)); const s = this.context, o = s.canvas, a = this.replayGroup_, l = this.declutterExecutorGroup; if ((!a || a.isEmpty()) && (!l || l.isEmpty())) return null; const h = Math.round(t.size[0] * i), c = Math.round(t.size[1] * i); o.width != h || o.height != c ? (o.width = h, o.height = c, o.style.transform !== r && (o.style.transform = r)) : this.containerReused || s.clearRect(0, 0, h, c), this.preRender(s, t); const u = t.viewState, d = u.projection; this.opacity_ = n.opacity, this.setupCompositionContext_(); let g = !1, f = !0; if (n.extent && this.clipping) { const e = on(n.extent, d); f = we(e, t.extent), g = f && !Yt(e, t.extent), g && this.clipUnrotated(this.compositionContext_, t, e) } return f && this.renderWorlds(a, t), g && this.compositionContext_.restore(), this.releaseCompositionContext_(), this.postRender(s, t), this.renderedRotation_ !== u.rotation && (this.renderedRotation_ = u.rotation, this.hitDetectionImageData_ = null), this.container } getFeatures(t) { return new Promise(function (e) { if (!this.hitDetectionImageData_ && !this.animatingOrInteracting_) { const t = [this.context.canvas.width, this.context.canvas.height]; bt(this.pixelTransform, t); const e = this.renderedCenter_, i = this.renderedResolution_, n = this.renderedRotation_, r = this.renderedProjection_, s = this.wrappedRenderedExtent_, o = this.getLayer(), a = [], l = t[0] * vp, h = t[1] * vp; a.push(this.getRenderTransform(e, i, n, vp, l, h, 0).slice()); const c = o.getSource(), u = r.getExtent(); if (c.getWrapX() && r.canWrapX() && !Yt(u, s)) { let t = s[0]; const r = Se(u); let o, c = 0; for (; t < u[0];)--c, o = r * c, a.push(this.getRenderTransform(e, i, n, vp, l, h, o).slice()), t += r; for (c = 0, t = s[2]; t > u[2];)++c, o = r * c, a.push(this.getRenderTransform(e, i, n, vp, l, h, o).slice()), t -= r } this.hitDetectionImageData_ = Sp(t, a, this.renderedFeatures_, o.getStyleFunction(), s, i, n) } e(wp(t, this.renderedFeatures_, this.hitDetectionImageData_)) }.bind(this)) } forEachFeatureAtCoordinate(t, e, i, n, r) { if (!this.replayGroup_) return; const s = e.viewState.resolution, o = e.viewState.rotation, a = this.getLayer(), l = {}, h = function (t, e, i) { const s = z(t), o = l[s]; if (o) { if (!0 !== o && i < o.distanceSq) { if (0 === i) return l[s] = !0, r.splice(r.lastIndexOf(o), 1), n(t, a, e); o.geometry = e, o.distanceSq = i } } else { if (0 === i) return l[s] = !0, n(t, a, e); r.push(l[s] = { feature: t, layer: a, geometry: e, distanceSq: i, callback: n }) } }; let c; const u = [this.replayGroup_]; return this.declutterExecutorGroup && u.push(this.declutterExecutorGroup), u.some((n => c = n.forEachFeatureAtCoordinate(t, s, o, i, h, n === this.declutterExecutorGroup && e.declutterTree ? e.declutterTree.all().map((t => t.value)) : null))), c } handleFontsChanged() { const t = this.getLayer(); t.getVisible() && this.replayGroup_ && t.changed() } handleStyleImageChange_(t) { this.renderIfReadyAndVisible() } prepareFrame(t) { const e = this.getLayer(), i = e.getSource(); if (!i) return !1; const n = t.viewHints[Ro], r = t.viewHints[Po], s = e.getUpdateWhileAnimating(), o = e.getUpdateWhileInteracting(); if (this.ready && !s && n || !o && r) return this.animatingOrInteracting_ = !0, !0; this.animatingOrInteracting_ = !1; const a = t.extent, l = t.viewState, h = l.projection, c = l.resolution, d = t.pixelRatio, g = e.getRevision(), f = e.getRenderBuffer(); let p = e.getRenderOrder(); void 0 === p && (p = Pl); const m = l.center.slice(), _ = Xt(a, f * c), y = _.slice(), x = [_.slice()], v = h.getExtent(); if (i.getWrapX() && h.canWrapX() && !Yt(v, t.extent)) { const t = Se(v), e = Math.max(Se(_) / 2, t); _[0] = v[0] - e, _[2] = v[2] + e, Pi(m, h); const i = Pe(x[0], h); i[0] < v[0] && i[2] < v[2] ? x.push([i[0] + t, i[1], i[2] + t, i[3]]) : i[0] > v[0] && i[2] > v[2] && x.push([i[0] - t, i[1], i[2] - t, i[3]]) } if (this.ready && this.renderedResolution_ == c && this.renderedRevision_ == g && this.renderedRenderOrder_ == p && Yt(this.wrappedRenderedExtent_, _)) return u(this.renderedExtent_, y) || (this.hitDetectionImageData_ = null, this.renderedExtent_ = y), this.renderedCenter_ = m, this.replayGroupChanged = !1, !0; this.replayGroup_ = null; const S = new np(Ll(c, d), _, c, d); let w; this.getLayer().getDeclutter() && (w = new np(Ll(c, d), _, c, d)); const E = en(); let T; if (E) { for (let t = 0, e = x.length; t < e; ++t) { const e = sn(x[t], h); i.loadFeatures(e, an(c, h), E) } T = qi(E, h) } else for (let t = 0, e = x.length; t < e; ++t)i.loadFeatures(x[t], c, h); const C = Il(c, d); let b = !0; const R = function (t) { let i; const n = t.getStyleFunction() || e.getStyleFunction(); if (n && (i = n(t, c)), i) { const e = this.renderFeature(t, C, i, S, T, w); b = b && !e } }.bind(this), P = sn(_, h), I = i.getFeaturesInExtent(P); p && I.sort(p); for (let t = 0, e = I.length; t < e; ++t)R(I[t]); this.renderedFeatures_ = I, this.ready = b; const L = S.finish(), M = new _p(_, c, d, i.getOverlaps(), L, e.getRenderBuffer()); return w && (this.declutterExecutorGroup = new _p(_, c, d, i.getOverlaps(), w.finish(), e.getRenderBuffer())), this.renderedResolution_ = c, this.renderedRevision_ = g, this.renderedRenderOrder_ = p, this.renderedExtent_ = y, this.wrappedRenderedExtent_ = _, this.renderedCenter_ = m, this.renderedProjection_ = h, this.replayGroup_ = M, this.hitDetectionImageData_ = null, this.replayGroupChanged = !0, !0 } renderFeature(t, e, i, n, r, s) { if (!i) return !1; let o = !1; if (Array.isArray(i)) for (let a = 0, l = i.length; a < l; ++a)o = Ml(n, t, i[a], e, this.boundHandleStyleImageChange_, r, s) || o; else o = Ml(n, t, i, e, this.boundHandleStyleImageChange_, r, s); return o } } class Tp extends Ic { constructor(t) { super(t), this.vectorRenderer_ = new Ep(t), this.layerImageRatio_ = t.getImageRatio(), this.coordinateToVectorPixelTransform_ = [1, 0, 0, 1, 0, 0], this.renderedPixelToCoordinateTransform_ = null } disposeInternal() { this.vectorRenderer_.dispose(), super.disposeInternal() } getFeatures(t) { if (!this.vectorRenderer_) return new Promise((t => t([]))); const e = bt(this.coordinateToVectorPixelTransform_, bt(this.renderedPixelToCoordinateTransform_, t.slice())); return this.vectorRenderer_.getFeatures(e) } handleFontsChanged() { this.vectorRenderer_.handleFontsChanged() } prepareFrame(t) { const e = t.pixelRatio, i = t.viewState, n = i.resolution, r = t.viewHints, s = this.vectorRenderer_; let o = t.extent; 1 !== this.layerImageRatio_ && (o = o.slice(0), Ce(o, this.layerImageRatio_)); const a = Se(o) / n, l = _e(o) / n; if (!r[Ro] && !r[Po] && !Ee(o)) { s.useContainer(null, null); const r = s.context, h = t.layerStatesArray[t.layerIndex]; r.globalAlpha = h.opacity; const c = Object.assign({}, h, { opacity: 1 }), u = Object.assign({}, t, { declutterTree: new xh(9), extent: o, size: [a, l], viewState: Object.assign({}, t.viewState, { rotation: 0 }), layerStatesArray: [c], layerIndex: 0 }); let d = !0; const g = new Nr(o, n, e, r.canvas, (function (t) { s.prepareFrame(u) && s.replayGroupChanged && (s.clipping = !1, s.renderFrame(u, null) && (s.renderDeclutter(u), d = !1), t()) })); g.addEventListener(S, function () { if (g.getState() !== Lr) return; this.image_ = d ? null : g; const t = g.getResolution(), n = g.getPixelRatio(), r = t * e / n; this.renderedResolution = r, this.coordinateToVectorPixelTransform_ = Mt(this.coordinateToVectorPixelTransform_, a / 2, l / 2, 1 / r, -1 / r, 0, -i.center[0], -i.center[1]) }.bind(this)), g.load() } return this.image_ && (this.renderedPixelToCoordinateTransform_ = t.pixelToCoordinateTransform.slice()), !!this.image_ } preRender() { } postRender() { } renderDeclutter() { } forEachFeatureAtCoordinate(t, e, i, n, r) { return this.vectorRenderer_ ? this.vectorRenderer_.forEachFeatureAtCoordinate(t, e, i, n, r) : super.forEachFeatureAtCoordinate(t, e, i, n, r) } } const Cp = { image: ["Polygon", "Circle", "LineString", "Image", "Text"], hybrid: ["Polygon", "LineString"], vector: [] }, bp = { hybrid: ["Image", "Text", "Default"], vector: ["Polygon", "Circle", "LineString", "Image", "Text", "Default"] }; class Rp extends Oc { constructor(t) { super(t), this.boundHandleStyleImageChange_ = this.handleStyleImageChange_.bind(this), this.renderedLayerRevision_, this.renderedPixelToCoordinateTransform_ = null, this.renderedRotation_, this.tmpTransform_ = [1, 0, 0, 1, 0, 0] } prepareTile(t, e, i) { let n; const r = t.getState(); return r !== J && r !== Q || (this.updateExecutorGroup_(t, e, i), this.tileImageNeedsRender_(t) && (n = !0)), n } getTile(t, e, i, n) { const r = n.pixelRatio, s = n.viewState, o = s.resolution, a = s.projection, l = this.getLayer(), h = l.getSource().getTile(t, e, i, r, a), c = n.viewHints, u = !(c[Ro] || c[Po]); !u && h.wantedResolution || (h.wantedResolution = o); return this.prepareTile(h, r, a) && (u || Date.now() - n.time < 8) && "vector" !== l.getRenderMode() && this.renderTileImage_(h, n), super.getTile(t, e, i, n) } isDrawableTile(t) { const e = this.getLayer(); return super.isDrawableTile(t) && ("vector" === e.getRenderMode() ? z(e) in t.executorGroups : t.hasContext(e)) } getTileImage(t) { return t.getImage(this.getLayer()) } prepareFrame(t) { const e = this.getLayer().getRevision(); return this.renderedLayerRevision_ !== e && (this.renderedLayerRevision_ = e, this.renderedTiles.length = 0), super.prepareFrame(t) } updateExecutorGroup_(t, e, i) { const n = this.getLayer(), r = n.getRevision(), s = n.getRenderOrder() || null, o = t.wantedResolution, a = t.getReplayState(n); if (!a.dirty && a.renderedResolution === o && a.renderedRevision == r && a.renderedRenderOrder == s) return; const l = n.getSource(), h = n.getDeclutter(), c = l.getTileGrid(), u = l.getTileGridForProjection(i).getTileCoordExtent(t.wrappedTileCoord), d = l.getSourceTiles(e, i, t), g = z(n); delete t.hitDetectionImageData[g], t.executorGroups[g] = [], h && (t.declutterExecutorGroups[g] = []), a.dirty = !1; for (let i = 0, r = d.length; i < r; ++i) { const r = d[i]; if (r.getState() != J) continue; const f = r.tileCoord, p = c.getTileCoordExtent(f), m = ye(u, p), _ = Xt(m, n.getRenderBuffer() * o, this.tmpExtent), y = ee(p, m) ? null : _, x = new np(0, _, o, e), v = h ? new np(0, m, o, e) : void 0, S = Il(o, e), w = function (t) { let e; const i = t.getStyleFunction() || n.getStyleFunction(); if (i && (e = i(t, o)), e) { const i = this.renderFeature(t, S, e, x, v); a.dirty = a.dirty || i } }, E = r.getFeatures(); s && s !== a.renderedRenderOrder && E.sort(s); for (let t = 0, e = E.length; t < e; ++t) { const e = E[t]; y && !we(y, e.getGeometry().getExtent()) || w.call(this, e) } const T = x.finish(), C = "vector" !== n.getRenderMode() && h && 1 === d.length ? null : m, b = new _p(C, o, e, l.getOverlaps(), T, n.getRenderBuffer()); if (t.executorGroups[g].push(b), v) { const i = new _p(null, o, e, l.getOverlaps(), v.finish(), n.getRenderBuffer()); t.declutterExecutorGroups[g].push(i) } } a.renderedRevision = r, a.renderedRenderOrder = s, a.renderedResolution = o } forEachFeatureAtCoordinate(t, e, i, n, r) { const s = e.viewState.resolution, o = e.viewState.rotation; i = null == i ? 0 : i; const a = this.getLayer(), l = a.getSource().getTileGridForProjection(e.viewState.projection), h = zt([t]); Xt(h, s * i, h); const c = {}, u = function (t, e, i) { let s = t.getId(); void 0 === s && (s = z(t)); const o = c[s]; if (o) { if (!0 !== o && i < o.distanceSq) { if (0 === i) return c[s] = !0, r.splice(r.lastIndexOf(o), 1), n(t, a, e); o.geometry = e, o.distanceSq = i } } else { if (0 === i) return c[s] = !0, n(t, a, e); r.push(c[s] = { feature: t, layer: a, geometry: e, distanceSq: i, callback: n }) } }, d = this.renderedTiles; let g; for (let n = 0, r = d.length; !g && n < r; ++n) { const r = d[n]; if (!we(l.getTileCoordExtent(r.wrappedTileCoord), h)) continue; const c = z(a), f = [r.executorGroups[c]], p = r.declutterExecutorGroups[c]; p && f.push(p), f.some((n => { const r = n === p ? e.declutterTree.all().map((t => t.value)) : null; for (let e = 0, a = n.length; e < a; ++e) { const a = n[e]; if (g = a.forEachFeatureAtCoordinate(t, s, o, i, u, r), g) return !0 } })) } return g } getFeatures(t) { return new Promise(function (e, i) { const n = this.getLayer(), r = z(n), s = n.getSource(), o = this.renderedProjection, a = o.getExtent(), l = this.renderedResolution, h = s.getTileGridForProjection(o), c = bt(this.renderedPixelToCoordinateTransform_, t.slice()), u = h.getTileCoordForCoordAndResolution(c, l); let d; for (let t = 0, e = this.renderedTiles.length; t < e; ++t)if (u.toString() === this.renderedTiles[t].tileCoord.toString()) { if (d = this.renderedTiles[t], d.getState() === J) { const t = h.getTileCoordExtent(d.tileCoord); s.getWrapX() && o.canWrapX() && !Yt(a, t) && Pi(c, o); break } d = void 0 } if (!d || d.loadingSourceTiles > 0) return void e([]); const g = xe(h.getTileCoordExtent(d.wrappedTileCoord)), f = [(c[0] - g[0]) / l, (g[1] - c[1]) / l], p = d.getSourceTiles().reduce((function (t, e) { return t.concat(e.getFeatures()) }), []); let m = d.hitDetectionImageData[r]; if (!m && !this.animatingOrInteracting_) { const t = Va(h.getTileSize(h.getZForResolution(l, s.zDirection))), e = this.renderedRotation_; m = Sp(t, [this.getRenderTransform(h.getTileCoordCenter(d.wrappedTileCoord), l, 0, vp, t[0] * vp, t[1] * vp, 0)], p, n.getStyleFunction(), h.getTileCoordExtent(d.wrappedTileCoord), d.getReplayState(n).renderedResolution, e), d.hitDetectionImageData[r] = m } e(wp(f, p, m)) }.bind(this)) } handleFontsChanged() { const t = this.getLayer(); t.getVisible() && void 0 !== this.renderedLayerRevision_ && t.changed() } handleStyleImageChange_(t) { this.renderIfReadyAndVisible() } renderDeclutter(t) { const e = this.context, i = e.globalAlpha; e.globalAlpha = this.getLayer().getOpacity(); const n = t.viewHints, r = !(n[Ro] || n[Po]), s = this.renderedTiles; for (let e = 0, i = s.length; e < i; ++e) { const i = s[e], n = i.declutterExecutorGroups[z(this.getLayer())]; if (n) for (let e = n.length - 1; e >= 0; --e)n[e].execute(this.context, 1, this.getTileRenderTransform(i, t), t.viewState.rotation, r, void 0, t.declutterTree) } e.globalAlpha = i } getTileRenderTransform(t, e) { const i = e.pixelRatio, n = e.viewState, r = n.center, s = n.resolution, o = n.rotation, a = e.size, l = Math.round(a[0] * i), h = Math.round(a[1] * i), c = this.getLayer().getSource().getTileGridForProjection(e.viewState.projection), u = t.tileCoord, d = c.getTileCoordExtent(t.wrappedTileCoord), g = c.getTileCoordExtent(u, this.tmpExtent)[0] - d[0]; return Et(Pt(this.inversePixelTransform.slice(), 1 / i, 1 / i), this.getRenderTransform(r, s, o, i, l, h, g)) } postRender(t, e) { const i = e.viewHints, n = !(i[Ro] || i[Po]); this.renderedPixelToCoordinateTransform_ = e.pixelToCoordinateTransform.slice(), this.renderedRotation_ = e.viewState.rotation; const r = this.getLayer(), s = r.getRenderMode(), o = t.globalAlpha; t.globalAlpha = r.getOpacity(); const a = bp[s], l = e.viewState, h = l.rotation, c = r.getSource(), u = c.getTileGridForProjection(l.projection).getZForResolution(l.resolution, c.zDirection), d = this.renderedTiles, g = [], f = []; let p = !0; for (let i = d.length - 1; i >= 0; --i) { const s = d[i]; p = p && !s.getReplayState(r).dirty; const o = s.executorGroups[z(r)].filter((t => t.hasExecutors(a))); if (0 === o.length) continue; const l = this.getTileRenderTransform(s, e), c = s.tileCoord[0]; let m = !1; const _ = o[0].getClipCoords(l); if (_) { for (let e = 0, i = g.length; e < i; ++e)if (u !== c && c < f[e]) { const i = g[e]; we([_[0], _[3], _[4], _[7]], [i[0], i[3], i[4], i[7]]) && (m || (t.save(), m = !0), t.beginPath(), t.moveTo(_[0], _[1]), t.lineTo(_[2], _[3]), t.lineTo(_[4], _[5]), t.lineTo(_[6], _[7]), t.moveTo(i[6], i[7]), t.lineTo(i[4], i[5]), t.lineTo(i[2], i[3]), t.lineTo(i[0], i[1]), t.clip()) } g.push(_), f.push(c) } for (let e = 0, i = o.length; e < i; ++e) { o[e].execute(t, 1, l, h, n, a) } m && t.restore() } t.globalAlpha = o, this.ready = p, super.postRender(t, e) } renderFeature(t, e, i, n, r) { if (!i) return !1; let s = !1; if (Array.isArray(i)) for (let o = 0, a = i.length; o < a; ++o)s = Ml(n, t, i[o], e, this.boundHandleStyleImageChange_, void 0, r) || s; else s = Ml(n, t, i, e, this.boundHandleStyleImageChange_, void 0, r); return s } tileImageNeedsRender_(t) { const e = this.getLayer(); if ("vector" === e.getRenderMode()) return !1; const i = t.getReplayState(e), n = e.getRevision(), r = t.wantedResolution; return i.renderedTileResolution !== r || i.renderedTileRevision !== n } renderTileImage_(t, e) { const i = this.getLayer(), n = t.getReplayState(i), r = i.getRevision(), s = t.executorGroups[z(i)]; n.renderedTileRevision = r; const o = t.wrappedTileCoord, a = o[0], l = i.getSource(); let h = e.pixelRatio; const c = e.viewState.projection, u = l.getTileGridForProjection(c), d = u.getResolution(t.tileCoord[0]), g = e.pixelRatio / t.wantedResolution * d, f = u.getResolution(a), p = t.getContext(i); h = Math.round(Math.max(h, g / h)); const m = l.getTilePixelSize(a, h, c); p.canvas.width = m[0], p.canvas.height = m[1]; const _ = h / g; if (1 !== _) { const t = wt(this.tmpTransform_); Pt(t, _, _), p.setTransform.apply(p, t) } const y = u.getTileCoordExtent(o, this.tmpExtent), x = g / f, v = wt(this.tmpTransform_); Pt(v, x, -x), Lt(v, -y[0], -y[3]); for (let t = 0, e = s.length; t < e; ++t) { s[t].execute(p, _, v, 0, !0, Cp[i.getRenderMode()]) } n.renderedTileResolution = t.wantedResolution } } class Pp extends _n { constructor(t, e, i) { super(), void 0 !== i && void 0 === e ? this.setFlatCoordinates(i, t) : (e = e || 0, this.setCenterAndRadius(t, e, i)) } clone() { const t = new Pp(this.flatCoordinates.slice(), void 0, this.layout); return t.applyProperties(this), t } closestPointXY(t, e, i, n) { const r = this.flatCoordinates, s = t - r[0], o = e - r[1], a = s * s + o * o; if (a < n) { if (0 === a) for (let t = 0; t < this.stride; ++t)i[t] = r[t]; else { const t = this.getRadius() / Math.sqrt(a); i[0] = r[0] + t * s, i[1] = r[1] + t * o; for (let t = 2; t < this.stride; ++t)i[t] = r[t] } return i.length = this.stride, a } return n } containsXY(t, e) { const i = this.flatCoordinates, n = t - i[0], r = e - i[1]; return n * n + r * r <= this.getRadiusSquared_() } getCenter() { return this.flatCoordinates.slice(0, this.stride) } computeExtent(t) { const e = this.flatCoordinates, i = e[this.stride] - e[0]; return $t(e[0] - i, e[1] - i, e[0] + i, e[1] + i, t) } getRadius() { return Math.sqrt(this.getRadiusSquared_()) } getRadiusSquared_() { const t = this.flatCoordinates[this.stride] - this.flatCoordinates[0], e = this.flatCoordinates[this.stride + 1] - this.flatCoordinates[1]; return t * t + e * e } getType() { return "Circle" } intersectsExtent(t) { if (we(t, this.getExtent())) { const e = this.getCenter(); return t[0] <= e[0] && t[2] >= e[0] || (t[1] <= e[1] && t[3] >= e[1] || he(t, this.intersectsCoordinate.bind(this))) } return !1 } setCenter(t) { const e = this.stride, i = this.flatCoordinates[e] - this.flatCoordinates[0], n = t.slice(); n[e] = n[0] + i; for (let i = 1; i < e; ++i)n[e + i] = t[i]; this.setFlatCoordinates(this.layout, n), this.changed() } setCenterAndRadius(t, e, i) { this.setLayout(i, t, 0), this.flatCoordinates || (this.flatCoordinates = []); const n = this.flatCoordinates; let r = Rn(n, 0, t, this.stride); n[r++] = n[0] + e; for (let t = 1, e = this.stride; t < e; ++t)n[r++] = n[t]; n.length = r, this.changed() } getCoordinates() { return null } setCoordinates(t, e) { } setRadius(t) { this.flatCoordinates[this.stride] = this.flatCoordinates[0] + t, this.changed() } rotate(t, e) { const i = this.getCenter(), n = this.getStride(); this.setCenter(dn(i, 0, i.length, n, t, e, i)), this.changed() } translate(t, e) { const i = this.getCenter(), n = this.getStride(); this.setCenter(fn(i, 0, i.length, n, t, e, i)), this.changed() } } Pp.prototype.transform; class Ip extends mn { constructor(t) { super(), this.geometries_ = t || null, this.changeEventsKeys_ = [], this.listenGeometriesChange_() } unlistenGeometriesChange_() { this.changeEventsKeys_.forEach(k), this.changeEventsKeys_.length = 0 } listenGeometriesChange_() { if (this.geometries_) for (let t = 0, e = this.geometries_.length; t < e; ++t)this.changeEventsKeys_.push(N(this.geometries_[t], S, this.changed, this)) } clone() { const t = new Ip(null); return t.setGeometries(this.geometries_), t.applyProperties(this), t } closestPointXY(t, e, i, n) { if (n < Wt(this.getExtent(), t, e)) return n; const r = this.geometries_; for (let s = 0, o = r.length; s < o; ++s)n = r[s].closestPointXY(t, e, i, n); return n } containsXY(t, e) { const i = this.geometries_; for (let n = 0, r = i.length; n < r; ++n)if (i[n].containsXY(t, e)) return !0; return !1 } computeExtent(t) { Jt(t); const e = this.geometries_; for (let i = 0, n = e.length; i < n; ++i)ne(t, e[i].getExtent()); return t } getGeometries() { return Lp(this.geometries_) } getGeometriesArray() { return this.geometries_ } getGeometriesArrayRecursive() { let t = []; const e = this.geometries_; for (let i = 0, n = e.length; i < n; ++i)e[i].getType() === this.getType() ? t = t.concat(e[i].getGeometriesArrayRecursive()) : t.push(e[i]); return t } getSimplifiedGeometry(t) { if (this.simplifiedGeometryRevision !== this.getRevision() && (this.simplifiedGeometryMaxMinSquaredTolerance = 0, this.simplifiedGeometryRevision = this.getRevision()), t < 0 || 0 !== this.simplifiedGeometryMaxMinSquaredTolerance && t < this.simplifiedGeometryMaxMinSquaredTolerance) return this; const e = [], i = this.geometries_; let n = !1; for (let r = 0, s = i.length; r < s; ++r) { const s = i[r], o = s.getSimplifiedGeometry(t); e.push(o), o !== s && (n = !0) } if (n) { const t = new Ip(null); return t.setGeometriesArray(e), t } return this.simplifiedGeometryMaxMinSquaredTolerance = t, this } getType() { return "GeometryCollection" } intersectsExtent(t) { const e = this.geometries_; for (let i = 0, n = e.length; i < n; ++i)if (e[i].intersectsExtent(t)) return !0; return !1 } isEmpty() { return 0 === this.geometries_.length } rotate(t, e) { const i = this.geometries_; for (let n = 0, r = i.length; n < r; ++n)i[n].rotate(t, e); this.changed() } scale(t, e, i) { i || (i = ge(this.getExtent())); const n = this.geometries_; for (let r = 0, s = n.length; r < s; ++r)n[r].scale(t, e, i); this.changed() } setGeometries(t) { this.setGeometriesArray(Lp(t)) } setGeometriesArray(t) { this.unlistenGeometriesChange_(), this.geometries_ = t, this.listenGeometriesChange_(), this.changed() } applyTransform(t) { const e = this.geometries_; for (let i = 0, n = e.length; i < n; ++i)e[i].applyTransform(t); this.changed() } translate(t, e) { const i = this.geometries_; for (let n = 0, r = i.length; n < r; ++n)i[n].translate(t, e); this.changed() } disposeInternal() { this.unlistenGeometriesChange_(), super.disposeInternal() } } function Lp(t) { const e = []; for (let i = 0, n = t.length; i < n; ++i)e.push(t[i].clone()); return e } function Mp(t, e, i, n, r, s, a) { let l, h; const c = (i - e) / n; if (1 === c) l = e; else if (2 === c) l = e, h = r; else if (0 !== c) { let s = t[e], a = t[e + 1], c = 0; const u = [0]; for (let r = e + n; r < i; r += n) { const e = t[r], i = t[r + 1]; c += Math.sqrt((e - s) * (e - s) + (i - a) * (i - a)), u.push(c), s = e, a = i } const d = r * c, g = o(u, d); g < 0 ? (h = (d - u[-g - 2]) / (u[-g - 1] - u[-g - 2]), l = e + (-g - 2) * n) : l = e + g * n } a = a > 1 ? a : 2, s = s || new Array(a); for (let e = 0; e < a; ++e)s[e] = void 0 === l ? NaN : void 0 === h ? t[l + e] : hi(t[l + e], t[l + n + e], h); return s } function Fp(t, e, i, n, r, s) { if (i == e) return null; let o; if (r < t[e + n - 1]) return s ? (o = t.slice(e, e + n), o[n - 1] = r, o) : null; if (t[i - 1] < r) return s ? (o = t.slice(i - n, i), o[n - 1] = r, o) : null; if (r == t[e + n - 1]) return t.slice(e, e + n); let a = e / n, l = i / n; for (; a < l;) { const e = a + l >> 1; r < t[(e + 1) * n - 1] ? l = e : a = e + 1 } const h = t[a * n - 1]; if (r == h) return t.slice((a - 1) * n, (a - 1) * n + n); const c = (r - h) / (t[(a + 1) * n - 1] - h); o = []; for (let e = 0; e < n - 1; ++e)o.push(hi(t[(a - 1) * n + e], t[a * n + e], c)); return o.push(r), o } function Ap(t, e, i, n, r, s, o) { if (o) return Fp(t, e, i[i.length - 1], n, r, s); let a; if (r < t[n - 1]) return s ? (a = t.slice(0, n), a[n - 1] = r, a) : null; if (t[t.length - 1] < r) return s ? (a = t.slice(t.length - n), a[n - 1] = r, a) : null; for (let s = 0, o = i.length; s < o; ++s) { const o = i[s]; if (e != o) { if (r < t[e + n - 1]) return null; if (r <= t[o - 1]) return Fp(t, e, o, n, r, !1); e = o } } return null } class Op extends _n { constructor(t, e) { super(), this.flatMidpoint_ = null, this.flatMidpointRevision_ = -1, this.maxDelta_ = -1, this.maxDeltaRevision_ = -1, void 0 === e || Array.isArray(t[0]) ? this.setCoordinates(t, e) : this.setFlatCoordinates(e, t) } appendCoordinate(t) { this.flatCoordinates ? c(this.flatCoordinates, t) : this.flatCoordinates = t.slice(), this.changed() } clone() { const t = new Op(this.flatCoordinates.slice(), this.layout); return t.applyProperties(this), t } closestPointXY(t, e, i, n) { return n < Wt(this.getExtent(), t, e) ? n : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(Sn(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0)), this.maxDeltaRevision_ = this.getRevision()), Tn(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, this.maxDelta_, !1, t, e, i, n)) } forEachSegment(t) { return Jn(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t) } getCoordinateAtM(t, e) { return "XYM" != this.layout && "XYZM" != this.layout ? null : (e = void 0 !== e && e, Fp(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t, e)) } getCoordinates() { return Gn(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride) } getCoordinateAt(t, e) { return Mp(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t, e, this.stride) } getLength() { return sp(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride) } getFlatMidpoint() { return this.flatMidpointRevision_ != this.getRevision() && (this.flatMidpoint_ = this.getCoordinateAt(.5, this.flatMidpoint_), this.flatMidpointRevision_ = this.getRevision()), this.flatMidpoint_ } getSimplifiedGeometryInternal(t) { const e = []; return e.length = Mn(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t, e, 0), new Op(e, "XY") } getType() { return "LineString" } intersectsExtent(t) { return Qn(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, t) } setCoordinates(t, e) { this.setLayout(e, t, 1), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = Pn(this.flatCoordinates, 0, t, this.stride), this.changed() } } class Np extends _n { constructor(t, e, i) { if (super(), this.ends_ = [], this.maxDelta_ = -1, this.maxDeltaRevision_ = -1, Array.isArray(t[0])) this.setCoordinates(t, e); else if (void 0 !== e && i) this.setFlatCoordinates(e, t), this.ends_ = i; else { let e = this.getLayout(); const i = t, n = [], r = []; for (let t = 0, s = i.length; t < s; ++t) { const s = i[t]; 0 === t && (e = s.getLayout()), c(n, s.getFlatCoordinates()), r.push(n.length) } this.setFlatCoordinates(e, n), this.ends_ = r } } appendLineString(t) { this.flatCoordinates ? c(this.flatCoordinates, t.getFlatCoordinates().slice()) : this.flatCoordinates = t.getFlatCoordinates().slice(), this.ends_.push(this.flatCoordinates.length), this.changed() } clone() { const t = new Np(this.flatCoordinates.slice(), this.layout, this.ends_.slice()); return t.applyProperties(this), t } closestPointXY(t, e, i, n) { return n < Wt(this.getExtent(), t, e) ? n : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(wn(this.flatCoordinates, 0, this.ends_, this.stride, 0)), this.maxDeltaRevision_ = this.getRevision()), Cn(this.flatCoordinates, 0, this.ends_, this.stride, this.maxDelta_, !1, t, e, i, n)) } getCoordinateAtM(t, e, i) { return "XYM" != this.layout && "XYZM" != this.layout || 0 === this.flatCoordinates.length ? null : (e = void 0 !== e && e, i = void 0 !== i && i, Ap(this.flatCoordinates, 0, this.ends_, this.stride, t, e, i)) } getCoordinates() { return jn(this.flatCoordinates, 0, this.ends_, this.stride) } getEnds() { return this.ends_ } getLineString(t) { return t < 0 || this.ends_.length <= t ? null : new Op(this.flatCoordinates.slice(0 === t ? 0 : this.ends_[t - 1], this.ends_[t]), this.layout) } getLineStrings() { const t = this.flatCoordinates, e = this.ends_, i = this.layout, n = []; let r = 0; for (let s = 0, o = e.length; s < o; ++s) { const o = e[s], a = new Op(t.slice(r, o), i); n.push(a), r = o } return n } getFlatMidpoints() { const t = [], e = this.flatCoordinates; let i = 0; const n = this.ends_, r = this.stride; for (let s = 0, o = n.length; s < o; ++s) { const o = n[s]; c(t, Mp(e, i, o, r, .5)), i = o } return t } getSimplifiedGeometryInternal(t) { const e = [], i = []; return e.length = Fn(this.flatCoordinates, 0, this.ends_, this.stride, t, e, 0, i), new Np(e, "XY", i) } getType() { return "MultiLineString" } intersectsExtent(t) { return tr(this.flatCoordinates, 0, this.ends_, this.stride, t) } setCoordinates(t, e) { this.setLayout(e, t, 2), this.flatCoordinates || (this.flatCoordinates = []); const i = In(this.flatCoordinates, 0, t, this.stride, this.ends_); this.flatCoordinates.length = 0 === i.length ? 0 : i[i.length - 1], this.changed() } } class Dp extends _n { constructor(t, e) { super(), e && !Array.isArray(t[0]) ? this.setFlatCoordinates(e, t) : this.setCoordinates(t, e) } appendPoint(t) { this.flatCoordinates ? c(this.flatCoordinates, t.getFlatCoordinates()) : this.flatCoordinates = t.getFlatCoordinates().slice(), this.changed() } clone() { const t = new Dp(this.flatCoordinates.slice(), this.layout); return t.applyProperties(this), t } closestPointXY(t, e, i, n) { if (n < Wt(this.getExtent(), t, e)) return n; const r = this.flatCoordinates, s = this.stride; for (let o = 0, a = r.length; o < a; o += s) { const a = ri(t, e, r[o], r[o + 1]); if (a < n) { n = a; for (let t = 0; t < s; ++t)i[t] = r[o + t]; i.length = s } } return n } getCoordinates() { return Gn(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride) } getPoint(t) { const e = this.flatCoordinates ? this.flatCoordinates.length / this.stride : 0; return t < 0 || e <= t ? null : new Wn(this.flatCoordinates.slice(t * this.stride, (t + 1) * this.stride), this.layout) } getPoints() { const t = this.flatCoordinates, e = this.layout, i = this.stride, n = []; for (let r = 0, s = t.length; r < s; r += i) { const s = new Wn(t.slice(r, r + i), e); n.push(s) } return n } getType() { return "MultiPoint" } intersectsExtent(t) { const e = this.flatCoordinates, i = this.stride; for (let n = 0, r = e.length; n < r; n += i) { if (Kt(t, e[n], e[n + 1])) return !0 } return !1 } setCoordinates(t, e) { this.setLayout(e, t, 1), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = Pn(this.flatCoordinates, 0, t, this.stride), this.changed() } } function kp(t, e, i, n) { const r = []; let s = [1 / 0, 1 / 0, -1 / 0, -1 / 0]; for (let o = 0, a = i.length; o < a; ++o) { const a = i[o]; s = te(t, e, a[0], n), r.push((s[0] + s[2]) / 2, (s[1] + s[3]) / 2), e = a[a.length - 1] } return r } class Gp extends _n { constructor(t, e, i) { if (super(), this.endss_ = [], this.flatInteriorPointsRevision_ = -1, this.flatInteriorPoints_ = null, this.maxDelta_ = -1, this.maxDeltaRevision_ = -1, this.orientedRevision_ = -1, this.orientedFlatCoordinates_ = null, !i && !Array.isArray(t[0])) { let n = this.getLayout(); const r = t, s = [], o = []; for (let t = 0, e = r.length; t < e; ++t) { const e = r[t]; 0 === t && (n = e.getLayout()); const i = s.length, a = e.getEnds(); for (let t = 0, e = a.length; t < e; ++t)a[t] += i; c(s, e.getFlatCoordinates()), o.push(a) } e = n, t = s, i = o } void 0 !== e && i ? (this.setFlatCoordinates(e, t), this.endss_ = i) : this.setCoordinates(t, e) } appendPolygon(t) { let e; if (this.flatCoordinates) { const i = this.flatCoordinates.length; c(this.flatCoordinates, t.getFlatCoordinates()), e = t.getEnds().slice(); for (let t = 0, n = e.length; t < n; ++t)e[t] += i } else this.flatCoordinates = t.getFlatCoordinates().slice(), e = t.getEnds().slice(), this.endss_.push(); this.endss_.push(e), this.changed() } clone() { const t = this.endss_.length, e = new Array(t); for (let i = 0; i < t; ++i)e[i] = this.endss_[i].slice(); const i = new Gp(this.flatCoordinates.slice(), this.layout, e); return i.applyProperties(this), i } closestPointXY(t, e, i, n) { return n < Wt(this.getExtent(), t, e) ? n : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(En(this.flatCoordinates, 0, this.endss_, this.stride, 0)), this.maxDeltaRevision_ = this.getRevision()), bn(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, this.maxDelta_, !0, t, e, i, n)) } containsXY(t, e) { return qn(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, t, e) } getArea() { return Xn(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride) } getCoordinates(t) { let e; return void 0 !== t ? (e = this.getOrientedFlatCoordinates().slice(), hr(e, 0, this.endss_, this.stride, t)) : e = this.flatCoordinates, Bn(e, 0, this.endss_, this.stride) } getEndss() { return this.endss_ } getFlatInteriorPoints() { if (this.flatInteriorPointsRevision_ != this.getRevision()) { const t = kp(this.flatCoordinates, 0, this.endss_, this.stride); this.flatInteriorPoints_ = $n(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, t), this.flatInteriorPointsRevision_ = this.getRevision() } return this.flatInteriorPoints_ } getInteriorPoints() { return new Dp(this.getFlatInteriorPoints().slice(), "XYM") } getOrientedFlatCoordinates() { if (this.orientedRevision_ != this.getRevision()) { const t = this.flatCoordinates; ar(t, 0, this.endss_, this.stride) ? this.orientedFlatCoordinates_ = t : (this.orientedFlatCoordinates_ = t.slice(), this.orientedFlatCoordinates_.length = hr(this.orientedFlatCoordinates_, 0, this.endss_, this.stride)), this.orientedRevision_ = this.getRevision() } return this.orientedFlatCoordinates_ } getSimplifiedGeometryInternal(t) { const e = [], i = []; return e.length = kn(this.flatCoordinates, 0, this.endss_, this.stride, Math.sqrt(t), e, 0, i), new Gp(e, "XY", i) } getPolygon(t) { if (t < 0 || this.endss_.length <= t) return null; let e; if (0 === t) e = 0; else { const i = this.endss_[t - 1]; e = i[i.length - 1] } const i = this.endss_[t].slice(), n = i[i.length - 1]; if (0 !== e) for (let t = 0, n = i.length; t < n; ++t)i[t] -= e; return new ur(this.flatCoordinates.slice(e, n), this.layout, i) } getPolygons() { const t = this.layout, e = this.flatCoordinates, i = this.endss_, n = []; let r = 0; for (let s = 0, o = i.length; s < o; ++s) { const o = i[s].slice(), a = o[o.length - 1]; if (0 !== r) for (let t = 0, e = o.length; t < e; ++t)o[t] -= r; const l = new ur(e.slice(r, a), t, o); n.push(l), r = a } return n } getType() { return "MultiPolygon" } intersectsExtent(t) { return nr(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, t) } setCoordinates(t, e) { this.setLayout(e, t, 3), this.flatCoordinates || (this.flatCoordinates = []); const i = Ln(this.flatCoordinates, 0, t, this.stride, this.endss_); if (0 === i.length) this.flatCoordinates.length = 0; else { const t = i[i.length - 1]; this.flatCoordinates.length = 0 === t.length ? 0 : t[t.length - 1] } this.changed() } } const jp = [1, 0, 0, 1, 0, 0]; class Bp { constructor(t, e, i, n, r) { this.styleFunction, this.extent_, this.id_ = r, this.type_ = t, this.flatCoordinates_ = e, this.flatInteriorPoints_ = null, this.flatMidpoints_ = null, this.ends_ = i, this.properties_ = n } get(t) { return this.properties_[t] } getExtent() { return this.extent_ || (this.extent_ = "Point" === this.type_ ? Qt(this.flatCoordinates_) : te(this.flatCoordinates_, 0, this.flatCoordinates_.length, 2)), this.extent_ } getFlatInteriorPoint() { if (!this.flatInteriorPoints_) { const t = ge(this.getExtent()); this.flatInteriorPoints_ = Hn(this.flatCoordinates_, 0, this.ends_, 2, t, 0) } return this.flatInteriorPoints_ } getFlatInteriorPoints() { if (!this.flatInteriorPoints_) { const t = kp(this.flatCoordinates_, 0, this.ends_, 2); this.flatInteriorPoints_ = $n(this.flatCoordinates_, 0, this.ends_, 2, t) } return this.flatInteriorPoints_ } getFlatMidpoint() { return this.flatMidpoints_ || (this.flatMidpoints_ = Mp(this.flatCoordinates_, 0, this.flatCoordinates_.length, 2, .5)), this.flatMidpoints_ } getFlatMidpoints() { if (!this.flatMidpoints_) { this.flatMidpoints_ = []; const t = this.flatCoordinates_; let e = 0; const i = this.ends_; for (let n = 0, r = i.length; n < r; ++n) { const r = i[n], s = Mp(t, e, r, 2, .5); c(this.flatMidpoints_, s), e = r } } return this.flatMidpoints_ } getId() { return this.id_ } getOrientedFlatCoordinates() { return this.flatCoordinates_ } getGeometry() { return this } getSimplifiedGeometry(t) { return this } simplifyTransformed(t, e) { return this } getProperties() { return this.properties_ } getStride() { return 2 } getStyleFunction() { return this.styleFunction } getType() { return this.type_ } transform(t) { const e = (t = Ui(t)).getExtent(), i = t.getWorldExtent(); if (e && i) { const t = _e(i) / _e(e); Mt(jp, i[0], i[3], t, -t, 0, 0, 0), un(this.flatCoordinates_, 0, this.flatCoordinates_.length, 2, jp, this.flatCoordinates_) } } getEnds() { return this.ends_ } } function Up(t) { const e = t.getType(); switch (e) { case "Point": return new Wn(t.getFlatCoordinates()); case "MultiPoint": return new Dp(t.getFlatCoordinates(), "XY"); case "LineString": return new Op(t.getFlatCoordinates(), "XY"); case "MultiLineString": return new Np(t.getFlatCoordinates(), "XY", t.getEnds()); case "Polygon": const i = t.getFlatCoordinates(), n = t.getEnds(), r = cr(i, n); return r.length > 1 ? new Gp(i, "XY", r) : new ur(i, "XY", n); default: throw new Error("Invalid geometry type:" + e) } } Bp.prototype.getEndss = Bp.prototype.getEnds, Bp.prototype.getFlatCoordinates = Bp.prototype.getOrientedFlatCoordinates; class zp extends Ig { constructor(t) { super(t) } createRenderer() { return new Ep(this) } } function Xp(t, e, i) { const n = []; let r = t(0), s = t(1), o = e(r), a = e(s); const l = [s, r], h = [a, o], c = [1, 0], u = {}; let d, g, f, p, m, _, y = 1e5; for (; --y > 0 && c.length > 0;)f = c.pop(), r = l.pop(), o = h.pop(), _ = f.toString(), _ in u || (n.push(o[0], o[1]), u[_] = !0), p = c.pop(), s = l.pop(), a = h.pop(), m = (f + p) / 2, d = t(m), g = e(d), ni(g[0], g[1], o[0], o[1], a[0], a[1]) < i ? (n.push(a[0], a[1]), _ = p.toString(), u[_] = !0) : (c.push(p, m, m, f), h.push(a, g, g, o), l.push(s, d, d, r)); return n } function Vp(t, e, i, n, r) { return Xp((function (n) { return [t, e + (i - e) * n] }), Hi(Ui("EPSG:4326"), n), r) } function Wp(t, e, i, n, r) { return Xp((function (n) { return [e + (i - e) * n, t] }), Hi(Ui("EPSG:4326"), n), r) } const Zp = new hg({ color: "rgba(0,0,0,0.2)" }), Yp = [90, 45, 30, 20, 10, 5, 2, 1, .5, 20 / 60, 10 / 60, 5 / 60, 2 / 60, 1 / 60, 30 / 3600, 20 / 3600, 10 / 3600, 5 / 3600, 2 / 3600, 1 / 3600]; const Kp = "blur", qp = "gradient", Hp = "radius", $p = ["#00f", "#0ff", "#0f0", "#ff0", "#f00"]; class Jp { constructor() { this.dataProjection = void 0, this.defaultFeatureProjection = void 0, this.supportedMediaTypes = null } getReadOptions(t, e) { if (e) { let i = e.dataProjection ? Ui(e.dataProjection) : this.readProjection(t); e.extent && i && "tile-pixels" === i.getUnits() && (i = Ui(i), i.setWorldExtent(e.extent)), e = { dataProjection: i, featureProjection: e.featureProjection } } return this.adaptOptions(e) } adaptOptions(t) { return Object.assign({ dataProjection: this.dataProjection, featureProjection: this.defaultFeatureProjection }, t) } getType() { return B() } readFeature(t, e) { return B() } readFeatures(t, e) { return B() } readGeometry(t, e) { return B() } readProjection(t) { return B() } writeFeature(t, e) { return B() } writeFeatures(t, e) { return B() } writeGeometry(t, e) { return B() } } function Qp(t, e, i) { const n = i ? Ui(i.featureProjection) : null, r = i ? Ui(i.dataProjection) : null; let s; if (s = n && r && !Ki(n, r) ? (e ? t.clone() : t).transform(e ? n : r, e ? r : n) : t, e && i && void 0 !== i.decimals) { const e = Math.pow(10, i.decimals), n = function (t) { for (let i = 0, n = t.length; i < n; ++i)t[i] = Math.round(t[i] * e) / e; return t }; s === t && (s = t.clone()), s.applyTransform(n) } return s } function tm(t, e) { const i = e ? Ui(e.featureProjection) : null, n = e ? Ui(e.dataProjection) : null; return i && n && !Ki(i, n) ? Ji(t, n, i) : t } var em = {
        /*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
        read: function (t, e, i, n, r) { var s, o, a = 8 * r - n - 1, l = (1 << a) - 1, h = l >> 1, c = -7, u = i ? r - 1 : 0, d = i ? -1 : 1, g = t[e + u]; for (u += d, s = g & (1 << -c) - 1, g >>= -c, c += a; c > 0; s = 256 * s + t[e + u], u += d, c -= 8); for (o = s & (1 << -c) - 1, s >>= -c, c += n; c > 0; o = 256 * o + t[e + u], u += d, c -= 8); if (0 === s) s = 1 - h; else { if (s === l) return o ? NaN : 1 / 0 * (g ? -1 : 1); o += Math.pow(2, n), s -= h } return (g ? -1 : 1) * o * Math.pow(2, s - n) }, write: function (t, e, i, n, r, s) { var o, a, l, h = 8 * s - r - 1, c = (1 << h) - 1, u = c >> 1, d = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0, g = n ? 0 : s - 1, f = n ? 1 : -1, p = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0; for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (a = isNaN(e) ? 1 : 0, o = c) : (o = Math.floor(Math.log(e) / Math.LN2), e * (l = Math.pow(2, -o)) < 1 && (o--, l *= 2), (e += o + u >= 1 ? d / l : d * Math.pow(2, 1 - u)) * l >= 2 && (o++, l /= 2), o + u >= c ? (a = 0, o = c) : o + u >= 1 ? (a = (e * l - 1) * Math.pow(2, r), o += u) : (a = e * Math.pow(2, u - 1) * Math.pow(2, r), o = 0)); r >= 8; t[i + g] = 255 & a, g += f, a /= 256, r -= 8); for (o = o << r | a, h += r; h > 0; t[i + g] = 255 & o, g += f, o /= 256, h -= 8); t[i + g - f] |= 128 * p }
    }, im = rm, nm = em; function rm(t) { this.buf = ArrayBuffer.isView && ArrayBuffer.isView(t) ? t : new Uint8Array(t || 0), this.pos = 0, this.type = 0, this.length = this.buf.length } rm.Varint = 0, rm.Fixed64 = 1, rm.Bytes = 2, rm.Fixed32 = 5; var sm = 4294967296, om = 1 / sm, am = "undefined" == typeof TextDecoder ? null : new TextDecoder("utf8"); function lm(t) { return t.type === rm.Bytes ? t.readVarint() + t.pos : t.pos + 1 } function hm(t, e, i) { return i ? 4294967296 * e + (t >>> 0) : 4294967296 * (e >>> 0) + (t >>> 0) } function cm(t, e, i) { var n = e <= 16383 ? 1 : e <= 2097151 ? 2 : e <= 268435455 ? 3 : Math.floor(Math.log(e) / (7 * Math.LN2)); i.realloc(n); for (var r = i.pos - 1; r >= t; r--)i.buf[r + n] = i.buf[r] } function um(t, e) { for (var i = 0; i < t.length; i++)e.writeVarint(t[i]) } function dm(t, e) { for (var i = 0; i < t.length; i++)e.writeSVarint(t[i]) } function gm(t, e) { for (var i = 0; i < t.length; i++)e.writeFloat(t[i]) } function fm(t, e) { for (var i = 0; i < t.length; i++)e.writeDouble(t[i]) } function pm(t, e) { for (var i = 0; i < t.length; i++)e.writeBoolean(t[i]) } function mm(t, e) { for (var i = 0; i < t.length; i++)e.writeFixed32(t[i]) } function _m(t, e) { for (var i = 0; i < t.length; i++)e.writeSFixed32(t[i]) } function ym(t, e) { for (var i = 0; i < t.length; i++)e.writeFixed64(t[i]) } function xm(t, e) { for (var i = 0; i < t.length; i++)e.writeSFixed64(t[i]) } function vm(t, e) { return (t[e] | t[e + 1] << 8 | t[e + 2] << 16) + 16777216 * t[e + 3] } function Sm(t, e, i) { t[i] = e, t[i + 1] = e >>> 8, t[i + 2] = e >>> 16, t[i + 3] = e >>> 24 } function wm(t, e) { return (t[e] | t[e + 1] << 8 | t[e + 2] << 16) + (t[e + 3] << 24) } rm.prototype = { destroy: function () { this.buf = null }, readFields: function (t, e, i) { for (i = i || this.length; this.pos < i;) { var n = this.readVarint(), r = n >> 3, s = this.pos; this.type = 7 & n, t(r, e, this), this.pos === s && this.skip(n) } return e }, readMessage: function (t, e) { return this.readFields(t, e, this.readVarint() + this.pos) }, readFixed32: function () { var t = vm(this.buf, this.pos); return this.pos += 4, t }, readSFixed32: function () { var t = wm(this.buf, this.pos); return this.pos += 4, t }, readFixed64: function () { var t = vm(this.buf, this.pos) + vm(this.buf, this.pos + 4) * sm; return this.pos += 8, t }, readSFixed64: function () { var t = vm(this.buf, this.pos) + wm(this.buf, this.pos + 4) * sm; return this.pos += 8, t }, readFloat: function () { var t = nm.read(this.buf, this.pos, !0, 23, 4); return this.pos += 4, t }, readDouble: function () { var t = nm.read(this.buf, this.pos, !0, 52, 8); return this.pos += 8, t }, readVarint: function (t) { var e, i, n = this.buf; return e = 127 & (i = n[this.pos++]), i < 128 ? e : (e |= (127 & (i = n[this.pos++])) << 7, i < 128 ? e : (e |= (127 & (i = n[this.pos++])) << 14, i < 128 ? e : (e |= (127 & (i = n[this.pos++])) << 21, i < 128 ? e : function (t, e, i) { var n, r, s = i.buf; if (r = s[i.pos++], n = (112 & r) >> 4, r < 128) return hm(t, n, e); if (r = s[i.pos++], n |= (127 & r) << 3, r < 128) return hm(t, n, e); if (r = s[i.pos++], n |= (127 & r) << 10, r < 128) return hm(t, n, e); if (r = s[i.pos++], n |= (127 & r) << 17, r < 128) return hm(t, n, e); if (r = s[i.pos++], n |= (127 & r) << 24, r < 128) return hm(t, n, e); if (r = s[i.pos++], n |= (1 & r) << 31, r < 128) return hm(t, n, e); throw new Error("Expected varint not more than 10 bytes") }(e |= (15 & (i = n[this.pos])) << 28, t, this)))) }, readVarint64: function () { return this.readVarint(!0) }, readSVarint: function () { var t = this.readVarint(); return t % 2 == 1 ? (t + 1) / -2 : t / 2 }, readBoolean: function () { return Boolean(this.readVarint()) }, readString: function () { var t = this.readVarint() + this.pos, e = this.pos; return this.pos = t, t - e >= 12 && am ? function (t, e, i) { return am.decode(t.subarray(e, i)) }(this.buf, e, t) : function (t, e, i) { var n = "", r = e; for (; r < i;) { var s, o, a, l = t[r], h = null, c = l > 239 ? 4 : l > 223 ? 3 : l > 191 ? 2 : 1; if (r + c > i) break; 1 === c ? l < 128 && (h = l) : 2 === c ? 128 == (192 & (s = t[r + 1])) && (h = (31 & l) << 6 | 63 & s) <= 127 && (h = null) : 3 === c ? (s = t[r + 1], o = t[r + 2], 128 == (192 & s) && 128 == (192 & o) && ((h = (15 & l) << 12 | (63 & s) << 6 | 63 & o) <= 2047 || h >= 55296 && h <= 57343) && (h = null)) : 4 === c && (s = t[r + 1], o = t[r + 2], a = t[r + 3], 128 == (192 & s) && 128 == (192 & o) && 128 == (192 & a) && ((h = (15 & l) << 18 | (63 & s) << 12 | (63 & o) << 6 | 63 & a) <= 65535 || h >= 1114112) && (h = null)), null === h ? (h = 65533, c = 1) : h > 65535 && (h -= 65536, n += String.fromCharCode(h >>> 10 & 1023 | 55296), h = 56320 | 1023 & h), n += String.fromCharCode(h), r += c } return n }(this.buf, e, t) }, readBytes: function () { var t = this.readVarint() + this.pos, e = this.buf.subarray(this.pos, t); return this.pos = t, e }, readPackedVarint: function (t, e) { if (this.type !== rm.Bytes) return t.push(this.readVarint(e)); var i = lm(this); for (t = t || []; this.pos < i;)t.push(this.readVarint(e)); return t }, readPackedSVarint: function (t) { if (this.type !== rm.Bytes) return t.push(this.readSVarint()); var e = lm(this); for (t = t || []; this.pos < e;)t.push(this.readSVarint()); return t }, readPackedBoolean: function (t) { if (this.type !== rm.Bytes) return t.push(this.readBoolean()); var e = lm(this); for (t = t || []; this.pos < e;)t.push(this.readBoolean()); return t }, readPackedFloat: function (t) { if (this.type !== rm.Bytes) return t.push(this.readFloat()); var e = lm(this); for (t = t || []; this.pos < e;)t.push(this.readFloat()); return t }, readPackedDouble: function (t) { if (this.type !== rm.Bytes) return t.push(this.readDouble()); var e = lm(this); for (t = t || []; this.pos < e;)t.push(this.readDouble()); return t }, readPackedFixed32: function (t) { if (this.type !== rm.Bytes) return t.push(this.readFixed32()); var e = lm(this); for (t = t || []; this.pos < e;)t.push(this.readFixed32()); return t }, readPackedSFixed32: function (t) { if (this.type !== rm.Bytes) return t.push(this.readSFixed32()); var e = lm(this); for (t = t || []; this.pos < e;)t.push(this.readSFixed32()); return t }, readPackedFixed64: function (t) { if (this.type !== rm.Bytes) return t.push(this.readFixed64()); var e = lm(this); for (t = t || []; this.pos < e;)t.push(this.readFixed64()); return t }, readPackedSFixed64: function (t) { if (this.type !== rm.Bytes) return t.push(this.readSFixed64()); var e = lm(this); for (t = t || []; this.pos < e;)t.push(this.readSFixed64()); return t }, skip: function (t) { var e = 7 & t; if (e === rm.Varint) for (; this.buf[this.pos++] > 127;); else if (e === rm.Bytes) this.pos = this.readVarint() + this.pos; else if (e === rm.Fixed32) this.pos += 4; else { if (e !== rm.Fixed64) throw new Error("Unimplemented type: " + e); this.pos += 8 } }, writeTag: function (t, e) { this.writeVarint(t << 3 | e) }, realloc: function (t) { for (var e = this.length || 16; e < this.pos + t;)e *= 2; if (e !== this.length) { var i = new Uint8Array(e); i.set(this.buf), this.buf = i, this.length = e } }, finish: function () { return this.length = this.pos, this.pos = 0, this.buf.subarray(0, this.length) }, writeFixed32: function (t) { this.realloc(4), Sm(this.buf, t, this.pos), this.pos += 4 }, writeSFixed32: function (t) { this.realloc(4), Sm(this.buf, t, this.pos), this.pos += 4 }, writeFixed64: function (t) { this.realloc(8), Sm(this.buf, -1 & t, this.pos), Sm(this.buf, Math.floor(t * om), this.pos + 4), this.pos += 8 }, writeSFixed64: function (t) { this.realloc(8), Sm(this.buf, -1 & t, this.pos), Sm(this.buf, Math.floor(t * om), this.pos + 4), this.pos += 8 }, writeVarint: function (t) { (t = +t || 0) > 268435455 || t < 0 ? function (t, e) { var i, n; t >= 0 ? (i = t % 4294967296 | 0, n = t / 4294967296 | 0) : (n = ~(-t / 4294967296), 4294967295 ^ (i = ~(-t % 4294967296)) ? i = i + 1 | 0 : (i = 0, n = n + 1 | 0)); if (t >= 0x10000000000000000 || t < -0x10000000000000000) throw new Error("Given varint doesn't fit into 10 bytes"); e.realloc(10), function (t, e, i) { i.buf[i.pos++] = 127 & t | 128, t >>>= 7, i.buf[i.pos++] = 127 & t | 128, t >>>= 7, i.buf[i.pos++] = 127 & t | 128, t >>>= 7, i.buf[i.pos++] = 127 & t | 128, t >>>= 7, i.buf[i.pos] = 127 & t }(i, 0, e), function (t, e) { var i = (7 & t) << 4; if (e.buf[e.pos++] |= i | ((t >>>= 3) ? 128 : 0), !t) return; if (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), !t) return; if (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), !t) return; if (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), !t) return; if (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), !t) return; e.buf[e.pos++] = 127 & t }(n, e) }(t, this) : (this.realloc(4), this.buf[this.pos++] = 127 & t | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = 127 & (t >>>= 7) | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = 127 & (t >>>= 7) | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = t >>> 7 & 127)))) }, writeSVarint: function (t) { this.writeVarint(t < 0 ? 2 * -t - 1 : 2 * t) }, writeBoolean: function (t) { this.writeVarint(Boolean(t)) }, writeString: function (t) { t = String(t), this.realloc(4 * t.length), this.pos++; var e = this.pos; this.pos = function (t, e, i) { for (var n, r, s = 0; s < e.length; s++) { if ((n = e.charCodeAt(s)) > 55295 && n < 57344) { if (!r) { n > 56319 || s + 1 === e.length ? (t[i++] = 239, t[i++] = 191, t[i++] = 189) : r = n; continue } if (n < 56320) { t[i++] = 239, t[i++] = 191, t[i++] = 189, r = n; continue } n = r - 55296 << 10 | n - 56320 | 65536, r = null } else r && (t[i++] = 239, t[i++] = 191, t[i++] = 189, r = null); n < 128 ? t[i++] = n : (n < 2048 ? t[i++] = n >> 6 | 192 : (n < 65536 ? t[i++] = n >> 12 | 224 : (t[i++] = n >> 18 | 240, t[i++] = n >> 12 & 63 | 128), t[i++] = n >> 6 & 63 | 128), t[i++] = 63 & n | 128) } return i }(this.buf, t, this.pos); var i = this.pos - e; i >= 128 && cm(e, i, this), this.pos = e - 1, this.writeVarint(i), this.pos += i }, writeFloat: function (t) { this.realloc(4), nm.write(this.buf, t, this.pos, !0, 23, 4), this.pos += 4 }, writeDouble: function (t) { this.realloc(8), nm.write(this.buf, t, this.pos, !0, 52, 8), this.pos += 8 }, writeBytes: function (t) { var e = t.length; this.writeVarint(e), this.realloc(e); for (var i = 0; i < e; i++)this.buf[this.pos++] = t[i] }, writeRawMessage: function (t, e) { this.pos++; var i = this.pos; t(e, this); var n = this.pos - i; n >= 128 && cm(i, n, this), this.pos = i - 1, this.writeVarint(n), this.pos += n }, writeMessage: function (t, e, i) { this.writeTag(t, rm.Bytes), this.writeRawMessage(e, i) }, writePackedVarint: function (t, e) { e.length && this.writeMessage(t, um, e) }, writePackedSVarint: function (t, e) { e.length && this.writeMessage(t, dm, e) }, writePackedBoolean: function (t, e) { e.length && this.writeMessage(t, pm, e) }, writePackedFloat: function (t, e) { e.length && this.writeMessage(t, gm, e) }, writePackedDouble: function (t, e) { e.length && this.writeMessage(t, fm, e) }, writePackedFixed32: function (t, e) { e.length && this.writeMessage(t, mm, e) }, writePackedSFixed32: function (t, e) { e.length && this.writeMessage(t, _m, e) }, writePackedFixed64: function (t, e) { e.length && this.writeMessage(t, ym, e) }, writePackedSFixed64: function (t, e) { e.length && this.writeMessage(t, xm, e) }, writeBytesField: function (t, e) { this.writeTag(t, rm.Bytes), this.writeBytes(e) }, writeFixed32Field: function (t, e) { this.writeTag(t, rm.Fixed32), this.writeFixed32(e) }, writeSFixed32Field: function (t, e) { this.writeTag(t, rm.Fixed32), this.writeSFixed32(e) }, writeFixed64Field: function (t, e) { this.writeTag(t, rm.Fixed64), this.writeFixed64(e) }, writeSFixed64Field: function (t, e) { this.writeTag(t, rm.Fixed64), this.writeSFixed64(e) }, writeVarintField: function (t, e) { this.writeTag(t, rm.Varint), this.writeVarint(e) }, writeSVarintField: function (t, e) { this.writeTag(t, rm.Varint), this.writeSVarint(e) }, writeStringField: function (t, e) { this.writeTag(t, rm.Bytes), this.writeString(e) }, writeFloatField: function (t, e) { this.writeTag(t, rm.Fixed32), this.writeFloat(e) }, writeDoubleField: function (t, e) { this.writeTag(t, rm.Fixed64), this.writeDouble(e) }, writeBooleanField: function (t, e) { this.writeVarintField(t, Boolean(e)) } }; class Em extends Jp { constructor(t) { super(), t = t || {}, this.dataProjection = new Ae({ code: "", units: "tile-pixels" }), this.featureClass_ = t.featureClass ? t.featureClass : Bp, this.geometryName_ = t.geometryName, this.layerName_ = t.layerName ? t.layerName : "layer", this.layers_ = t.layers ? t.layers : null, this.idProperty_ = t.idProperty, this.supportedMediaTypes = ["application/vnd.mapbox-vector-tile", "application/x-protobuf"] } readRawGeometry_(t, e, i, n) { t.pos = e.geometry; const r = t.readVarint() + t.pos; let s = 1, o = 0, a = 0, l = 0, h = 0, c = 0; for (; t.pos < r;) { if (!o) { const e = t.readVarint(); s = 7 & e, o = e >> 3 } o--, 1 === s || 2 === s ? (a += t.readSVarint(), l += t.readSVarint(), 1 === s && h > c && (n.push(h), c = h), i.push(a, l), h += 2) : 7 === s ? h > c && (i.push(i[c], i[c + 1]), h += 2) : at(!1, 59) } h > c && (n.push(h), c = h) } createFeature_(t, e, i) { const n = e.type; if (0 === n) return null; let r; const s = e.properties; let o; this.idProperty_ ? (o = s[this.idProperty_], delete s[this.idProperty_]) : o = e.id, s[this.layerName_] = e.layer.name; const a = [], l = []; this.readRawGeometry_(t, e, a, l); const h = function (t, e) { let i; 1 === t ? i = 1 === e ? "Point" : "MultiPoint" : 2 === t ? i = 1 === e ? "LineString" : "MultiLineString" : 3 === t && (i = "Polygon"); return i }(n, l.length); if (this.featureClass_ === Bp) r = new this.featureClass_(h, a, l, s, o), r.transform(i.dataProjection); else { let t; if ("Polygon" == h) { const e = cr(a, l); t = e.length > 1 ? new Gp(a, "XY", e) : new ur(a, "XY", l) } else t = "Point" === h ? new Wn(a, "XY") : "LineString" === h ? new Op(a, "XY") : "MultiPoint" === h ? new Dp(a, "XY") : "MultiLineString" === h ? new Np(a, "XY", l) : null; r = new (0, this.featureClass_), this.geometryName_ && r.setGeometryName(this.geometryName_); const e = Qp(t, !1, i); r.setGeometry(e), void 0 !== o && r.setId(o), r.setProperties(s, !0) } return r } getType() { return "arraybuffer" } readFeatures(t, e) { const i = this.layers_, n = Ui((e = this.adaptOptions(e)).dataProjection); n.setWorldExtent(e.extent), e.dataProjection = n; const r = new im(t), s = r.readFields(Tm, {}), o = []; for (const t in s) { if (i && !i.includes(t)) continue; const a = s[t], l = a ? [0, 0, a.extent, a.extent] : null; n.setExtent(l); for (let t = 0, i = a.length; t < i; ++t) { const i = Rm(r, a, t), n = this.createFeature_(r, i, e); null !== n && o.push(n) } } return o } readProjection(t) { return this.dataProjection } setLayers(t) { this.layers_ = t } } function Tm(t, e, i) { if (3 === t) { const t = { keys: [], values: [], features: [] }, n = i.readVarint() + i.pos; i.readFields(Cm, t, n), t.length = t.features.length, t.length && (e[t.name] = t) } } function Cm(t, e, i) { if (15 === t) e.version = i.readVarint(); else if (1 === t) e.name = i.readString(); else if (5 === t) e.extent = i.readVarint(); else if (2 === t) e.features.push(i.pos); else if (3 === t) e.keys.push(i.readString()); else if (4 === t) { let n = null; const r = i.readVarint() + i.pos; for (; i.pos < r;)n = 1 === (t = i.readVarint() >> 3) ? i.readString() : 2 === t ? i.readFloat() : 3 === t ? i.readDouble() : 4 === t ? i.readVarint64() : 5 === t ? i.readVarint() : 6 === t ? i.readSVarint() : 7 === t ? i.readBoolean() : null; e.values.push(n) } } function bm(t, e, i) { if (1 == t) e.id = i.readVarint(); else if (2 == t) { const t = i.readVarint() + i.pos; for (; i.pos < t;) { const t = e.layer.keys[i.readVarint()], n = e.layer.values[i.readVarint()]; e.properties[t] = n } } else 3 == t ? e.type = i.readVarint() : 4 == t && (e.geometry = i.pos) } function Rm(t, e, i) { t.pos = e.features[i]; const n = t.readVarint() + t.pos, r = { layer: e, type: 0, properties: {} }; return t.readFields(bm, r, n), r } class Pm extends Ig { constructor(t) { t = t || {}; const e = Object.assign({}, t); delete e.preload, delete e.useInterimTilesOnError, super(e), this.on, this.once, this.un; const i = t.renderMode || "hybrid"; at("hybrid" == i || "vector" == i, 28), this.renderMode_ = i, this.setPreload(t.preload ? t.preload : 0), this.setUseInterimTilesOnError(void 0 === t.useInterimTilesOnError || t.useInterimTilesOnError), this.getBackground, this.setBackground } createRenderer() { return new Rp(this) } getFeatures(t) { return super.getFeatures(t) } getRenderMode() { return this.renderMode_ } getPreload() { return this.get(Mc) } getUseInterimTilesOnError() { return this.get(Fc) } setPreload(t) { this.set(Mc, t) } setUseInterimTilesOnError(t) { this.set(Fc, t) } } class Im extends i { constructor(t) { super(w), this.error = t } } function Lm(t, e) { const i = `\n    attribute vec2 ${pd.TEXTURE_COORD};\n    uniform mat4 ${fd.TILE_TRANSFORM};\n    uniform float ${fd.TEXTURE_PIXEL_WIDTH};\n    uniform float ${fd.TEXTURE_PIXEL_HEIGHT};\n    uniform float ${fd.TEXTURE_RESOLUTION};\n    uniform float ${fd.TEXTURE_ORIGIN_X};\n    uniform float ${fd.TEXTURE_ORIGIN_Y};\n    uniform float ${fd.DEPTH};\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n\n    void main() {\n      v_textureCoord = ${pd.TEXTURE_COORD};\n      v_mapCoord = vec2(\n        ${fd.TEXTURE_ORIGIN_X} + ${fd.TEXTURE_RESOLUTION} * ${fd.TEXTURE_PIXEL_WIDTH} * v_textureCoord[0],\n        ${fd.TEXTURE_ORIGIN_Y} - ${fd.TEXTURE_RESOLUTION} * ${fd.TEXTURE_PIXEL_HEIGHT} * v_textureCoord[1]\n      );\n      gl_Position = ${fd.TILE_TRANSFORM} * vec4(${pd.TEXTURE_COORD}, ${fd.DEPTH}, 1.0);\n    }\n  `, n = { inFragmentShader: !0, variables: [], attributes: [], stringLiteralsMap: {}, functions: {}, bandCount: e }, r = []; if (void 0 !== t.color) { const e = Gd(n, t.color, Cd); r.push(`color = ${e};`) } if (void 0 !== t.contrast) { const e = Gd(n, t.contrast, Ed); r.push(`color.rgb = clamp((${e} + 1.0) * color.rgb - (${e} / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`) } if (void 0 !== t.exposure) { const e = Gd(n, t.exposure, Ed); r.push(`color.rgb = clamp((${e} + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`) } if (void 0 !== t.saturation) { const e = Gd(n, t.saturation, Ed); r.push(`\n      float saturation = ${e} + 1.0;\n      float sr = (1.0 - saturation) * 0.2126;\n      float sg = (1.0 - saturation) * 0.7152;\n      float sb = (1.0 - saturation) * 0.0722;\n      mat3 saturationMatrix = mat3(\n        sr + saturation, sr, sr,\n        sg, sg + saturation, sg,\n        sb, sb, sb + saturation\n      );\n      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));\n    `) } if (void 0 !== t.gamma) { const e = Gd(n, t.gamma, Ed); r.push(`color.rgb = pow(color.rgb, vec3(1.0 / ${e}));`) } if (void 0 !== t.brightness) { const e = Gd(n, t.brightness, Ed); r.push(`color.rgb = clamp(color.rgb + ${e}, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`) } const s = {}, o = n.variables.length; if (o > 1 && !t.variables) throw new Error(`Missing variables in style (expected ${n.variables})`); for (let e = 0; e < o; ++e) { const i = n.variables[e]; if (!(i in t.variables)) throw new Error(`Missing '${i}' in style variables`); s[Kd(i)] = function () { let e = t.variables[i]; return "string" == typeof e && (e = Dd(n, e)), void 0 !== e ? e : -9999999 } } const a = Object.keys(s).map((function (t) { return `uniform float ${t};` })), l = Math.ceil(e / 4); a.push(`uniform sampler2D ${fd.TILE_TEXTURE_ARRAY}[${l}];`), n.paletteTextures && a.push(`uniform sampler2D u_paletteTextures[${n.paletteTextures.length}];`); const h = Object.keys(n.functions).map((function (t) { return n.functions[t] })); return { vertexShader: i, fragmentShader: `\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n    uniform vec4 ${fd.RENDER_EXTENT};\n    uniform float ${fd.TRANSITION_ALPHA};\n    uniform float ${fd.TEXTURE_PIXEL_WIDTH};\n    uniform float ${fd.TEXTURE_PIXEL_HEIGHT};\n    uniform float ${fd.RESOLUTION};\n    uniform float ${fd.ZOOM};\n\n    ${a.join("\n")}\n\n    ${h.join("\n")}\n\n    void main() {\n      if (\n        v_mapCoord[0] < ${fd.RENDER_EXTENT}[0] ||\n        v_mapCoord[1] < ${fd.RENDER_EXTENT}[1] ||\n        v_mapCoord[0] > ${fd.RENDER_EXTENT}[2] ||\n        v_mapCoord[1] > ${fd.RENDER_EXTENT}[3]\n      ) {\n        discard;\n      }\n\n      vec4 color = texture2D(${fd.TILE_TEXTURE_ARRAY}[0],  v_textureCoord);\n\n      ${r.join("\n")}\n\n      if (color.a == 0.0) {\n        discard;\n      }\n\n      gl_FragColor = color;\n      gl_FragColor.rgb *= gl_FragColor.a;\n      gl_FragColor *= ${fd.TRANSITION_ALPHA};\n    }`, uniforms: s, paletteTextures: n.paletteTextures } } class Mm extends Ac { constructor(t) { const e = (t = t ? Object.assign({}, t) : {}).style || {}; delete t.style; const i = t.cacheSize; delete t.cacheSize, super(t), this.sources_ = t.sources, this.renderedSource_ = null, this.renderedResolution_ = NaN, this.style_ = e, this.cacheSize_ = i, this.styleVariables_ = this.style_.variables || {}, this.addChangeListener(ds, this.handleSourceUpdate_) } getSources(t, e) { const i = this.getSource(); return this.sources_ ? "function" == typeof this.sources_ ? this.sources_(t, e) : this.sources_ : i ? [i] : [] } getRenderSource() { return this.renderedSource_ || this.getSource() } getSourceState() { const t = this.getRenderSource(); return t ? t.getState() : "undefined" } handleSourceUpdate_() { this.hasRenderer() && this.getRenderer().clearCache(), this.getSource() && this.setStyle(this.style_) } getSourceBandCount_() { const t = Number.MAX_SAFE_INTEGER, e = this.getSources([-t, -t, t, t], t); return e && e.length && "bandCount" in e[0] ? e[0].bandCount : 4 } createRenderer() { const t = Lm(this.style_, this.getSourceBandCount_()); return new wd(this, { vertexShader: t.vertexShader, fragmentShader: t.fragmentShader, uniforms: t.uniforms, cacheSize: this.cacheSize_, paletteTextures: t.paletteTextures }) } renderSources(t, e) { const i = this.getRenderer(); let n; for (let r = 0, s = e.length; r < s; ++r)this.renderedSource_ = e[r], i.prepareFrame(t) && (n = i.renderFrame(t)); return n } render(t, e) { this.rendered = !0; const i = t.viewState, n = this.getSources(t.extent, i.resolution); let r = !0; for (let t = 0, e = n.length; t < e; ++t) { const e = n[t], i = e.getState(); if ("loading" == i) { const t = () => { "ready" == e.getState() && (e.removeEventListener("change", t), this.changed()) }; e.addEventListener("change", t) } r = r && "ready" == i } const s = this.renderSources(t, n); if (this.getRenderer().renderComplete && r) return this.renderedResolution_ = i.resolution, s; if (this.renderedResolution_ > .5 * i.resolution) { const e = this.getSources(t.extent, this.renderedResolution_).filter((t => !n.includes(t))); if (e.length > 0) return this.renderSources(t, e) } return s } setStyle(t) { this.styleVariables_ = t.variables || {}, this.style_ = t; const e = Lm(this.style_, this.getSourceBandCount_()); this.getRenderer().reset({ vertexShader: e.vertexShader, fragmentShader: e.fragmentShader, uniforms: e.uniforms, paletteTextures: e.paletteTextures }), this.changed() } updateStyleVariables(t) { Object.assign(this.styleVariables_, t), this.changed() } } Mm.prototype.dispose; const Fm = "addfeatures"; class Am extends i { constructor(t, e, i, n) { super(t), this.features = i, this.file = e, this.projection = n } } const Om = "drawstart", Nm = "drawend", Dm = "drawabort"; class km extends i { constructor(t, e) { super(t), this.feature = e } } function Gm(t, e) { return ri(t[0], t[1], e[0], e[1]) } function jm(t, e) { const i = t.length; return e < 0 ? t[e + i] : e >= i ? t[e - i] : t[e] } function Bm(t, e, i) { let n, r; e < i ? (n = e, r = i) : (n = i, r = e); const s = Math.ceil(n), o = Math.floor(r); if (s > o) { return Gm(Zm(t, n), Zm(t, r)) } let a = 0; if (n < s) { a += Gm(Zm(t, n), jm(t, s)) } if (o < r) { a += Gm(jm(t, o), Zm(t, r)) } for (let e = s; e < o - 1; ++e) { a += Gm(jm(t, e), jm(t, e + 1)) } return a } function Um(t, e, i) { if (e instanceof Op) Xm(t, e.getCoordinates(), !1, i); else if (e instanceof Np) { const n = e.getCoordinates(); for (let e = 0, r = n.length; e < r; ++e)Xm(t, n[e], !1, i) } else if (e instanceof ur) { const n = e.getCoordinates(); for (let e = 0, r = n.length; e < r; ++e)Xm(t, n[e], !0, i) } else if (e instanceof Gp) { const n = e.getCoordinates(); for (let e = 0, r = n.length; e < r; ++e) { const r = n[e]; for (let e = 0, n = r.length; e < n; ++e)Xm(t, r[e], !0, i) } } else if (e instanceof Ip) { const n = e.getGeometries(); for (let e = 0; e < n.length; ++e)Um(t, n[e], i) } else; } const zm = { index: -1, endIndex: NaN }; function Xm(t, e, i, n) { const r = t[0], s = t[1]; for (let t = 0, o = e.length - 1; t < o; ++t) { const o = Wm(r, s, e[t], e[t + 1]); if (0 === o.squaredDistance) { const r = t + o.along; return void n.push({ coordinates: e, ring: i, startIndex: r, endIndex: r }) } } } const Vm = { along: 0, squaredDistance: 0 }; function Wm(t, e, i, n) { const r = i[0], s = i[1], o = n[0] - r, a = n[1] - s; let l = 0, h = r, c = s; return 0 === o && 0 === a || (l = ii(((t - r) * o + (e - s) * a) / (o * o + a * a), 0, 1), h += o * l, c += a * l), Vm.along = l, Vm.squaredDistance = ci(ri(t, e, h, c), 10), Vm } function Zm(t, e) { const i = t.length; let n = Math.floor(e); const r = e - n; n >= i ? n -= i : n < 0 && (n += i); let s = n + 1; s >= i && (s -= i); const o = t[n], a = o[0], l = o[1], h = t[s]; return [a + (h[0] - a) * r, l + (h[1] - l) * r] } function Ym() { const t = fg(); return function (e, i) { return t[e.getGeometry().getType()] } } const Km = "extentchanged"; class qm extends i { constructor(t) { super(Km), this.extent = t } } function Hm() { const t = fg(); return function (e, i) { return t.Polygon } } function $m() { const t = fg(); return function (e, i) { return t.Point } } function Jm(t) { return function (e) { return zt([t, e]) } } function Qm(t, e) { return t[0] == e[0] ? function (i) { return zt([t, [i[0], e[1]]]) } : t[1] == e[1] ? function (i) { return zt([t, [e[0], i[1]]]) } : null } function t_(t) { return parseFloat(t) } function e_(t) { return function (t) { return ci(t, 5) }(t).toString() } function i_(t, e) { return !isNaN(t) && t !== t_(e_(e)) } const n_ = [0, 0, 0, 0], r_ = [], s_ = "modifystart", o_ = "modifyend"; class a_ extends i { constructor(t, e, i) { super(t), this.features = e, this.mapBrowserEvent = i } } function l_(t, e) { return t.index - e.index } function h_(t, e, i) { const n = e.geometry; if ("Circle" === n.getType()) { let r = n; if (1 === e.index) { const e = en(); e && (r = r.clone().transform(e, i)); const n = Ti(r.getCenter(), rn(t, i)), s = Math.sqrt(n) - r.getRadius(); return s * s } } const r = rn(t, i); return r_[0] = rn(e.segment[0], i), r_[1] = rn(e.segment[1], i), bi(r, r_) } function c_(t, e, i) { const n = e.geometry; if ("Circle" === n.getType() && 1 === e.index) { let e = n; const r = en(); return r && (e = e.clone().transform(r, i)), nn(e.getClosestPoint(rn(t, i)), i) } const r = rn(t, i); return r_[0] = rn(e.segment[0], i), r_[1] = rn(e.segment[1], i), nn(yi(r, r_), i) } function u_() { const t = fg(); return function (e, i) { return t.Point } } const d_ = "select"; class g_ extends i { constructor(t, e, i, n) { super(t), this.selected = e, this.deselected = i, this.mapBrowserEvent = n } } const f_ = {}; class p_ extends ea { constructor(t) { let e; if (super(), this.on, this.once, this.un, t = t || {}, this.boundAddFeature_ = this.addFeature_.bind(this), this.boundRemoveFeature_ = this.removeFeature_.bind(this), this.condition_ = t.condition ? t.condition : pa, this.addCondition_ = t.addCondition ? t.addCondition : fa, this.removeCondition_ = t.removeCondition ? t.removeCondition : fa, this.toggleCondition_ = t.toggleCondition ? t.toggleCondition : _a, this.multi_ = !!t.multi && t.multi, this.filter_ = t.filter ? t.filter : g, this.hitTolerance_ = t.hitTolerance ? t.hitTolerance : 0, this.style_ = void 0 !== t.style ? t.style : function () { const t = fg(); return c(t.Polygon, t.LineString), c(t.GeometryCollection, t.LineString), function (e) { return e.getGeometry() ? t[e.getGeometry().getType()] : null } }(), this.features_ = t.features || new q, t.layers) if ("function" == typeof t.layers) e = t.layers; else { const i = t.layers; e = function (t) { return i.includes(t) } } else e = g; this.layerFilter_ = e, this.featureLayerAssociation_ = {} } addFeatureLayerAssociation_(t, e) { this.featureLayerAssociation_[z(t)] = e } getFeatures() { return this.features_ } getHitTolerance() { return this.hitTolerance_ } getLayer(t) { return this.featureLayerAssociation_[z(t)] } setHitTolerance(t) { this.hitTolerance_ = t } setMap(t) { this.getMap() && this.style_ && this.features_.forEach(this.restorePreviousStyle_.bind(this)), super.setMap(t), t ? (this.features_.addEventListener(W, this.boundAddFeature_), this.features_.addEventListener(Z, this.boundRemoveFeature_), this.style_ && this.features_.forEach(this.applySelectedStyle_.bind(this))) : (this.features_.removeEventListener(W, this.boundAddFeature_), this.features_.removeEventListener(Z, this.boundRemoveFeature_)) } addFeature_(t) { const e = t.element; if (this.style_ && this.applySelectedStyle_(e), !this.getLayer(e)) { const t = this.getMap().getAllLayers().find((function (t) { if (t instanceof zp && t.getSource() && t.getSource().hasFeature(e)) return t })); t && this.addFeatureLayerAssociation_(e, t) } } removeFeature_(t) { this.style_ && this.restorePreviousStyle_(t.element) } getStyle() { return this.style_ } applySelectedStyle_(t) { const e = z(t); e in f_ || (f_[e] = t.getStyle()), t.setStyle(this.style_) } restorePreviousStyle_(t) { const e = this.getMap().getInteractions().getArray(); for (let i = e.length - 1; i >= 0; --i) { const n = e[i]; if (n !== this && n instanceof p_ && n.getStyle() && -1 !== n.getFeatures().getArray().lastIndexOf(t)) return void t.setStyle(n.getStyle()) } const i = z(t); t.setStyle(f_[i]), delete f_[i] } removeFeatureLayerAssociation_(t) { delete this.featureLayerAssociation_[z(t)] } handleEvent(t) { if (!this.condition_(t)) return !0; const e = this.addCondition_(t), i = this.removeCondition_(t), n = this.toggleCondition_(t), r = !e && !i && !n, s = t.map, o = this.getFeatures(), a = [], l = []; if (r) { y(this.featureLayerAssociation_), s.forEachFeatureAtPixel(t.pixel, function (t, e) { if (t instanceof lt && this.filter_(t, e)) return this.addFeatureLayerAssociation_(t, e), l.push(t), !this.multi_ }.bind(this), { layerFilter: this.layerFilter_, hitTolerance: this.hitTolerance_ }); for (let t = o.getLength() - 1; t >= 0; --t) { const e = o.item(t), i = l.indexOf(e); i > -1 ? l.splice(i, 1) : (o.remove(e), a.push(e)) } 0 !== l.length && o.extend(l) } else { s.forEachFeatureAtPixel(t.pixel, function (t, r) { if (t instanceof lt && this.filter_(t, r)) return !e && !n || o.getArray().includes(t) ? (i || n) && o.getArray().includes(t) && (a.push(t), this.removeFeatureLayerAssociation_(t)) : (this.addFeatureLayerAssociation_(t, r), l.push(t)), !this.multi_ }.bind(this), { layerFilter: this.layerFilter_, hitTolerance: this.hitTolerance_ }); for (let t = a.length - 1; t >= 0; --t)o.remove(a[t]); o.extend(l) } return (l.length > 0 || a.length > 0) && this.dispatchEvent(new g_(d_, l, a, t)), !0 } } function m_(t) { return t.feature ? t.feature : t.element ? t.element : void 0 } const __ = []; const y_ = "translatestart", x_ = "translating", v_ = "translateend"; class S_ extends i { constructor(t, e, i, n, r) { super(t), this.features = e, this.coordinate = i, this.startCoordinate = n, this.mapBrowserEvent = r } } function w_(t, e, i, n, r, s) { void 0 !== r ? s = void 0 !== s ? s : 0 : (r = [], s = 0); let o = e; for (; o < i;) { const e = t[o++]; r[s++] = t[o++], r[s++] = e; for (let e = 2; e < n; ++e)r[s++] = t[o++] } return r.length = s, r } class E_ extends Jp { constructor() { super() } getType() { return "json" } readFeature(t, e) { return this.readFeatureFromObject(T_(t), this.getReadOptions(t, e)) } readFeatures(t, e) { return this.readFeaturesFromObject(T_(t), this.getReadOptions(t, e)) } readFeatureFromObject(t, e) { return B() } readFeaturesFromObject(t, e) { return B() } readGeometry(t, e) { return this.readGeometryFromObject(T_(t), this.getReadOptions(t, e)) } readGeometryFromObject(t, e) { return B() } readProjection(t) { return this.readProjectionFromObject(T_(t)) } readProjectionFromObject(t) { return B() } writeFeature(t, e) { return JSON.stringify(this.writeFeatureObject(t, e)) } writeFeatureObject(t, e) { return B() } writeFeatures(t, e) { return JSON.stringify(this.writeFeaturesObject(t, e)) } writeFeaturesObject(t, e) { return B() } writeGeometry(t, e) { return JSON.stringify(this.writeGeometryObject(t, e)) } writeGeometryObject(t, e) { return B() } } function T_(t) { if ("string" == typeof t) { const e = JSON.parse(t); return e || null } return null !== t ? t : null } const C_ = { Point: function (t) { let e; e = void 0 !== t.m && void 0 !== t.z ? new Wn([t.x, t.y, t.z, t.m], "XYZM") : void 0 !== t.z ? new Wn([t.x, t.y, t.z], "XYZ") : void 0 !== t.m ? new Wn([t.x, t.y, t.m], "XYM") : new Wn([t.x, t.y]); return e }, LineString: function (t) { const e = P_(t); return new Op(t.paths[0], e) }, Polygon: function (t) { const e = P_(t); return new ur(t.rings, e) }, MultiPoint: function (t) { const e = P_(t); return new Dp(t.points, e) }, MultiLineString: function (t) { const e = P_(t); return new Np(t.paths, e) }, MultiPolygon: function (t) { const e = P_(t); return new Gp(t.rings, e) } }, b_ = { Point: function (t, e) { const i = t.getCoordinates(); let n; const r = t.getLayout(); "XYZ" === r ? n = { x: i[0], y: i[1], z: i[2] } : "XYM" === r ? n = { x: i[0], y: i[1], m: i[2] } : "XYZM" === r ? n = { x: i[0], y: i[1], z: i[2], m: i[3] } : "XY" === r ? n = { x: i[0], y: i[1] } : at(!1, 34); return n }, LineString: function (t, e) { const i = I_(t); return { hasZ: i.hasZ, hasM: i.hasM, paths: [t.getCoordinates()] } }, Polygon: function (t, e) { const i = I_(t); return { hasZ: i.hasZ, hasM: i.hasM, rings: t.getCoordinates(!1) } }, MultiPoint: function (t, e) { const i = I_(t); return { hasZ: i.hasZ, hasM: i.hasM, points: t.getCoordinates() } }, MultiLineString: function (t, e) { const i = I_(t); return { hasZ: i.hasZ, hasM: i.hasM, paths: t.getCoordinates() } }, MultiPolygon: function (t, e) { const i = I_(t), n = t.getCoordinates(!1), r = []; for (let t = 0; t < n.length; t++)for (let e = n[t].length - 1; e >= 0; e--)r.push(n[t][e]); return { hasZ: i.hasZ, hasM: i.hasM, rings: r } } }; function R_(t, e) { if (!t) return null; let i; if ("number" == typeof t.x && "number" == typeof t.y) i = "Point"; else if (t.points) i = "MultiPoint"; else if (t.paths) { i = 1 === t.paths.length ? "LineString" : "MultiLineString" } else if (t.rings) { const e = t, n = P_(e), r = function (t, e) { const i = [], n = [], r = []; let s, o; for (s = 0, o = t.length; s < o; ++s) { i.length = 0, Pn(i, 0, t[s], e.length); sr(i, 0, i.length, e.length) ? n.push([t[s]]) : r.push(t[s]) } for (; r.length;) { const t = r.shift(); let e = !1; for (s = n.length - 1; s >= 0; s--) { const i = n[s][0]; if (Yt(new Vn(i).getExtent(), new Vn(t).getExtent())) { n[s].push(t), e = !0; break } } e || n.push([t.reverse()]) } return n }(e.rings, n); 1 === r.length ? (i = "Polygon", t = Object.assign({}, t, { rings: r[0] })) : (i = "MultiPolygon", t = Object.assign({}, t, { rings: r })) } return Qp((0, C_[i])(t), !1, e) } function P_(t) { let e = "XY"; return !0 === t.hasZ && !0 === t.hasM ? e = "XYZM" : !0 === t.hasZ ? e = "XYZ" : !0 === t.hasM && (e = "XYM"), e } function I_(t) { const e = t.getLayout(); return { hasZ: "XYZ" === e || "XYZM" === e, hasM: "XYM" === e || "XYZM" === e } } function L_(t, e) { return (0, b_[t.getType()])(Qp(t, !0, e), e) } class M_ extends Jp { constructor() { super(), this.xmlSerializer_ = Nu() } getType() { return "xml" } readFeature(t, e) { if (t) { if ("string" == typeof t) { const i = _u(t); return this.readFeatureFromDocument(i, e) } return pu(t) ? this.readFeatureFromDocument(t, e) : this.readFeatureFromNode(t, e) } return null } readFeatureFromDocument(t, e) { const i = this.readFeaturesFromDocument(t, e); return i.length > 0 ? i[0] : null } readFeatureFromNode(t, e) { return null } readFeatures(t, e) { if (t) { if ("string" == typeof t) { const i = _u(t); return this.readFeaturesFromDocument(i, e) } return pu(t) ? this.readFeaturesFromDocument(t, e) : this.readFeaturesFromNode(t, e) } return [] } readFeaturesFromDocument(t, e) { const i = []; for (let n = t.firstChild; n; n = n.nextSibling)n.nodeType == Node.ELEMENT_NODE && c(i, this.readFeaturesFromNode(n, e)); return i } readFeaturesFromNode(t, e) { return B() } readGeometry(t, e) { if (t) { if ("string" == typeof t) { const i = _u(t); return this.readGeometryFromDocument(i, e) } return pu(t) ? this.readGeometryFromDocument(t, e) : this.readGeometryFromNode(t, e) } return null } readGeometryFromDocument(t, e) { return null } readGeometryFromNode(t, e) { return null } readProjection(t) { if (t) { if ("string" == typeof t) { const e = _u(t); return this.readProjectionFromDocument(e) } return pu(t) ? this.readProjectionFromDocument(t) : this.readProjectionFromNode(t) } return null } readProjectionFromDocument(t) { return this.dataProjection } readProjectionFromNode(t) { return this.dataProjection } writeFeature(t, e) { const i = this.writeFeatureNode(t, e); return this.xmlSerializer_.serializeToString(i) } writeFeatureNode(t, e) { return null } writeFeatures(t, e) { const i = this.writeFeaturesNode(t, e); return this.xmlSerializer_.serializeToString(i) } writeFeaturesNode(t, e) { return null } writeGeometry(t, e) { const i = this.writeGeometryNode(t, e); return this.xmlSerializer_.serializeToString(i) } writeGeometryNode(t, e) { return null } } const F_ = "http://www.opengis.net/gml", A_ = /^\s*$/; class O_ extends M_ { constructor(t) { super(), t = t || {}, this.featureType = t.featureType, this.featureNS = t.featureNS, this.srsName = t.srsName, this.schemaLocation = "", this.FEATURE_COLLECTION_PARSERS = {}, this.FEATURE_COLLECTION_PARSERS[this.namespace] = { featureMember: xu(this.readFeaturesInternal), featureMembers: vu(this.readFeaturesInternal) }, this.supportedMediaTypes = ["application/gml+xml"] } readFeaturesInternal(t, e) { const i = t.localName; let n = null; if ("FeatureCollection" == i) n = Lu([], this.FEATURE_COLLECTION_PARSERS, t, e, this); else if ("featureMembers" == i || "featureMember" == i || "member" == i) { const r = e[0]; let s = r.featureType, o = r.featureNS; const a = "p", l = "p0"; if (!s && t.childNodes) { s = [], o = {}; for (let e = 0, i = t.childNodes.length; e < i; ++e) { const i = t.childNodes[e]; if (1 === i.nodeType) { const t = i.nodeName.split(":").pop(); if (!s.includes(t)) { let e = "", n = 0; const r = i.namespaceURI; for (const t in o) { if (o[t] === r) { e = t; break } ++n } e || (e = a + n, o[e] = r), s.push(e + ":" + t) } } } "featureMember" != i && (r.featureType = s, r.featureNS = o) } if ("string" == typeof o) { const t = o; o = {}, o[l] = t } const h = {}, c = Array.isArray(s) ? s : [s]; for (const t in o) { const e = {}; for (let n = 0, r = c.length; n < r; ++n) { (c[n].includes(":") ? c[n].split(":")[0] : l) === t && (e[c[n].split(":").pop()] = "featureMembers" == i ? xu(this.readFeatureElement, this) : vu(this.readFeatureElement, this)) } h[o[t]] = e } n = Lu("featureMember" == i || "member" == i ? void 0 : [], h, t, e) } return null === n && (n = []), n } readGeometryOrExtent(t, e) { const i = e[0]; return i.srsName = t.firstElementChild.getAttribute("srsName"), i.srsDimension = t.firstElementChild.getAttribute("srsDimension"), Lu(null, this.GEOMETRY_PARSERS, t, e, this) } readExtentElement(t, e) { const i = e[0], n = this.readGeometryOrExtent(t, e); return n ? tm(n, i) : void 0 } readGeometryElement(t, e) { const i = e[0], n = this.readGeometryOrExtent(t, e); return n ? Qp(n, !1, i) : void 0 } readFeatureElementInternal(t, e, i) { let n; const r = {}; for (let s = t.firstElementChild; s; s = s.nextElementSibling) { let t; const o = s.localName; 0 === s.childNodes.length || 1 === s.childNodes.length && (3 === s.firstChild.nodeType || 4 === s.firstChild.nodeType) ? (t = gu(s, !1), A_.test(t) && (t = void 0)) : (i && (t = "boundedBy" === o ? this.readExtentElement(s, e) : this.readGeometryElement(s, e)), t ? "boundedBy" !== o && (n = o) : t = this.readFeatureElementInternal(s, e, !1)); const a = s.attributes.length; if (a > 0) { t = { _content_: t }; for (let e = 0; e < a; e++) { t[s.attributes[e].name] = s.attributes[e].value } } r[o] ? (r[o] instanceof Array || (r[o] = [r[o]]), r[o].push(t)) : r[o] = t } if (i) { const e = new lt(r); n && e.setGeometryName(n); const i = t.getAttribute("fid") || mu(t, this.namespace, "id"); return i && e.setId(i), e } return r } readFeatureElement(t, e) { return this.readFeatureElementInternal(t, e, !0) } readPoint(t, e) { const i = this.readFlatCoordinatesFromNode(t, e); if (i) return new Wn(i, "XYZ") } readMultiPoint(t, e) { const i = Lu([], this.MULTIPOINT_PARSERS, t, e, this); return i ? new Dp(i) : void 0 } readMultiLineString(t, e) { const i = Lu([], this.MULTILINESTRING_PARSERS, t, e, this); if (i) return new Np(i) } readMultiPolygon(t, e) { const i = Lu([], this.MULTIPOLYGON_PARSERS, t, e, this); if (i) return new Gp(i) } pointMemberParser(t, e) { Iu(this.POINTMEMBER_PARSERS, t, e, this) } lineStringMemberParser(t, e) { Iu(this.LINESTRINGMEMBER_PARSERS, t, e, this) } polygonMemberParser(t, e) { Iu(this.POLYGONMEMBER_PARSERS, t, e, this) } readLineString(t, e) { const i = this.readFlatCoordinatesFromNode(t, e); if (i) { return new Op(i, "XYZ") } } readFlatLinearRing(t, e) { const i = Lu(null, this.GEOMETRY_FLAT_COORDINATES_PARSERS, t, e, this); return i || void 0 } readLinearRing(t, e) { const i = this.readFlatCoordinatesFromNode(t, e); if (i) return new Vn(i, "XYZ") } readPolygon(t, e) { const i = Lu([null], this.FLAT_LINEAR_RINGS_PARSERS, t, e, this); if (i && i[0]) { const t = i[0], e = [t.length]; let n, r; for (n = 1, r = i.length; n < r; ++n)c(t, i[n]), e.push(t.length); return new ur(t, "XYZ", e) } } readFlatCoordinatesFromNode(t, e) { return Lu(null, this.GEOMETRY_FLAT_COORDINATES_PARSERS, t, e, this) } readGeometryFromNode(t, e) { const i = this.readGeometryElement(t, [this.getReadOptions(t, e || {})]); return i || null } readFeaturesFromNode(t, e) { const i = { featureType: this.featureType, featureNS: this.featureNS }; i && Object.assign(i, this.getReadOptions(t, e)); return this.readFeaturesInternal(t, [i]) || [] } readProjectionFromNode(t) { return Ui(this.srsName ? this.srsName : t.firstElementChild.getAttribute("srsName")) } } function N_(t) { return D_(gu(t, !1)) } function D_(t) { const e = /^\s*(true|1)|(false|0)\s*$/.exec(t); return e ? void 0 !== e[1] || !1 : void 0 } function k_(t) { const e = gu(t, !1), i = Date.parse(e); return isNaN(i) ? void 0 : i / 1e3 } function G_(t) { return j_(gu(t, !1)) } function j_(t) { const e = /^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t); return e ? parseFloat(e[1]) : void 0 } function B_(t) { return U_(gu(t, !1)) } function U_(t) { const e = /^\s*(\d+)\s*$/.exec(t); return e ? parseInt(e[1], 10) : void 0 } function z_(t) { return gu(t, !1).trim() } function X_(t, e) { K_(t, e ? "1" : "0") } function V_(t, e) { t.appendChild(Du().createCDATASection(e)) } function W_(t, e) { const i = new Date(1e3 * e), n = i.getUTCFullYear() + "-" + fi(i.getUTCMonth() + 1, 2) + "-" + fi(i.getUTCDate(), 2) + "T" + fi(i.getUTCHours(), 2) + ":" + fi(i.getUTCMinutes(), 2) + ":" + fi(i.getUTCSeconds(), 2) + "Z"; t.appendChild(Du().createTextNode(n)) } function Z_(t, e) { const i = e.toPrecision(); t.appendChild(Du().createTextNode(i)) } function Y_(t, e) { const i = e.toString(); t.appendChild(Du().createTextNode(i)) } function K_(t, e) { t.appendChild(Du().createTextNode(e)) } O_.prototype.namespace = F_, O_.prototype.FLAT_LINEAR_RINGS_PARSERS = { "http://www.opengis.net/gml": {} }, O_.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS = { "http://www.opengis.net/gml": {} }, O_.prototype.GEOMETRY_PARSERS = { "http://www.opengis.net/gml": {} }, O_.prototype.MULTIPOINT_PARSERS = { "http://www.opengis.net/gml": { pointMember: xu(O_.prototype.pointMemberParser), pointMembers: xu(O_.prototype.pointMemberParser) } }, O_.prototype.MULTILINESTRING_PARSERS = { "http://www.opengis.net/gml": { lineStringMember: xu(O_.prototype.lineStringMemberParser), lineStringMembers: xu(O_.prototype.lineStringMemberParser) } }, O_.prototype.MULTIPOLYGON_PARSERS = { "http://www.opengis.net/gml": { polygonMember: xu(O_.prototype.polygonMemberParser), polygonMembers: xu(O_.prototype.polygonMemberParser) } }, O_.prototype.POINTMEMBER_PARSERS = { "http://www.opengis.net/gml": { Point: xu(O_.prototype.readFlatCoordinatesFromNode) } }, O_.prototype.LINESTRINGMEMBER_PARSERS = { "http://www.opengis.net/gml": { LineString: xu(O_.prototype.readLineString) } }, O_.prototype.POLYGONMEMBER_PARSERS = { "http://www.opengis.net/gml": { Polygon: xu(O_.prototype.readPolygon) } }, O_.prototype.RING_PARSERS = { "http://www.opengis.net/gml": { LinearRing: vu(O_.prototype.readFlatLinearRing) } }; const q_ = { MultiLineString: "lineStringMember", MultiCurve: "curveMember", MultiPolygon: "polygonMember", MultiSurface: "surfaceMember" }; class H_ extends O_ { constructor(t) { super(t = t || {}), this.FEATURE_COLLECTION_PARSERS[F_].featureMember = xu(this.readFeaturesInternal), this.schemaLocation = t.schemaLocation ? t.schemaLocation : "http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd" } readFlatCoordinates(t, e) { const i = gu(t, !1).replace(/^\s*|\s*$/g, ""), n = e[0].srsName; let r = "enu"; if (n) { const t = Ui(n); t && (r = t.getAxisOrientation()) } const s = i.trim().split(/\s+/), o = []; for (let t = 0, e = s.length; t < e; t++) { const e = s[t].split(/,+/), i = parseFloat(e[0]), n = parseFloat(e[1]), a = 3 === e.length ? parseFloat(e[2]) : 0; "en" === r.substr(0, 2) ? o.push(i, n, a) : o.push(n, i, a) } return o } readBox(t, e) { const i = Lu([null], this.BOX_PARSERS_, t, e, this); return $t(i[1][0], i[1][1], i[1][3], i[1][4]) } innerBoundaryIsParser(t, e) { const i = Lu(void 0, this.RING_PARSERS, t, e, this); if (i) { e[e.length - 1].push(i) } } outerBoundaryIsParser(t, e) { const i = Lu(void 0, this.RING_PARSERS, t, e, this); if (i) { e[e.length - 1][0] = i } } GEOMETRY_NODE_FACTORY_(t, e, i) { const n = e[e.length - 1], r = n.multiSurface, s = n.surface, o = n.multiCurve; return Array.isArray(t) ? i = "Envelope" : "MultiPolygon" === (i = t.getType()) && !0 === r ? i = "MultiSurface" : "Polygon" === i && !0 === s ? i = "Surface" : "MultiLineString" === i && !0 === o && (i = "MultiCurve"), du("http://www.opengis.net/gml", i) } writeFeatureElement(t, e, i) { const n = e.getId(); n && t.setAttribute("fid", n); const r = i[i.length - 1], s = r.featureNS, o = e.getGeometryName(); r.serializers || (r.serializers = {}, r.serializers[s] = {}); const a = [], l = []; if (e.hasProperties()) { const t = e.getProperties(); for (const e in t) { const i = t[e]; null !== i && (a.push(e), l.push(i), e == o || "function" == typeof i.getSimplifiedGeometry ? e in r.serializers[s] || (r.serializers[s][e] = Eu(this.writeGeometryElement, this)) : e in r.serializers[s] || (r.serializers[s][e] = Eu(K_))) } } const h = Object.assign({}, r); h.node = t, Fu(h, r.serializers, Cu(void 0, s), l, i, a) } writeCurveOrLineString(t, e, i) { const n = i[i.length - 1].srsName; if ("LineStringSegment" !== t.nodeName && n && t.setAttribute("srsName", n), "LineString" === t.nodeName || "LineStringSegment" === t.nodeName) { const n = this.createCoordinatesNode_(t.namespaceURI); t.appendChild(n), this.writeCoordinates_(n, e, i) } else if ("Curve" === t.nodeName) { const n = du(t.namespaceURI, "segments"); t.appendChild(n), this.writeCurveSegments_(n, e, i) } } writeLineStringOrCurveMember(t, e, i) { const n = this.GEOMETRY_NODE_FACTORY_(e, i); n && (t.appendChild(n), this.writeCurveOrLineString(n, e, i)) } writeMultiCurveOrLineString(t, e, i) { const n = i[i.length - 1], r = n.hasZ, s = n.srsName, o = n.curve; s && t.setAttribute("srsName", s); const a = e.getLineStrings(); Fu({ node: t, hasZ: r, srsName: s, curve: o }, this.LINESTRINGORCURVEMEMBER_SERIALIZERS, this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_, a, i, void 0, this) } writeGeometryElement(t, e, i) { const n = i[i.length - 1], r = Object.assign({}, n); let s; r.node = t, s = Array.isArray(e) ? tm(e, n) : Qp(e, !0, n), Fu(r, this.GEOMETRY_SERIALIZERS, this.GEOMETRY_NODE_FACTORY_, [s], i, void 0, this) } createCoordinatesNode_(t) { const e = du(t, "coordinates"); return e.setAttribute("decimal", "."), e.setAttribute("cs", ","), e.setAttribute("ts", " "), e } writeCoordinates_(t, e, i) { const n = i[i.length - 1], r = n.hasZ, s = n.srsName, o = e.getCoordinates(), a = o.length, l = new Array(a); for (let t = 0; t < a; ++t) { const e = o[t]; l[t] = this.getCoords_(e, s, r) } K_(t, l.join(" ")) } writeCurveSegments_(t, e, i) { const n = du(t.namespaceURI, "LineStringSegment"); t.appendChild(n), this.writeCurveOrLineString(n, e, i) } writeSurfaceOrPolygon(t, e, i) { const n = i[i.length - 1], r = n.hasZ, s = n.srsName; if ("PolygonPatch" !== t.nodeName && s && t.setAttribute("srsName", s), "Polygon" === t.nodeName || "PolygonPatch" === t.nodeName) { const n = e.getLinearRings(); Fu({ node: t, hasZ: r, srsName: s }, this.RING_SERIALIZERS, this.RING_NODE_FACTORY_, n, i, void 0, this) } else if ("Surface" === t.nodeName) { const n = du(t.namespaceURI, "patches"); t.appendChild(n), this.writeSurfacePatches_(n, e, i) } } RING_NODE_FACTORY_(t, e, i) { const n = e[e.length - 1], r = n.node, s = n.exteriorWritten; return void 0 === s && (n.exteriorWritten = !0), du(r.namespaceURI, void 0 !== s ? "innerBoundaryIs" : "outerBoundaryIs") } writeSurfacePatches_(t, e, i) { const n = du(t.namespaceURI, "PolygonPatch"); t.appendChild(n), this.writeSurfaceOrPolygon(n, e, i) } writeRing(t, e, i) { const n = du(t.namespaceURI, "LinearRing"); t.appendChild(n), this.writeLinearRing(n, e, i) } getCoords_(t, e, i) { let n = "enu"; e && (n = Ui(e).getAxisOrientation()); let r = "en" === n.substr(0, 2) ? t[0] + "," + t[1] : t[1] + "," + t[0]; if (i) { r += "," + (t[2] || 0) } return r } writePoint(t, e, i) { const n = i[i.length - 1], r = n.hasZ, s = n.srsName; s && t.setAttribute("srsName", s); const o = this.createCoordinatesNode_(t.namespaceURI); t.appendChild(o); const a = e.getCoordinates(); K_(o, this.getCoords_(a, s, r)) } writeMultiPoint(t, e, i) { const n = i[i.length - 1], r = n.hasZ, s = n.srsName; s && t.setAttribute("srsName", s); const o = e.getPoints(); Fu({ node: t, hasZ: r, srsName: s }, this.POINTMEMBER_SERIALIZERS, Cu("pointMember"), o, i, void 0, this) } writePointMember(t, e, i) { const n = du(t.namespaceURI, "Point"); t.appendChild(n), this.writePoint(n, e, i) } writeLinearRing(t, e, i) { const n = i[i.length - 1].srsName; n && t.setAttribute("srsName", n); const r = this.createCoordinatesNode_(t.namespaceURI); t.appendChild(r), this.writeCoordinates_(r, e, i) } writeMultiSurfaceOrPolygon(t, e, i) { const n = i[i.length - 1], r = n.hasZ, s = n.srsName, o = n.surface; s && t.setAttribute("srsName", s); const a = e.getPolygons(); Fu({ node: t, hasZ: r, srsName: s, surface: o }, this.SURFACEORPOLYGONMEMBER_SERIALIZERS, this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_, a, i, void 0, this) } writeSurfaceOrPolygonMember(t, e, i) { const n = this.GEOMETRY_NODE_FACTORY_(e, i); n && (t.appendChild(n), this.writeSurfaceOrPolygon(n, e, i)) } writeEnvelope(t, e, i) { const n = i[i.length - 1].srsName; n && t.setAttribute("srsName", n); const r = [e[0] + " " + e[1], e[2] + " " + e[3]]; Fu({ node: t }, this.ENVELOPE_SERIALIZERS, bu, r, i, ["lowerCorner", "upperCorner"], this) } MULTIGEOMETRY_MEMBER_NODE_FACTORY_(t, e, i) { const n = e[e.length - 1].node; return du("http://www.opengis.net/gml", q_[n.nodeName]) } } H_.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS = { "http://www.opengis.net/gml": { coordinates: vu(H_.prototype.readFlatCoordinates) } }, H_.prototype.FLAT_LINEAR_RINGS_PARSERS = { "http://www.opengis.net/gml": { innerBoundaryIs: H_.prototype.innerBoundaryIsParser, outerBoundaryIs: H_.prototype.outerBoundaryIsParser } }, H_.prototype.BOX_PARSERS_ = { "http://www.opengis.net/gml": { coordinates: xu(H_.prototype.readFlatCoordinates) } }, H_.prototype.GEOMETRY_PARSERS = { "http://www.opengis.net/gml": { Point: vu(O_.prototype.readPoint), MultiPoint: vu(O_.prototype.readMultiPoint), LineString: vu(O_.prototype.readLineString), MultiLineString: vu(O_.prototype.readMultiLineString), LinearRing: vu(O_.prototype.readLinearRing), Polygon: vu(O_.prototype.readPolygon), MultiPolygon: vu(O_.prototype.readMultiPolygon), Box: vu(H_.prototype.readBox) } }, H_.prototype.GEOMETRY_SERIALIZERS = { "http://www.opengis.net/gml": { Curve: Eu(H_.prototype.writeCurveOrLineString), MultiCurve: Eu(H_.prototype.writeMultiCurveOrLineString), Point: Eu(H_.prototype.writePoint), MultiPoint: Eu(H_.prototype.writeMultiPoint), LineString: Eu(H_.prototype.writeCurveOrLineString), MultiLineString: Eu(H_.prototype.writeMultiCurveOrLineString), LinearRing: Eu(H_.prototype.writeLinearRing), Polygon: Eu(H_.prototype.writeSurfaceOrPolygon), MultiPolygon: Eu(H_.prototype.writeMultiSurfaceOrPolygon), Surface: Eu(H_.prototype.writeSurfaceOrPolygon), MultiSurface: Eu(H_.prototype.writeMultiSurfaceOrPolygon), Envelope: Eu(H_.prototype.writeEnvelope) } }, H_.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS = { "http://www.opengis.net/gml": { lineStringMember: Eu(H_.prototype.writeLineStringOrCurveMember), curveMember: Eu(H_.prototype.writeLineStringOrCurveMember) } }, H_.prototype.RING_SERIALIZERS = { "http://www.opengis.net/gml": { outerBoundaryIs: Eu(H_.prototype.writeRing), innerBoundaryIs: Eu(H_.prototype.writeRing) } }, H_.prototype.POINTMEMBER_SERIALIZERS = { "http://www.opengis.net/gml": { pointMember: Eu(H_.prototype.writePointMember) } }, H_.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS = { "http://www.opengis.net/gml": { surfaceMember: Eu(H_.prototype.writeSurfaceOrPolygonMember), polygonMember: Eu(H_.prototype.writeSurfaceOrPolygonMember) } }, H_.prototype.ENVELOPE_SERIALIZERS = { "http://www.opengis.net/gml": { lowerCorner: Eu(K_), upperCorner: Eu(K_) } }; const $_ = { MultiLineString: "lineStringMember", MultiCurve: "curveMember", MultiPolygon: "polygonMember", MultiSurface: "surfaceMember" }; class J_ extends O_ { constructor(t) { super(t = t || {}), this.surface_ = void 0 !== t.surface && t.surface, this.curve_ = void 0 !== t.curve && t.curve, this.multiCurve_ = void 0 === t.multiCurve || t.multiCurve, this.multiSurface_ = void 0 === t.multiSurface || t.multiSurface, this.schemaLocation = t.schemaLocation ? t.schemaLocation : "http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd", this.hasZ = void 0 !== t.hasZ && t.hasZ } readMultiCurve(t, e) { const i = Lu([], this.MULTICURVE_PARSERS, t, e, this); if (i) { return new Np(i) } } readFlatCurveRing(t, e) { const i = Lu([], this.MULTICURVE_PARSERS, t, e, this), n = []; for (let t = 0, e = i.length; t < e; ++t)c(n, i[t].getFlatCoordinates()); return n } readMultiSurface(t, e) { const i = Lu([], this.MULTISURFACE_PARSERS, t, e, this); if (i) return new Gp(i) } curveMemberParser(t, e) { Iu(this.CURVEMEMBER_PARSERS, t, e, this) } surfaceMemberParser(t, e) { Iu(this.SURFACEMEMBER_PARSERS, t, e, this) } readPatch(t, e) { return Lu([null], this.PATCHES_PARSERS, t, e, this) } readSegment(t, e) { return Lu([], this.SEGMENTS_PARSERS, t, e, this) } readPolygonPatch(t, e) { return Lu([null], this.FLAT_LINEAR_RINGS_PARSERS, t, e, this) } readLineStringSegment(t, e) { return Lu([null], this.GEOMETRY_FLAT_COORDINATES_PARSERS, t, e, this) } interiorParser(t, e) { const i = Lu(void 0, this.RING_PARSERS, t, e, this); if (i) { e[e.length - 1].push(i) } } exteriorParser(t, e) { const i = Lu(void 0, this.RING_PARSERS, t, e, this); if (i) { e[e.length - 1][0] = i } } readSurface(t, e) { const i = Lu([null], this.SURFACE_PARSERS, t, e, this); if (i && i[0]) { const t = i[0], e = [t.length]; let n, r; for (n = 1, r = i.length; n < r; ++n)c(t, i[n]), e.push(t.length); return new ur(t, "XYZ", e) } } readCurve(t, e) { const i = Lu([null], this.CURVE_PARSERS, t, e, this); if (i) { return new Op(i, "XYZ") } } readEnvelope(t, e) { const i = Lu([null], this.ENVELOPE_PARSERS, t, e, this); return $t(i[1][0], i[1][1], i[2][0], i[2][1]) } readFlatPos(t, e) { let i = gu(t, !1); const n = /^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/, r = []; let s; for (; s = n.exec(i);)r.push(parseFloat(s[1])), i = i.substr(s[0].length); if ("" !== i) return; const o = e[0].srsName; let a = "enu"; if (o) { a = Ui(o).getAxisOrientation() } if ("neu" === a) { let t, e; for (t = 0, e = r.length; t < e; t += 3) { const e = r[t], i = r[t + 1]; r[t] = i, r[t + 1] = e } } const l = r.length; return 2 == l && r.push(0), 0 !== l ? r : void 0 } readFlatPosList(t, e) { const i = gu(t, !1).replace(/^\s*|\s*$/g, ""), n = e[0], r = n.srsName, s = n.srsDimension; let o = "enu"; if (r) { o = Ui(r).getAxisOrientation() } const a = i.split(/\s+/); let l, h, c, u = 2; t.getAttribute("srsDimension") ? u = U_(t.getAttribute("srsDimension")) : t.getAttribute("dimension") ? u = U_(t.getAttribute("dimension")) : t.parentNode.getAttribute("srsDimension") ? u = U_(t.parentNode.getAttribute("srsDimension")) : s && (u = U_(s)); const d = []; for (let t = 0, e = a.length; t < e; t += u)l = parseFloat(a[t]), h = parseFloat(a[t + 1]), c = 3 === u ? parseFloat(a[t + 2]) : 0, "en" === o.substr(0, 2) ? d.push(l, h, c) : d.push(h, l, c); return d } writePos_(t, e, i) { const n = i[i.length - 1], r = n.hasZ, s = r ? "3" : "2"; t.setAttribute("srsDimension", s); const o = n.srsName; let a = "enu"; o && (a = Ui(o).getAxisOrientation()); const l = e.getCoordinates(); let h; if (h = "en" === a.substr(0, 2) ? l[0] + " " + l[1] : l[1] + " " + l[0], r) { h += " " + (l[2] || 0) } K_(t, h) } getCoords_(t, e, i) { let n = "enu"; e && (n = Ui(e).getAxisOrientation()); let r = "en" === n.substr(0, 2) ? t[0] + " " + t[1] : t[1] + " " + t[0]; if (i) { r += " " + (t[2] || 0) } return r } writePosList_(t, e, i) { const n = i[i.length - 1], r = n.hasZ, s = r ? "3" : "2"; t.setAttribute("srsDimension", s); const o = n.srsName, a = e.getCoordinates(), l = a.length, h = new Array(l); let c; for (let t = 0; t < l; ++t)c = a[t], h[t] = this.getCoords_(c, o, r); K_(t, h.join(" ")) } writePoint(t, e, i) { const n = i[i.length - 1].srsName; n && t.setAttribute("srsName", n); const r = du(t.namespaceURI, "pos"); t.appendChild(r), this.writePos_(r, e, i) } writeEnvelope(t, e, i) { const n = i[i.length - 1].srsName; n && t.setAttribute("srsName", n); const r = [e[0] + " " + e[1], e[2] + " " + e[3]]; Fu({ node: t }, this.ENVELOPE_SERIALIZERS, bu, r, i, ["lowerCorner", "upperCorner"], this) } writeLinearRing(t, e, i) { const n = i[i.length - 1].srsName; n && t.setAttribute("srsName", n); const r = du(t.namespaceURI, "posList"); t.appendChild(r), this.writePosList_(r, e, i) } RING_NODE_FACTORY_(t, e, i) { const n = e[e.length - 1], r = n.node, s = n.exteriorWritten; return void 0 === s && (n.exteriorWritten = !0), du(r.namespaceURI, void 0 !== s ? "interior" : "exterior") } writeSurfaceOrPolygon(t, e, i) { const n = i[i.length - 1], r = n.hasZ, s = n.srsName; if ("PolygonPatch" !== t.nodeName && s && t.setAttribute("srsName", s), "Polygon" === t.nodeName || "PolygonPatch" === t.nodeName) { const n = e.getLinearRings(); Fu({ node: t, hasZ: r, srsName: s }, this.RING_SERIALIZERS, this.RING_NODE_FACTORY_, n, i, void 0, this) } else if ("Surface" === t.nodeName) { const n = du(t.namespaceURI, "patches"); t.appendChild(n), this.writeSurfacePatches_(n, e, i) } } writeCurveOrLineString(t, e, i) { const n = i[i.length - 1].srsName; if ("LineStringSegment" !== t.nodeName && n && t.setAttribute("srsName", n), "LineString" === t.nodeName || "LineStringSegment" === t.nodeName) { const n = du(t.namespaceURI, "posList"); t.appendChild(n), this.writePosList_(n, e, i) } else if ("Curve" === t.nodeName) { const n = du(t.namespaceURI, "segments"); t.appendChild(n), this.writeCurveSegments_(n, e, i) } } writeMultiSurfaceOrPolygon(t, e, i) { const n = i[i.length - 1], r = n.hasZ, s = n.srsName, o = n.surface; s && t.setAttribute("srsName", s); const a = e.getPolygons(); Fu({ node: t, hasZ: r, srsName: s, surface: o }, this.SURFACEORPOLYGONMEMBER_SERIALIZERS, this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_, a, i, void 0, this) } writeMultiPoint(t, e, i) { const n = i[i.length - 1], r = n.srsName, s = n.hasZ; r && t.setAttribute("srsName", r); const o = e.getPoints(); Fu({ node: t, hasZ: s, srsName: r }, this.POINTMEMBER_SERIALIZERS, Cu("pointMember"), o, i, void 0, this) } writeMultiCurveOrLineString(t, e, i) { const n = i[i.length - 1], r = n.hasZ, s = n.srsName, o = n.curve; s && t.setAttribute("srsName", s); const a = e.getLineStrings(); Fu({ node: t, hasZ: r, srsName: s, curve: o }, this.LINESTRINGORCURVEMEMBER_SERIALIZERS, this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_, a, i, void 0, this) } writeRing(t, e, i) { const n = du(t.namespaceURI, "LinearRing"); t.appendChild(n), this.writeLinearRing(n, e, i) } writeSurfaceOrPolygonMember(t, e, i) { const n = this.GEOMETRY_NODE_FACTORY_(e, i); n && (t.appendChild(n), this.writeSurfaceOrPolygon(n, e, i)) } writePointMember(t, e, i) { const n = du(t.namespaceURI, "Point"); t.appendChild(n), this.writePoint(n, e, i) } writeLineStringOrCurveMember(t, e, i) { const n = this.GEOMETRY_NODE_FACTORY_(e, i); n && (t.appendChild(n), this.writeCurveOrLineString(n, e, i)) } writeSurfacePatches_(t, e, i) { const n = du(t.namespaceURI, "PolygonPatch"); t.appendChild(n), this.writeSurfaceOrPolygon(n, e, i) } writeCurveSegments_(t, e, i) { const n = du(t.namespaceURI, "LineStringSegment"); t.appendChild(n), this.writeCurveOrLineString(n, e, i) } writeGeometryElement(t, e, i) { const n = i[i.length - 1], r = Object.assign({}, n); let s; r.node = t, s = Array.isArray(e) ? tm(e, n) : Qp(e, !0, n), Fu(r, this.GEOMETRY_SERIALIZERS, this.GEOMETRY_NODE_FACTORY_, [s], i, void 0, this) } writeFeatureElement(t, e, i) { const n = e.getId(); n && t.setAttribute("fid", n); const r = i[i.length - 1], s = r.featureNS, o = e.getGeometryName(); r.serializers || (r.serializers = {}, r.serializers[s] = {}); const a = [], l = []; if (e.hasProperties()) { const t = e.getProperties(); for (const e in t) { const i = t[e]; null !== i && (a.push(e), l.push(i), e == o || "function" == typeof i.getSimplifiedGeometry ? e in r.serializers[s] || (r.serializers[s][e] = Eu(this.writeGeometryElement, this)) : e in r.serializers[s] || (r.serializers[s][e] = Eu(K_))) } } const h = Object.assign({}, r); h.node = t, Fu(h, r.serializers, Cu(void 0, s), l, i, a) } writeFeatureMembers_(t, e, i) { const n = i[i.length - 1], r = n.featureType, s = n.featureNS, o = {}; o[s] = {}, o[s][r] = Eu(this.writeFeatureElement, this); const a = Object.assign({}, n); a.node = t, Fu(a, o, Cu(r, s), e, i) } MULTIGEOMETRY_MEMBER_NODE_FACTORY_(t, e, i) { const n = e[e.length - 1].node; return du(this.namespace, $_[n.nodeName]) } GEOMETRY_NODE_FACTORY_(t, e, i) { const n = e[e.length - 1], r = n.multiSurface, s = n.surface, o = n.curve, a = n.multiCurve; return Array.isArray(t) ? i = "Envelope" : "MultiPolygon" === (i = t.getType()) && !0 === r ? i = "MultiSurface" : "Polygon" === i && !0 === s ? i = "Surface" : "LineString" === i && !0 === o ? i = "Curve" : "MultiLineString" === i && !0 === a && (i = "MultiCurve"), du(this.namespace, i) } writeGeometryNode(t, e) { e = this.adaptOptions(e); const i = du(this.namespace, "geom"), n = { node: i, hasZ: this.hasZ, srsName: this.srsName, curve: this.curve_, surface: this.surface_, multiSurface: this.multiSurface_, multiCurve: this.multiCurve_ }; return e && Object.assign(n, e), this.writeGeometryElement(i, t, [n]), i } writeFeaturesNode(t, e) { e = this.adaptOptions(e); const i = du(this.namespace, "featureMembers"); i.setAttributeNS(uu, "xsi:schemaLocation", this.schemaLocation); const n = { srsName: this.srsName, hasZ: this.hasZ, curve: this.curve_, surface: this.surface_, multiSurface: this.multiSurface_, multiCurve: this.multiCurve_, featureNS: this.featureNS, featureType: this.featureType }; return e && Object.assign(n, e), this.writeFeatureMembers_(i, t, [n]), i } } J_.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS = { "http://www.opengis.net/gml": { pos: vu(J_.prototype.readFlatPos), posList: vu(J_.prototype.readFlatPosList), coordinates: vu(H_.prototype.readFlatCoordinates) } }, J_.prototype.FLAT_LINEAR_RINGS_PARSERS = { "http://www.opengis.net/gml": { interior: J_.prototype.interiorParser, exterior: J_.prototype.exteriorParser } }, J_.prototype.GEOMETRY_PARSERS = { "http://www.opengis.net/gml": { Point: vu(O_.prototype.readPoint), MultiPoint: vu(O_.prototype.readMultiPoint), LineString: vu(O_.prototype.readLineString), MultiLineString: vu(O_.prototype.readMultiLineString), LinearRing: vu(O_.prototype.readLinearRing), Polygon: vu(O_.prototype.readPolygon), MultiPolygon: vu(O_.prototype.readMultiPolygon), Surface: vu(J_.prototype.readSurface), MultiSurface: vu(J_.prototype.readMultiSurface), Curve: vu(J_.prototype.readCurve), MultiCurve: vu(J_.prototype.readMultiCurve), Envelope: vu(J_.prototype.readEnvelope) } }, J_.prototype.MULTICURVE_PARSERS = { "http://www.opengis.net/gml": { curveMember: xu(J_.prototype.curveMemberParser), curveMembers: xu(J_.prototype.curveMemberParser) } }, J_.prototype.MULTISURFACE_PARSERS = { "http://www.opengis.net/gml": { surfaceMember: xu(J_.prototype.surfaceMemberParser), surfaceMembers: xu(J_.prototype.surfaceMemberParser) } }, J_.prototype.CURVEMEMBER_PARSERS = { "http://www.opengis.net/gml": { LineString: xu(O_.prototype.readLineString), Curve: xu(J_.prototype.readCurve) } }, J_.prototype.SURFACEMEMBER_PARSERS = { "http://www.opengis.net/gml": { Polygon: xu(O_.prototype.readPolygon), Surface: xu(J_.prototype.readSurface) } }, J_.prototype.SURFACE_PARSERS = { "http://www.opengis.net/gml": { patches: vu(J_.prototype.readPatch) } }, J_.prototype.CURVE_PARSERS = { "http://www.opengis.net/gml": { segments: vu(J_.prototype.readSegment) } }, J_.prototype.ENVELOPE_PARSERS = { "http://www.opengis.net/gml": { lowerCorner: xu(J_.prototype.readFlatPosList), upperCorner: xu(J_.prototype.readFlatPosList) } }, J_.prototype.PATCHES_PARSERS = { "http://www.opengis.net/gml": { PolygonPatch: vu(J_.prototype.readPolygonPatch) } }, J_.prototype.SEGMENTS_PARSERS = { "http://www.opengis.net/gml": { LineStringSegment: yu(J_.prototype.readLineStringSegment) } }, O_.prototype.RING_PARSERS = { "http://www.opengis.net/gml": { LinearRing: vu(O_.prototype.readFlatLinearRing), Ring: vu(J_.prototype.readFlatCurveRing) } }, J_.prototype.writeFeatures, J_.prototype.RING_SERIALIZERS = { "http://www.opengis.net/gml": { exterior: Eu(J_.prototype.writeRing), interior: Eu(J_.prototype.writeRing) } }, J_.prototype.ENVELOPE_SERIALIZERS = { "http://www.opengis.net/gml": { lowerCorner: Eu(K_), upperCorner: Eu(K_) } }, J_.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS = { "http://www.opengis.net/gml": { surfaceMember: Eu(J_.prototype.writeSurfaceOrPolygonMember), polygonMember: Eu(J_.prototype.writeSurfaceOrPolygonMember) } }, J_.prototype.POINTMEMBER_SERIALIZERS = { "http://www.opengis.net/gml": { pointMember: Eu(J_.prototype.writePointMember) } }, J_.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS = { "http://www.opengis.net/gml": { lineStringMember: Eu(J_.prototype.writeLineStringOrCurveMember), curveMember: Eu(J_.prototype.writeLineStringOrCurveMember) } }, J_.prototype.GEOMETRY_SERIALIZERS = { "http://www.opengis.net/gml": { Curve: Eu(J_.prototype.writeCurveOrLineString), MultiCurve: Eu(J_.prototype.writeMultiCurveOrLineString), Point: Eu(J_.prototype.writePoint), MultiPoint: Eu(J_.prototype.writeMultiPoint), LineString: Eu(J_.prototype.writeCurveOrLineString), MultiLineString: Eu(J_.prototype.writeMultiCurveOrLineString), LinearRing: Eu(J_.prototype.writeLinearRing), Polygon: Eu(J_.prototype.writeSurfaceOrPolygon), MultiPolygon: Eu(J_.prototype.writeMultiSurfaceOrPolygon), Surface: Eu(J_.prototype.writeSurfaceOrPolygon), MultiSurface: Eu(J_.prototype.writeMultiSurfaceOrPolygon), Envelope: Eu(J_.prototype.writeEnvelope) } }; const Q_ = J_; Q_.prototype.writeFeatures, Q_.prototype.writeFeaturesNode; class ty extends J_ { constructor(t) { super(t = t || {}), this.schemaLocation = t.schemaLocation ? t.schemaLocation : this.namespace + " http://schemas.opengis.net/gml/3.2.1/gml.xsd" } } ty.prototype.namespace = "http://www.opengis.net/gml/3.2", ty.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS = { "http://www.opengis.net/gml/3.2": { pos: vu(J_.prototype.readFlatPos), posList: vu(J_.prototype.readFlatPosList), coordinates: vu(H_.prototype.readFlatCoordinates) } }, ty.prototype.FLAT_LINEAR_RINGS_PARSERS = { "http://www.opengis.net/gml/3.2": { interior: J_.prototype.interiorParser, exterior: J_.prototype.exteriorParser } }, ty.prototype.GEOMETRY_PARSERS = { "http://www.opengis.net/gml/3.2": { Point: vu(O_.prototype.readPoint), MultiPoint: vu(O_.prototype.readMultiPoint), LineString: vu(O_.prototype.readLineString), MultiLineString: vu(O_.prototype.readMultiLineString), LinearRing: vu(O_.prototype.readLinearRing), Polygon: vu(O_.prototype.readPolygon), MultiPolygon: vu(O_.prototype.readMultiPolygon), Surface: vu(ty.prototype.readSurface), MultiSurface: vu(J_.prototype.readMultiSurface), Curve: vu(ty.prototype.readCurve), MultiCurve: vu(J_.prototype.readMultiCurve), Envelope: vu(ty.prototype.readEnvelope) } }, ty.prototype.MULTICURVE_PARSERS = { "http://www.opengis.net/gml/3.2": { curveMember: xu(J_.prototype.curveMemberParser), curveMembers: xu(J_.prototype.curveMemberParser) } }, ty.prototype.MULTISURFACE_PARSERS = { "http://www.opengis.net/gml/3.2": { surfaceMember: xu(J_.prototype.surfaceMemberParser), surfaceMembers: xu(J_.prototype.surfaceMemberParser) } }, ty.prototype.CURVEMEMBER_PARSERS = { "http://www.opengis.net/gml/3.2": { LineString: xu(O_.prototype.readLineString), Curve: xu(J_.prototype.readCurve) } }, ty.prototype.SURFACEMEMBER_PARSERS = { "http://www.opengis.net/gml/3.2": { Polygon: xu(O_.prototype.readPolygon), Surface: xu(J_.prototype.readSurface) } }, ty.prototype.SURFACE_PARSERS = { "http://www.opengis.net/gml/3.2": { patches: vu(J_.prototype.readPatch) } }, ty.prototype.CURVE_PARSERS = { "http://www.opengis.net/gml/3.2": { segments: vu(J_.prototype.readSegment) } }, ty.prototype.ENVELOPE_PARSERS = { "http://www.opengis.net/gml/3.2": { lowerCorner: xu(J_.prototype.readFlatPosList), upperCorner: xu(J_.prototype.readFlatPosList) } }, ty.prototype.PATCHES_PARSERS = { "http://www.opengis.net/gml/3.2": { PolygonPatch: vu(J_.prototype.readPolygonPatch) } }, ty.prototype.SEGMENTS_PARSERS = { "http://www.opengis.net/gml/3.2": { LineStringSegment: yu(J_.prototype.readLineStringSegment) } }, ty.prototype.MULTIPOINT_PARSERS = { "http://www.opengis.net/gml/3.2": { pointMember: xu(O_.prototype.pointMemberParser), pointMembers: xu(O_.prototype.pointMemberParser) } }, ty.prototype.MULTILINESTRING_PARSERS = { "http://www.opengis.net/gml/3.2": { lineStringMember: xu(O_.prototype.lineStringMemberParser), lineStringMembers: xu(O_.prototype.lineStringMemberParser) } }, ty.prototype.MULTIPOLYGON_PARSERS = { "http://www.opengis.net/gml/3.2": { polygonMember: xu(O_.prototype.polygonMemberParser), polygonMembers: xu(O_.prototype.polygonMemberParser) } }, ty.prototype.POINTMEMBER_PARSERS = { "http://www.opengis.net/gml/3.2": { Point: xu(O_.prototype.readFlatCoordinatesFromNode) } }, ty.prototype.LINESTRINGMEMBER_PARSERS = { "http://www.opengis.net/gml/3.2": { LineString: xu(O_.prototype.readLineString) } }, ty.prototype.POLYGONMEMBER_PARSERS = { "http://www.opengis.net/gml/3.2": { Polygon: xu(O_.prototype.readPolygon) } }, ty.prototype.RING_PARSERS = { "http://www.opengis.net/gml/3.2": { LinearRing: vu(O_.prototype.readFlatLinearRing), Ring: vu(ty.prototype.readFlatCurveRing) } }, ty.prototype.RING_SERIALIZERS = { "http://www.opengis.net/gml/3.2": { exterior: Eu(J_.prototype.writeRing), interior: Eu(J_.prototype.writeRing) } }, ty.prototype.ENVELOPE_SERIALIZERS = { "http://www.opengis.net/gml/3.2": { lowerCorner: Eu(K_), upperCorner: Eu(K_) } }, ty.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS = { "http://www.opengis.net/gml/3.2": { surfaceMember: Eu(J_.prototype.writeSurfaceOrPolygonMember), polygonMember: Eu(J_.prototype.writeSurfaceOrPolygonMember) } }, ty.prototype.POINTMEMBER_SERIALIZERS = { "http://www.opengis.net/gml/3.2": { pointMember: Eu(J_.prototype.writePointMember) } }, ty.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS = { "http://www.opengis.net/gml/3.2": { lineStringMember: Eu(J_.prototype.writeLineStringOrCurveMember), curveMember: Eu(J_.prototype.writeLineStringOrCurveMember) } }, ty.prototype.GEOMETRY_SERIALIZERS = { "http://www.opengis.net/gml/3.2": { Curve: Eu(J_.prototype.writeCurveOrLineString), MultiCurve: Eu(J_.prototype.writeMultiCurveOrLineString), Point: Eu(ty.prototype.writePoint), MultiPoint: Eu(J_.prototype.writeMultiPoint), LineString: Eu(J_.prototype.writeCurveOrLineString), MultiLineString: Eu(J_.prototype.writeMultiCurveOrLineString), LinearRing: Eu(J_.prototype.writeLinearRing), Polygon: Eu(J_.prototype.writeSurfaceOrPolygon), MultiPolygon: Eu(J_.prototype.writeMultiSurfaceOrPolygon), Surface: Eu(J_.prototype.writeSurfaceOrPolygon), MultiSurface: Eu(J_.prototype.writeMultiSurfaceOrPolygon), Envelope: Eu(J_.prototype.writeEnvelope) } }; const ey = [null, "http://www.topografix.com/GPX/1/0", "http://www.topografix.com/GPX/1/1"], iy = { rte: Iy, trk: Ly, wpt: My }, ny = Pu(ey, { rte: xu(Iy), trk: xu(Ly), wpt: xu(My) }), ry = Pu(ey, { text: wu(z_, "linkText"), type: wu(z_, "linkType") }), sy = Pu(ey, { rte: Eu((function (t, e, i) { const n = i[0], r = e.getProperties(), s = { node: t }; s.properties = r; const o = e.getGeometry(); if ("LineString" == o.getType()) { const t = Qp(o, !0, n); s.geometryLayout = t.getLayout(), r.rtept = t.getCoordinates() } const a = i[i.length - 1].node, l = fy[a.namespaceURI], h = Ru(r, l); Fu(s, py, bu, h, i, l) })), trk: Eu((function (t, e, i) { const n = i[0], r = e.getProperties(), s = { node: t }; s.properties = r; const o = e.getGeometry(); if ("MultiLineString" == o.getType()) { const t = Qp(o, !0, n); r.trkseg = t.getLineStrings() } const a = i[i.length - 1].node, l = _y[a.namespaceURI], h = Ru(r, l); Fu(s, yy, bu, h, i, l) })), wpt: Eu((function (t, e, i) { const n = i[0], r = i[i.length - 1]; r.properties = e.getProperties(); const s = e.getGeometry(); if ("Point" == s.getType()) { const e = Qp(s, !0, n); r.geometryLayout = e.getLayout(), Ay(t, e.getCoordinates(), i) } })) }); const oy = Pu(ey, { name: wu(z_), cmt: wu(z_), desc: wu(z_), src: wu(z_), link: Ry, number: wu(B_), extensions: Py, type: wu(z_), rtept: function (t, e) { const i = Lu({}, ay, t, e); if (i) { const n = e[e.length - 1], r = n.flatCoordinates, s = n.layoutOptions; Cy(r, s, t, i) } } }), ay = Pu(ey, { ele: wu(G_), time: wu(k_) }), ly = Pu(ey, { name: wu(z_), cmt: wu(z_), desc: wu(z_), src: wu(z_), link: Ry, number: wu(B_), type: wu(z_), extensions: Py, trkseg: function (t, e) { const i = e[e.length - 1]; Iu(hy, t, e); const n = i.flatCoordinates; i.ends.push(n.length) } }), hy = Pu(ey, { trkpt: function (t, e) { const i = Lu({}, cy, t, e); if (i) { const n = e[e.length - 1], r = n.flatCoordinates, s = n.layoutOptions; Cy(r, s, t, i) } } }), cy = Pu(ey, { ele: wu(G_), time: wu(k_) }), uy = Pu(ey, { ele: wu(G_), time: wu(k_), magvar: wu(G_), geoidheight: wu(G_), name: wu(z_), cmt: wu(z_), desc: wu(z_), src: wu(z_), link: Ry, sym: wu(z_), type: wu(z_), fix: wu(z_), sat: wu(B_), hdop: wu(G_), vdop: wu(G_), pdop: wu(G_), ageofdgpsdata: wu(G_), dgpsid: wu(B_), extensions: Py }), dy = ["text", "type"], gy = Pu(ey, { text: Eu(K_), type: Eu(K_) }), fy = Pu(ey, ["name", "cmt", "desc", "src", "link", "number", "type", "rtept"]), py = Pu(ey, { name: Eu(K_), cmt: Eu(K_), desc: Eu(K_), src: Eu(K_), link: Eu(Fy), number: Eu(Y_), type: Eu(K_), rtept: Tu(Eu(Ay)) }), my = Pu(ey, ["ele", "time"]), _y = Pu(ey, ["name", "cmt", "desc", "src", "link", "number", "type", "trkseg"]), yy = Pu(ey, { name: Eu(K_), cmt: Eu(K_), desc: Eu(K_), src: Eu(K_), link: Eu(Fy), number: Eu(Y_), type: Eu(K_), trkseg: Tu(Eu((function (t, e, i) { const n = { node: t }; n.geometryLayout = e.getLayout(), n.properties = {}, Fu(n, vy, xy, e.getCoordinates(), i) }))) }), xy = Cu("trkpt"), vy = Pu(ey, { trkpt: Eu(Ay) }), Sy = Pu(ey, ["ele", "time", "magvar", "geoidheight", "name", "cmt", "desc", "src", "link", "sym", "type", "fix", "sat", "hdop", "vdop", "pdop", "ageofdgpsdata", "dgpsid"]), wy = Pu(ey, { ele: Eu(Z_), time: Eu(W_), magvar: Eu(Z_), geoidheight: Eu(Z_), name: Eu(K_), cmt: Eu(K_), desc: Eu(K_), src: Eu(K_), link: Eu(Fy), sym: Eu(K_), type: Eu(K_), fix: Eu(K_), sat: Eu(Y_), hdop: Eu(Z_), vdop: Eu(Z_), pdop: Eu(Z_), ageofdgpsdata: Eu(Z_), dgpsid: Eu(Y_) }), Ey = { Point: "wpt", LineString: "rte", MultiLineString: "trk" }; function Ty(t, e, i) { const n = t.getGeometry(); if (n) { const t = Ey[n.getType()]; if (t) { return du(e[e.length - 1].node.namespaceURI, t) } } } function Cy(t, e, i, n) { return t.push(parseFloat(i.getAttribute("lon")), parseFloat(i.getAttribute("lat"))), "ele" in n ? (t.push(n.ele), delete n.ele, e.hasZ = !0) : t.push(0), "time" in n ? (t.push(n.time), delete n.time, e.hasM = !0) : t.push(0), t } function by(t, e, i) { let n = "XY", r = 2; if (t.hasZ && t.hasM ? (n = "XYZM", r = 4) : t.hasZ ? (n = "XYZ", r = 3) : t.hasM && (n = "XYM", r = 3), 4 !== r) { for (let i = 0, n = e.length / 4; i < n; i++)e[i * r] = e[4 * i], e[i * r + 1] = e[4 * i + 1], t.hasZ && (e[i * r + 2] = e[4 * i + 2]), t.hasM && (e[i * r + 2] = e[4 * i + 3]); if (e.length = e.length / 4 * r, i) for (let t = 0, e = i.length; t < e; t++)i[t] = i[t] / 4 * r } return n } function Ry(t, e) { const i = e[e.length - 1], n = t.getAttribute("href"); null !== n && (i.link = n), Iu(ry, t, e) } function Py(t, e) { e[e.length - 1].extensionsNode_ = t } function Iy(t, e) { const i = e[0], n = Lu({ flatCoordinates: [], layoutOptions: {} }, oy, t, e); if (!n) return; const r = n.flatCoordinates; delete n.flatCoordinates; const s = n.layoutOptions; delete n.layoutOptions; const o = by(s, r), a = new Op(r, o); Qp(a, !1, i); const l = new lt(a); return l.setProperties(n, !0), l } function Ly(t, e) { const i = e[0], n = Lu({ flatCoordinates: [], ends: [], layoutOptions: {} }, ly, t, e); if (!n) return; const r = n.flatCoordinates; delete n.flatCoordinates; const s = n.ends; delete n.ends; const o = n.layoutOptions; delete n.layoutOptions; const a = by(o, r, s), l = new Np(r, a, s); Qp(l, !1, i); const h = new lt(l); return h.setProperties(n, !0), h } function My(t, e) { const i = e[0], n = Lu({}, uy, t, e); if (!n) return; const r = {}, s = Cy([], r, t, n), o = by(r, s), a = new Wn(s, o); Qp(a, !1, i); const l = new lt(a); return l.setProperties(n, !0), l } function Fy(t, e, i) { t.setAttribute("href", e); const n = i[i.length - 1].properties, r = [n.linkText, n.linkType]; Fu({ node: t }, gy, bu, r, i, dy) } function Ay(t, e, i) { const n = i[i.length - 1], r = n.node.namespaceURI, s = n.properties; t.setAttributeNS(null, "lat", String(e[1])), t.setAttributeNS(null, "lon", String(e[0])); switch (n.geometryLayout) { case "XYZM": 0 !== e[3] && (s.time = e[3]); case "XYZ": 0 !== e[2] && (s.ele = e[2]); break; case "XYM": 0 !== e[2] && (s.time = e[2]) }const o = "rtept" == t.nodeName ? my[r] : Sy[r], a = Ru(s, o); Fu({ node: t, properties: s }, wy, bu, a, i, o) } function Oy(t, e) { if (!t) return null; let i; switch (t.type) { case "Point": i = function (t) { return new Wn(t.coordinates) }(t); break; case "LineString": i = function (t) { return new Op(t.coordinates) }(t); break; case "Polygon": i = function (t) { return new ur(t.coordinates) }(t); break; case "MultiPoint": i = function (t) { return new Dp(t.coordinates) }(t); break; case "MultiLineString": i = function (t) { return new Np(t.coordinates) }(t); break; case "MultiPolygon": i = function (t) { return new Gp(t.coordinates) }(t); break; case "GeometryCollection": i = function (t, e) { const i = t.geometries.map((function (t) { return Oy(t, e) })); return new Ip(i) }(t); break; default: throw new Error("Unsupported GeoJSON type: " + t.type) }return Qp(i, !1, e) } function Ny(t, e) { const i = (t = Qp(t, !0, e)).getType(); let n; switch (i) { case "Point": n = function (t, e) { return { type: "Point", coordinates: t.getCoordinates() } }(t); break; case "LineString": n = function (t, e) { return { type: "LineString", coordinates: t.getCoordinates() } }(t); break; case "Polygon": n = function (t, e) { let i; e && (i = e.rightHanded); return { type: "Polygon", coordinates: t.getCoordinates(i) } }(t, e); break; case "MultiPoint": n = function (t, e) { return { type: "MultiPoint", coordinates: t.getCoordinates() } }(t); break; case "MultiLineString": n = function (t, e) { return { type: "MultiLineString", coordinates: t.getCoordinates() } }(t); break; case "MultiPolygon": n = function (t, e) { let i; e && (i = e.rightHanded); return { type: "MultiPolygon", coordinates: t.getCoordinates(i) } }(t, e); break; case "GeometryCollection": n = function (t, e) { delete (e = Object.assign({}, e)).featureProjection; return { type: "GeometryCollection", geometries: t.getGeometriesArray().map((function (t) { return Ny(t, e) })) } }(t, e); break; case "Circle": n = { type: "GeometryCollection", geometries: [] }; break; default: throw new Error("Unsupported geometry type: " + i) }return n } class Dy extends Jp { constructor() { super() } getType() { return "text" } readFeature(t, e) { return this.readFeatureFromText(ky(t), this.adaptOptions(e)) } readFeatureFromText(t, e) { return B() } readFeatures(t, e) { return this.readFeaturesFromText(ky(t), this.adaptOptions(e)) } readFeaturesFromText(t, e) { return B() } readGeometry(t, e) { return this.readGeometryFromText(ky(t), this.adaptOptions(e)) } readGeometryFromText(t, e) { return B() } readProjection(t) { return this.readProjectionFromText(ky(t)) } readProjectionFromText(t) { return this.dataProjection } writeFeature(t, e) { return this.writeFeatureText(t, this.adaptOptions(e)) } writeFeatureText(t, e) { return B() } writeFeatures(t, e) { return this.writeFeaturesText(t, this.adaptOptions(e)) } writeFeaturesText(t, e) { return B() } writeGeometry(t, e) { return this.writeGeometryText(t, this.adaptOptions(e)) } writeGeometryText(t, e) { return B() } } function ky(t) { return "string" == typeof t ? t : "" } const Gy = /^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/, jy = /^H.([A-Z]{3}).*?:(.*)/, By = /^HFDTE(\d{2})(\d{2})(\d{2})/, Uy = /\r\n|\r|\n/; const zy = ["http://www.google.com/kml/ext/2.2"], Xy = [null, "http://earth.google.com/kml/2.0", "http://earth.google.com/kml/2.1", "http://earth.google.com/kml/2.2", "http://www.opengis.net/kml/2.2"], Vy = { fraction: "fraction", pixels: "pixels", insetPixels: "pixels" }, Wy = Pu(Xy, { ExtendedData: Yx, Region: Kx, MultiGeometry: wu(Gx, "geometry"), LineString: wu(Nx, "geometry"), LinearRing: wu(Dx, "geometry"), Point: wu(jx, "geometry"), Polygon: wu(Ux, "geometry"), Style: wu(Xx), StyleMap: function (t, e) { const i = Sx.call(this, t, e); if (!i) return; const n = e[e.length - 1]; Array.isArray(i) ? n.Style = i : "string" == typeof i ? n.styleUrl = i : at(!1, 38) }, address: wu(z_), description: wu(z_), name: wu(z_), open: wu(N_), phoneNumber: wu(z_), styleUrl: wu(yx), visibility: wu(N_) }, Pu(zy, { MultiTrack: wu((function (t, e) { const i = Lu([], Px, t, e); if (!i) return; return new Np(i) }), "geometry"), Track: wu(Lx, "geometry") })), Zy = Pu(Xy, { ExtendedData: Yx, Region: Kx, Link: function (t, e) { Iu(Yy, t, e) }, address: wu(z_), description: wu(z_), name: wu(z_), open: wu(N_), phoneNumber: wu(z_), visibility: wu(N_) }), Yy = Pu(Xy, { href: wu(_x) }), Ky = Pu(Xy, { LatLonAltBox: function (t, e) { const i = Lu({}, $x, t, e); if (!i) return; const n = e[e.length - 1], r = [parseFloat(i.west), parseFloat(i.south), parseFloat(i.east), parseFloat(i.north)]; n.extent = r, n.altitudeMode = i.altitudeMode, n.minAltitude = parseFloat(i.minAltitude), n.maxAltitude = parseFloat(i.maxAltitude) }, Lod: function (t, e) { const i = Lu({}, Jx, t, e); if (!i) return; const n = e[e.length - 1]; n.minLodPixels = parseFloat(i.minLodPixels), n.maxLodPixels = parseFloat(i.maxLodPixels), n.minFadeExtent = parseFloat(i.minFadeExtent), n.maxFadeExtent = parseFloat(i.maxFadeExtent) } }), qy = Pu(Xy, ["Document", "Placemark"]), Hy = Pu(Xy, { Document: Eu((function (t, e, i) { Fu({ node: t }, nv, rv, e, i, void 0, this) })), Placemark: Eu(Pv) }); let $y, Jy, Qy, tx, ex, ix, nx = null; let rx, sx = null; let ox, ax = null; let lx = null; let hx = null; let cx, ux = null; function dx(t) { return 32 / Math.min(t[0], t[1]) } function gx(t) { return t } function fx(t, e, i) { return Array.isArray(t) ? t : "string" == typeof t ? fx(i[t], e, i) : e } function px(t) { const e = gu(t, !1), i = /^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e); if (i) { const t = i[1]; return [parseInt(t.substr(6, 2), 16), parseInt(t.substr(4, 2), 16), parseInt(t.substr(2, 2), 16), parseInt(t.substr(0, 2), 16) / 255] } } function mx(t) { let e = gu(t, !1); const i = []; e = e.replace(/\s*,\s*/g, ","); const n = /^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i; let r; for (; r = n.exec(e);) { const t = parseFloat(r[1]), n = parseFloat(r[2]), s = r[3] ? parseFloat(r[3]) : 0; i.push(t, n, s), e = e.substr(r[0].length) } if ("" === e) return i } function _x(t) { const e = gu(t, !1).trim(); let i = t.baseURI; if (i && "about:blank" != i || (i = window.location.href), i) { return new URL(e, i).href } return e } function yx(t) { const e = gu(t, !1).trim().replace(/^(?!.*#)/, "#"); let i = t.baseURI; if (i && "about:blank" != i || (i = window.location.href), i) { return new URL(e, i).href } return e } function xx(t) { return G_(t) } const vx = Pu(Xy, { Pair: function (t, e) { const i = Lu({}, qx, t, e, this); if (!i) return; const n = i.key; if (n && "normal" == n) { const t = i.styleUrl; t && (e[e.length - 1] = t); const n = i.Style; n && (e[e.length - 1] = n) } } }); function Sx(t, e) { return Lu(void 0, vx, t, e, this) } const wx = Pu(Xy, { Icon: wu((function (t, e) { const i = Lu({}, Mx, t, e); return i || null })), color: wu(px), heading: wu(G_), hotSpot: wu((function (t) { const e = t.getAttribute("xunits"), i = t.getAttribute("yunits"); let n; return n = "insetPixels" !== e ? "insetPixels" !== i ? "bottom-left" : "top-left" : "insetPixels" !== i ? "bottom-right" : "top-right", { x: parseFloat(t.getAttribute("x")), xunits: Vy[e], y: parseFloat(t.getAttribute("y")), yunits: Vy[i], origin: n } })), scale: wu(xx) }); const Ex = Pu(Xy, { color: wu(px), scale: wu(xx) }); const Tx = Pu(Xy, { color: wu(px), width: wu(G_) }); const Cx = Pu(Xy, { color: wu(px), fill: wu(N_), outline: wu(N_) }); const bx = Pu(Xy, { coordinates: vu(mx) }); function Rx(t, e) { return Lu(null, bx, t, e) } const Px = Pu(zy, { Track: xu(Lx) }); const Ix = Pu(Xy, { when: function (t, e) { const i = e[e.length - 1].whens, n = gu(t, !1), r = Date.parse(n); i.push(isNaN(r) ? 0 : r) } }, Pu(zy, { coord: function (t, e) { const i = e[e.length - 1].coordinates, n = gu(t, !1), r = /^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n); if (r) { const t = parseFloat(r[1]), e = parseFloat(r[2]), n = parseFloat(r[3]); i.push([t, e, n]) } else i.push([]) } })); function Lx(t, e) { const i = Lu({ coordinates: [], whens: [] }, Ix, t, e); if (!i) return; const n = [], r = i.coordinates, s = i.whens; for (let t = 0, e = Math.min(r.length, s.length); t < e; ++t)3 == r[t].length && n.push(r[t][0], r[t][1], r[t][2], s[t]); return new Op(n, "XYZM") } const Mx = Pu(Xy, { href: wu(_x) }, Pu(zy, { x: wu(G_), y: wu(G_), w: wu(G_), h: wu(G_) })); const Fx = Pu(Xy, { coordinates: vu(mx) }); function Ax(t, e) { return Lu(null, Fx, t, e) } const Ox = Pu(Xy, { extrude: wu(N_), tessellate: wu(N_), altitudeMode: wu(z_) }); function Nx(t, e) { const i = Lu({}, Ox, t, e), n = Ax(t, e); if (n) { const t = new Op(n, "XYZ"); return t.setProperties(i, !0), t } } function Dx(t, e) { const i = Lu({}, Ox, t, e), n = Ax(t, e); if (n) { const t = new ur(n, "XYZ", [n.length]); return t.setProperties(i, !0), t } } const kx = Pu(Xy, { LineString: xu(Nx), LinearRing: xu(Dx), MultiGeometry: xu(Gx), Point: xu(jx), Polygon: xu(Ux) }); function Gx(t, e) { const i = Lu([], kx, t, e); if (!i) return null; if (0 === i.length) return new Ip(i); let n, r = !0; const s = i[0].getType(); let o; for (let t = 1, e = i.length; t < e; ++t)if (o = i[t], o.getType() != s) { r = !1; break } if (r) { let t, e; if ("Point" == s) { const r = i[0]; t = r.getLayout(), e = r.getFlatCoordinates(); for (let t = 1, n = i.length; t < n; ++t)o = i[t], c(e, o.getFlatCoordinates()); n = new Dp(e, t), Vx(n, i) } else "LineString" == s ? (n = new Np(i), Vx(n, i)) : "Polygon" == s ? (n = new Gp(i), Vx(n, i)) : "GeometryCollection" == s ? n = new Ip(i) : at(!1, 37) } else n = new Ip(i); return n } function jx(t, e) { const i = Lu({}, Ox, t, e), n = Ax(t, e); if (n) { const t = new Wn(n, "XYZ"); return t.setProperties(i, !0), t } } const Bx = Pu(Xy, { innerBoundaryIs: function (t, e) { const i = Lu([], Qx, t, e); if (i.length > 0) { e[e.length - 1].push(...i) } }, outerBoundaryIs: function (t, e) { const i = Lu(void 0, tv, t, e); if (i) { e[e.length - 1][0] = i } } }); function Ux(t, e) { const i = Lu({}, Ox, t, e), n = Lu([null], Bx, t, e); if (n && n[0]) { const t = n[0], e = [t.length]; for (let i = 1, r = n.length; i < r; ++i)c(t, n[i]), e.push(t.length); const r = new ur(t, "XYZ", e); return r.setProperties(i, !0), r } } const zx = Pu(Xy, { IconStyle: function (t, e) { const i = Lu({}, wx, t, e); if (!i) return; const n = e[e.length - 1], r = "Icon" in i ? i.Icon : {}, s = !("Icon" in i) || Object.keys(r).length > 0; let o; const a = r.href; let l, h, c; a ? o = a : s && (o = ix); let u = "bottom-left"; const d = i.hotSpot; let g; d ? (l = [d.x, d.y], h = d.xunits, c = d.yunits, u = d.origin) : /^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(o) && (o.includes("pushpin") ? (l = Jy, h = Qy, c = tx) : o.includes("arrow-reverse") ? (l = [54, 42], h = Qy, c = tx) : o.includes("paddle") && (l = [32, 1], h = Qy, c = tx)); const f = r.x, p = r.y; let m; void 0 !== f && void 0 !== p && (g = [f, p]); const _ = r.w, y = r.h; let x; void 0 !== _ && void 0 !== y && (m = [_, y]); const v = i.heading; void 0 !== v && (x = ai(v)); const S = i.scale, w = i.color; if (s) { o == ix && (m = ex); const t = new lg({ anchor: l, anchorOrigin: u, anchorXUnits: h, anchorYUnits: c, crossOrigin: this.crossOrigin_, offset: g, offsetOrigin: "bottom-left", rotation: x, scale: S, size: m, src: this.iconUrlFunction_(o), color: w }), e = t.getScaleArray()[0], i = t.getSize(); if (null === i) { const i = t.getImageState(); if (i === Pr || i === Ir) { const n = function () { const i = t.getImageState(); if (i !== Pr && i !== Ir) { const i = t.getSize(); if (i && 2 == i.length) { const n = dx(i); t.setScale(e * n) } t.unlistenImageChange(n) } }; t.listenImageChange(n), i === Pr && t.load() } } else if (2 == i.length) { const n = dx(i); t.setScale(e * n) } n.imageStyle = t } else n.imageStyle = rx }, LabelStyle: function (t, e) { const i = Lu({}, Ex, t, e); if (!i) return; const n = e[e.length - 1], r = new mg({ fill: new rg({ color: "color" in i ? i.color : $y }), scale: i.scale }); n.textStyle = r }, LineStyle: function (t, e) { const i = Lu({}, Tx, t, e); if (!i) return; const n = e[e.length - 1], r = new hg({ color: "color" in i ? i.color : $y, width: "width" in i ? i.width : 1 }); n.strokeStyle = r }, PolyStyle: function (t, e) { const i = Lu({}, Cx, t, e); if (!i) return; const n = e[e.length - 1], r = new rg({ color: "color" in i ? i.color : $y }); n.fillStyle = r; const s = i.fill; void 0 !== s && (n.fill = s); const o = i.outline; void 0 !== o && (n.outline = o) } }); function Xx(t, e) { const i = Lu({}, zx, t, e, this); if (!i) return null; let n = "fillStyle" in i ? i.fillStyle : nx; const r = i.fill; let s; void 0 === r || r || (n = null), "imageStyle" in i ? i.imageStyle != rx && (s = i.imageStyle) : s = sx; const o = "textStyle" in i ? i.textStyle : lx, a = "strokeStyle" in i ? i.strokeStyle : ax, l = i.outline; return void 0 === l || l ? [new cg({ fill: n, image: s, stroke: a, text: o, zIndex: void 0 })] : [new cg({ geometry: function (t) { const e = t.getGeometry(), i = e.getType(); if ("GeometryCollection" === i) { return new Ip(e.getGeometriesArrayRecursive().filter((function (t) { const e = t.getType(); return "Polygon" !== e && "MultiPolygon" !== e }))) } if ("Polygon" !== i && "MultiPolygon" !== i) return e }, fill: n, image: s, stroke: a, text: o, zIndex: void 0 }), new cg({ geometry: function (t) { const e = t.getGeometry(), i = e.getType(); if ("GeometryCollection" === i) { return new Ip(e.getGeometriesArrayRecursive().filter((function (t) { const e = t.getType(); return "Polygon" === e || "MultiPolygon" === e }))) } if ("Polygon" === i || "MultiPolygon" === i) return e }, fill: n, stroke: null, zIndex: void 0 })] } function Vx(t, e) { const i = e.length, n = new Array(e.length), r = new Array(e.length), s = new Array(e.length); let o, a, l; o = !1, a = !1, l = !1; for (let t = 0; t < i; ++t) { const i = e[t]; n[t] = i.get("extrude"), r[t] = i.get("tessellate"), s[t] = i.get("altitudeMode"), o = o || void 0 !== n[t], a = a || void 0 !== r[t], l = l || s[t] } o && t.set("extrude", n), a && t.set("tessellate", r), l && t.set("altitudeMode", s) } const Wx = Pu(Xy, { displayName: wu(z_), value: wu(z_) }); const Zx = Pu(Xy, { Data: function (t, e) { const i = t.getAttribute("name"); Iu(Wx, t, e); const n = e[e.length - 1]; i && n.displayName ? n[i] = { value: n.value, displayName: n.displayName, toString: function () { return n.value } } : null !== i ? n[i] = n.value : null !== n.displayName && (n[n.displayName] = n.value), delete n.value }, SchemaData: function (t, e) { Iu(Hx, t, e) } }); function Yx(t, e) { Iu(Zx, t, e) } function Kx(t, e) { Iu(Ky, t, e) } const qx = Pu(Xy, { Style: wu(Xx), key: wu(z_), styleUrl: wu(yx) }); const Hx = Pu(Xy, { SimpleData: function (t, e) { const i = t.getAttribute("name"); if (null !== i) { const n = z_(t); e[e.length - 1][i] = n } } }); const $x = Pu(Xy, { altitudeMode: wu(z_), minAltitude: wu(G_), maxAltitude: wu(G_), north: wu(G_), south: wu(G_), east: wu(G_), west: wu(G_) }); const Jx = Pu(Xy, { minLodPixels: wu(G_), maxLodPixels: wu(G_), minFadeExtent: wu(G_), maxFadeExtent: wu(G_) }); const Qx = Pu(Xy, { LinearRing: xu(Rx) }); const tv = Pu(Xy, { LinearRing: vu(Rx) }); function ev(t, e) { const i = $r(e), n = [255 * (4 == i.length ? i[3] : 1), i[2], i[1], i[0]]; for (let t = 0; t < 4; ++t) { const e = Math.floor(n[t]).toString(16); n[t] = 1 == e.length ? "0" + e : e } K_(t, n.join("")) } const iv = Pu(Xy, { Data: Eu((function (t, e, i) { t.setAttribute("name", e.name); const n = { node: t }, r = e.value; "object" == typeof r ? (null !== r && r.displayName && Fu(n, iv, bu, [r.displayName], i, ["displayName"]), null !== r && r.value && Fu(n, iv, bu, [r.value], i, ["value"])) : Fu(n, iv, bu, [r], i, ["value"]) })), value: Eu((function (t, e) { K_(t, e) })), displayName: Eu((function (t, e) { V_(t, e) })) }); const nv = Pu(Xy, { Placemark: Eu(Pv) }), rv = function (t, e, i) { return du(e[e.length - 1].node.namespaceURI, "Placemark") }; const sv = Cu("Data"); const ov = Pu(Xy, ["href"], Pu(zy, ["x", "y", "w", "h"])), av = Pu(Xy, { href: Eu(K_) }, Pu(zy, { x: Eu(Z_), y: Eu(Z_), w: Eu(Z_), h: Eu(Z_) })), lv = function (t, e, i) { return du(zy[0], "gx:" + i) }; const hv = Pu(Xy, ["scale", "heading", "Icon", "color", "hotSpot"]), cv = Pu(Xy, { Icon: Eu((function (t, e, i) { const n = { node: t }, r = i[i.length - 1].node; let s = ov[r.namespaceURI], o = Ru(e, s); Fu(n, av, bu, o, i, s), s = ov[zy[0]], o = Ru(e, s), Fu(n, av, lv, o, i, s) })), color: Eu(ev), heading: Eu(Z_), hotSpot: Eu((function (t, e) { t.setAttribute("x", String(e.x)), t.setAttribute("y", String(e.y)), t.setAttribute("xunits", e.xunits), t.setAttribute("yunits", e.yunits) })), scale: Eu(Gv) }); const uv = Pu(Xy, ["color", "scale"]), dv = Pu(Xy, { color: Eu(ev), scale: Eu(Gv) }); const gv = Pu(Xy, ["color", "width"]), fv = Pu(Xy, { color: Eu(ev), width: Eu(Z_) }); const pv = { Point: "Point", LineString: "LineString", LinearRing: "LinearRing", Polygon: "Polygon", MultiPoint: "MultiGeometry", MultiLineString: "MultiGeometry", MultiPolygon: "MultiGeometry", GeometryCollection: "MultiGeometry" }, mv = function (t, e, i) { if (t) { return du(e[e.length - 1].node.namespaceURI, pv[t.getType()]) } }, _v = Cu("Point"), yv = Cu("LineString"), xv = Cu("LinearRing"), vv = Cu("Polygon"), Sv = Pu(Xy, { LineString: Eu(Mv), Point: Eu(Mv), Polygon: Eu(Dv), GeometryCollection: Eu(wv) }); function wv(t, e, i) { const n = { node: t }, r = e.getType(); let s, o = []; "GeometryCollection" === r ? (e.getGeometriesArrayRecursive().forEach((function (t) { const e = t.getType(); "MultiPoint" === e ? o = o.concat(t.getPoints()) : "MultiLineString" === e ? o = o.concat(t.getLineStrings()) : "MultiPolygon" === e ? o = o.concat(t.getPolygons()) : "Point" === e || "LineString" === e || "Polygon" === e ? o.push(t) : at(!1, 39) })), s = mv) : "MultiPoint" === r ? (o = e.getPoints(), s = _v) : "MultiLineString" === r ? (o = e.getLineStrings(), s = yv) : "MultiPolygon" === r ? (o = e.getPolygons(), s = vv) : at(!1, 39), Fu(n, Sv, s, o, i) } const Ev = Pu(Xy, { LinearRing: Eu(Mv) }); function Tv(t, e, i) { Fu({ node: t }, Ev, xv, [e], i) } const Cv = Pu(Xy, { ExtendedData: Eu((function (t, e, i) { const n = { node: t }, r = e.names, s = e.values, o = r.length; for (let t = 0; t < o; t++)Fu(n, iv, sv, [{ name: r[t], value: s[t] }], i) })), MultiGeometry: Eu(wv), LineString: Eu(Mv), LinearRing: Eu(Mv), Point: Eu(Mv), Polygon: Eu(Dv), Style: Eu((function (t, e, i) { const n = { node: t }, r = {}; if (e.pointStyles.length) { const t = e.pointStyles[0].getText(); t && (r.LabelStyle = t); const i = e.pointStyles[0].getImage(); i && "function" == typeof i.getSrc && (r.IconStyle = i) } if (e.lineStyles.length) { const t = e.lineStyles[0].getStroke(); t && (r.LineStyle = t) } if (e.polyStyles.length) { const t = e.polyStyles[0].getStroke(); t && !r.LineStyle && (r.LineStyle = t), r.PolyStyle = e.polyStyles[0] } const s = i[i.length - 1].node, o = jv[s.namespaceURI], a = Ru(r, o); Fu(n, Bv, bu, a, i, o) })), address: Eu(K_), description: Eu(K_), name: Eu(K_), open: Eu(X_), phoneNumber: Eu(K_), styleUrl: Eu(K_), visibility: Eu(X_) }), bv = Pu(Xy, ["name", "open", "visibility", "address", "phoneNumber", "description", "styleUrl", "Style"]), Rv = Cu("ExtendedData"); function Pv(t, e, i) { const n = { node: t }; e.getId() && t.setAttribute("id", e.getId()); const r = e.getProperties(), s = { address: 1, description: 1, name: 1, open: 1, phoneNumber: 1, styleUrl: 1, visibility: 1 }; s[e.getGeometryName()] = 1; const o = Object.keys(r || {}).sort().filter((function (t) { return !s[t] })), a = e.getStyleFunction(); if (a) { const t = a(e, 0); if (t) { const i = Array.isArray(t) ? t : [t]; let n = i; if (e.getGeometry() && (n = i.filter((function (t) { const i = t.getGeometryFunction()(e); if (i) { const t = i.getType(); return "GeometryCollection" === t ? i.getGeometriesArrayRecursive().filter((function (t) { const e = t.getType(); return "Point" === e || "MultiPoint" === e })).length : "Point" === t || "MultiPoint" === t } }))), this.writeStyles_) { let t = i, s = i; e.getGeometry() && (t = i.filter((function (t) { const i = t.getGeometryFunction()(e); if (i) { const t = i.getType(); return "GeometryCollection" === t ? i.getGeometriesArrayRecursive().filter((function (t) { const e = t.getType(); return "LineString" === e || "MultiLineString" === e })).length : "LineString" === t || "MultiLineString" === t } })), s = i.filter((function (t) { const i = t.getGeometryFunction()(e); if (i) { const t = i.getType(); return "GeometryCollection" === t ? i.getGeometriesArrayRecursive().filter((function (t) { const e = t.getType(); return "Polygon" === e || "MultiPolygon" === e })).length : "Polygon" === t || "MultiPolygon" === t } }))), r.Style = { pointStyles: n, lineStyles: t, polyStyles: s } } if (n.length && void 0 === r.name) { const t = n[0].getText(); t && (r.name = t.getText()) } } } const l = i[i.length - 1].node, h = bv[l.namespaceURI], c = Ru(r, h); if (Fu(n, Cv, bu, c, i, h), o.length > 0) { const t = Ru(r, o); Fu(n, Cv, Rv, [{ names: o, values: t }], i) } const u = i[0]; let d = e.getGeometry(); d && (d = Qp(d, !0, u)), Fu(n, Cv, mv, [d], i) } const Iv = Pu(Xy, ["extrude", "tessellate", "altitudeMode", "coordinates"]), Lv = Pu(Xy, { extrude: Eu(X_), tessellate: Eu(X_), altitudeMode: Eu(K_), coordinates: Eu((function (t, e, i) { const n = i[i.length - 1], r = n.layout, s = n.stride; let o; "XY" == r || "XYM" == r ? o = 2 : "XYZ" == r || "XYZM" == r ? o = 3 : at(!1, 34); const a = e.length; let l = ""; if (a > 0) { l += e[0]; for (let t = 1; t < o; ++t)l += "," + e[t]; for (let t = s; t < a; t += s) { l += " " + e[t]; for (let i = 1; i < o; ++i)l += "," + e[t + i] } } K_(t, l) })) }); function Mv(t, e, i) { const n = e.getFlatCoordinates(), r = { node: t }; r.layout = e.getLayout(), r.stride = e.getStride(); const s = e.getProperties(); s.coordinates = n; const o = i[i.length - 1].node, a = Iv[o.namespaceURI], l = Ru(s, a); Fu(r, Lv, bu, l, i, a) } const Fv = Pu(Xy, ["color", "fill", "outline"]), Av = Pu(Xy, { outerBoundaryIs: Eu(Tv), innerBoundaryIs: Eu(Tv) }), Ov = Cu("innerBoundaryIs"), Nv = Cu("outerBoundaryIs"); function Dv(t, e, i) { const n = e.getLinearRings(), r = n.shift(), s = { node: t }; Fu(s, Av, Ov, n, i), Fu(s, Av, Nv, [r], i) } const kv = Pu(Xy, { color: Eu(ev), fill: Eu(X_), outline: Eu(X_) }); function Gv(t, e) { Z_(t, Math.round(1e6 * e) / 1e6) } const jv = Pu(Xy, ["IconStyle", "LabelStyle", "LineStyle", "PolyStyle"]), Bv = Pu(Xy, { IconStyle: Eu((function (t, e, i) { const n = { node: t }, r = {}, s = e.getSrc(), o = e.getSize(), a = e.getImageSize(), l = { href: s }; if (o) { l.w = o[0], l.h = o[1]; const t = e.getAnchor(), i = e.getOrigin(); if (i && a && 0 !== i[0] && i[1] !== o[1] && (l.x = i[0], l.y = a[1] - (i[1] + o[1])), t && (t[0] !== o[0] / 2 || t[1] !== o[1] / 2)) { const e = { x: t[0], xunits: "pixels", y: o[1] - t[1], yunits: "pixels" }; r.hotSpot = e } } r.Icon = l; let h = e.getScaleArray()[0], c = o; if (null === c && (c = ex), 2 == c.length) { h /= dx(c) } 1 !== h && (r.scale = h); const u = e.getRotation(); 0 !== u && (r.heading = u); const d = e.getColor(); d && (r.color = d); const g = i[i.length - 1].node, f = hv[g.namespaceURI], p = Ru(r, f); Fu(n, cv, bu, p, i, f) })), LabelStyle: Eu((function (t, e, i) { const n = { node: t }, r = {}, s = e.getFill(); s && (r.color = s.getColor()); const o = e.getScale(); o && 1 !== o && (r.scale = o); const a = i[i.length - 1].node, l = uv[a.namespaceURI], h = Ru(r, l); Fu(n, dv, bu, h, i, l) })), LineStyle: Eu((function (t, e, i) { const n = { node: t }, r = { color: e.getColor(), width: Number(e.getWidth()) || 1 }, s = i[i.length - 1].node, o = gv[s.namespaceURI], a = Ru(r, o); Fu(n, fv, bu, a, i, o) })), PolyStyle: Eu((function (t, e, i) { const n = { node: t }, r = e.getFill(), s = e.getStroke(), o = { color: r ? r.getColor() : void 0, fill: !!r && void 0, outline: !!s && void 0 }, a = i[i.length - 1].node, l = Fv[a.namespaceURI], h = Ru(o, l); Fu(n, kv, bu, h, i, l) })) }); const Uv = [null], zv = Pu(Uv, { nd: function (t, e) { e[e.length - 1].ndrefs.push(t.getAttribute("ref")) }, tag: Wv }), Xv = Pu(Uv, { node: function (t, e) { const i = e[0], n = e[e.length - 1], r = t.getAttribute("id"), s = [parseFloat(t.getAttribute("lon")), parseFloat(t.getAttribute("lat"))]; n.nodes[r] = s; const o = Lu({ tags: {} }, Vv, t, e); if (!x(o.tags)) { const t = new Wn(s); Qp(t, !1, i); const e = new lt(t); void 0 !== r && e.setId(r), e.setProperties(o.tags, !0), n.features.push(e) } }, way: function (t, e) { const i = Lu({ id: t.getAttribute("id"), ndrefs: [], tags: {} }, zv, t, e); e[e.length - 1].ways.push(i) } }); const Vv = Pu(Uv, { tag: Wv }); function Wv(t, e) { e[e.length - 1].tags[t.getAttribute("k")] = t.getAttribute("v") } class Zv { read(t) { if (t) { if ("string" == typeof t) { const e = _u(t); return this.readFromDocument(e) } return pu(t) ? this.readFromDocument(t) : this.readFromNode(t) } return null } readFromDocument(t) { for (let e = t.firstChild; e; e = e.nextSibling)if (e.nodeType == Node.ELEMENT_NODE) return this.readFromNode(e); return null } readFromNode(t) { } } function Yv(t) { return t.getAttributeNS("http://www.w3.org/1999/xlink", "href") } const Kv = [null, "http://www.opengis.net/ows/1.1"], qv = Pu(Kv, { ServiceIdentification: wu((function (t, e) { return Lu({}, lS, t, e) })), ServiceProvider: wu((function (t, e) { return Lu({}, hS, t, e) })), OperationsMetadata: wu((function (t, e) { return Lu({}, rS, t, e) })) }); class Hv extends Zv { constructor() { super() } readFromNode(t) { const e = Lu({}, qv, t, []); return e || null } } const $v = Pu(Kv, { DeliveryPoint: wu(z_), City: wu(z_), AdministrativeArea: wu(z_), PostalCode: wu(z_), Country: wu(z_), ElectronicMailAddress: wu(z_) }), Jv = Pu(Kv, { Value: Su((function (t, e) { return z_(t) })) }), Qv = Pu(Kv, { AllowedValues: wu((function (t, e) { return Lu({}, Jv, t, e) })) }), tS = Pu(Kv, { Phone: wu((function (t, e) { return Lu({}, sS, t, e) })), Address: wu((function (t, e) { return Lu({}, $v, t, e) })) }), eS = Pu(Kv, { HTTP: wu((function (t, e) { return Lu({}, iS, t, e) })) }), iS = Pu(Kv, { Get: Su((function (t, e) { const i = Yv(t); if (!i) return; return Lu({ href: i }, oS, t, e) })), Post: void 0 }), nS = Pu(Kv, { DCP: wu((function (t, e) { return Lu({}, eS, t, e) })) }), rS = Pu(Kv, { Operation: function (t, e) { const i = t.getAttribute("name"), n = Lu({}, nS, t, e); if (!n) return; e[e.length - 1][i] = n } }), sS = Pu(Kv, { Voice: wu(z_), Facsimile: wu(z_) }), oS = Pu(Kv, { Constraint: Su((function (t, e) { const i = t.getAttribute("name"); if (!i) return; return Lu({ name: i }, Qv, t, e) })) }), aS = Pu(Kv, { IndividualName: wu(z_), PositionName: wu(z_), ContactInfo: wu((function (t, e) { return Lu({}, tS, t, e) })) }), lS = Pu(Kv, { Abstract: wu(z_), AccessConstraints: wu(z_), Fees: wu(z_), Title: wu(z_), ServiceTypeVersion: wu(z_), ServiceType: wu(z_) }), hS = Pu(Kv, { ProviderName: wu(z_), ProviderSite: wu(Yv), ServiceContact: wu((function (t, e) { return Lu({}, aS, t, e) })) }); function cS(t, e, i) { let n; i = i || 1e5; const r = new Array(e); for (n = 0; n < e; ++n)r[n] = 0; for (let i = 0, s = t.length; i < s;)for (n = 0; n < e; ++n, ++i) { const e = t[i], s = e - r[n]; r[n] = e, t[i] = s } return dS(t, i) } function uS(t, e, i) { let n; i = i || 1e5; const r = new Array(e); for (n = 0; n < e; ++n)r[n] = 0; const s = gS(t, i); for (let t = 0, i = s.length; t < i;)for (n = 0; n < e; ++n, ++t)r[n] += s[t], s[t] = r[n]; return s } function dS(t, e) { e = e || 1e5; for (let i = 0, n = t.length; i < n; ++i)t[i] = Math.round(t[i] * e); return fS(t) } function gS(t, e) { e = e || 1e5; const i = pS(t); for (let t = 0, n = i.length; t < n; ++t)i[t] /= e; return i } function fS(t) { for (let e = 0, i = t.length; e < i; ++e) { const i = t[e]; t[e] = i < 0 ? ~(i << 1) : i << 1 } return mS(t) } function pS(t) { const e = _S(t); for (let t = 0, i = e.length; t < i; ++t) { const i = e[t]; e[t] = 1 & i ? ~(i >> 1) : i >> 1 } return e } function mS(t) { let e = ""; for (let i = 0, n = t.length; i < n; ++i)e += yS(t[i]); return e } function _S(t) { const e = []; let i = 0, n = 0; for (let r = 0, s = t.length; r < s; ++r) { const s = t.charCodeAt(r) - 63; i |= (31 & s) << n, s < 32 ? (e.push(i), i = 0, n = 0) : n += 5 } return e } function yS(t) { let e, i = ""; for (; t >= 32;)e = 63 + (32 | 31 & t), i += String.fromCharCode(e), t >>= 5; return e = t + 63, i += String.fromCharCode(e), i } const xS = { Point: function (t, e, i) { const n = t.coordinates; e && i && TS(n, e, i); return new Wn(n) }, LineString: function (t, e) { const i = vS(t.arcs, e); return new Op(i) }, Polygon: function (t, e) { const i = []; for (let n = 0, r = t.arcs.length; n < r; ++n)i[n] = vS(t.arcs[n], e); return new ur(i) }, MultiPoint: function (t, e, i) { const n = t.coordinates; if (e && i) for (let t = 0, r = n.length; t < r; ++t)TS(n[t], e, i); return new Dp(n) }, MultiLineString: function (t, e) { const i = []; for (let n = 0, r = t.arcs.length; n < r; ++n)i[n] = vS(t.arcs[n], e); return new Np(i) }, MultiPolygon: function (t, e) { const i = []; for (let n = 0, r = t.arcs.length; n < r; ++n) { const r = t.arcs[n], s = []; for (let t = 0, i = r.length; t < i; ++t)s[t] = vS(r[t], e); i[n] = s } return new Gp(i) } }; function vS(t, e) { const i = []; let n; for (let r = 0, s = t.length; r < s; ++r)if (n = t[r], r > 0 && i.pop(), n >= 0) { const t = e[n]; for (let e = 0, n = t.length; e < n; ++e)i.push(t[e].slice(0)) } else { const t = e[~n]; for (let e = t.length - 1; e >= 0; --e)i.push(t[e].slice(0)) } return i } function SS(t, e, i, n, r, s, o) { const a = t.geometries, l = []; for (let t = 0, h = a.length; t < h; ++t)l[t] = wS(a[t], e, i, n, r, s, o); return l } function wS(t, e, i, n, r, s, o) { let a = null; const l = t.type; if (l) { const r = xS[l]; a = "Point" === l || "MultiPoint" === l ? r(t, i, n) : r(t, e), a = Qp(a, !1, o) } const h = new lt({ geometry: a }); void 0 !== t.id && h.setId(t.id); let c = t.properties; return r && (c || (c = {}), c[r] = s), c && h.setProperties(c, !0), h } function ES(t, e, i) { let n = 0, r = 0; for (let s = 0, o = t.length; s < o; ++s) { const o = t[s]; n += o[0], r += o[1], o[0] = n, o[1] = r, TS(o, e, i) } } function TS(t, e, i) { t[0] = t[0] * e[0] + i[0], t[1] = t[1] * e[1] + i[1] } class CS { constructor(t) { this.tagName_ = t } getTagName() { return this.tagName_ } } class bS extends CS { constructor(t, e) { super(t), this.conditions = e, at(this.conditions.length >= 2, 57) } } class RS extends bS { constructor(t) { super("And", Array.prototype.slice.call(arguments)) } } class PS extends CS { constructor(t, e, i) { if (super("BBOX"), this.geometryName = t, this.extent = e, 4 !== e.length) throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])"); this.srsName = i } } class IS extends CS { constructor(t, e, i, n) { super(t), this.geometryName = e || "the_geom", this.geometry = i, this.srsName = n } } class LS extends IS { constructor(t, e, i) { super("Contains", t, e, i) } } class MS extends IS { constructor(t, e, i, n, r) { super("DWithin", t, e, r), this.distance = i, this.unit = n } } class FS extends IS { constructor(t, e, i) { super("Disjoint", t, e, i) } } class AS extends CS { constructor(t, e) { super(t), this.propertyName = e } } class OS extends AS { constructor(t, e, i) { super("During", t), this.begin = e, this.end = i } } class NS extends AS { constructor(t, e, i, n) { super(t, e), this.expression = i, this.matchCase = n } } class DS extends NS { constructor(t, e, i) { super("PropertyIsEqualTo", t, e, i) } } class kS extends NS { constructor(t, e) { super("PropertyIsGreaterThan", t, e) } } class GS extends NS { constructor(t, e) { super("PropertyIsGreaterThanOrEqualTo", t, e) } } class jS extends IS { constructor(t, e, i) { super("Intersects", t, e, i) } } class BS extends AS { constructor(t, e, i) { super("PropertyIsBetween", t), this.lowerBoundary = e, this.upperBoundary = i } } class US extends AS { constructor(t, e, i, n, r, s) { super("PropertyIsLike", t), this.pattern = e, this.wildCard = void 0 !== i ? i : "*", this.singleChar = void 0 !== n ? n : ".", this.escapeChar = void 0 !== r ? r : "!", this.matchCase = s } } class zS extends AS { constructor(t) { super("PropertyIsNull", t) } } class XS extends NS { constructor(t, e) { super("PropertyIsLessThan", t, e) } } class VS extends NS { constructor(t, e) { super("PropertyIsLessThanOrEqualTo", t, e) } } class WS extends CS { constructor(t) { super("Not"), this.condition = t } } class ZS extends NS { constructor(t, e, i) { super("PropertyIsNotEqualTo", t, e, i) } } class YS extends bS { constructor(t) { super("Or", Array.prototype.slice.call(arguments)) } } class KS extends CS { constructor(t) { super("ResourceId"), this.rid = t } } class qS extends IS { constructor(t, e, i) { super("Within", t, e, i) } } function HS(t) { const e = [null].concat(Array.prototype.slice.call(arguments)); return new (Function.prototype.bind.apply(RS, e)) } function $S(t, e, i) { return new PS(t, e, i) } const JS = { "http://www.opengis.net/gml": { boundedBy: wu(O_.prototype.readExtentElement, "bounds") }, "http://www.opengis.net/wfs/2.0": { member: xu(O_.prototype.readFeaturesInternal) } }, QS = { "http://www.opengis.net/wfs": { totalInserted: wu(B_), totalUpdated: wu(B_), totalDeleted: wu(B_) }, "http://www.opengis.net/wfs/2.0": { totalInserted: wu(B_), totalUpdated: wu(B_), totalDeleted: wu(B_) } }, tw = { "http://www.opengis.net/wfs": { TransactionSummary: wu(uw, "transactionSummary"), InsertResults: wu(pw, "insertIds") }, "http://www.opengis.net/wfs/2.0": { TransactionSummary: wu(uw, "transactionSummary"), InsertResults: wu(pw, "insertIds") } }, ew = { "http://www.opengis.net/wfs": { PropertyName: Eu(K_) }, "http://www.opengis.net/wfs/2.0": { PropertyName: Eu(K_) } }, iw = { "http://www.opengis.net/wfs": { Insert: Eu(mw), Update: Eu(vw), Delete: Eu(xw), Property: Eu(Sw), Native: Eu(ww) }, "http://www.opengis.net/wfs/2.0": { Insert: Eu(mw), Update: Eu(vw), Delete: Eu(xw), Property: Eu(Sw), Native: Eu(ww) } }, nw = "feature", rw = "http://www.w3.org/2000/xmlns/", sw = { "2.0.0": "http://www.opengis.net/ogc/1.1", "1.1.0": "http://www.opengis.net/ogc", "1.0.0": "http://www.opengis.net/ogc" }, ow = { "2.0.0": "http://www.opengis.net/wfs/2.0", "1.1.0": "http://www.opengis.net/wfs", "1.0.0": "http://www.opengis.net/wfs" }, aw = { "2.0.0": "http://www.opengis.net/fes/2.0", "1.1.0": "http://www.opengis.net/fes", "1.0.0": "http://www.opengis.net/fes" }, lw = { "2.0.0": "http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd", "1.1.0": "http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd", "1.0.0": "http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd" }, hw = { "2.0.0": ty, "1.1.0": J_, "1.0.0": H_ }; function cw(t, e, i, n) { Fu(n, iw, Cu(t), e, i) } function uw(t, e) { return Lu({}, QS, t, e) } const dw = { "http://www.opengis.net/ogc": { FeatureId: xu((function (t, e) { return t.getAttribute("fid") })) }, "http://www.opengis.net/ogc/1.1": { FeatureId: xu((function (t, e) { return t.getAttribute("fid") })) } }; function gw(t, e) { Iu(dw, t, e) } const fw = { "http://www.opengis.net/wfs": { Feature: gw }, "http://www.opengis.net/wfs/2.0": { Feature: gw } }; function pw(t, e) { return Lu([], fw, t, e) } function mw(t, e, i) { const n = i[i.length - 1], r = n.featureType, s = n.featureNS, o = n.gmlVersion, a = du(s, r); t.appendChild(a), 2 === o ? H_.prototype.writeFeatureElement(a, e, i) : 3 === o ? J_.prototype.writeFeatureElement(a, e, i) : ty.prototype.writeFeatureElement(a, e, i) } function _w(t, e, i) { const n = i[i.length - 1].version, r = sw[n], s = du(r, "Filter"), o = du(r, "FeatureId"); s.appendChild(o), o.setAttribute("fid", e), t.appendChild(s) } function yw(t, e) { const i = (t = t || nw) + ":"; return e.startsWith(i) ? e : i + e } function xw(t, e, i) { const n = i[i.length - 1]; at(void 0 !== e.getId(), 26); const r = n.featureType, s = n.featurePrefix, o = n.featureNS, a = yw(s, r); t.setAttribute("typeName", a), t.setAttributeNS(rw, "xmlns:" + s, o); const l = e.getId(); void 0 !== l && _w(t, l, i) } function vw(t, e, i) { const n = i[i.length - 1]; at(void 0 !== e.getId(), 27); const r = n.version, s = n.featureType, o = n.featurePrefix, a = n.featureNS, l = yw(o, s), h = e.getGeometryName(); t.setAttribute("typeName", l), t.setAttributeNS(rw, "xmlns:" + o, a); const c = e.getId(); if (void 0 !== c) { const s = e.getKeys(), o = []; for (let t = 0, i = s.length; t < i; t++) { const i = e.get(s[t]); if (void 0 !== i) { let e = s[t]; i && "function" == typeof i.getSimplifiedGeometry && (e = h), o.push({ name: e, value: i }) } } Fu({ version: r, gmlVersion: n.gmlVersion, node: t, hasZ: n.hasZ, srsName: n.srsName }, iw, Cu("Property"), o, i), _w(t, c, i) } } function Sw(t, e, i) { const n = i[i.length - 1], r = n.version, s = ow[r], o = du(s, "Name"), a = n.gmlVersion; if (t.appendChild(o), K_(o, e.name), void 0 !== e.value && null !== e.value) { const n = du(s, "Value"); t.appendChild(n), e.value && "function" == typeof e.value.getSimplifiedGeometry ? 2 === a ? H_.prototype.writeGeometryElement(n, e.value, i) : 3 === a ? J_.prototype.writeGeometryElement(n, e.value, i) : ty.prototype.writeGeometryElement(n, e.value, i) : K_(n, e.value) } } function ww(t, e, i) { e.vendorId && t.setAttribute("vendorId", e.vendorId), void 0 !== e.safeToIgnore && t.setAttribute("safeToIgnore", String(e.safeToIgnore)), void 0 !== e.value && K_(t, e.value) } const Ew = { "http://www.opengis.net/wfs": { Query: Eu(Tw) }, "http://www.opengis.net/wfs/2.0": { Query: Eu(Tw) }, "http://www.opengis.net/ogc": { During: Eu(Iw), And: Eu(Lw), Or: Eu(Lw), Not: Eu(Mw), BBOX: Eu(bw), Contains: Eu(Rw), Intersects: Eu(Rw), Within: Eu(Rw), DWithin: Eu(Pw), PropertyIsEqualTo: Eu(Fw), PropertyIsNotEqualTo: Eu(Fw), PropertyIsLessThan: Eu(Fw), PropertyIsLessThanOrEqualTo: Eu(Fw), PropertyIsGreaterThan: Eu(Fw), PropertyIsGreaterThanOrEqualTo: Eu(Fw), PropertyIsNull: Eu(Aw), PropertyIsBetween: Eu(Ow), PropertyIsLike: Eu(Nw) }, "http://www.opengis.net/fes/2.0": { During: Eu(Iw), And: Eu(Lw), Or: Eu(Lw), Not: Eu(Mw), BBOX: Eu(bw), Contains: Eu(Rw), Disjoint: Eu(Rw), Intersects: Eu(Rw), ResourceId: Eu((function (t, e, i) { t.setAttribute("rid", e.rid) })), Within: Eu(Rw), DWithin: Eu(Pw), PropertyIsEqualTo: Eu(Fw), PropertyIsNotEqualTo: Eu(Fw), PropertyIsLessThan: Eu(Fw), PropertyIsLessThanOrEqualTo: Eu(Fw), PropertyIsGreaterThan: Eu(Fw), PropertyIsGreaterThanOrEqualTo: Eu(Fw), PropertyIsNull: Eu(Aw), PropertyIsBetween: Eu(Ow), PropertyIsLike: Eu(Nw) } }; function Tw(t, e, i) { const n = i[i.length - 1], r = n.version, s = n.featurePrefix, o = n.featureNS, a = n.propertyNames, l = n.srsName; let h, c; h = s ? yw(s, e) : e, c = "2.0.0" === r ? "typeNames" : "typeName", t.setAttribute(c, h), l && t.setAttribute("srsName", l), o && t.setAttributeNS(rw, "xmlns:" + s, o); const u = Object.assign({}, n); u.node = t, Fu(u, ew, Cu("PropertyName"), a, i); const d = n.filter; if (d) { const e = du(Uw(r), "Filter"); t.appendChild(e), Cw(e, d, i) } } function Cw(t, e, i) { const n = i[i.length - 1], r = { node: t }; Object.assign(r, { context: n }), Fu(r, Ew, Cu(e.getTagName()), [e], i) } function bw(t, e, i) { const n = i[i.length - 1], r = n.context.version; n.srsName = e.srsName; const s = hw[r]; Gw(r, t, e.geometryName), s.prototype.writeGeometryElement(t, e.extent, i) } function Rw(t, e, i) { const n = i[i.length - 1], r = n.context.version; n.srsName = e.srsName; const s = hw[r]; Gw(r, t, e.geometryName), s.prototype.writeGeometryElement(t, e.geometry, i) } function Pw(t, e, i) { const n = i[i.length - 1].context.version; Rw(t, e, i); const r = du(Uw(n), "Distance"); K_(r, e.distance.toString()), "2.0.0" === n ? r.setAttribute("uom", e.unit) : r.setAttribute("units", e.unit), t.appendChild(r) } function Iw(t, e, i) { const n = i[i.length - 1].context.version; Dw(aw[n], "ValueReference", t, e.propertyName); const r = du(F_, "TimePeriod"); t.appendChild(r); const s = du(F_, "begin"); r.appendChild(s), jw(s, e.begin); const o = du(F_, "end"); r.appendChild(o), jw(o, e.end) } function Lw(t, e, i) { const n = i[i.length - 1].context, r = { node: t }; Object.assign(r, { context: n }); const s = e.conditions; for (let t = 0, e = s.length; t < e; ++t) { const e = s[t]; Fu(r, Ew, Cu(e.getTagName()), [e], i) } } function Mw(t, e, i) { const n = i[i.length - 1].context, r = { node: t }; Object.assign(r, { context: n }); const s = e.condition; Fu(r, Ew, Cu(s.getTagName()), [s], i) } function Fw(t, e, i) { const n = i[i.length - 1].context.version; void 0 !== e.matchCase && t.setAttribute("matchCase", e.matchCase.toString()), Gw(n, t, e.propertyName), kw(n, t, "" + e.expression) } function Aw(t, e, i) { Gw(i[i.length - 1].context.version, t, e.propertyName) } function Ow(t, e, i) { const n = i[i.length - 1].context.version, r = Uw(n); Gw(n, t, e.propertyName); const s = du(r, "LowerBoundary"); t.appendChild(s), kw(n, s, "" + e.lowerBoundary); const o = du(r, "UpperBoundary"); t.appendChild(o), kw(n, o, "" + e.upperBoundary) } function Nw(t, e, i) { const n = i[i.length - 1].context.version; t.setAttribute("wildCard", e.wildCard), t.setAttribute("singleChar", e.singleChar), t.setAttribute("escapeChar", e.escapeChar), void 0 !== e.matchCase && t.setAttribute("matchCase", e.matchCase.toString()), Gw(n, t, e.propertyName), kw(n, t, "" + e.pattern) } function Dw(t, e, i, n) { const r = du(t, e); K_(r, n), i.appendChild(r) } function kw(t, e, i) { Dw(Uw(t), "Literal", e, i) } function Gw(t, e, i) { "2.0.0" === t ? Dw(aw[t], "ValueReference", e, i) : Dw(sw[t], "PropertyName", e, i) } function jw(t, e) { const i = du(F_, "TimeInstant"); t.appendChild(i); const n = du(F_, "timePosition"); i.appendChild(n), K_(n, e) } function Bw(t, e, i) { const n = i[i.length - 1], r = Object.assign({}, n); r.node = t, Fu(r, Ew, Cu("Query"), e, i) } function Uw(t) { let e; return e = "2.0.0" === t ? aw[t] : sw[t], e } const zw = 1, Xw = 2, Vw = 3, Ww = 4, Zw = 5, Yw = 6, Kw = 7, qw = 15, Hw = 16, $w = 17; class Jw { constructor(t) { this.view_ = t, this.pos_ = 0, this.initialized_ = !1, this.isLittleEndian_ = !1, this.hasZ_ = !1, this.hasM_ = !1, this.srid_ = null, this.layout_ = "XY" } readUint8() { return this.view_.getUint8(this.pos_++) } readUint32(t) { return this.view_.getUint32((this.pos_ += 4) - 4, void 0 !== t ? t : this.isLittleEndian_) } readDouble(t) { return this.view_.getFloat64((this.pos_ += 8) - 8, void 0 !== t ? t : this.isLittleEndian_) } readPoint() { const t = []; return t.push(this.readDouble()), t.push(this.readDouble()), this.hasZ_ && t.push(this.readDouble()), this.hasM_ && t.push(this.readDouble()), t } readLineString() { const t = this.readUint32(), e = []; for (let i = 0; i < t; i++)e.push(this.readPoint()); return e } readPolygon() { const t = this.readUint32(), e = []; for (let i = 0; i < t; i++)e.push(this.readLineString()); return e } readWkbHeader(t) { const e = this.readUint8() > 0, i = this.readUint32(e), n = Math.floor((268435455 & i) / 1e3), r = Boolean(2147483648 & i) || 1 === n || 3 === n, s = Boolean(1073741824 & i) || 2 === n || 3 === n, o = Boolean(536870912 & i), a = (268435455 & i) % 1e3, l = ["XY", r ? "Z" : "", s ? "M" : ""].join(""), h = o ? this.readUint32(e) : null; if (void 0 !== t && t !== a) throw new Error("Unexpected WKB geometry type " + a); if (this.initialized_) { if (this.isLittleEndian_ !== e) throw new Error("Inconsistent endian"); if (this.layout_ !== l) throw new Error("Inconsistent geometry layout"); if (h && this.srid_ !== h) throw new Error("Inconsistent coordinate system (SRID)") } else this.isLittleEndian_ = e, this.hasZ_ = r, this.hasM_ = s, this.layout_ = l, this.srid_ = h, this.initialized_ = !0; return a } readWkbPayload(t) { switch (t) { case zw: return this.readPoint(); case Xw: return this.readLineString(); case Vw: case $w: return this.readPolygon(); case Ww: return this.readMultiPoint(); case Zw: return this.readMultiLineString(); case Yw: case qw: case Hw: return this.readMultiPolygon(); case Kw: return this.readGeometryCollection(); default: throw new Error("Unsupported WKB geometry type " + t + " is found") } } readWkbBlock(t) { return this.readWkbPayload(this.readWkbHeader(t)) } readWkbCollection(t, e) { const i = this.readUint32(), n = []; for (let r = 0; r < i; r++) { const i = t.call(this, e); i && n.push(i) } return n } readMultiPoint() { return this.readWkbCollection(this.readWkbBlock, zw) } readMultiLineString() { return this.readWkbCollection(this.readWkbBlock, Xw) } readMultiPolygon() { return this.readWkbCollection(this.readWkbBlock, Vw) } readGeometryCollection() { return this.readWkbCollection(this.readGeometry) } readGeometry() { const t = this.readWkbHeader(), e = this.readWkbPayload(t); switch (t) { case zw: return new Wn(e, this.layout_); case Xw: return new Op(e, this.layout_); case Vw: case $w: return new ur(e, this.layout_); case Ww: return new Dp(e, this.layout_); case Zw: return new Np(e, this.layout_); case Yw: case qw: case Hw: return new Gp(e, this.layout_); case Kw: return new Ip(e); default: return null } } getSrid() { return this.srid_ } } class Qw { constructor(t) { t = t || {}, this.layout_ = t.layout, this.isLittleEndian_ = !1 !== t.littleEndian, this.isEWKB_ = !1 !== t.ewkb, this.writeQueue_ = [], this.nodata_ = Object.assign({ X: 0, Y: 0, Z: 0, M: 0 }, t.nodata) } writeUint8(t) { this.writeQueue_.push([1, t]) } writeUint32(t) { this.writeQueue_.push([4, t]) } writeDouble(t) { this.writeQueue_.push([8, t]) } writePoint(t, e) { const i = Object.assign.apply(null, e.split("").map(((e, i) => ({ [e]: t[i] })))); for (const t of this.layout_) this.writeDouble(t in i ? i[t] : this.nodata_[t]) } writeLineString(t, e) { this.writeUint32(t.length); for (let i = 0; i < t.length; i++)this.writePoint(t[i], e) } writePolygon(t, e) { this.writeUint32(t.length); for (let i = 0; i < t.length; i++)this.writeLineString(t[i], e) } writeWkbHeader(t, e) { t %= 1e3, this.layout_.includes("Z") && (t += this.isEWKB_ ? 2147483648 : 1e3), this.layout_.includes("M") && (t += this.isEWKB_ ? 1073741824 : 2e3), this.isEWKB_ && Number.isInteger(e) && (t |= 536870912), this.writeUint8(this.isLittleEndian_ ? 1 : 0), this.writeUint32(t), this.isEWKB_ && Number.isInteger(e) && this.writeUint32(e) } writeMultiPoint(t, e) { this.writeUint32(t.length); for (let i = 0; i < t.length; i++)this.writeWkbHeader(1), this.writePoint(t[i], e) } writeMultiLineString(t, e) { this.writeUint32(t.length); for (let i = 0; i < t.length; i++)this.writeWkbHeader(2), this.writeLineString(t[i], e) } writeMultiPolygon(t, e) { this.writeUint32(t.length); for (let i = 0; i < t.length; i++)this.writeWkbHeader(3), this.writePolygon(t[i], e) } writeGeometryCollection(t) { this.writeUint32(t.length); for (let e = 0; e < t.length; e++)this.writeGeometry(t[e]) } findMinimumLayout(t, e = "XYZM") { if (t instanceof _n) return (i = t.getLayout()) === (n = e) ? i : "XYZM" === i ? n : "XYZM" === n ? i : "XY"; var i, n; if (t instanceof Ip) { const i = t.getGeometriesArray(); for (let t = 0; t < i.length && "XY" !== e; t++)e = this.findMinimumLayout(i[t], e) } return e } writeGeometry(t, e) { const i = { Point: zw, LineString: Xw, Polygon: Vw, MultiPoint: Ww, MultiLineString: Zw, MultiPolygon: Yw, GeometryCollection: Kw }, n = t.getType(), r = i[n]; if (!r) throw new Error("GeometryType " + n + " is not supported"); if (this.layout_ || (this.layout_ = this.findMinimumLayout(t)), this.writeWkbHeader(r, e), t instanceof _n) { ({ Point: this.writePoint, LineString: this.writeLineString, Polygon: this.writePolygon, MultiPoint: this.writeMultiPoint, MultiLineString: this.writeMultiLineString, MultiPolygon: this.writeMultiPolygon })[n].call(this, t.getCoordinates(), t.getLayout()) } else t instanceof Ip && this.writeGeometryCollection(t.getGeometriesArray()) } getBuffer() { const t = this.writeQueue_.reduce(((t, e) => t + e[0]), 0), e = new ArrayBuffer(t), i = new DataView(e); let n = 0; return this.writeQueue_.forEach((t => { switch (t[0]) { case 1: i.setUint8(n, t[1]); break; case 4: i.setUint32(n, t[1], this.isLittleEndian_); break; case 8: i.setFloat64(n, t[1], this.isLittleEndian_) }n += t[0] })), e } } function tE(t) { return "string" == typeof t ? function (t) { const e = new Uint8Array(t.length / 2); for (let i = 0; i < t.length / 2; i++)e[i] = parseInt(t.substr(2 * i, 2), 16); return new DataView(e.buffer) }(t) : ArrayBuffer.isView(t) ? t instanceof DataView ? t : new DataView(t.buffer, t.byteOffset, t.byteLength) : t instanceof ArrayBuffer ? new DataView(t) : null } const eE = { POINT: Wn, LINESTRING: Op, POLYGON: ur, MULTIPOINT: Dp, MULTILINESTRING: Np, MULTIPOLYGON: Gp }, iE = "EMPTY", nE = 0, rE = 1, sE = 2, oE = 3, aE = 4, lE = 5, hE = 6, cE = { Point: "POINT", LineString: "LINESTRING", Polygon: "POLYGON", MultiPoint: "MULTIPOINT", MultiLineString: "MULTILINESTRING", MultiPolygon: "MULTIPOLYGON", GeometryCollection: "GEOMETRYCOLLECTION", Circle: "CIRCLE" }; class uE { constructor(t) { this.wkt = t, this.index_ = -1 } isAlpha_(t) { return t >= "a" && t <= "z" || t >= "A" && t <= "Z" } isNumeric_(t, e) { return e = void 0 !== e && e, t >= "0" && t <= "9" || "." == t && !e } isWhiteSpace_(t) { return " " == t || "\t" == t || "\r" == t || "\n" == t } nextChar_() { return this.wkt.charAt(++this.index_) } nextToken() { const t = this.nextChar_(), e = this.index_; let i, n = t; if ("(" == t) i = sE; else if ("," == t) i = lE; else if (")" == t) i = oE; else if (this.isNumeric_(t) || "-" == t) i = aE, n = this.readNumber_(); else if (this.isAlpha_(t)) i = rE, n = this.readText_(); else { if (this.isWhiteSpace_(t)) return this.nextToken(); if ("" !== t) throw new Error("Unexpected character: " + t); i = hE } return { position: e, value: n, type: i } } readNumber_() { let t; const e = this.index_; let i = !1, n = !1; do { "." == t ? i = !0 : "e" != t && "E" != t || (n = !0), t = this.nextChar_() } while (this.isNumeric_(t, i) || !n && ("e" == t || "E" == t) || n && ("-" == t || "+" == t)); return parseFloat(this.wkt.substring(e, this.index_--)) } readText_() { let t; const e = this.index_; do { t = this.nextChar_() } while (this.isAlpha_(t)); return this.wkt.substring(e, this.index_--).toUpperCase() } } class dE { constructor(t) { this.lexer_ = t, this.token_ = { position: 0, type: nE }, this.layout_ = "XY" } consume_() { this.token_ = this.lexer_.nextToken() } isTokenType(t) { return this.token_.type == t } match(t) { const e = this.isTokenType(t); return e && this.consume_(), e } parse() { return this.consume_(), this.parseGeometry_() } parseGeometryLayout_() { let t = "XY"; const e = this.token_; if (this.isTokenType(rE)) { const i = e.value; "Z" === i ? t = "XYZ" : "M" === i ? t = "XYM" : "ZM" === i && (t = "XYZM"), "XY" !== t && this.consume_() } return t } parseGeometryCollectionText_() { if (this.match(sE)) { const t = []; do { t.push(this.parseGeometry_()) } while (this.match(lE)); if (this.match(oE)) return t } throw new Error(this.formatErrorMessage_()) } parsePointText_() { if (this.match(sE)) { const t = this.parsePoint_(); if (this.match(oE)) return t } throw new Error(this.formatErrorMessage_()) } parseLineStringText_() { if (this.match(sE)) { const t = this.parsePointList_(); if (this.match(oE)) return t } throw new Error(this.formatErrorMessage_()) } parsePolygonText_() { if (this.match(sE)) { const t = this.parseLineStringTextList_(); if (this.match(oE)) return t } throw new Error(this.formatErrorMessage_()) } parseMultiPointText_() { if (this.match(sE)) { let t; if (t = this.token_.type == sE ? this.parsePointTextList_() : this.parsePointList_(), this.match(oE)) return t } throw new Error(this.formatErrorMessage_()) } parseMultiLineStringText_() { if (this.match(sE)) { const t = this.parseLineStringTextList_(); if (this.match(oE)) return t } throw new Error(this.formatErrorMessage_()) } parseMultiPolygonText_() { if (this.match(sE)) { const t = this.parsePolygonTextList_(); if (this.match(oE)) return t } throw new Error(this.formatErrorMessage_()) } parsePoint_() { const t = [], e = this.layout_.length; for (let i = 0; i < e; ++i) { const e = this.token_; if (!this.match(aE)) break; t.push(e.value) } if (t.length == e) return t; throw new Error(this.formatErrorMessage_()) } parsePointList_() { const t = [this.parsePoint_()]; for (; this.match(lE);)t.push(this.parsePoint_()); return t } parsePointTextList_() { const t = [this.parsePointText_()]; for (; this.match(lE);)t.push(this.parsePointText_()); return t } parseLineStringTextList_() { const t = [this.parseLineStringText_()]; for (; this.match(lE);)t.push(this.parseLineStringText_()); return t } parsePolygonTextList_() { const t = [this.parsePolygonText_()]; for (; this.match(lE);)t.push(this.parsePolygonText_()); return t } isEmptyGeometry_() { const t = this.isTokenType(rE) && this.token_.value == iE; return t && this.consume_(), t } formatErrorMessage_() { return "Unexpected `" + this.token_.value + "` at position " + this.token_.position + " in `" + this.lexer_.wkt + "`" } parseGeometry_() { const t = this.token_; if (this.match(rE)) { const e = t.value; this.layout_ = this.parseGeometryLayout_(); const i = this.isEmptyGeometry_(); if ("GEOMETRYCOLLECTION" == e) { if (i) return new Ip([]); const t = this.parseGeometryCollectionText_(); return new Ip(t) } { const t = eE[e]; if (!t) throw new Error("Invalid geometry type: " + e); let n; if (i) n = "POINT" == e ? [NaN, NaN] : []; else switch (e) { case "POINT": n = this.parsePointText_(); break; case "LINESTRING": n = this.parseLineStringText_(); break; case "POLYGON": n = this.parsePolygonText_(); break; case "MULTIPOINT": n = this.parseMultiPointText_(); break; case "MULTILINESTRING": n = this.parseMultiLineStringText_(); break; case "MULTIPOLYGON": n = this.parseMultiPolygonText_() }return new t(n, this.layout_) } } throw new Error(this.formatErrorMessage_()) } } function gE(t) { const e = t.getCoordinates(); return 0 === e.length ? "" : e.join(" ") } function fE(t) { const e = t.getCoordinates(), i = []; for (let t = 0, n = e.length; t < n; ++t)i.push(e[t].join(" ")); return i.join(",") } function pE(t) { const e = [], i = t.getLinearRings(); for (let t = 0, n = i.length; t < n; ++t)e.push("(" + fE(i[t]) + ")"); return e.join(",") } const mE = { Point: gE, LineString: fE, Polygon: pE, MultiPoint: function (t) { const e = [], i = t.getPoints(); for (let t = 0, n = i.length; t < n; ++t)e.push("(" + gE(i[t]) + ")"); return e.join(",") }, MultiLineString: function (t) { const e = [], i = t.getLineStrings(); for (let t = 0, n = i.length; t < n; ++t)e.push("(" + fE(i[t]) + ")"); return e.join(",") }, MultiPolygon: function (t) { const e = [], i = t.getPolygons(); for (let t = 0, n = i.length; t < n; ++t)e.push("(" + pE(i[t]) + ")"); return e.join(",") }, GeometryCollection: function (t) { const e = [], i = t.getGeometries(); for (let t = 0, n = i.length; t < n; ++t)e.push(_E(i[t])); return e.join(",") } }; function _E(t) { const e = t.getType(), i = (0, mE[e])(t); let n = cE[e]; if ("function" == typeof t.getFlatCoordinates) { const e = function (t) { const e = t.getLayout(); let i = ""; return "XYZ" !== e && "XYZM" !== e || (i += "Z"), "XYM" !== e && "XYZM" !== e || (i += "M"), i }(t); e.length > 0 && (n += " " + e) } return 0 === i.length ? n + " " + iE : n + "(" + i + ")" } const yE = [null, "http://www.opengis.net/wms"], xE = Pu(yE, { Service: wu((function (t, e) { return Lu({}, SE, t, e) })), Capability: wu((function (t, e) { return Lu({}, vE, t, e) })) }), vE = Pu(yE, { Request: wu((function (t, e) { return Lu({}, IE, t, e) })), Exception: wu((function (t, e) { return Lu([], CE, t, e) })), Layer: wu((function (t, e) { const i = Lu({}, bE, t, e); if (void 0 === i.Layer) return Object.assign(i, DE(t, e)); return i })) }); const SE = Pu(yE, { Name: wu(z_), Title: wu(z_), Abstract: wu(z_), KeywordList: wu(BE), OnlineResource: wu(Yv), ContactInformation: wu((function (t, e) { return Lu({}, wE, t, e) })), Fees: wu(z_), AccessConstraints: wu(z_), LayerLimit: wu(B_), MaxWidth: wu(B_), MaxHeight: wu(B_) }), wE = Pu(yE, { ContactPersonPrimary: wu((function (t, e) { return Lu({}, EE, t, e) })), ContactPosition: wu(z_), ContactAddress: wu((function (t, e) { return Lu({}, TE, t, e) })), ContactVoiceTelephone: wu(z_), ContactFacsimileTelephone: wu(z_), ContactElectronicMailAddress: wu(z_) }), EE = Pu(yE, { ContactPerson: wu(z_), ContactOrganization: wu(z_) }), TE = Pu(yE, { AddressType: wu(z_), Address: wu(z_), City: wu(z_), StateOrProvince: wu(z_), PostCode: wu(z_), Country: wu(z_) }), CE = Pu(yE, { Format: xu(z_) }), bE = Pu(yE, { Name: wu(z_), Title: wu(z_), Abstract: wu(z_), KeywordList: wu(BE), CRS: Su(z_), EX_GeographicBoundingBox: wu((function (t, e) { const i = Lu({}, PE, t, e); if (!i) return; const n = i.westBoundLongitude, r = i.southBoundLatitude, s = i.eastBoundLongitude, o = i.northBoundLatitude; if (void 0 === n || void 0 === r || void 0 === s || void 0 === o) return; return [n, r, s, o] })), BoundingBox: Su((function (t, e) { const i = [j_(t.getAttribute("minx")), j_(t.getAttribute("miny")), j_(t.getAttribute("maxx")), j_(t.getAttribute("maxy"))], n = [j_(t.getAttribute("resx")), j_(t.getAttribute("resy"))]; return { crs: t.getAttribute("CRS"), extent: i, res: n } })), Dimension: Su((function (t, e) { return { name: t.getAttribute("name"), units: t.getAttribute("units"), unitSymbol: t.getAttribute("unitSymbol"), default: t.getAttribute("default"), multipleValues: D_(t.getAttribute("multipleValues")), nearestValue: D_(t.getAttribute("nearestValue")), current: D_(t.getAttribute("current")), values: z_(t) } })), Attribution: wu((function (t, e) { return Lu({}, RE, t, e) })), AuthorityURL: Su((function (t, e) { const i = kE(t, e); if (i) return i.name = t.getAttribute("name"), i; return })), Identifier: Su(z_), MetadataURL: Su((function (t, e) { const i = kE(t, e); if (i) return i.type = t.getAttribute("type"), i; return })), DataURL: Su(kE), FeatureListURL: Su(kE), Style: Su((function (t, e) { return Lu({}, AE, t, e) })), MinScaleDenominator: wu(G_), MaxScaleDenominator: wu(G_), Layer: Su(DE) }), RE = Pu(yE, { Title: wu(z_), OnlineResource: wu(Yv), LogoURL: wu(jE) }), PE = Pu(yE, { westBoundLongitude: wu(G_), eastBoundLongitude: wu(G_), southBoundLatitude: wu(G_), northBoundLatitude: wu(G_) }), IE = Pu(yE, { GetCapabilities: wu(GE), GetMap: wu(GE), GetFeatureInfo: wu(GE) }), LE = Pu(yE, { Format: Su(z_), DCPType: Su((function (t, e) { return Lu({}, ME, t, e) })) }), ME = Pu(yE, { HTTP: wu((function (t, e) { return Lu({}, FE, t, e) })) }), FE = Pu(yE, { Get: wu(kE), Post: wu(kE) }), AE = Pu(yE, { Name: wu(z_), Title: wu(z_), Abstract: wu(z_), LegendURL: Su(jE), StyleSheetURL: wu(kE), StyleURL: wu(kE) }), OE = Pu(yE, { Format: wu(z_), OnlineResource: wu(Yv) }), NE = Pu(yE, { Keyword: xu(z_) }); function DE(t, e) { const i = e[e.length - 1], n = Lu({}, bE, t, e); if (!n) return; let r = D_(t.getAttribute("queryable")); void 0 === r && (r = i.queryable), n.queryable = void 0 !== r && r; let s = U_(t.getAttribute("cascaded")); void 0 === s && (s = i.cascaded), n.cascaded = s; let o = D_(t.getAttribute("opaque")); void 0 === o && (o = i.opaque), n.opaque = void 0 !== o && o; let a = D_(t.getAttribute("noSubsets")); void 0 === a && (a = i.noSubsets), n.noSubsets = void 0 !== a && a; let l = j_(t.getAttribute("fixedWidth")); l || (l = i.fixedWidth), n.fixedWidth = l; let h = j_(t.getAttribute("fixedHeight")); h || (h = i.fixedHeight), n.fixedHeight = h;["Style", "CRS", "AuthorityURL"].forEach((function (t) { if (t in i) { const e = n[t] || []; n[t] = e.concat(i[t]) } })); return ["EX_GeographicBoundingBox", "BoundingBox", "Dimension", "Attribution", "MinScaleDenominator", "MaxScaleDenominator"].forEach((function (t) { if (!(t in n)) { const e = i[t]; n[t] = e } })), n } function kE(t, e) { return Lu({}, OE, t, e) } function GE(t, e) { return Lu({}, LE, t, e) } function jE(t, e) { const i = kE(t, e); if (i) { const e = [U_(t.getAttribute("width")), U_(t.getAttribute("height"))]; return i.size = e, i } } function BE(t, e) { return Lu([], NE, t, e) } const UE = [null, "http://www.opengis.net/wmts/1.0"], zE = [null, "http://www.opengis.net/ows/1.1"], XE = Pu(UE, { Contents: wu((function (t, e) { return Lu({}, VE, t, e) })) }); const VE = Pu(UE, { Layer: Su((function (t, e) { return Lu({}, WE, t, e) })), TileMatrixSet: Su((function (t, e) { return Lu({}, JE, t, e) })) }), WE = Pu(UE, { Style: Su((function (t, e) { const i = Lu({}, ZE, t, e); if (!i) return; const n = "true" === t.getAttribute("isDefault"); return i.isDefault = n, i })), Format: Su(z_), TileMatrixSetLink: Su((function (t, e) { return Lu({}, YE, t, e) })), Dimension: Su((function (t, e) { return Lu({}, HE, t, e) })), ResourceURL: Su((function (t, e) { const i = t.getAttribute("format"), n = t.getAttribute("template"), r = t.getAttribute("resourceType"), s = {}; i && (s.format = i); n && (s.template = n); r && (s.resourceType = r); return s })) }, Pu(zE, { Title: wu(z_), Abstract: wu(z_), WGS84BoundingBox: wu(tT), Identifier: wu(z_) })), ZE = Pu(UE, { LegendURL: Su((function (t, e) { const i = {}; return i.format = t.getAttribute("format"), i.href = Yv(t), i })) }, Pu(zE, { Title: wu(z_), Identifier: wu(z_) })), YE = Pu(UE, { TileMatrixSet: wu(z_), TileMatrixSetLimits: wu((function (t, e) { return Lu([], KE, t, e) })) }), KE = Pu(UE, { TileMatrixLimits: xu((function (t, e) { return Lu({}, qE, t, e) })) }), qE = Pu(UE, { TileMatrix: wu(z_), MinTileRow: wu(B_), MaxTileRow: wu(B_), MinTileCol: wu(B_), MaxTileCol: wu(B_) }), HE = Pu(UE, { Default: wu(z_), Value: Su(z_) }, Pu(zE, { Identifier: wu(z_) })), $E = Pu(zE, { LowerCorner: xu(eT), UpperCorner: xu(eT) }), JE = Pu(UE, { WellKnownScaleSet: wu(z_), TileMatrix: Su((function (t, e) { return Lu({}, QE, t, e) })) }, Pu(zE, { SupportedCRS: wu(z_), Identifier: wu(z_), BoundingBox: wu(tT) })), QE = Pu(UE, { TopLeftCorner: wu(eT), ScaleDenominator: wu(G_), TileWidth: wu(B_), TileHeight: wu(B_), MatrixWidth: wu(B_), MatrixHeight: wu(B_) }, Pu(zE, { Identifier: wu(z_) })); function tT(t, e) { const i = Lu([], $E, t, e); if (2 == i.length) return zt(i) } function eT(t, e) { const i = z_(t).split(/\s+/); if (!i || 2 != i.length) return; const n = +i[0], r = +i[1]; return isNaN(n) || isNaN(r) ? void 0 : [n, r] } const iT = ["fullscreenchange", "webkitfullscreenchange", "MSFullscreenChange"], nT = "enterfullscreen", rT = "leavefullscreen"; function sT(t) { const e = t.body; return !!(e.webkitRequestFullscreen || e.requestFullscreen && t.fullscreenEnabled) } function oT(t) { return !(!t.webkitIsFullScreen && !t.fullscreenElement) } function aT(t) { t.requestFullscreen ? t.requestFullscreen() : t.webkitRequestFullscreen && t.webkitRequestFullscreen() } const lT = "projection", hT = "coordinateFormat"; const cT = .75, uT = .1; const dT = "units", gT = [1, 2, 5], fT = 25.4 / .28; const pT = 0, mT = 1; var _T = {}; return _T.AssertionError = e, _T.Collection = q, _T.Collection.CollectionEvent = K, _T.DataTile = ot, _T.Disposable = s, _T.Feature = lt, _T.Feature.createStyleFunction = ht, _T.Geolocation = class extends V { constructor(t) { super(), this.on, this.once, this.un, t = t || {}, this.position_ = null, this.transform_ = Gi, this.watchId_ = void 0, this.addChangeListener(wr, this.handleProjectionChanged_), this.addChangeListener(Tr, this.handleTrackingChanged_), void 0 !== t.projection && this.setProjection(t.projection), void 0 !== t.trackingOptions && this.setTrackingOptions(t.trackingOptions), this.setTracking(void 0 !== t.tracking && t.tracking) } disposeInternal() { this.setTracking(!1), super.disposeInternal() } handleProjectionChanged_() { const t = this.getProjection(); t && (this.transform_ = qi(Ui("EPSG:4326"), t), this.position_ && this.set(Sr, this.transform_(this.position_))) } handleTrackingChanged_() { if ("geolocation" in navigator) { const t = this.getTracking(); t && void 0 === this.watchId_ ? this.watchId_ = navigator.geolocation.watchPosition(this.positionChange_.bind(this), this.positionError_.bind(this), this.getTrackingOptions()) : t || void 0 === this.watchId_ || (navigator.geolocation.clearWatch(this.watchId_), this.watchId_ = void 0) } } positionChange_(t) { const e = t.coords; this.set(mr, e.accuracy), this.set(yr, null === e.altitude ? void 0 : e.altitude), this.set(xr, null === e.altitudeAccuracy ? void 0 : e.altitudeAccuracy), this.set(vr, null === e.heading ? void 0 : ai(e.heading)), this.position_ ? (this.position_[0] = e.longitude, this.position_[1] = e.latitude) : this.position_ = [e.longitude, e.latitude]; const i = this.transform_(this.position_); this.set(Sr, i), this.set(Er, null === e.speed ? void 0 : e.speed); const n = dr(this.position_, e.accuracy); n.applyTransform(this.transform_), this.set(_r, n), this.changed() } positionError_(t) { this.dispatchEvent(new br(t)) } getAccuracy() { return this.get(mr) } getAccuracyGeometry() { return this.get(_r) || null } getAltitude() { return this.get(yr) } getAltitudeAccuracy() { return this.get(xr) } getHeading() { return this.get(vr) } getPosition() { return this.get(Sr) } getProjection() { return this.get(wr) } getSpeed() { return this.get(Er) } getTracking() { return this.get(Tr) } getTrackingOptions() { return this.get(Cr) } setProjection(t) { this.set(wr, Ui(t)) } setTracking(t) { this.set(Tr, t) } setTrackingOptions(t) { this.set(Cr, t) } }, _T.Image = Ar, _T.Image.listenImage = Or, _T.ImageBase = Rr, _T.ImageCanvas = Nr, _T.ImageTile = Vr, _T.Kinetic = Wr, _T.Map = Ya, _T.MapBrowserEvent = oo, _T.MapBrowserEventHandler = go, _T.MapEvent = so, _T.Object = V, _T.Object.ObjectEvent = X, _T.Observable = G, _T.Observable.unByKey = j, _T.Overlay = Qa, _T.Tile = st, _T.TileCache = ll, _T.TileQueue = Co, _T.TileQueue.getTilePriority = bo, _T.TileRange = hl, _T.TileRange.createOrUpdate = cl, _T.VectorRenderTile = dl, _T.VectorTile = gl, _T.View = zo, _T.View.createCenterConstraint = Vo, _T.View.createResolutionConstraint = Wo, _T.View.createRotationConstraint = Zo, _T.View.isNoopAnimation = Yo, _T.array = {}, _T.array.binarySearch = o, _T.array.equals = u, _T.array.extend = c, _T.array.isSorted = d, _T.array.linearFindNearest = l, _T.array.numberSafeCompareFunction = a, _T.array.remove = function (t, e) { const i = t.indexOf(e), n = i > -1; return n && t.splice(i, 1), n }, _T.array.reverseSubArray = h, _T.array.stableSort = function (t, e) { const i = t.length, n = Array(t.length); let r; for (r = 0; r < i; r++)n[r] = { index: r, value: t[r] }; for (n.sort((function (t, i) { return e(t.value, i.value) || t.index - i.index })), r = 0; r < t.length; r++)t[r] = n[r].value }, _T.asserts = {}, _T.asserts.assert = at, _T.centerconstraint = {}, _T.centerconstraint.createExtent = Mo, _T.centerconstraint.none = Fo, _T.color = {}, _T.color.asArray = $r, _T.color.asString = Kr, _T.color.fromString = Hr, _T.color.isStringColor = ts, _T.color.normalize = Jr, _T.color.toString = Qr, _T.colorlike = {}, _T.colorlike.asColorLike = fl, _T.control = {}, _T.control.Attribution = Ho, _T.control.Control = qo, _T.control.FullScreen = class extends qo { constructor(t) { t = t || {}, super({ element: document.createElement("div"), target: t.target }), this.on, this.once, this.un, this.keys_ = void 0 !== t.keys && t.keys, this.source_ = t.source, this.isInFullscreen_ = !1, this.boundHandleMapTargetChange_ = this.handleMapTargetChange_.bind(this), this.cssClassName_ = void 0 !== t.className ? t.className : "ol-full-screen", this.documentListeners_ = [], this.activeClassName_ = void 0 !== t.activeClassName ? t.activeClassName.split(" ") : [this.cssClassName_ + "-true"], this.inactiveClassName_ = void 0 !== t.inactiveClassName ? t.inactiveClassName.split(" ") : [this.cssClassName_ + "-false"]; const e = void 0 !== t.label ? t.label : "â¤¢"; this.labelNode_ = "string" == typeof e ? document.createTextNode(e) : e; const i = void 0 !== t.labelActive ? t.labelActive : "Ã—"; this.labelActiveNode_ = "string" == typeof i ? document.createTextNode(i) : i; const n = t.tipLabel ? t.tipLabel : "Toggle full-screen"; this.button_ = document.createElement("button"), this.button_.title = n, this.button_.setAttribute("type", "button"), this.button_.appendChild(this.labelNode_), this.button_.addEventListener(T, this.handleClick_.bind(this), !1), this.setClassName_(this.button_, this.isInFullscreen_), this.element.className = `${this.cssClassName_} ol-unselectable ol-control`, this.element.appendChild(this.button_) } handleClick_(t) { t.preventDefault(), this.handleFullScreen_() } handleFullScreen_() { const t = this.getMap(); if (!t) return; const e = t.getOwnerDocument(); if (sT(e)) if (oT(e)) !function (t) { t.exitFullscreen ? t.exitFullscreen() : t.webkitExitFullscreen && t.webkitExitFullscreen() }(e); else { let i; i = this.source_ ? "string" == typeof this.source_ ? e.getElementById(this.source_) : this.source_ : t.getTargetElement(), this.keys_ ? function (t) { t.webkitRequestFullscreen ? t.webkitRequestFullscreen() : aT(t) }(i) : aT(i) } } handleFullScreenChange_() { const t = this.getMap(); if (!t) return; const e = this.isInFullscreen_; this.isInFullscreen_ = oT(t.getOwnerDocument()), e !== this.isInFullscreen_ && (this.setClassName_(this.button_, this.isInFullscreen_), this.isInFullscreen_ ? (Br(this.labelActiveNode_, this.labelNode_), this.dispatchEvent(nT)) : (Br(this.labelNode_, this.labelActiveNode_), this.dispatchEvent(rT)), t.updateSize()) } setClassName_(t, e) { e ? (t.classList.remove(...this.inactiveClassName_), t.classList.add(...this.activeClassName_)) : (t.classList.remove(...this.activeClassName_), t.classList.add(...this.inactiveClassName_)) } setMap(t) { const e = this.getMap(); e && e.removeChangeListener(So, this.boundHandleMapTargetChange_), super.setMap(t), this.handleMapTargetChange_(), t && t.addChangeListener(So, this.boundHandleMapTargetChange_) } handleMapTargetChange_() { const t = this.documentListeners_; for (let e = 0, i = t.length; e < i; ++e)k(t[e]); t.length = 0; const e = this.getMap(); if (e) { const i = e.getOwnerDocument(); sT(i) ? this.element.classList.remove(Ps) : this.element.classList.add(Ps); for (let e = 0, n = iT.length; e < n; ++e)t.push(N(i, iT[e], this.handleFullScreenChange_, this)); this.handleFullScreenChange_() } } }, _T.control.MousePosition = class extends qo { constructor(t) { t = t || {}; const e = document.createElement("div"); e.className = void 0 !== t.className ? t.className : "ol-mouse-position", super({ element: e, render: t.render, target: t.target }), this.on, this.once, this.un, this.addChangeListener(lT, this.handleProjectionChanged_), t.coordinateFormat && this.setCoordinateFormat(t.coordinateFormat), t.projection && this.setProjection(t.projection), this.renderOnMouseOut_ = void 0 !== t.placeholder, this.placeholder_ = this.renderOnMouseOut_ ? t.placeholder : "&#160;", this.renderedHTML_ = e.innerHTML, this.mapProjection_ = null, this.transform_ = null } handleProjectionChanged_() { this.transform_ = null } getCoordinateFormat() { return this.get(hT) } getProjection() { return this.get(lT) } handleMouseMove(t) { const e = this.getMap(); this.updateHTML_(e.getEventPixel(t)) } handleMouseOut(t) { this.updateHTML_(null) } setMap(t) { if (super.setMap(t), t) { const e = t.getViewport(); this.listenerKeys.push(N(e, lo, this.handleMouseMove, this)), this.renderOnMouseOut_ && this.listenerKeys.push(N(e, uo, this.handleMouseOut, this)), this.updateHTML_(null) } } setCoordinateFormat(t) { this.set(hT, t) } setProjection(t) { this.set(lT, Ui(t)) } updateHTML_(t) { let e = this.placeholder_; if (t && this.mapProjection_) { if (!this.transform_) { const t = this.getProjection(); this.transform_ = t ? qi(this.mapProjection_, t) : Gi } const i = this.getMap().getCoordinateFromPixelInternal(t); if (i) { const t = en(); t && (this.transform_ = qi(this.mapProjection_, t)), this.transform_(i, i); const n = this.getCoordinateFormat(); e = n ? n(i) : i.toString() } } this.renderedHTML_ && e === this.renderedHTML_ || (this.element.innerHTML = e, this.renderedHTML_ = e) } render(t) { const e = t.frameState; e ? this.mapProjection_ != e.viewState.projection && (this.mapProjection_ = e.viewState.projection, this.transform_ = null) : this.mapProjection_ = null } }, _T.control.OverviewMap = class extends qo { constructor(t) { t = t || {}, super({ element: document.createElement("div"), render: t.render, target: t.target }), this.boundHandleRotationChanged_ = this.handleRotationChanged_.bind(this), this.collapsed_ = void 0 === t.collapsed || t.collapsed, this.collapsible_ = void 0 === t.collapsible || t.collapsible, this.collapsible_ || (this.collapsed_ = !1), this.rotateWithView_ = void 0 !== t.rotateWithView && t.rotateWithView, this.viewExtent_ = void 0; const e = void 0 !== t.className ? t.className : "ol-overviewmap", i = void 0 !== t.tipLabel ? t.tipLabel : "Overview map", n = void 0 !== t.collapseLabel ? t.collapseLabel : "â€¹"; "string" == typeof n ? (this.collapseLabel_ = document.createElement("span"), this.collapseLabel_.textContent = n) : this.collapseLabel_ = n; const r = void 0 !== t.label ? t.label : "â€º"; "string" == typeof r ? (this.label_ = document.createElement("span"), this.label_.textContent = r) : this.label_ = r; const s = this.collapsible_ && !this.collapsed_ ? this.collapseLabel_ : this.label_, o = document.createElement("button"); o.setAttribute("type", "button"), o.title = i, o.appendChild(s), o.addEventListener(T, this.handleClick_.bind(this), !1), this.ovmapDiv_ = document.createElement("div"), this.ovmapDiv_.className = "ol-overviewmap-map", this.view_ = t.view; const a = new Ya({ view: t.view, controls: new q, interactions: new q }); this.ovmap_ = a, t.layers && t.layers.forEach((function (t) { a.addLayer(t) })); const l = document.createElement("div"); l.className = "ol-overviewmap-box", l.style.boxSizing = "border-box", this.boxOverlay_ = new Qa({ position: [0, 0], positioning: "center-center", element: l }), this.ovmap_.addOverlay(this.boxOverlay_); const h = e + " " + "ol-unselectable " + Is + (this.collapsed_ && this.collapsible_ ? " ol-collapsed" : "") + (this.collapsible_ ? "" : " ol-uncollapsible"), c = this.element; c.className = h, c.appendChild(this.ovmapDiv_), c.appendChild(o); const u = this, d = this.boxOverlay_, g = this.boxOverlay_.getElement(), f = function (t) { const e = { clientX: (i = t).clientX, clientY: i.clientY }; var i; const n = a.getEventCoordinateInternal(e); d.setPosition(n) }, p = function (t) { const e = a.getEventCoordinateInternal(t); u.getMap().getView().setCenterInternal(e), window.removeEventListener("mousemove", f), window.removeEventListener("mouseup", p) }; g.addEventListener("mousedown", (function () { window.addEventListener("mousemove", f), window.addEventListener("mouseup", p) })) } setMap(t) { const e = this.getMap(); if (t !== e) { if (e) { const t = e.getView(); t && this.unbindView_(t), this.ovmap_.setTarget(null) } if (super.setMap(t), t) { this.ovmap_.setTarget(this.ovmapDiv_), this.listenerKeys.push(N(t, r, this.handleMapPropertyChange_, this)); const e = t.getView(); e && (this.bindView_(e), e.isDef() && (this.ovmap_.updateSize(), this.resetExtent_())), this.ovmap_.isRendered() || this.updateBoxAfterOvmapIsRendered_() } } } handleMapPropertyChange_(t) { if (t.key === wo) { const e = t.oldValue; e && this.unbindView_(e); const i = this.getMap().getView(); this.bindView_(i) } else this.ovmap_.isRendered() || t.key !== So && t.key !== vo || this.ovmap_.updateSize() } bindView_(t) { if (!this.view_) { const e = new zo({ projection: t.getProjection() }); this.ovmap_.setView(e) } t.addChangeListener(Io.ROTATION, this.boundHandleRotationChanged_), this.handleRotationChanged_() } unbindView_(t) { t.removeChangeListener(Io.ROTATION, this.boundHandleRotationChanged_) } handleRotationChanged_() { this.rotateWithView_ && this.ovmap_.getView().setRotation(this.getMap().getView().getRotation()) } validateExtent_() { const t = this.getMap(), e = this.ovmap_; if (!t.isRendered() || !e.isRendered()) return; const i = t.getSize(), n = t.getView().calculateExtentInternal(i); if (this.viewExtent_ && ee(n, this.viewExtent_)) return; this.viewExtent_ = n; const r = e.getSize(), s = e.getView().calculateExtentInternal(r), o = e.getPixelFromCoordinateInternal(xe(n)), a = e.getPixelFromCoordinateInternal(de(n)), l = Math.abs(o[0] - a[0]), h = Math.abs(o[1] - a[1]), c = r[0], u = r[1]; l < c * uT || h < u * uT || l > c * cT || h > u * cT ? this.resetExtent_() : Yt(s, n) || this.recenter_() } resetExtent_() { const t = this.getMap(), e = this.ovmap_, i = t.getSize(), n = t.getView().calculateExtentInternal(i), r = e.getView(), s = Math.log(7.5) / Math.LN2; Ce(n, 1 / (Math.pow(2, s / 2) * uT)), r.fitInternal(gr(n)) } recenter_() { const t = this.getMap(), e = this.ovmap_, i = t.getView(); e.getView().setCenterInternal(i.getCenterInternal()) } updateBox_() { const t = this.getMap(), e = this.ovmap_; if (!t.isRendered() || !e.isRendered()) return; const i = t.getSize(), n = t.getView(), r = e.getView(), s = this.rotateWithView_ ? 0 : -n.getRotation(), o = this.boxOverlay_, a = this.boxOverlay_.getElement(), l = n.getCenterInternal(), h = n.getResolution(), c = r.getResolution(), u = i[0] * h / c, d = i[1] * h / c; if (o.setPosition(l), a) { a.style.width = u + "px", a.style.height = d + "px"; const t = "rotate(" + s + "rad)"; a.style.transform = t } } updateBoxAfterOvmapIsRendered_() { this.ovmapPostrenderKey_ || (this.ovmapPostrenderKey_ = D(this.ovmap_, fo, (function (t) { delete this.ovmapPostrenderKey_, this.updateBox_() }), this)) } handleClick_(t) { t.preventDefault(), this.handleToggle_() } handleToggle_() { this.element.classList.toggle(Ls), this.collapsed_ ? Br(this.collapseLabel_, this.label_) : Br(this.label_, this.collapseLabel_), this.collapsed_ = !this.collapsed_; const t = this.ovmap_; if (!this.collapsed_) { if (t.isRendered()) return this.viewExtent_ = void 0, void t.render(); t.updateSize(), this.resetExtent_(), this.updateBoxAfterOvmapIsRendered_() } } getCollapsible() { return this.collapsible_ } setCollapsible(t) { this.collapsible_ !== t && (this.collapsible_ = t, this.element.classList.toggle("ol-uncollapsible"), !t && this.collapsed_ && this.handleToggle_()) } setCollapsed(t) { this.collapsible_ && this.collapsed_ !== t && this.handleToggle_() } getCollapsed() { return this.collapsed_ } getRotateWithView() { return this.rotateWithView_ } setRotateWithView(t) { this.rotateWithView_ !== t && (this.rotateWithView_ = t, 0 !== this.getMap().getView().getRotation() && (this.rotateWithView_ ? this.handleRotationChanged_() : this.ovmap_.getView().setRotation(0), this.viewExtent_ = void 0, this.validateExtent_(), this.updateBox_())) } getOverviewMap() { return this.ovmap_ } render(t) { this.validateExtent_(), this.updateBox_() } }, _T.control.Rotate = $o, _T.control.ScaleLine = class extends qo { constructor(t) { t = t || {}; const e = document.createElement("div"); e.style.pointerEvents = "none", super({ element: e, render: t.render, target: t.target }), this.on, this.once, this.un; const i = void 0 !== t.className ? t.className : t.bar ? "ol-scale-bar" : "ol-scale-line"; this.innerElement_ = document.createElement("div"), this.innerElement_.className = i + "-inner", this.element.className = i + " " + Rs, this.element.appendChild(this.innerElement_), this.viewState_ = null, this.minWidth_ = void 0 !== t.minWidth ? t.minWidth : 64, this.maxWidth_ = t.maxWidth, this.renderedVisible_ = !1, this.renderedWidth_ = void 0, this.renderedHTML_ = "", this.addChangeListener(dT, this.handleUnitsChanged_), this.setUnits(t.units || "metric"), this.scaleBar_ = t.bar || !1, this.scaleBarSteps_ = t.steps || 4, this.scaleBarText_ = t.text || !1, this.dpi_ = t.dpi || void 0 } getUnits() { return this.get(dT) } handleUnitsChanged_() { this.updateElement_() } setUnits(t) { this.set(dT, t) } setDpi(t) { this.dpi_ = t } updateElement_() { const t = this.viewState_; if (!t) return void (this.renderedVisible_ && (this.element.style.display = "none", this.renderedVisible_ = !1)); const e = t.center, i = t.projection, n = this.getUnits(), r = "degrees" == n ? "degrees" : "m"; let s = zi(i, t.resolution, e, r); const o = this.minWidth_ * (this.dpi_ || fT) / fT, a = void 0 !== this.maxWidth_ ? this.maxWidth_ * (this.dpi_ || fT) / fT : void 0; let l = o * s, h = ""; if ("degrees" == n) { const t = Fe.degrees; l *= t, l < t / 60 ? (h = "â€³", s *= 3600) : l < t ? (h = "â€²", s *= 60) : h = "Â°" } else "imperial" == n ? l < .9144 ? (h = "in", s /= .0254) : l < 1609.344 ? (h = "ft", s /= .3048) : (h = "mi", s /= 1609.344) : "nautical" == n ? (s /= 1852, h = "NM") : "metric" == n ? l < .001 ? (h = "Î¼m", s *= 1e6) : l < 1 ? (h = "mm", s *= 1e3) : l < 1e3 ? h = "m" : (h = "km", s /= 1e3) : "us" == n ? l < .9144 ? (h = "in", s *= 39.37) : l < 1609.344 ? (h = "ft", s /= .30480061) : (h = "mi", s /= 1609.3472) : at(!1, 33); let c, u, d, g, f, p, m = 3 * Math.floor(Math.log(o * s) / Math.log(10)); for (; ;) { d = Math.floor(m / 3); const t = Math.pow(10, d); if (c = gT[(m % 3 + 3) % 3] * t, u = Math.round(c / s), isNaN(u)) return this.element.style.display = "none", void (this.renderedVisible_ = !1); if (void 0 !== a && u >= a) { c = g, u = f, d = p; break } if (u >= o) break; g = c, f = u, p = d, ++m } const _ = this.scaleBar_ ? this.createScaleBar(u, c, h) : c.toFixed(d < 0 ? -d : 0) + " " + h; this.renderedHTML_ != _ && (this.innerElement_.innerHTML = _, this.renderedHTML_ = _), this.renderedWidth_ != u && (this.innerElement_.style.width = u + "px", this.renderedWidth_ = u), this.renderedVisible_ || (this.element.style.display = "", this.renderedVisible_ = !0) } createScaleBar(t, e, i) { const n = this.getScaleForResolution(), r = n < 1 ? Math.round(1 / n).toLocaleString() + " : 1" : "1 : " + Math.round(n).toLocaleString(), s = this.scaleBarSteps_, o = t / s, a = [this.createMarker("absolute")]; for (let n = 0; n < s; ++n) { const r = n % 2 == 0 ? "ol-scale-singlebar-odd" : "ol-scale-singlebar-even"; a.push(`<div><div class="ol-scale-singlebar ${r}" style="width: ${o}px;"></div>` + this.createMarker("relative") + (n % 2 == 0 || 2 === s ? this.createStepText(n, t, !1, e, i) : "") + "</div>") } a.push(this.createStepText(s, t, !0, e, i)); return (this.scaleBarText_ ? `<div class="ol-scale-text" style="width: ${t}px;">` + r + "</div>" : "") + a.join("") } createMarker(t) { return `<div class="ol-scale-step-marker" style="position: ${t}; top: ${"absolute" === t ? 3 : -10}px;"></div>` } createStepText(t, e, i, n, r) { const s = (0 === t ? 0 : Math.round(n / this.scaleBarSteps_ * t * 100) / 100) + (0 === t ? "" : " " + r); return `<div class="ol-scale-step-text" style="margin-left: ${0 === t ? -3 : e / this.scaleBarSteps_ * -1}px;text-align: ${0 === t ? "left" : "center"};min-width: ${0 === t ? 0 : e / this.scaleBarSteps_ * 2}px;left: ${i ? e + "px" : "unset"};">` + s + "</div>" } getScaleForResolution() { return zi(this.viewState_.projection, this.viewState_.resolution, this.viewState_.center, "m") * (1e3 / 25.4) * (this.dpi_ || fT) } render(t) { const e = t.frameState; this.viewState_ = e ? e.viewState : null, this.updateElement_() } }, _T.control.Zoom = Jo, _T.control.ZoomSlider = class extends qo { constructor(t) { t = t || {}, super({ element: document.createElement("div"), render: t.render }), this.dragListenerKeys_ = [], this.currentResolution_ = void 0, this.direction_ = pT, this.dragging_, this.heightLimit_ = 0, this.widthLimit_ = 0, this.startX_, this.startY_, this.thumbSize_ = null, this.sliderInitialized_ = !1, this.duration_ = void 0 !== t.duration ? t.duration : 200; const e = void 0 !== t.className ? t.className : "ol-zoomslider", i = document.createElement("button"); i.setAttribute("type", "button"), i.className = e + "-thumb " + Rs; const r = this.element; r.className = e + " " + "ol-unselectable " + Is, r.appendChild(i), r.addEventListener(ho, this.handleDraggerStart_.bind(this), !1), r.addEventListener(lo, this.handleDraggerDrag_.bind(this), !1), r.addEventListener(co, this.handleDraggerEnd_.bind(this), !1), r.addEventListener(T, this.handleContainerClick_.bind(this), !1), i.addEventListener(T, n, !1) } setMap(t) { super.setMap(t), t && t.render() } initSlider_() { const t = this.element; let e = t.offsetWidth, i = t.offsetHeight; if (0 === e && 0 === i) return this.sliderInitialized_ = !1; const n = getComputedStyle(t); e -= parseFloat(n.paddingRight) + parseFloat(n.paddingLeft), i -= parseFloat(n.paddingTop) + parseFloat(n.paddingBottom); const r = t.firstElementChild, s = getComputedStyle(r), o = r.offsetWidth + parseFloat(s.marginRight) + parseFloat(s.marginLeft), a = r.offsetHeight + parseFloat(s.marginTop) + parseFloat(s.marginBottom); return this.thumbSize_ = [o, a], e > i ? (this.direction_ = mT, this.widthLimit_ = e - o) : (this.direction_ = pT, this.heightLimit_ = i - a), this.sliderInitialized_ = !0 } handleContainerClick_(t) { const e = this.getMap().getView(), i = this.getRelativePosition_(t.offsetX - this.thumbSize_[0] / 2, t.offsetY - this.thumbSize_[1] / 2), n = this.getResolutionForPosition_(i), r = e.getConstrainedZoom(e.getZoomForResolution(n)); e.animateInternal({ zoom: r, duration: this.duration_, easing: it }) } handleDraggerStart_(t) { if (!this.dragging_ && t.target === this.element.firstElementChild) { const e = this.element.firstElementChild; if (this.getMap().getView().beginInteraction(), this.startX_ = t.clientX - parseFloat(e.style.left), this.startY_ = t.clientY - parseFloat(e.style.top), this.dragging_ = !0, 0 === this.dragListenerKeys_.length) { const t = this.handleDraggerDrag_, e = this.handleDraggerEnd_, i = this.getMap().getOwnerDocument(); this.dragListenerKeys_.push(N(i, lo, t, this), N(i, co, e, this)) } } } handleDraggerDrag_(t) { if (this.dragging_) { const e = t.clientX - this.startX_, i = t.clientY - this.startY_, n = this.getRelativePosition_(e, i); this.currentResolution_ = this.getResolutionForPosition_(n), this.getMap().getView().setResolution(this.currentResolution_) } } handleDraggerEnd_(t) { if (this.dragging_) { this.getMap().getView().endInteraction(), this.dragging_ = !1, this.startX_ = void 0, this.startY_ = void 0, this.dragListenerKeys_.forEach(k), this.dragListenerKeys_.length = 0 } } setThumbPosition_(t) { const e = this.getPositionForResolution_(t), i = this.element.firstElementChild; this.direction_ == mT ? i.style.left = this.widthLimit_ * e + "px" : i.style.top = this.heightLimit_ * e + "px" } getRelativePosition_(t, e) { let i; return i = this.direction_ === mT ? t / this.widthLimit_ : e / this.heightLimit_, ii(i, 0, 1) } getResolutionForPosition_(t) { return this.getMap().getView().getResolutionForValueFunction()(1 - t) } getPositionForResolution_(t) { return ii(1 - this.getMap().getView().getValueForResolutionFunction()(t), 0, 1) } render(t) { if (!t.frameState) return; if (!this.sliderInitialized_ && !this.initSlider_()) return; const e = t.frameState.viewState.resolution; this.currentResolution_ = e, this.setThumbPosition_(e) } }, _T.control.ZoomToExtent = class extends qo { constructor(t) { t = t || {}, super({ element: document.createElement("div"), target: t.target }), this.extent = t.extent ? t.extent : null; const e = void 0 !== t.className ? t.className : "ol-zoom-extent", i = void 0 !== t.label ? t.label : "E", n = void 0 !== t.tipLabel ? t.tipLabel : "Fit to extent", r = document.createElement("button"); r.setAttribute("type", "button"), r.title = n, r.appendChild("string" == typeof i ? document.createTextNode(i) : i), r.addEventListener(T, this.handleClick_.bind(this), !1); const s = e + " " + "ol-unselectable " + Is, o = this.element; o.className = s, o.appendChild(r) } handleClick_(t) { t.preventDefault(), this.handleZoomToExtent() } handleZoomToExtent() { const t = this.getMap().getView(), e = this.extent ? this.extent : t.getProjection().getExtent(); t.fitInternal(gr(e)) } }, _T.control.defaults = {}, _T.control.defaults.defaults = Qo, _T.coordinate = {}, _T.coordinate.add = mi, _T.coordinate.closestOnCircle = _i, _T.coordinate.closestOnSegment = yi, _T.coordinate.createStringXY = function (t) { return function (e) { return Ri(e, t) } }, _T.coordinate.degreesToStringHDMS = xi, _T.coordinate.distance = Ci, _T.coordinate.equals = Si, _T.coordinate.format = vi, _T.coordinate.getWorldsAway = Ii, _T.coordinate.rotate = wi, _T.coordinate.scale = Ei, _T.coordinate.squaredDistance = Ti, _T.coordinate.squaredDistanceToSegment = bi, _T.coordinate.toStringHDMS = function (t, e) { return t ? xi("NS", t[1], e) + " " + xi("EW", t[0], e) : "" }, _T.coordinate.toStringXY = Ri, _T.coordinate.wrapX = Pi, _T.css = {}, _T.css.CLASS_COLLAPSED = Ls, _T.css.CLASS_CONTROL = Is, _T.css.CLASS_HIDDEN = Cs, _T.css.CLASS_SELECTABLE = bs, _T.css.CLASS_UNSELECTABLE = Rs, _T.css.CLASS_UNSUPPORTED = Ps, _T.css.getFontParameters = As, _T.dom = {}, _T.dom.createCanvasContext2D = Dr, _T.dom.outerHeight = jr, _T.dom.outerWidth = Gr, _T.dom.releaseCanvas = kr, _T.dom.removeChildren = zr, _T.dom.removeNode = Ur, _T.dom.replaceChildren = Xr, _T.dom.replaceNode = Br, _T.easing = {}, _T.easing.easeIn = et, _T.easing.easeOut = it, _T.easing.inAndOut = nt, _T.easing.linear = rt, _T.easing.upAndDown = function (t) { return t < .5 ? nt(2 * t) : 1 - nt(2 * (t - .5)) }, _T.events = {}, _T.events.Event = i, _T.events.Event.preventDefault = function (t) { t.preventDefault() }, _T.events.Event.stopPropagation = n, _T.events.Target = v, _T.events.condition = {}, _T.events.condition.all = aa, _T.events.condition.altKeyOnly = la, _T.events.condition.altShiftKeysOnly = ha, _T.events.condition.always = da, _T.events.condition.click = function (t) { return t.type == ao.CLICK }, _T.events.condition.doubleClick = function (t) { return t.type == ao.DBLCLICK }, _T.events.condition.focus = ca, _T.events.condition.focusWithTabindex = ua, _T.events.condition.mouseActionButton = ga, _T.events.condition.mouseOnly = xa, _T.events.condition.never = fa, _T.events.condition.noModifierKeys = ma, _T.events.condition.penOnly = function (t) { const e = t.originalEvent; return at(void 0 !== e, 56), "pen" === e.pointerType }, _T.events.condition.platformModifierKeyOnly = function (t) { const e = t.originalEvent; return !e.altKey && (pt ? e.metaKey : e.ctrlKey) && !e.shiftKey }, _T.events.condition.pointerMove = function (t) { return "pointermove" == t.type }, _T.events.condition.primaryAction = va, _T.events.condition.shiftKeyOnly = _a, _T.events.condition.singleClick = pa, _T.events.condition.targetNotEditable = ya, _T.events.condition.touchOnly = function (t) { const e = t.originalEvent; return at(void 0 !== e, 56), "touch" === e.pointerType }, _T.events.listen = N, _T.events.listenOnce = D, _T.events.unlistenByKey = k, _T.extent = {}, _T.extent.applyTransform = Re, _T.extent.approximatelyEquals = ie, _T.extent.boundingExtent = zt, _T.extent.buffer = Xt, _T.extent.clone = Vt, _T.extent.closestSquaredDistanceXY = Wt, _T.extent.containsCoordinate = Zt, _T.extent.containsExtent = Yt, _T.extent.containsXY = Kt, _T.extent.coordinateRelationship = qt, _T.extent.createEmpty = Ht, _T.extent.createOrUpdate = $t, _T.extent.createOrUpdateEmpty = Jt, _T.extent.createOrUpdateFromCoordinate = Qt, _T.extent.createOrUpdateFromCoordinates = function (t, e) { return se(Jt(e), t) }, _T.extent.createOrUpdateFromFlatCoordinates = te, _T.extent.createOrUpdateFromRings = function (t, e) { return ae(Jt(e), t) }, _T.extent.equals = ee, _T.extent.extend = ne, _T.extent.extendCoordinate = re, _T.extent.extendCoordinates = se, _T.extent.extendFlatCoordinates = oe, _T.extent.extendRings = ae, _T.extent.extendXY = le, _T.extent.forEachCorner = he, _T.extent.getArea = ce, _T.extent.getBottomLeft = ue, _T.extent.getBottomRight = de, _T.extent.getCenter = ge, _T.extent.getCorner = fe, _T.extent.getEnlargedArea = function (t, e) { const i = Math.min(t[0], e[0]), n = Math.min(t[1], e[1]); return (Math.max(t[2], e[2]) - i) * (Math.max(t[3], e[3]) - n) }, _T.extent.getForViewAndSize = pe, _T.extent.getHeight = _e, _T.extent.getIntersection = ye, _T.extent.getIntersectionArea = function (t, e) { return ce(ye(t, e)) }, _T.extent.getMargin = function (t) { return Se(t) + _e(t) }, _T.extent.getRotatedViewport = me, _T.extent.getSize = function (t) { return [t[2] - t[0], t[3] - t[1]] }, _T.extent.getTopLeft = xe, _T.extent.getTopRight = ve, _T.extent.getWidth = Se, _T.extent.intersects = we, _T.extent.intersectsSegment = be, _T.extent.isEmpty = Ee, _T.extent.returnOrUpdate = Te, _T.extent.scaleFromCenter = Ce, _T.extent.wrapAndSliceX = Ie, _T.extent.wrapX = Pe, _T.featureloader = {}, _T.featureloader.loadFeaturesXhr = _l, _T.featureloader.setWithCredentials = function (t) { ml = t }, _T.featureloader.xhr = yl, _T.format = {}, _T.format.EsriJSON = class extends E_ { constructor(t) { t = t || {}, super(), this.geometryName_ = t.geometryName } readFeatureFromObject(t, e, i) { const n = t, r = R_(n.geometry, e), s = new lt; if (this.geometryName_ && s.setGeometryName(this.geometryName_), s.setGeometry(r), n.attributes) { s.setProperties(n.attributes, !0); const t = n.attributes[i]; void 0 !== t && s.setId(t) } return s } readFeaturesFromObject(t, e) { if (e = e || {}, t.features) { const i = [], n = t.features; for (let r = 0, s = n.length; r < s; ++r)i.push(this.readFeatureFromObject(n[r], e, t.objectIdFieldName)); return i } return [this.readFeatureFromObject(t, e)] } readGeometryFromObject(t, e) { return R_(t, e) } readProjectionFromObject(t) { if (t.spatialReference && void 0 !== t.spatialReference.wkid) { return Ui("EPSG:" + t.spatialReference.wkid) } return null } writeGeometryObject(t, e) { return L_(t, this.adaptOptions(e)) } writeFeatureObject(t, e) { e = this.adaptOptions(e); const i = {}; if (!t.hasProperties()) return i.attributes = {}, i; const n = t.getProperties(), r = t.getGeometry(); if (r) { i.geometry = L_(r, e); const s = e && (e.dataProjection || e.featureProjection); s && (i.geometry.spatialReference = { wkid: Number(Ui(s).getCode().split(":").pop()) }), delete n[t.getGeometryName()] } return x(n) ? i.attributes = {} : i.attributes = n, i } writeFeaturesObject(t, e) { e = this.adaptOptions(e); const i = []; for (let n = 0, r = t.length; n < r; ++n)i.push(this.writeFeatureObject(t[n], e)); return { features: i } } }, _T.format.Feature = Jp, _T.format.Feature.transformExtentWithOptions = tm, _T.format.Feature.transformGeometryWithOptions = Qp, _T.format.GML = Q_, _T.format.GML2 = H_, _T.format.GML3 = J_, _T.format.GML32 = ty, _T.format.GMLBase = O_, _T.format.GMLBase.GMLNS = F_, _T.format.GPX = class extends M_ { constructor(t) { super(), t = t || {}, this.dataProjection = Ui("EPSG:4326"), this.readExtensions_ = t.readExtensions } handleReadExtensions_(t) { t || (t = []); for (let e = 0, i = t.length; e < i; ++e) { const i = t[e]; if (this.readExtensions_) { const t = i.get("extensionsNode_") || null; this.readExtensions_(i, t) } i.set("extensionsNode_", void 0) } } readFeatureFromNode(t, e) { if (!ey.includes(t.namespaceURI)) return null; const i = iy[t.localName]; if (!i) return null; const n = i(t, [this.getReadOptions(t, e)]); return n ? (this.handleReadExtensions_([n]), n) : null } readFeaturesFromNode(t, e) { if (!ey.includes(t.namespaceURI)) return []; if ("gpx" == t.localName) { const i = Lu([], ny, t, [this.getReadOptions(t, e)]); return i ? (this.handleReadExtensions_(i), i) : [] } return [] } writeFeaturesNode(t, e) { e = this.adaptOptions(e); const i = du("http://www.topografix.com/GPX/1/1", "gpx"); return i.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xsi", uu), i.setAttributeNS(uu, "xsi:schemaLocation", "http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"), i.setAttribute("version", "1.1"), i.setAttribute("creator", "OpenLayers"), Fu({ node: i }, sy, Ty, t, [e]), i } }, _T.format.GeoJSON = class extends E_ { constructor(t) { t = t || {}, super(), this.dataProjection = Ui(t.dataProjection ? t.dataProjection : "EPSG:4326"), t.featureProjection && (this.defaultFeatureProjection = Ui(t.featureProjection)), this.geometryName_ = t.geometryName, this.extractGeometryName_ = t.extractGeometryName, this.supportedMediaTypes = ["application/geo+json", "application/vnd.geo+json"] } readFeatureFromObject(t, e) { let i = null; i = "Feature" === t.type ? t : { type: "Feature", geometry: t, properties: null }; const n = Oy(i.geometry, e), r = new lt; return this.geometryName_ ? r.setGeometryName(this.geometryName_) : this.extractGeometryName_ && "geometry_name" in i !== void 0 && r.setGeometryName(i.geometry_name), r.setGeometry(n), "id" in i && r.setId(i.id), i.properties && r.setProperties(i.properties, !0), r } readFeaturesFromObject(t, e) { let i = null; if ("FeatureCollection" === t.type) { i = []; const n = t.features; for (let t = 0, r = n.length; t < r; ++t)i.push(this.readFeatureFromObject(n[t], e)) } else i = [this.readFeatureFromObject(t, e)]; return i } readGeometryFromObject(t, e) { return Oy(t, e) } readProjectionFromObject(t) { const e = t.crs; let i; return e ? "name" == e.type ? i = Ui(e.properties.name) : "EPSG" === e.type ? i = Ui("EPSG:" + e.properties.code) : at(!1, 36) : i = this.dataProjection, i } writeFeatureObject(t, e) { e = this.adaptOptions(e); const i = { type: "Feature", geometry: null, properties: null }, n = t.getId(); if (void 0 !== n && (i.id = n), !t.hasProperties()) return i; const r = t.getProperties(), s = t.getGeometry(); return s && (i.geometry = Ny(s, e), delete r[t.getGeometryName()]), x(r) || (i.properties = r), i } writeFeaturesObject(t, e) { e = this.adaptOptions(e); const i = []; for (let n = 0, r = t.length; n < r; ++n)i.push(this.writeFeatureObject(t[n], e)); return { type: "FeatureCollection", features: i } } writeGeometryObject(t, e) { return Ny(t, this.adaptOptions(e)) } }, _T.format.IGC = class extends Dy { constructor(t) { super(), t = t || {}, this.dataProjection = Ui("EPSG:4326"), this.altitudeMode_ = t.altitudeMode ? t.altitudeMode : "none" } readFeatureFromText(t, e) { const i = this.altitudeMode_, n = t.split(Uy), r = {}, s = []; let o, a, l = 2e3, h = 0, c = 1, u = -1; for (o = 0, a = n.length; o < a; ++o) { const t = n[o]; let e; if ("B" == t.charAt(0)) { if (e = Gy.exec(t), e) { const t = parseInt(e[1], 10), n = parseInt(e[2], 10), r = parseInt(e[3], 10); let o = parseInt(e[4], 10) + parseInt(e[5], 10) / 6e4; "S" == e[6] && (o = -o); let a = parseInt(e[7], 10) + parseInt(e[8], 10) / 6e4; if ("W" == e[9] && (a = -a), s.push(a, o), "none" != i) { let t; t = "gps" == i ? parseInt(e[11], 10) : "barometric" == i ? parseInt(e[12], 10) : 0, s.push(t) } let d = Date.UTC(l, h, c, t, n, r); d < u && (d = Date.UTC(l, h, c + 1, t, n, r)), s.push(d / 1e3), u = d } } else "H" == t.charAt(0) && (e = By.exec(t), e ? (c = parseInt(e[1], 10), h = parseInt(e[2], 10) - 1, l = 2e3 + parseInt(e[3], 10)) : (e = jy.exec(t), e && (r[e[1]] = e[2].trim()))) } if (0 === s.length) return null; const d = new Op(s, "none" == i ? "XYM" : "XYZM"), g = new lt(Qp(d, !1, e)); return g.setProperties(r, !0), g } readFeaturesFromText(t, e) { const i = this.readFeatureFromText(t, e); return i ? [i] : [] } }, _T.format.IIIFInfo = class { constructor(t) { this.setImageInfo(t) } setImageInfo(t) { this.imageInfo = "string" == typeof t ? JSON.parse(t) : t } getImageApiVersion() { if (void 0 === this.imageInfo) return; let t = this.imageInfo["@context"] || "ol-no-context"; "string" == typeof t && (t = [t]); for (let e = 0; e < t.length; e++)switch (t[e]) { case "http://library.stanford.edu/iiif/image-api/1.1/context.json": case "http://iiif.io/api/image/1/context.json": return rc; case "http://iiif.io/api/image/2/context.json": return sc; case "http://iiif.io/api/image/3/context.json": return oc; case "ol-no-context": if (this.getComplianceLevelEntryFromProfile(rc) && this.imageInfo.identifier) return rc }at(!1, 61) } getComplianceLevelEntryFromProfile(t) { if (void 0 !== this.imageInfo && void 0 !== this.imageInfo.profile) switch (void 0 === t && (t = this.getImageApiVersion()), t) { case rc: if (lc.test(this.imageInfo.profile)) return this.imageInfo.profile; break; case oc: if (cc.test(this.imageInfo.profile)) return this.imageInfo.profile; break; case sc: if ("string" == typeof this.imageInfo.profile && hc.test(this.imageInfo.profile)) return this.imageInfo.profile; if (Array.isArray(this.imageInfo.profile) && this.imageInfo.profile.length > 0 && "string" == typeof this.imageInfo.profile[0] && hc.test(this.imageInfo.profile[0])) return this.imageInfo.profile[0] } } getComplianceLevelFromProfile(t) { const e = this.getComplianceLevelEntryFromProfile(t); if (void 0 === e) return; const i = e.match(/level[0-2](?:\.json)?$/g); return Array.isArray(i) ? i[0].replace(".json", "") : void 0 } getComplianceLevelSupportedFeatures() { if (void 0 === this.imageInfo) return; const t = this.getImageApiVersion(), e = this.getComplianceLevelFromProfile(t); return void 0 === e ? ac.none.none : ac[t][e] } getTileSourceOptions(t) { const e = t || {}, i = this.getImageApiVersion(); if (void 0 === i) return; const n = void 0 === i ? void 0 : uc[i](this); return void 0 !== n ? { url: n.url, version: i, size: [this.imageInfo.width, this.imageInfo.height], sizes: n.sizes, format: void 0 !== e.format && n.formats.includes(e.format) ? e.format : void 0 !== n.preferredFormat ? n.preferredFormat : "jpg", supports: n.supports, quality: e.quality && n.qualities.includes(e.quality) ? e.quality : n.qualities.includes("native") ? "native" : "default", resolutions: Array.isArray(n.resolutions) ? n.resolutions.sort((function (t, e) { return e - t })) : void 0, tileSize: n.tileSize } : void 0 } }, _T.format.JSONFeature = E_, _T.format.KML = class extends M_ { constructor(t) { super(), t = t || {}, ux || ($y = [255, 255, 255, 1], nx = new rg({ color: $y }), Jy = [20, 2], Qy = "pixels", tx = "pixels", ex = [64, 64], ix = "https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png", sx = new lg({ anchor: Jy, anchorOrigin: "bottom-left", anchorXUnits: Qy, anchorYUnits: tx, crossOrigin: "anonymous", rotation: 0, scale: dx(ex), size: ex, src: ix }), rx = "NO_IMAGE", ax = new hg({ color: $y, width: 1 }), ox = new hg({ color: [51, 51, 51, 1], width: 2 }), lx = new mg({ font: "bold 16px Helvetica", fill: nx, stroke: ox, scale: .8 }), hx = new cg({ fill: nx, image: sx, text: lx, stroke: ax, zIndex: 0 }), ux = [hx]), this.dataProjection = Ui("EPSG:4326"), this.defaultStyle_ = t.defaultStyle ? t.defaultStyle : ux, this.extractStyles_ = void 0 === t.extractStyles || t.extractStyles, this.writeStyles_ = void 0 === t.writeStyles || t.writeStyles, this.sharedStyles_ = {}, this.showPointNames_ = void 0 === t.showPointNames || t.showPointNames, this.crossOrigin_ = void 0 !== t.crossOrigin ? t.crossOrigin : "anonymous", this.iconUrlFunction_ = t.iconUrlFunction ? t.iconUrlFunction : gx, this.supportedMediaTypes = ["application/vnd.google-earth.kml+xml"] } readDocumentOrFolder_(t, e) { const i = Lu([], Pu(Xy, { Document: yu(this.readDocumentOrFolder_, this), Folder: yu(this.readDocumentOrFolder_, this), Placemark: xu(this.readPlacemark_, this), Style: this.readSharedStyle_.bind(this), StyleMap: this.readSharedStyleMap_.bind(this) }), t, e, this); return i || void 0 } readPlacemark_(t, e) { const i = Lu({ geometry: null }, Wy, t, e, this); if (!i) return; const n = new lt, r = t.getAttribute("id"); null !== r && n.setId(r); const s = e[0], o = i.geometry; if (o && Qp(o, !1, s), n.setGeometry(o), delete i.geometry, this.extractStyles_) { const t = function (t, e, i, n, r) { return function (s, o) { let a = r, l = "", h = []; if (a) { const t = s.getGeometry(); if (t) if (t instanceof Ip) h = t.getGeometriesArrayRecursive().filter((function (t) { const e = t.getType(); return "Point" === e || "MultiPoint" === e })), a = h.length > 0; else { const e = t.getType(); a = "Point" === e || "MultiPoint" === e } } a && (l = s.get("name"), a = a && !!l, a && /&[^&]+;/.test(l) && (cx || (cx = document.createElement("textarea")), cx.innerHTML = l, l = cx.value)); let c = i; if (t ? c = t : e && (c = fx(e, i, n)), a) { const t = function (t, e) { const i = [0, 0]; let n = "start"; const r = t.getImage(); if (r) { const t = r.getSize(); if (t && 2 == t.length) { const e = r.getScaleArray(), s = r.getAnchor(); i[0] = e[0] * (t[0] - s[0]), i[1] = e[1] * (t[1] / 2 - s[1]), n = "left" } } let s = t.getText(); s ? (s = s.clone(), s.setFont(s.getFont() || lx.getFont()), s.setScale(s.getScale() || lx.getScale()), s.setFill(s.getFill() || lx.getFill()), s.setStroke(s.getStroke() || ox)) : s = lx.clone(); s.setText(e), s.setOffsetX(i[0]), s.setOffsetY(i[1]), s.setTextAlign(n); return new cg({ image: r, text: s }) }(c[0], l); if (h.length > 0) { t.setGeometry(new Ip(h)); return [t, new cg({ geometry: c[0].getGeometry(), image: null, fill: c[0].getFill(), stroke: c[0].getStroke(), text: null })].concat(c.slice(1)) } return t } return c } }(i.Style, i.styleUrl, this.defaultStyle_, this.sharedStyles_, this.showPointNames_); n.setStyle(t) } return delete i.Style, n.setProperties(i, !0), n } readSharedStyle_(t, e) { const i = t.getAttribute("id"); if (null !== i) { const n = Xx.call(this, t, e); if (n) { let e, r = t.baseURI; if (r && "about:blank" != r || (r = window.location.href), r) { e = new URL("#" + i, r).href } else e = "#" + i; this.sharedStyles_[e] = n } } } readSharedStyleMap_(t, e) { const i = t.getAttribute("id"); if (null === i) return; const n = Sx.call(this, t, e); if (!n) return; let r, s = t.baseURI; if (s && "about:blank" != s || (s = window.location.href), s) { r = new URL("#" + i, s).href } else r = "#" + i; this.sharedStyles_[r] = n } readFeatureFromNode(t, e) { if (!Xy.includes(t.namespaceURI)) return null; const i = this.readPlacemark_(t, [this.getReadOptions(t, e)]); return i || null } readFeaturesFromNode(t, e) { if (!Xy.includes(t.namespaceURI)) return []; let i; const n = t.localName; if ("Document" == n || "Folder" == n) return i = this.readDocumentOrFolder_(t, [this.getReadOptions(t, e)]), i || []; if ("Placemark" == n) { const i = this.readPlacemark_(t, [this.getReadOptions(t, e)]); return i ? [i] : [] } if ("kml" == n) { i = []; for (let n = t.firstElementChild; n; n = n.nextElementSibling) { const t = this.readFeaturesFromNode(n, e); t && c(i, t) } return i } return [] } readName(t) { if (t) { if ("string" == typeof t) { const e = _u(t); return this.readNameFromDocument(e) } return pu(t) ? this.readNameFromDocument(t) : this.readNameFromNode(t) } } readNameFromDocument(t) { for (let e = t.firstChild; e; e = e.nextSibling)if (e.nodeType == Node.ELEMENT_NODE) { const t = this.readNameFromNode(e); if (t) return t } } readNameFromNode(t) { for (let e = t.firstElementChild; e; e = e.nextElementSibling)if (Xy.includes(e.namespaceURI) && "name" == e.localName) return z_(e); for (let e = t.firstElementChild; e; e = e.nextElementSibling) { const t = e.localName; if (Xy.includes(e.namespaceURI) && ("Document" == t || "Folder" == t || "Placemark" == t || "kml" == t)) { const t = this.readNameFromNode(e); if (t) return t } } } readNetworkLinks(t) { const e = []; if ("string" == typeof t) { const i = _u(t); c(e, this.readNetworkLinksFromDocument(i)) } else pu(t) ? c(e, this.readNetworkLinksFromDocument(t)) : c(e, this.readNetworkLinksFromNode(t)); return e } readNetworkLinksFromDocument(t) { const e = []; for (let i = t.firstChild; i; i = i.nextSibling)i.nodeType == Node.ELEMENT_NODE && c(e, this.readNetworkLinksFromNode(i)); return e } readNetworkLinksFromNode(t) { const e = []; for (let i = t.firstElementChild; i; i = i.nextElementSibling)if (Xy.includes(i.namespaceURI) && "NetworkLink" == i.localName) { const t = Lu({}, Zy, i, []); e.push(t) } for (let i = t.firstElementChild; i; i = i.nextElementSibling) { const t = i.localName; !Xy.includes(i.namespaceURI) || "Document" != t && "Folder" != t && "kml" != t || c(e, this.readNetworkLinksFromNode(i)) } return e } readRegion(t) { const e = []; if ("string" == typeof t) { const i = _u(t); c(e, this.readRegionFromDocument(i)) } else pu(t) ? c(e, this.readRegionFromDocument(t)) : c(e, this.readRegionFromNode(t)); return e } readRegionFromDocument(t) { const e = []; for (let i = t.firstChild; i; i = i.nextSibling)i.nodeType == Node.ELEMENT_NODE && c(e, this.readRegionFromNode(i)); return e } readRegionFromNode(t) { const e = []; for (let i = t.firstElementChild; i; i = i.nextElementSibling)if (Xy.includes(i.namespaceURI) && "Region" == i.localName) { const t = Lu({}, Ky, i, []); e.push(t) } for (let i = t.firstElementChild; i; i = i.nextElementSibling) { const t = i.localName; !Xy.includes(i.namespaceURI) || "Document" != t && "Folder" != t && "kml" != t || c(e, this.readRegionFromNode(i)) } return e } writeFeaturesNode(t, e) { e = this.adaptOptions(e); const i = du(Xy[4], "kml"), n = "http://www.w3.org/2000/xmlns/"; i.setAttributeNS(n, "xmlns:gx", zy[0]), i.setAttributeNS(n, "xmlns:xsi", uu), i.setAttributeNS(uu, "xsi:schemaLocation", "http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd"); const r = { node: i }, s = {}; t.length > 1 ? s.Document = t : 1 == t.length && (s.Placemark = t[0]); const o = qy[i.namespaceURI], a = Ru(s, o); return Fu(r, Hy, bu, a, [e], o, this), i } }, _T.format.KML.getDefaultFillStyle = function () { return nx }, _T.format.KML.getDefaultImageStyle = function () { return sx }, _T.format.KML.getDefaultStrokeStyle = function () { return ax }, _T.format.KML.getDefaultStyle = function () { return hx }, _T.format.KML.getDefaultStyleArray = function () { return ux }, _T.format.KML.getDefaultTextStyle = function () { return lx }, _T.format.KML.readFlatCoordinates = mx, _T.format.MVT = Em, _T.format.OSMXML = class extends M_ { constructor() { super(), this.dataProjection = Ui("EPSG:4326") } readFeaturesFromNode(t, e) { if (e = this.getReadOptions(t, e), "osm" == t.localName) { const i = Lu({ nodes: {}, ways: [], features: [] }, Xv, t, [e]); for (let t = 0; t < i.ways.length; t++) { const n = i.ways[t], r = []; for (let t = 0, e = n.ndrefs.length; t < e; t++) { c(r, i.nodes[n.ndrefs[t]]) } let s; s = n.ndrefs[0] == n.ndrefs[n.ndrefs.length - 1] ? new ur(r, "XY", [r.length]) : new Op(r, "XY"), Qp(s, !1, e); const o = new lt(s); void 0 !== n.id && o.setId(n.id), o.setProperties(n.tags, !0), i.features.push(o) } if (i.features) return i.features } return [] } }, _T.format.OWS = Hv, _T.format.Polyline = class extends Dy { constructor(t) { super(), t = t || {}, this.dataProjection = Ui("EPSG:4326"), this.factor_ = t.factor ? t.factor : 1e5, this.geometryLayout_ = t.geometryLayout ? t.geometryLayout : "XY" } readFeatureFromText(t, e) { const i = this.readGeometryFromText(t, e); return new lt(i) } readFeaturesFromText(t, e) { return [this.readFeatureFromText(t, e)] } readGeometryFromText(t, e) { const i = yn(this.geometryLayout_), n = uS(t, i, this.factor_); w_(n, 0, n.length, i, n); const r = Gn(n, 0, n.length, i); return Qp(new Op(r, this.geometryLayout_), !1, this.adaptOptions(e)) } writeFeatureText(t, e) { const i = t.getGeometry(); return i ? this.writeGeometryText(i, e) : (at(!1, 40), "") } writeFeaturesText(t, e) { return this.writeFeatureText(t[0], e) } writeGeometryText(t, e) { const i = (t = Qp(t, !0, this.adaptOptions(e))).getFlatCoordinates(), n = t.getStride(); return w_(i, 0, i.length, n, i), cS(i, n, this.factor_) } }, _T.format.Polyline.decodeDeltas = uS, _T.format.Polyline.decodeFloats = gS, _T.format.Polyline.decodeSignedIntegers = pS, _T.format.Polyline.decodeUnsignedIntegers = _S, _T.format.Polyline.encodeDeltas = cS, _T.format.Polyline.encodeFloats = dS, _T.format.Polyline.encodeSignedIntegers = fS, _T.format.Polyline.encodeUnsignedInteger = yS, _T.format.Polyline.encodeUnsignedIntegers = mS, _T.format.TextFeature = Dy, _T.format.TopoJSON = class extends E_ { constructor(t) { super(), t = t || {}, this.layerName_ = t.layerName, this.layers_ = t.layers ? t.layers : null, this.dataProjection = Ui(t.dataProjection ? t.dataProjection : "EPSG:4326") } readFeaturesFromObject(t, e) { if ("Topology" == t.type) { const i = t; let n, r = null, s = null; i.transform && (n = i.transform, r = n.scale, s = n.translate); const o = i.arcs; n && function (t, e, i) { for (let n = 0, r = t.length; n < r; ++n)ES(t[n], e, i) }(o, r, s); const a = [], l = i.objects, h = this.layerName_; let c; for (const t in l) this.layers_ && !this.layers_.includes(t) || ("GeometryCollection" === l[t].type ? (c = l[t], a.push.apply(a, SS(c, o, r, s, h, t, e))) : (c = l[t], a.push(wS(c, o, r, s, h, t, e)))); return a } return [] } readProjectionFromObject(t) { return this.dataProjection } }, _T.format.WFS = class extends M_ { constructor(t) { super(), t = t || {}, this.version_ = t.version ? t.version : "1.1.0", this.featureType_ = t.featureType, this.featureNS_ = t.featureNS, this.gmlFormat_ = t.gmlFormat ? t.gmlFormat : new hw[this.version_], this.schemaLocation_ = t.schemaLocation ? t.schemaLocation : lw[this.version_] } getFeatureType() { return this.featureType_ } setFeatureType(t) { this.featureType_ = t } readFeaturesFromNode(t, e) { const i = { node: t }; Object.assign(i, { featureType: this.featureType_, featureNS: this.featureNS_ }), Object.assign(i, this.getReadOptions(t, e || {})); const n = [i]; let r; r = "2.0.0" === this.version_ ? JS : this.gmlFormat_.FEATURE_COLLECTION_PARSERS; let s = Lu([], r, t, n, this.gmlFormat_); return s || (s = []), s } readTransactionResponse(t) { if (t) { if ("string" == typeof t) { const e = _u(t); return this.readTransactionResponseFromDocument(e) } return pu(t) ? this.readTransactionResponseFromDocument(t) : this.readTransactionResponseFromNode(t) } } readFeatureCollectionMetadata(t) { if (t) { if ("string" == typeof t) { const e = _u(t); return this.readFeatureCollectionMetadataFromDocument(e) } return pu(t) ? this.readFeatureCollectionMetadataFromDocument(t) : this.readFeatureCollectionMetadataFromNode(t) } } readFeatureCollectionMetadataFromDocument(t) { for (let e = t.firstChild; e; e = e.nextSibling)if (e.nodeType == Node.ELEMENT_NODE) return this.readFeatureCollectionMetadataFromNode(e) } readFeatureCollectionMetadataFromNode(t) { const e = {}, i = U_(t.getAttribute("numberOfFeatures")); return e.numberOfFeatures = i, Lu(e, JS, t, [], this.gmlFormat_) } readTransactionResponseFromDocument(t) { for (let e = t.firstChild; e; e = e.nextSibling)if (e.nodeType == Node.ELEMENT_NODE) return this.readTransactionResponseFromNode(e) } readTransactionResponseFromNode(t) { return Lu({}, tw, t, []) } writeGetFeature(t) { const e = du(ow[this.version_], "GetFeature"); e.setAttribute("service", "WFS"), e.setAttribute("version", this.version_), t.handle && e.setAttribute("handle", t.handle), t.outputFormat && e.setAttribute("outputFormat", t.outputFormat), void 0 !== t.maxFeatures && e.setAttribute("maxFeatures", String(t.maxFeatures)), t.resultType && e.setAttribute("resultType", t.resultType), void 0 !== t.startIndex && e.setAttribute("startIndex", String(t.startIndex)), void 0 !== t.count && e.setAttribute("count", String(t.count)), void 0 !== t.viewParams && e.setAttribute("viewParams", t.viewParams), e.setAttributeNS(uu, "xsi:schemaLocation", this.schemaLocation_); const i = { node: e }; if (Object.assign(i, { version: this.version_, srsName: t.srsName, featureNS: t.featureNS ? t.featureNS : this.featureNS_, featurePrefix: t.featurePrefix, propertyNames: t.propertyNames ? t.propertyNames : [] }), at(Array.isArray(t.featureTypes), 11), "string" == typeof t.featureTypes[0]) { let n = t.filter; t.bbox && (at(t.geometryName, 12), n = this.combineBboxAndFilter(t.geometryName, t.bbox, t.srsName, n)), Object.assign(i, { geometryName: t.geometryName, filter: n }), Bw(e, t.featureTypes, [i]) } else t.featureTypes.forEach((n => { const r = this.combineBboxAndFilter(n.geometryName, n.bbox, t.srsName, t.filter); Object.assign(i, { geometryName: n.geometryName, filter: r }), Bw(e, [n.name], [i]) })); return e } combineBboxAndFilter(t, e, i, n) { const r = $S(t, e, i); return n ? HS(n, r) : r } writeTransaction(t, e, i, n) { const r = [], s = n.version ? n.version : this.version_, o = du(ow[s], "Transaction"); let a; o.setAttribute("service", "WFS"), o.setAttribute("version", s), n && (a = n.gmlOptions ? n.gmlOptions : {}, n.handle && o.setAttribute("handle", n.handle)), o.setAttributeNS(uu, "xsi:schemaLocation", lw[s]); const l = function (t, e, i, n) { const r = n.featurePrefix ? n.featurePrefix : nw; let s; "1.0.0" === i ? s = 2 : "1.1.0" === i ? s = 3 : "2.0.0" === i && (s = 3.2); return Object.assign({ node: t }, { version: i, featureNS: n.featureNS, featureType: n.featureType, featurePrefix: r, gmlVersion: s, hasZ: n.hasZ, srsName: n.srsName }, e) }(o, a, s, n); return t && cw("Insert", t, r, l), e && cw("Update", e, r, l), i && cw("Delete", i, r, l), n.nativeElements && cw("Native", n.nativeElements, r, l), o } readProjectionFromDocument(t) { for (let e = t.firstChild; e; e = e.nextSibling)if (e.nodeType == Node.ELEMENT_NODE) return this.readProjectionFromNode(e); return null } readProjectionFromNode(t) { if (t.firstElementChild && t.firstElementChild.firstElementChild) for (let e = (t = t.firstElementChild.firstElementChild).firstElementChild; e; e = e.nextElementSibling)if (0 !== e.childNodes.length && (1 !== e.childNodes.length || 3 !== e.firstChild.nodeType)) { const t = [{}]; return this.gmlFormat_.readGeometryElement(e, t), Ui(t.pop().srsName) } return null } }, _T.format.WFS.writeFilter = function (t, e) { const i = du(Uw(e = e || "1.1.0"), "Filter"), n = { node: i }; return Object.assign(n, { version: e, filter: t }), Cw(i, t, [n]), i }, _T.format.WKB = class extends Jp { constructor(t) { super(), t = t || {}, this.splitCollection = Boolean(t.splitCollection), this.viewCache_ = null, this.hex_ = !1 !== t.hex, this.littleEndian_ = !1 !== t.littleEndian, this.ewkb_ = !1 !== t.ewkb, this.layout_ = t.geometryLayout, this.nodataZ_ = t.nodataZ || 0, this.nodataM_ = t.nodataM || 0, this.srid_ = t.srid } getType() { return this.hex_ ? "text" : "arraybuffer" } readFeature(t, e) { return new lt({ geometry: this.readGeometry(t, e) }) } readFeatures(t, e) { let i = []; const n = this.readGeometry(t, e); return i = this.splitCollection && n instanceof Ip ? n.getGeometriesArray() : [n], i.map((t => new lt({ geometry: t }))) } readGeometry(t, e) { const i = tE(t); if (!i) return null; const n = new Jw(i).readGeometry(); return this.viewCache_ = i, e = this.getReadOptions(t, e), this.viewCache_ = null, Qp(n, !1, e) } readProjection(t) { const e = this.viewCache_ || tE(t); if (!e) return; const i = new Jw(e); return i.readWkbHeader(), i.getSrid() && Ui("EPSG:" + i.getSrid()) || void 0 } writeFeature(t, e) { return this.writeGeometry(t.getGeometry(), e) } writeFeatures(t, e) { return this.writeGeometry(new Ip(t.map((t => t.getGeometry()))), e) } writeGeometry(t, e) { e = this.adaptOptions(e); const i = new Qw({ layout: this.layout_, littleEndian: this.littleEndian_, ewkb: this.ewkb_, nodata: { Z: this.nodataZ_, M: this.nodataM_ } }); let n = Number.isInteger(this.srid_) ? Number(this.srid_) : null; if (!1 !== this.srid_ && !Number.isInteger(this.srid_)) { const t = e.dataProjection && Ui(e.dataProjection); if (t) { const e = t.getCode(); e.startsWith("EPSG:") && (n = Number(e.substring(5))) } } i.writeGeometry(Qp(t, !0, e), n); const r = i.getBuffer(); return this.hex_ ? function (t) { const e = new Uint8Array(t); return Array.from(e.values()).map((t => (t < 16 ? "0" : "") + Number(t).toString(16).toUpperCase())).join("") }(r) : r } }, _T.format.WKT = class extends Dy { constructor(t) { super(), t = t || {}, this.splitCollection_ = void 0 !== t.splitCollection && t.splitCollection } parse_(t) { const e = new uE(t); return new dE(e).parse() } readFeatureFromText(t, e) { const i = this.readGeometryFromText(t, e), n = new lt; return n.setGeometry(i), n } readFeaturesFromText(t, e) { let i = []; const n = this.readGeometryFromText(t, e); i = this.splitCollection_ && "GeometryCollection" == n.getType() ? n.getGeometriesArray() : [n]; const r = []; for (let t = 0, e = i.length; t < e; ++t) { const e = new lt; e.setGeometry(i[t]), r.push(e) } return r } readGeometryFromText(t, e) { return Qp(this.parse_(t), !1, e) } writeFeatureText(t, e) { const i = t.getGeometry(); return i ? this.writeGeometryText(i, e) : "" } writeFeaturesText(t, e) { if (1 == t.length) return this.writeFeatureText(t[0], e); const i = []; for (let e = 0, n = t.length; e < n; ++e)i.push(t[e].getGeometry()); const n = new Ip(i); return this.writeGeometryText(n, e) } writeGeometryText(t, e) { return _E(Qp(t, !0, e)) } }, _T.format.WMSCapabilities = class extends Zv { constructor() { super(), this.version = void 0 } readFromNode(t) { this.version = t.getAttribute("version").trim(); const e = Lu({ version: this.version }, xE, t, []); return e || null } }, _T.format.WMSGetFeatureInfo = class extends M_ { constructor(t) { super(), t = t || {}, this.featureNS_ = "http://mapserver.gis.umn.edu/mapserver", this.gmlFormat_ = new H_, this.layers_ = t.layers ? t.layers : null } getLayers() { return this.layers_ } setLayers(t) { this.layers_ = t } readFeatures_(t, e) { t.setAttribute("namespaceURI", this.featureNS_); const i = t.localName; let n = []; if (0 === t.childNodes.length) return n; if ("msGMLOutput" == i) for (let i = 0, r = t.childNodes.length; i < r; i++) { const r = t.childNodes[i]; if (r.nodeType !== Node.ELEMENT_NODE) continue; const s = r, o = e[0], a = "_layer", l = s.localName.replace(a, ""); if (this.layers_ && !this.layers_.includes(l)) continue; const h = l + "_feature"; o.featureType = h, o.featureNS = this.featureNS_; const u = {}; u[h] = xu(this.gmlFormat_.readFeatureElement, this.gmlFormat_); const d = Pu([o.featureNS, null], u); s.setAttribute("namespaceURI", this.featureNS_); const g = Lu([], d, s, e, this.gmlFormat_); g && c(n, g) } if ("FeatureCollection" == i) { const e = Lu([], this.gmlFormat_.FEATURE_COLLECTION_PARSERS, t, [{}], this.gmlFormat_); e && (n = e) } return n } readFeaturesFromNode(t, e) { const i = {}; return e && Object.assign(i, this.getReadOptions(t, e)), this.readFeatures_(t, [i]) } }, _T.format.WMTSCapabilities = class extends Zv { constructor() { super(), this.owsParser_ = new Hv } readFromNode(t) { let e = t.getAttribute("version"); e && (e = e.trim()); let i = this.owsParser_.readFromNode(t); return i ? (i.version = e, i = Lu(i, XE, t, []), i || null) : null } }, _T.format.XML = Zv, _T.format.XMLFeature = M_, _T.format.filter = {}, _T.format.filter.And = RS, _T.format.filter.Bbox = PS, _T.format.filter.Comparison = AS, _T.format.filter.ComparisonBinary = NS, _T.format.filter.Contains = LS, _T.format.filter.DWithin = MS, _T.format.filter.Disjoint = FS, _T.format.filter.During = OS, _T.format.filter.EqualTo = DS, _T.format.filter.Filter = CS, _T.format.filter.GreaterThan = kS, _T.format.filter.GreaterThanOrEqualTo = GS, _T.format.filter.Intersects = jS, _T.format.filter.IsBetween = BS, _T.format.filter.IsLike = US, _T.format.filter.IsNull = zS, _T.format.filter.LessThan = XS, _T.format.filter.LessThanOrEqualTo = VS, _T.format.filter.LogicalNary = bS, _T.format.filter.Not = WS, _T.format.filter.NotEqualTo = ZS, _T.format.filter.Or = YS, _T.format.filter.ResourceId = KS, _T.format.filter.Spatial = IS, _T.format.filter.Within = qS, _T.format.filter.and = HS, _T.format.filter.bbox = $S, _T.format.filter.between = function (t, e, i) { return new BS(t, e, i) }, _T.format.filter.contains = function (t, e, i) { return new LS(t, e, i) }, _T.format.filter.disjoint = function (t, e, i) { return new FS(t, e, i) }, _T.format.filter.during = function (t, e, i) { return new OS(t, e, i) }, _T.format.filter.dwithin = function (t, e, i, n, r) { return new MS(t, e, i, n, r) }, _T.format.filter.equalTo = function (t, e, i) { return new DS(t, e, i) }, _T.format.filter.greaterThan = function (t, e) { return new kS(t, e) }, _T.format.filter.greaterThanOrEqualTo = function (t, e) { return new GS(t, e) }, _T.format.filter.intersects = function (t, e, i) { return new jS(t, e, i) }, _T.format.filter.isNull = function (t) { return new zS(t) }, _T.format.filter.lessThan = function (t, e) { return new XS(t, e) }, _T.format.filter.lessThanOrEqualTo = function (t, e) { return new VS(t, e) }, _T.format.filter.like = function (t, e, i, n, r, s) { return new US(t, e, i, n, r, s) }, _T.format.filter.not = function (t) { return new WS(t) }, _T.format.filter.notEqualTo = function (t, e, i) { return new ZS(t, e, i) }, _T.format.filter.or = function (t) { const e = [null].concat(Array.prototype.slice.call(arguments)); return new (Function.prototype.bind.apply(YS, e)) }, _T.format.filter.resourceId = function (t) { return new KS(t) }, _T.format.filter.within = function (t, e, i) { return new qS(t, e, i) }, _T.format.xlink = {}, _T.format.xlink.readHref = Yv, _T.format.xsd = {}, _T.format.xsd.readBoolean = N_, _T.format.xsd.readBooleanString = D_, _T.format.xsd.readDateTime = k_, _T.format.xsd.readDecimal = G_, _T.format.xsd.readDecimalString = j_, _T.format.xsd.readNonNegativeIntegerString = U_, _T.format.xsd.readPositiveInteger = B_, _T.format.xsd.readString = z_, _T.format.xsd.writeBooleanTextNode = X_, _T.format.xsd.writeCDATASection = V_, _T.format.xsd.writeDateTimeTextNode = W_, _T.format.xsd.writeDecimalTextNode = Z_, _T.format.xsd.writeNonNegativeIntegerTextNode = Y_, _T.format.xsd.writeStringTextNode = K_, _T.functions = {}, _T.functions.FALSE = f, _T.functions.TRUE = g, _T.functions.VOID = p, _T.functions.memoizeOne = m, _T.functions.toPromise = _, _T.geom = {}, _T.geom.Circle = Pp, _T.geom.Geometry = mn, _T.geom.GeometryCollection = Ip, _T.geom.LineString = Op, _T.geom.LinearRing = Vn, _T.geom.MultiLineString = Np, _T.geom.MultiPoint = Dp, _T.geom.MultiPolygon = Gp, _T.geom.Point = Wn, _T.geom.Polygon = ur, _T.geom.Polygon.circular = dr, _T.geom.Polygon.fromCircle = fr, _T.geom.Polygon.fromExtent = gr, _T.geom.Polygon.makeRegular = pr, _T.geom.SimpleGeometry = _n, _T.geom.SimpleGeometry.getStrideForLayout = yn, _T.geom.SimpleGeometry.transformGeom2D = xn, _T.geom.flat = {}, _T.geom.flat.area = {}, _T.geom.flat.area.linearRing = Un, _T.geom.flat.area.linearRings = zn, _T.geom.flat.area.linearRingss = Xn, _T.geom.flat.center = {}, _T.geom.flat.center.linearRingss = kp, _T.geom.flat.closest = {}, _T.geom.flat.closest.arrayMaxSquaredDelta = wn, _T.geom.flat.closest.assignClosestArrayPoint = Cn, _T.geom.flat.closest.assignClosestMultiArrayPoint = bn, _T.geom.flat.closest.assignClosestPoint = Tn, _T.geom.flat.closest.maxSquaredDelta = Sn, _T.geom.flat.closest.multiArrayMaxSquaredDelta = En, _T.geom.flat.contains = {}, _T.geom.flat.contains.linearRingContainsExtent = Zn, _T.geom.flat.contains.linearRingContainsXY = Yn, _T.geom.flat.contains.linearRingsContainsXY = Kn, _T.geom.flat.contains.linearRingssContainsXY = qn, _T.geom.flat.deflate = {}, _T.geom.flat.deflate.deflateCoordinate = Rn, _T.geom.flat.deflate.deflateCoordinates = Pn, _T.geom.flat.deflate.deflateCoordinatesArray = In, _T.geom.flat.deflate.deflateMultiCoordinatesArray = Ln, _T.geom.flat.flip = {}, _T.geom.flat.flip.flipXY = w_, _T.geom.flat.geodesic = {}, _T.geom.flat.geodesic.greatCircleArc = function (t, e, i, n, r, s) { const o = Ui("EPSG:4326"), a = Math.cos(ai(e)), l = Math.sin(ai(e)), h = Math.cos(ai(n)), c = Math.sin(ai(n)), u = Math.cos(ai(i - t)), d = Math.sin(ai(i - t)), g = l * c + a * h * u; return Xp((function (e) { if (1 <= g) return [i, n]; const r = e * Math.acos(g), s = Math.cos(r), o = Math.sin(r), f = d * h, p = a * c - l * h * u, m = Math.atan2(f, p), _ = Math.asin(l * s + a * o * Math.cos(m)); return [oi(ai(t) + Math.atan2(Math.sin(m) * o * a, s - l * Math.sin(_))), oi(_)] }), Hi(o, r), s) }, _T.geom.flat.geodesic.meridian = Vp, _T.geom.flat.geodesic.parallel = Wp, _T.geom.flat.inflate = {}, _T.geom.flat.inflate.inflateCoordinates = Gn, _T.geom.flat.inflate.inflateCoordinatesArray = jn, _T.geom.flat.inflate.inflateMultiCoordinatesArray = Bn, _T.geom.flat.interiorpoint = {}, _T.geom.flat.interiorpoint.getInteriorPointOfArray = Hn, _T.geom.flat.interiorpoint.getInteriorPointsOfMultiArray = $n, _T.geom.flat.interpolate = {}, _T.geom.flat.interpolate.interpolatePoint = Mp, _T.geom.flat.interpolate.lineStringCoordinateAtM = Fp, _T.geom.flat.interpolate.lineStringsCoordinateAtM = Ap, _T.geom.flat.intersectsextent = {}, _T.geom.flat.intersectsextent.intersectsLineString = Qn, _T.geom.flat.intersectsextent.intersectsLineStringArray = tr, _T.geom.flat.intersectsextent.intersectsLinearRing = er, _T.geom.flat.intersectsextent.intersectsLinearRingArray = ir, _T.geom.flat.intersectsextent.intersectsLinearRingMultiArray = nr, _T.geom.flat.length = {}, _T.geom.flat.length.lineStringLength = sp, _T.geom.flat.length.linearRingLength = function (t, e, i, n) { let r = sp(t, e, i, n); const s = t[i - n] - t[e], o = t[i - n + 1] - t[e + 1]; return r += Math.sqrt(s * s + o * o), r }, _T.geom.flat.orient = {}, _T.geom.flat.orient.inflateEnds = cr, _T.geom.flat.orient.linearRingIsClockwise = sr, _T.geom.flat.orient.linearRingsAreOriented = or, _T.geom.flat.orient.linearRingssAreOriented = ar, _T.geom.flat.orient.orientLinearRings = lr, _T.geom.flat.orient.orientLinearRingsArray = hr, _T.geom.flat.reverse = {}, _T.geom.flat.reverse.coordinates = rr, _T.geom.flat.segments = {}, _T.geom.flat.segments.forEach = Jn, _T.geom.flat.simplify = {}, _T.geom.flat.simplify.douglasPeucker = Mn, _T.geom.flat.simplify.douglasPeuckerArray = Fn, _T.geom.flat.simplify.douglasPeuckerMultiArray = function (t, e, i, n, r, s, o, a) { for (let l = 0, h = i.length; l < h; ++l) { const h = i[l], c = []; o = Fn(t, e, h, n, r, s, o, c), a.push(c), e = h[h.length - 1] } return o }, _T.geom.flat.simplify.quantize = Nn, _T.geom.flat.simplify.quantizeArray = Dn, _T.geom.flat.simplify.quantizeMultiArray = kn, _T.geom.flat.simplify.radialDistance = An, _T.geom.flat.simplify.simplifyLineString = function (t, e, i, n, r, s, o) { return o = void 0 !== o ? o : [], s || (i = An(t, e, i, n, r, o, 0), t = o, e = 0, n = 2), o.length = Mn(t, e, i, n, r, o, 0), o }, _T.geom.flat.simplify.snap = On, _T.geom.flat.straightchunk = {}, _T.geom.flat.straightchunk.matchingChunk = Qf, _T.geom.flat.textpath = {}, _T.geom.flat.textpath.drawTextOnPath = rp, _T.geom.flat.topology = {}, _T.geom.flat.topology.lineStringIsClosed = function (t, e, i, n) { const r = i - n; return t[e] === t[r] && t[e + 1] === t[r + 1] && (i - e) / n > 3 && !!Un(t, e, i, n) }, _T.geom.flat.transform = {}, _T.geom.flat.transform.rotate = dn, _T.geom.flat.transform.scale = gn, _T.geom.flat.transform.transform2D = un, _T.geom.flat.transform.translate = fn, _T.has = {}, _T.has.DEVICE_PIXEL_RATIO = mt, _T.has.FIREFOX = ut, _T.has.IMAGE_DECODE = yt, _T.has.MAC = pt, _T.has.PASSIVE_EVENT_LISTENERS = xt, _T.has.SAFARI = dt, _T.has.SAFARI_BUG_237906 = gt, _T.has.WEBKIT = ft, _T.has.WORKER_OFFSCREEN_CANVAS = _t, _T.interaction = {}, _T.interaction.DoubleClickZoom = ra, _T.interaction.DragAndDrop = class extends ea { constructor(t) { t = t || {}, super({ handleEvent: g }), this.on, this.once, this.un, this.readAsBuffer_ = !1, this.formats_ = []; const e = t.formatConstructors ? t.formatConstructors : []; for (let t = 0, i = e.length; t < i; ++t) { let i = e[t]; "function" == typeof i && (i = new i), this.formats_.push(i), this.readAsBuffer_ = this.readAsBuffer_ || "arraybuffer" === i.getType() } this.projection_ = t.projection ? Ui(t.projection) : null, this.dropListenKeys_ = null, this.source_ = t.source || null, this.target = t.target ? t.target : null } handleResult_(t, e) { const i = e.target.result, n = this.getMap(); let r, s = this.projection_; if (!s && (s = en(), !s)) { s = n.getView().getProjection() } const o = this.formats_; for (let e = 0, n = o.length; e < n; ++e) { const n = o[e]; let a = i; this.readAsBuffer_ && "arraybuffer" !== n.getType() && (void 0 === r && (r = (new TextDecoder).decode(i)), a = r); const l = this.tryReadFeatures_(n, a, { featureProjection: s }); if (l && l.length > 0) { this.source_ && (this.source_.clear(), this.source_.addFeatures(l)), this.dispatchEvent(new Am(Fm, t, l, s)); break } } } registerListeners_() { const t = this.getMap(); if (t) { const e = this.target ? this.target : t.getViewport(); this.dropListenKeys_ = [N(e, P, this.handleDrop, this), N(e, b, this.handleStop, this), N(e, R, this.handleStop, this), N(e, P, this.handleStop, this)] } } setActive(t) { !this.getActive() && t && this.registerListeners_(), this.getActive() && !t && this.unregisterListeners_(), super.setActive(t) } setMap(t) { this.unregisterListeners_(), super.setMap(t), this.getActive() && this.registerListeners_() } tryReadFeatures_(t, e, i) { try { return t.readFeatures(e, i) } catch (t) { return null } } unregisterListeners_() { this.dropListenKeys_ && (this.dropListenKeys_.forEach(k), this.dropListenKeys_ = null) } handleDrop(t) { const e = t.dataTransfer.files; for (let t = 0, i = e.length; t < i; ++t) { const i = e.item(t), n = new FileReader; n.addEventListener(M, this.handleResult_.bind(this, i)), this.readAsBuffer_ ? n.readAsArrayBuffer(i) : n.readAsText(i) } } handleStop(t) { t.stopPropagation(), t.preventDefault(), t.dataTransfer.dropEffect = "copy" } }, _T.interaction.DragAndDrop.DragAndDropEvent = Am, _T.interaction.DragBox = Ia, _T.interaction.DragBox.DragBoxEvent = Pa, _T.interaction.DragPan = Sa, _T.interaction.DragRotate = wa, _T.interaction.DragRotateAndZoom = class extends sa { constructor(t) { super(t = t || {}), this.condition_ = t.condition ? t.condition : _a, this.lastAngle_ = void 0, this.lastMagnitude_ = void 0, this.lastScaleDelta_ = 0, this.duration_ = void 0 !== t.duration ? t.duration : 400 } handleDragEvent(t) { if (!xa(t)) return; const e = t.map, i = e.getSize(), n = t.pixel, r = n[0] - i[0] / 2, s = i[1] / 2 - n[1], o = Math.atan2(s, r), a = Math.sqrt(r * r + s * s), l = e.getView(); if (void 0 !== this.lastAngle_) { const t = this.lastAngle_ - o; l.adjustRotationInternal(t) } this.lastAngle_ = o, void 0 !== this.lastMagnitude_ && l.adjustResolutionInternal(this.lastMagnitude_ / a), void 0 !== this.lastMagnitude_ && (this.lastScaleDelta_ = this.lastMagnitude_ / a), this.lastMagnitude_ = a } handleUpEvent(t) { if (!xa(t)) return !0; const e = t.map.getView(), i = this.lastScaleDelta_ > 1 ? 1 : -1; return e.endInteraction(this.duration_, i), this.lastScaleDelta_ = 0, !1 } handleDownEvent(t) { return !!xa(t) && (!!this.condition_(t) && (t.map.getView().beginInteraction(), this.lastAngle_ = void 0, this.lastMagnitude_ = void 0, !0)) } }, _T.interaction.DragZoom = La, _T.interaction.Draw = class extends sa { constructor(t) { const e = t; e.stopDown || (e.stopDown = f), super(e), this.on, this.once, this.un, this.shouldHandle_ = !1, this.downPx_ = null, this.downTimeout_, this.lastDragTime_, this.pointerType_, this.freehand_ = !1, this.source_ = t.source ? t.source : null, this.features_ = t.features ? t.features : null, this.snapTolerance_ = t.snapTolerance ? t.snapTolerance : 12, this.type_ = t.type, this.mode_ = function (t) { switch (t) { case "Point": case "MultiPoint": return "Point"; case "LineString": case "MultiLineString": return "LineString"; case "Polygon": case "MultiPolygon": return "Polygon"; case "Circle": return "Circle"; default: throw new Error("Invalid type: " + t) } }(this.type_), this.stopClick_ = !!t.stopClick, this.minPoints_ = t.minPoints ? t.minPoints : "Polygon" === this.mode_ ? 3 : 2, this.maxPoints_ = "Circle" === this.mode_ ? 2 : t.maxPoints ? t.maxPoints : 1 / 0, this.finishCondition_ = t.finishCondition ? t.finishCondition : g, this.geometryLayout_ = t.geometryLayout ? t.geometryLayout : "XY"; let i = t.geometryFunction; if (!i) { const t = this.mode_; if ("Circle" === t) i = function (t, e, i) { const n = e || new Pp([NaN, NaN]), r = rn(t[0], i), s = Ti(r, rn(t[t.length - 1], i)); n.setCenterAndRadius(r, Math.sqrt(s), this.geometryLayout_); const o = en(); return o && n.transform(i, o), n }; else { let e; "Point" === t ? e = Wn : "LineString" === t ? e = Op : "Polygon" === t && (e = ur), i = function (i, n, r) { return n ? "Polygon" === t ? i[0].length ? n.setCoordinates([i[0].concat([i[0][0]])], this.geometryLayout_) : n.setCoordinates([], this.geometryLayout_) : n.setCoordinates(i, this.geometryLayout_) : n = new e(i, this.geometryLayout_), n } } } this.geometryFunction_ = i, this.dragVertexDelay_ = void 0 !== t.dragVertexDelay ? t.dragVertexDelay : 500, this.finishCoordinate_ = null, this.sketchFeature_ = null, this.sketchPoint_ = null, this.sketchCoords_ = null, this.sketchLine_ = null, this.sketchLineCoords_ = null, this.squaredClickTolerance_ = t.clickTolerance ? t.clickTolerance * t.clickTolerance : 36, this.overlay_ = new zp({ source: new zh({ useSpatialIndex: !1, wrapX: !!t.wrapX && t.wrapX }), style: t.style ? t.style : Ym(), updateWhileInteracting: !0 }), this.geometryName_ = t.geometryName, this.condition_ = t.condition ? t.condition : ma, this.freehandCondition_, t.freehand ? this.freehandCondition_ = da : this.freehandCondition_ = t.freehandCondition ? t.freehandCondition : _a, this.traceCondition_, this.setTrace(t.trace || !1), this.traceState_ = { active: !1 }, this.traceSource_ = t.traceSource || t.source || null, this.addChangeListener(ta, this.updateState_) } setTrace(t) { let e; e = t ? !0 === t ? da : t : fa, this.traceCondition_ = e } setMap(t) { super.setMap(t), this.updateState_() } getOverlay() { return this.overlay_ } handleEvent(t) { t.originalEvent.type === E && t.originalEvent.preventDefault(), this.freehand_ = "Point" !== this.mode_ && this.freehandCondition_(t); let e = t.type === ao.POINTERMOVE, i = !0; if (!this.freehand_ && this.lastDragTime_ && t.type === ao.POINTERDRAG) { Date.now() - this.lastDragTime_ >= this.dragVertexDelay_ ? (this.downPx_ = t.pixel, this.shouldHandle_ = !this.freehand_, e = !0) : this.lastDragTime_ = void 0, this.shouldHandle_ && void 0 !== this.downTimeout_ && (clearTimeout(this.downTimeout_), this.downTimeout_ = void 0) } return this.freehand_ && t.type === ao.POINTERDRAG && null !== this.sketchFeature_ ? (this.addToDrawing_(t.coordinate), i = !1) : this.freehand_ && t.type === ao.POINTERDOWN ? i = !1 : e && this.getPointerCount() < 2 ? (i = t.type === ao.POINTERMOVE, i && this.freehand_ ? (this.handlePointerMove_(t), this.shouldHandle_ && t.originalEvent.preventDefault()) : ("mouse" === t.originalEvent.pointerType || t.type === ao.POINTERDRAG && void 0 === this.downTimeout_) && this.handlePointerMove_(t)) : t.type === ao.DBLCLICK && (i = !1), super.handleEvent(t) && i } handleDownEvent(t) { return this.shouldHandle_ = !this.freehand_, this.freehand_ ? (this.downPx_ = t.pixel, this.finishCoordinate_ || this.startDrawing_(t.coordinate), !0) : this.condition_(t) ? (this.lastDragTime_ = Date.now(), this.downTimeout_ = setTimeout(function () { this.handlePointerMove_(new oo(ao.POINTERMOVE, t.map, t.originalEvent, !1, t.frameState)) }.bind(this), this.dragVertexDelay_), this.downPx_ = t.pixel, !0) : (this.lastDragTime_ = void 0, !1) } deactivateTrace_() { this.traceState_ = { active: !1 } } toggleTraceState_(t) { if (!this.traceSource_ || !this.traceCondition_(t)) return; if (this.traceState_.active) return void this.deactivateTrace_(); const e = this.getMap(), i = zt([e.getCoordinateFromPixel([t.pixel[0] - this.snapTolerance_, t.pixel[1] + this.snapTolerance_]), e.getCoordinateFromPixel([t.pixel[0] + this.snapTolerance_, t.pixel[1] - this.snapTolerance_])]), n = this.traceSource_.getFeaturesInExtent(i); if (0 === n.length) return; const r = function (t, e) { const i = []; for (let n = 0; n < e.length; ++n)Um(t, e[n].getGeometry(), i); return i }(t.coordinate, n); r.length && (this.traceState_ = { active: !0, startPx: t.pixel.slice(), targets: r, targetIndex: -1 }) } addOrRemoveTracedCoordinates_(t, e) { const i = t.startIndex <= t.endIndex; i === t.startIndex <= e ? i && e > t.endIndex || !i && e < t.endIndex ? this.addTracedCoordinates_(t, t.endIndex, e) : (i && e < t.endIndex || !i && e > t.endIndex) && this.removeTracedCoordinates_(e, t.endIndex) : (this.removeTracedCoordinates_(t.startIndex, t.endIndex), this.addTracedCoordinates_(t, t.startIndex, e)) } removeTracedCoordinates_(t, e) { if (t === e) return; let i = 0; if (t < e) { const n = Math.ceil(t); let r = Math.floor(e); r === e && (r -= 1), i = r - n + 1 } else { const n = Math.floor(t); let r = Math.ceil(e); r === e && (r += 1), i = n - r + 1 } i > 0 && this.removeLastPoints_(i) } addTracedCoordinates_(t, e, i) { if (e === i) return; const n = []; if (e < i) { const r = Math.ceil(e); let s = Math.floor(i); s === i && (s -= 1); for (let e = r; e <= s; ++e)n.push(jm(t.coordinates, e)) } else { const r = Math.floor(e); let s = Math.ceil(i); s === i && (s += 1); for (let e = r; e >= s; --e)n.push(jm(t.coordinates, e)) } n.length && this.appendCoordinates(n) } updateTrace_(t) { const e = this.traceState_; if (!e.active) return; if (-1 === e.targetIndex && Ci(e.startPx, t.pixel) < this.snapTolerance_) return; const i = function (t, e, i, n) { const r = t[0], s = t[1]; let o = 1 / 0, a = -1, l = NaN; for (let t = 0; t < e.targets.length; ++t) { const i = e.targets[t], n = i.coordinates; let h, c = 1 / 0; for (let t = 0; t < n.length - 1; ++t) { const e = Wm(r, s, n[t], n[t + 1]); e.squaredDistance < c && (c = e.squaredDistance, h = t + e.along) } c < o && (o = c, i.ring && e.targetIndex === t && (i.endIndex > i.startIndex ? h < i.startIndex && (h += n.length) : i.endIndex < i.startIndex && h > i.startIndex && (h -= n.length)), l = h, a = t) } const h = e.targets[a]; let c = h.ring; if (e.targetIndex === a && c) { const t = Zm(h.coordinates, l); Ci(i.getPixelFromCoordinate(t), e.startPx) > n && (c = !1) } if (c) { const t = h.coordinates, e = t.length, i = h.startIndex, n = l; if (i < n) { const r = Bm(t, i, n); Bm(t, i, n - e) < r && (l -= e) } else { const r = Bm(t, i, n); Bm(t, i, n + e) < r && (l += e) } } return zm.index = a, zm.endIndex = l, zm }(t.coordinate, e, this.getMap(), this.snapTolerance_); if (e.targetIndex !== i.index) { if (-1 !== e.targetIndex) { const t = e.targets[e.targetIndex]; this.removeTracedCoordinates_(t.startIndex, t.endIndex) } const t = e.targets[i.index]; this.addTracedCoordinates_(t, t.startIndex, i.endIndex) } else { const t = e.targets[e.targetIndex]; this.addOrRemoveTracedCoordinates_(t, i.endIndex) } e.targetIndex = i.index; const n = e.targets[e.targetIndex]; n.endIndex = i.endIndex; const r = Zm(n.coordinates, n.endIndex), s = this.getMap().getPixelFromCoordinate(r); t.coordinate = r, t.pixel = [Math.round(s[0]), Math.round(s[1])] } handleUpEvent(t) { let e = !0; if (0 === this.getPointerCount()) { this.downTimeout_ && (clearTimeout(this.downTimeout_), this.downTimeout_ = void 0), this.handlePointerMove_(t); const i = this.traceState_.active; if (this.toggleTraceState_(t), this.shouldHandle_) { const n = !this.finishCoordinate_; n && this.startDrawing_(t.coordinate), !n && this.freehand_ ? this.finishDrawing() : this.freehand_ || n && "Point" !== this.mode_ || (this.atFinish_(t.pixel, i) ? this.finishCondition_(t) && this.finishDrawing() : this.addToDrawing_(t.coordinate)), e = !1 } else this.freehand_ && this.abortDrawing() } return !e && this.stopClick_ && t.preventDefault(), e } handlePointerMove_(t) { if (this.pointerType_ = t.originalEvent.pointerType, this.downPx_ && (!this.freehand_ && this.shouldHandle_ || this.freehand_ && !this.shouldHandle_)) { const e = this.downPx_, i = t.pixel, n = e[0] - i[0], r = e[1] - i[1], s = n * n + r * r; if (this.shouldHandle_ = this.freehand_ ? s > this.squaredClickTolerance_ : s <= this.squaredClickTolerance_, !this.shouldHandle_) return } this.finishCoordinate_ ? (this.updateTrace_(t), this.modifyDrawing_(t.coordinate)) : this.createOrUpdateSketchPoint_(t.coordinate.slice()) } atFinish_(t, e) { let i = !1; if (this.sketchFeature_) { let n = !1, r = [this.finishCoordinate_]; const s = this.mode_; if ("Point" === s) i = !0; else if ("Circle" === s) i = 2 === this.sketchCoords_.length; else if ("LineString" === s) n = !e && this.sketchCoords_.length > this.minPoints_; else if ("Polygon" === s) { const t = this.sketchCoords_; n = t[0].length > this.minPoints_, r = [t[0][0], t[0][t[0].length - 2]], r = e ? [t[0][0]] : [t[0][0], t[0][t[0].length - 2]] } if (n) { const e = this.getMap(); for (let n = 0, s = r.length; n < s; n++) { const s = r[n], o = e.getPixelFromCoordinate(s), a = t[0] - o[0], l = t[1] - o[1], h = this.freehand_ ? 1 : this.snapTolerance_; if (i = Math.sqrt(a * a + l * l) <= h, i) { this.finishCoordinate_ = s; break } } } } return i } createOrUpdateSketchPoint_(t) { if (this.sketchPoint_) { this.sketchPoint_.getGeometry().setCoordinates(t) } else this.sketchPoint_ = new lt(new Wn(t)), this.updateSketchFeatures_() } createOrUpdateCustomSketchLine_(t) { this.sketchLine_ || (this.sketchLine_ = new lt); const e = t.getLinearRing(0); let i = this.sketchLine_.getGeometry(); i ? (i.setFlatCoordinates(e.getLayout(), e.getFlatCoordinates()), i.changed()) : (i = new Op(e.getFlatCoordinates(), e.getLayout()), this.sketchLine_.setGeometry(i)) } startDrawing_(t) { const e = this.getMap().getView().getProjection(), i = yn(this.geometryLayout_); for (; t.length < i;)t.push(0); this.finishCoordinate_ = t, "Point" === this.mode_ ? this.sketchCoords_ = t.slice() : "Polygon" === this.mode_ ? (this.sketchCoords_ = [[t.slice(), t.slice()]], this.sketchLineCoords_ = this.sketchCoords_[0]) : this.sketchCoords_ = [t.slice(), t.slice()], this.sketchLineCoords_ && (this.sketchLine_ = new lt(new Op(this.sketchLineCoords_))); const n = this.geometryFunction_(this.sketchCoords_, void 0, e); this.sketchFeature_ = new lt, this.geometryName_ && this.sketchFeature_.setGeometryName(this.geometryName_), this.sketchFeature_.setGeometry(n), this.updateSketchFeatures_(), this.dispatchEvent(new km(Om, this.sketchFeature_)) } modifyDrawing_(t) { const e = this.getMap(), i = this.sketchFeature_.getGeometry(), n = e.getView().getProjection(), r = yn(this.geometryLayout_); let s, o; for (; t.length < r;)t.push(0); if ("Point" === this.mode_ ? o = this.sketchCoords_ : "Polygon" === this.mode_ ? (s = this.sketchCoords_[0], o = s[s.length - 1], this.atFinish_(e.getPixelFromCoordinate(t)) && (t = this.finishCoordinate_.slice())) : (s = this.sketchCoords_, o = s[s.length - 1]), o[0] = t[0], o[1] = t[1], this.geometryFunction_(this.sketchCoords_, i, n), this.sketchPoint_) { this.sketchPoint_.getGeometry().setCoordinates(t) } if ("Polygon" === i.getType() && "Polygon" !== this.mode_) this.createOrUpdateCustomSketchLine_(i); else if (this.sketchLineCoords_) { this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_) } this.updateSketchFeatures_() } addToDrawing_(t) { const e = this.sketchFeature_.getGeometry(), i = this.getMap().getView().getProjection(); let n, r; const s = this.mode_; "LineString" === s || "Circle" === s ? (this.finishCoordinate_ = t.slice(), r = this.sketchCoords_, r.length >= this.maxPoints_ && (this.freehand_ ? r.pop() : n = !0), r.push(t.slice()), this.geometryFunction_(r, e, i)) : "Polygon" === s && (r = this.sketchCoords_[0], r.length >= this.maxPoints_ && (this.freehand_ ? r.pop() : n = !0), r.push(t.slice()), n && (this.finishCoordinate_ = r[0]), this.geometryFunction_(this.sketchCoords_, e, i)), this.createOrUpdateSketchPoint_(t.slice()), this.updateSketchFeatures_(), n && this.finishDrawing() } removeLastPoints_(t) { if (!this.sketchFeature_) return; const e = this.sketchFeature_.getGeometry(), i = this.getMap().getView().getProjection(), n = this.mode_; for (let r = 0; r < t; ++r) { let t; if ("LineString" === n || "Circle" === n) { if (t = this.sketchCoords_, t.splice(-2, 1), t.length >= 2) { this.finishCoordinate_ = t[t.length - 2].slice(); const e = this.finishCoordinate_.slice(); t[t.length - 1] = e, this.createOrUpdateSketchPoint_(e) } this.geometryFunction_(t, e, i), "Polygon" === e.getType() && this.sketchLine_ && this.createOrUpdateCustomSketchLine_(e) } else if ("Polygon" === n) { t = this.sketchCoords_[0], t.splice(-2, 1); const n = this.sketchLine_.getGeometry(); if (t.length >= 2) { const e = t[t.length - 2].slice(); t[t.length - 1] = e, this.createOrUpdateSketchPoint_(e) } n.setCoordinates(t), this.geometryFunction_(this.sketchCoords_, e, i) } if (1 === t.length) { this.abortDrawing(); break } } this.updateSketchFeatures_() } removeLastPoint() { this.removeLastPoints_(1) } finishDrawing() { const t = this.abortDrawing_(); if (!t) return; let e = this.sketchCoords_; const i = t.getGeometry(), n = this.getMap().getView().getProjection(); "LineString" === this.mode_ ? (e.pop(), this.geometryFunction_(e, i, n)) : "Polygon" === this.mode_ && (e[0].pop(), this.geometryFunction_(e, i, n), e = i.getCoordinates()), "MultiPoint" === this.type_ ? t.setGeometry(new Dp([e])) : "MultiLineString" === this.type_ ? t.setGeometry(new Np([e])) : "MultiPolygon" === this.type_ && t.setGeometry(new Gp([e])), this.dispatchEvent(new km(Nm, t)), this.features_ && this.features_.push(t), this.source_ && this.source_.addFeature(t) } abortDrawing_() { this.finishCoordinate_ = null; const t = this.sketchFeature_; return this.sketchFeature_ = null, this.sketchPoint_ = null, this.sketchLine_ = null, this.overlay_.getSource().clear(!0), this.deactivateTrace_(), t } abortDrawing() { const t = this.abortDrawing_(); t && this.dispatchEvent(new km(Dm, t)) } appendCoordinates(t) { const e = this.mode_, i = !this.sketchFeature_; let n; if (i && this.startDrawing_(t[0]), "LineString" === e || "Circle" === e) n = this.sketchCoords_; else { if ("Polygon" !== e) return; n = this.sketchCoords_ && this.sketchCoords_.length ? this.sketchCoords_[0] : [] } i && n.shift(), n.pop(); for (let e = 0; e < t.length; e++)this.addToDrawing_(t[e]); const r = t[t.length - 1]; this.addToDrawing_(r), this.modifyDrawing_(r) } extend(t) { const e = t.getGeometry(); this.sketchFeature_ = t, this.sketchCoords_ = e.getCoordinates(); const i = this.sketchCoords_[this.sketchCoords_.length - 1]; this.finishCoordinate_ = i.slice(), this.sketchCoords_.push(i.slice()), this.sketchPoint_ = new lt(new Wn(i)), this.updateSketchFeatures_(), this.dispatchEvent(new km(Om, this.sketchFeature_)) } updateSketchFeatures_() { const t = []; this.sketchFeature_ && t.push(this.sketchFeature_), this.sketchLine_ && t.push(this.sketchLine_), this.sketchPoint_ && t.push(this.sketchPoint_); const e = this.overlay_.getSource(); e.clear(!0), e.addFeatures(t) } updateState_() { const t = this.getMap(), e = this.getActive(); t && e || this.abortDrawing(), this.overlay_.setMap(e ? t : null) } }, _T.interaction.Draw.DrawEvent = km, _T.interaction.Draw.createBox = function () { return function (t, e, i) { const n = zt([t[0], t[t.length - 1]].map((function (t) { return rn(t, i) }))), r = [[ue(n), de(n), ve(n), xe(n), ue(n)]]; e ? e.setCoordinates(r) : e = new ur(r); const s = en(); return s && e.transform(i, s), e } }, _T.interaction.Draw.createRegularPolygon = function (t, e) { return function (i, n, r) { const s = rn(i[0], r), o = rn(i[i.length - 1], r), a = Math.sqrt(Ti(s, o)); n = n || fr(new Pp(s), t); let l = e; if (!e && 0 !== e) { const t = o[0] - s[0], e = o[1] - s[1]; l = Math.atan2(e, t) } pr(n, s, a, l); const h = en(); return h && n.transform(r, h), n } }, _T.interaction.Extent = class extends sa { constructor(t) { super(t = t || {}), this.on, this.once, this.un, this.condition_ = t.condition ? t.condition : da, this.extent_ = null, this.pointerHandler_ = null, this.pixelTolerance_ = void 0 !== t.pixelTolerance ? t.pixelTolerance : 10, this.snappedToVertex_ = !1, this.extentFeature_ = null, this.vertexFeature_ = null, t || (t = {}), this.extentOverlay_ = new zp({ source: new zh({ useSpatialIndex: !1, wrapX: !!t.wrapX }), style: t.boxStyle ? t.boxStyle : Hm(), updateWhileAnimating: !0, updateWhileInteracting: !0 }), this.vertexOverlay_ = new zp({ source: new zh({ useSpatialIndex: !1, wrapX: !!t.wrapX }), style: t.pointerStyle ? t.pointerStyle : $m(), updateWhileAnimating: !0, updateWhileInteracting: !0 }), t.extent && this.setExtent(t.extent) } snapToVertex_(t, e) { const i = e.getCoordinateFromPixelInternal(t), n = function (t, e) { return bi(i, t) - bi(i, e) }, r = this.getExtentInternal(); if (r) { const s = function (t) { return [[[t[0], t[1]], [t[0], t[3]]], [[t[0], t[3]], [t[2], t[3]]], [[t[2], t[3]], [t[2], t[1]]], [[t[2], t[1]], [t[0], t[1]]]] }(r); s.sort(n); const o = s[0]; let a = yi(i, o); const l = e.getPixelFromCoordinateInternal(a); if (Ci(t, l) <= this.pixelTolerance_) { const t = e.getPixelFromCoordinateInternal(o[0]), i = e.getPixelFromCoordinateInternal(o[1]), n = Ti(l, t), r = Ti(l, i), s = Math.sqrt(Math.min(n, r)); return this.snappedToVertex_ = s <= this.pixelTolerance_, this.snappedToVertex_ && (a = n > r ? o[1] : o[0]), a } } return null } handlePointerMove_(t) { const e = t.pixel, i = t.map; let n = this.snapToVertex_(e, i); n || (n = i.getCoordinateFromPixelInternal(e)), this.createOrUpdatePointerFeature_(n) } createOrUpdateExtentFeature_(t) { let e = this.extentFeature_; return e ? t ? e.setGeometry(gr(t)) : e.setGeometry(void 0) : (e = new lt(t ? gr(t) : {}), this.extentFeature_ = e, this.extentOverlay_.getSource().addFeature(e)), e } createOrUpdatePointerFeature_(t) { let e = this.vertexFeature_; if (e) { e.getGeometry().setCoordinates(t) } else e = new lt(new Wn(t)), this.vertexFeature_ = e, this.vertexOverlay_.getSource().addFeature(e); return e } handleEvent(t) { return !t.originalEvent || !this.condition_(t) || (t.type != ao.POINTERMOVE || this.handlingDownUpSequence || this.handlePointerMove_(t), super.handleEvent(t), !1) } handleDownEvent(t) { const e = t.pixel, i = t.map, n = this.getExtentInternal(); let r = this.snapToVertex_(e, i); const s = function (t) { let e = null, i = null; return t[0] == n[0] ? e = n[2] : t[0] == n[2] && (e = n[0]), t[1] == n[1] ? i = n[3] : t[1] == n[3] && (i = n[1]), null !== e && null !== i ? [e, i] : null }; if (r && n) { const t = r[0] == n[0] || r[0] == n[2] ? r[0] : null, e = r[1] == n[1] || r[1] == n[3] ? r[1] : null; null !== t && null !== e ? this.pointerHandler_ = Jm(s(r)) : null !== t ? this.pointerHandler_ = Qm(s([t, n[1]]), s([t, n[3]])) : null !== e && (this.pointerHandler_ = Qm(s([n[0], e]), s([n[2], e]))) } else r = i.getCoordinateFromPixelInternal(e), this.setExtent([r[0], r[1], r[0], r[1]]), this.pointerHandler_ = Jm(r); return !0 } handleDragEvent(t) { if (this.pointerHandler_) { const e = t.coordinate; this.setExtent(this.pointerHandler_(e)), this.createOrUpdatePointerFeature_(e) } } handleUpEvent(t) { this.pointerHandler_ = null; const e = this.getExtentInternal(); return e && 0 !== ce(e) || this.setExtent(null), !1 } setMap(t) { this.extentOverlay_.setMap(t), this.vertexOverlay_.setMap(t), super.setMap(t) } getExtent() { return sn(this.getExtentInternal(), this.getMap().getView().getProjection()) } getExtentInternal() { return this.extent_ } setExtent(t) { this.extent_ = t || null, this.createOrUpdateExtentFeature_(t), this.dispatchEvent(new qm(this.extent_)) } }, _T.interaction.Extent.ExtentEvent = qm, _T.interaction.Interaction = ea, _T.interaction.Interaction.pan = ia, _T.interaction.Interaction.zoomByDelta = na, _T.interaction.KeyboardPan = Na, _T.interaction.KeyboardZoom = Da, _T.interaction.Link = class extends ea { constructor(t) { let e; super(), e = !0 === (t = Object.assign({ animate: !0, replace: !1, prefix: "" }, t || {})).animate ? { duration: 250 } : t.animate ? t.animate : null, this.animationOptions_ = e, this.replace_ = t.replace, this.prefix_ = t.prefix, this.listenerKeys_ = [], this.initial_ = !0, this.updateState_ = this.updateState_.bind(this) } getParamName_(t) { return this.prefix_ ? this.prefix_ + t : t } get_(t, e) { return t.get(this.getParamName_(e)) } set_(t, e, i) { t.set(this.getParamName_(e), i) } delete_(t, e) { t.delete(this.getParamName_(e)) } setMap(t) { const e = this.getMap(); super.setMap(t), t !== e && (e && this.unregisterListeners_(e), t && (this.initial_ = !0, this.updateState_(), this.registerListeners_(t))) } registerListeners_(t) { this.listenerKeys_.push(N(t, mo, this.updateUrl_, this), N(t.getLayerGroup(), S, this.updateUrl_, this), N(t, "change:layergroup", this.handleChangeLayerGroup_, this)), this.replace_ || addEventListener("popstate", this.updateState_) } unregisterListeners_(t) { for (let t = 0, e = this.listenerKeys_.length; t < e; ++t)k(this.listenerKeys_[t]); this.listenerKeys_.length = 0, this.replace_ || removeEventListener("popstate", this.updateState_); const e = new URL(window.location.href), i = e.searchParams; this.delete_(i, "x"), this.delete_(i, "y"), this.delete_(i, "z"), this.delete_(i, "r"), this.delete_(i, "l"), window.history.replaceState(null, "", e) } handleChangeLayerGroup_() { const t = this.getMap(); t && (this.unregisterListeners_(t), this.registerListeners_(t), this.initial_ = !0, this.updateUrl_()) } updateState_() { const t = this.getMap(); if (!t) return; const e = t.getView(); if (!e) return; const i = new URL(window.location.href).searchParams; let n = !1; const r = {}, s = t_(this.get_(i, "z")); i_(s, e.getZoom()) && (n = !0, r.zoom = s); const o = t_(this.get_(i, "r")); i_(o, e.getRotation()) && (n = !0, r.rotation = o); const a = [t_(this.get_(i, "x")), t_(this.get_(i, "y"))]; var l, h; l = a, h = e.getCenter(), (i_(l[0], h[0]) || i_(l[1], h[1])) && (n = !0, r.center = a), n && (!this.initial_ && this.animationOptions_ ? e.animate(Object.assign(r, this.animationOptions_)) : (r.center && e.setCenter(r.center), "zoom" in r && e.setZoom(r.zoom), "rotation" in r && e.setRotation(r.rotation))); const c = t.getAllLayers(), u = this.get_(i, "l"); if (u && u.length === c.length) for (let t = 0, e = c.length; t < e; ++t) { const e = parseInt(u[t]); if (!isNaN(e)) { const i = Boolean(e), n = c[t]; n.getVisible() !== i && n.setVisible(i) } } } updateUrl_() { const t = this.getMap(); if (!t) return; const e = t.getView(); if (!e) return; const i = this.initial_; this.initial_ = !1; const n = e.getCenter(), r = e.getZoom(), s = e.getRotation(), o = t.getAllLayers(), a = new Array(o.length); for (let t = 0, e = o.length; t < e; ++t)a[t] = o[t].getVisible() ? "1" : "0"; const l = new URL(window.location.href), h = l.searchParams; this.set_(h, "x", e_(n[0])), this.set_(h, "y", e_(n[1])), this.set_(h, "z", e_(r)), this.set_(h, "r", e_(s)), this.set_(h, "l", a.join("")), l.href !== window.location.href && (i || this.replace_ ? window.history.replaceState(null, "", l) : window.history.pushState(null, "", l)) } }, _T.interaction.Modify = class extends sa { constructor(t) { let e; if (super(t), this.on, this.once, this.un, this.boundHandleFeatureChange_ = this.handleFeatureChange_.bind(this), this.condition_ = t.condition ? t.condition : va, this.defaultDeleteCondition_ = function (t) { return la(t) && pa(t) }, this.deleteCondition_ = t.deleteCondition ? t.deleteCondition : this.defaultDeleteCondition_, this.insertVertexCondition_ = t.insertVertexCondition ? t.insertVertexCondition : da, this.vertexFeature_ = null, this.vertexSegments_ = null, this.lastPixel_ = [0, 0], this.ignoreNextSingleClick_ = !1, this.featuresBeingModified_ = null, this.rBush_ = new Ah, this.pixelTolerance_ = void 0 !== t.pixelTolerance ? t.pixelTolerance : 10, this.snappedToVertex_ = !1, this.changingFeature_ = !1, this.dragSegments_ = [], this.overlay_ = new zp({ source: new zh({ useSpatialIndex: !1, wrapX: !!t.wrapX }), style: t.style ? t.style : u_(), updateWhileAnimating: !0, updateWhileInteracting: !0 }), this.SEGMENT_WRITERS_ = { Point: this.writePointGeometry_.bind(this), LineString: this.writeLineStringGeometry_.bind(this), LinearRing: this.writeLineStringGeometry_.bind(this), Polygon: this.writePolygonGeometry_.bind(this), MultiPoint: this.writeMultiPointGeometry_.bind(this), MultiLineString: this.writeMultiLineStringGeometry_.bind(this), MultiPolygon: this.writeMultiPolygonGeometry_.bind(this), Circle: this.writeCircleGeometry_.bind(this), GeometryCollection: this.writeGeometryCollectionGeometry_.bind(this) }, this.source_ = null, this.hitDetection_ = null, t.features ? e = t.features : t.source && (this.source_ = t.source, e = new q(this.source_.getFeatures()), this.source_.addEventListener(Oh, this.handleSourceAdd_.bind(this)), this.source_.addEventListener(kh, this.handleSourceRemove_.bind(this))), !e) throw new Error("The modify interaction requires features, a source or a layer"); t.hitDetection && (this.hitDetection_ = t.hitDetection), this.features_ = e, this.features_.forEach(this.addFeature_.bind(this)), this.features_.addEventListener(W, this.handleFeatureAdd_.bind(this)), this.features_.addEventListener(Z, this.handleFeatureRemove_.bind(this)), this.lastPointerEvent_ = null, this.delta_ = [0, 0], this.snapToPointer_ = void 0 === t.snapToPointer ? !this.hitDetection_ : t.snapToPointer } addFeature_(t) { const e = t.getGeometry(); if (e) { const i = this.SEGMENT_WRITERS_[e.getType()]; i && i(t, e) } const i = this.getMap(); i && i.isRendered() && this.getActive() && this.handlePointerAtPixel_(this.lastPixel_, i), t.addEventListener(S, this.boundHandleFeatureChange_) } willModifyFeatures_(t, e) { if (!this.featuresBeingModified_) { this.featuresBeingModified_ = new q; const i = this.featuresBeingModified_.getArray(); for (let t = 0, n = e.length; t < n; ++t) { const n = e[t]; for (let t = 0, e = n.length; t < e; ++t) { const e = n[t].feature; e && !i.includes(e) && this.featuresBeingModified_.push(e) } } 0 === this.featuresBeingModified_.getLength() ? this.featuresBeingModified_ = null : this.dispatchEvent(new a_(s_, this.featuresBeingModified_, t)) } } removeFeature_(t) { this.removeFeatureSegmentData_(t), this.vertexFeature_ && 0 === this.features_.getLength() && (this.overlay_.getSource().removeFeature(this.vertexFeature_), this.vertexFeature_ = null), t.removeEventListener(S, this.boundHandleFeatureChange_) } removeFeatureSegmentData_(t) { const e = this.rBush_, i = []; e.forEach((function (e) { t === e.feature && i.push(e) })); for (let t = i.length - 1; t >= 0; --t) { const n = i[t]; for (let t = this.dragSegments_.length - 1; t >= 0; --t)this.dragSegments_[t][0] === n && this.dragSegments_.splice(t, 1); e.remove(n) } } setActive(t) { this.vertexFeature_ && !t && (this.overlay_.getSource().removeFeature(this.vertexFeature_), this.vertexFeature_ = null), super.setActive(t) } setMap(t) { this.overlay_.setMap(t), super.setMap(t) } getOverlay() { return this.overlay_ } handleSourceAdd_(t) { t.feature && this.features_.push(t.feature) } handleSourceRemove_(t) { t.feature && this.features_.remove(t.feature) } handleFeatureAdd_(t) { this.addFeature_(t.element) } handleFeatureChange_(t) { if (!this.changingFeature_) { const e = t.target; this.removeFeature_(e), this.addFeature_(e) } } handleFeatureRemove_(t) { this.removeFeature_(t.element) } writePointGeometry_(t, e) { const i = e.getCoordinates(), n = { feature: t, geometry: e, segment: [i, i] }; this.rBush_.insert(e.getExtent(), n) } writeMultiPointGeometry_(t, e) { const i = e.getCoordinates(); for (let n = 0, r = i.length; n < r; ++n) { const r = i[n], s = { feature: t, geometry: e, depth: [n], index: n, segment: [r, r] }; this.rBush_.insert(e.getExtent(), s) } } writeLineStringGeometry_(t, e) { const i = e.getCoordinates(); for (let n = 0, r = i.length - 1; n < r; ++n) { const r = i.slice(n, n + 2), s = { feature: t, geometry: e, index: n, segment: r }; this.rBush_.insert(zt(r), s) } } writeMultiLineStringGeometry_(t, e) { const i = e.getCoordinates(); for (let n = 0, r = i.length; n < r; ++n) { const r = i[n]; for (let i = 0, s = r.length - 1; i < s; ++i) { const s = r.slice(i, i + 2), o = { feature: t, geometry: e, depth: [n], index: i, segment: s }; this.rBush_.insert(zt(s), o) } } } writePolygonGeometry_(t, e) { const i = e.getCoordinates(); for (let n = 0, r = i.length; n < r; ++n) { const r = i[n]; for (let i = 0, s = r.length - 1; i < s; ++i) { const s = r.slice(i, i + 2), o = { feature: t, geometry: e, depth: [n], index: i, segment: s }; this.rBush_.insert(zt(s), o) } } } writeMultiPolygonGeometry_(t, e) { const i = e.getCoordinates(); for (let n = 0, r = i.length; n < r; ++n) { const r = i[n]; for (let i = 0, s = r.length; i < s; ++i) { const s = r[i]; for (let r = 0, o = s.length - 1; r < o; ++r) { const o = s.slice(r, r + 2), a = { feature: t, geometry: e, depth: [i, n], index: r, segment: o }; this.rBush_.insert(zt(o), a) } } } } writeCircleGeometry_(t, e) { const i = e.getCenter(), n = { feature: t, geometry: e, index: 0, segment: [i, i] }, r = { feature: t, geometry: e, index: 1, segment: [i, i] }, s = [n, r]; n.featureSegments = s, r.featureSegments = s, this.rBush_.insert(Qt(i), n); let o = e; const a = en(); if (a && this.getMap()) { const t = this.getMap().getView().getProjection(); o = o.clone().transform(a, t), o = fr(o).transform(t, a) } this.rBush_.insert(o.getExtent(), r) } writeGeometryCollectionGeometry_(t, e) { const i = e.getGeometriesArray(); for (let e = 0; e < i.length; ++e) { const n = i[e]; (0, this.SEGMENT_WRITERS_[n.getType()])(t, n) } } createOrUpdateVertexFeature_(t, e, i) { let n = this.vertexFeature_; if (n) { n.getGeometry().setCoordinates(t) } else n = new lt(new Wn(t)), this.vertexFeature_ = n, this.overlay_.getSource().addFeature(n); return n.set("features", e), n.set("geometries", i), n } handleEvent(t) { if (!t.originalEvent) return !0; let e; return this.lastPointerEvent_ = t, t.map.getView().getInteracting() || t.type != ao.POINTERMOVE || this.handlingDownUpSequence || this.handlePointerMove_(t), this.vertexFeature_ && this.deleteCondition_(t) && (e = !(t.type != ao.SINGLECLICK || !this.ignoreNextSingleClick_) || this.removePoint()), t.type == ao.SINGLECLICK && (this.ignoreNextSingleClick_ = !1), super.handleEvent(t) && !e } handleDragEvent(t) { this.ignoreNextSingleClick_ = !1, this.willModifyFeatures_(t, this.dragSegments_); const e = [t.coordinate[0] + this.delta_[0], t.coordinate[1] + this.delta_[1]], i = [], n = []; for (let r = 0, s = this.dragSegments_.length; r < s; ++r) { const s = this.dragSegments_[r], o = s[0], a = o.feature; i.includes(a) || i.push(a); const l = o.geometry; n.includes(l) || n.push(l); const h = o.depth; let c; const u = o.segment, d = s[1]; for (; e.length < l.getStride();)e.push(u[d][e.length]); switch (l.getType()) { case "Point": c = e, u[0] = e, u[1] = e; break; case "MultiPoint": c = l.getCoordinates(), c[o.index] = e, u[0] = e, u[1] = e; break; case "LineString": c = l.getCoordinates(), c[o.index + d] = e, u[d] = e; break; case "MultiLineString": case "Polygon": c = l.getCoordinates(), c[h[0]][o.index + d] = e, u[d] = e; break; case "MultiPolygon": c = l.getCoordinates(), c[h[1]][h[0]][o.index + d] = e, u[d] = e; break; case "Circle": if (u[0] = e, u[1] = e, 0 === o.index) this.changingFeature_ = !0, l.setCenter(e), this.changingFeature_ = !1; else { this.changingFeature_ = !0; const i = t.map.getView().getProjection(); let n = Ci(rn(l.getCenter(), i), rn(e, i)); const r = en(); if (r) { const t = l.clone().transform(r, i); t.setRadius(n), n = t.transform(i, r).getRadius() } l.setRadius(n), this.changingFeature_ = !1 } }c && this.setGeometryCoordinates_(l, c) } this.createOrUpdateVertexFeature_(e, i, n) } handleDownEvent(t) { if (!this.condition_(t)) return !1; const e = t.coordinate; this.handlePointerAtPixel_(t.pixel, t.map, e), this.dragSegments_.length = 0, this.featuresBeingModified_ = null; const i = this.vertexFeature_; if (i) { const n = t.map.getView().getProjection(), r = [], s = i.getGeometry().getCoordinates(), o = zt([s]), a = this.rBush_.getInExtent(o), l = {}; a.sort(l_); for (let i = 0, o = a.length; i < o; ++i) { const o = a[i], h = o.segment; let c = z(o.geometry); const u = o.depth; if (u && (c += "-" + u.join("-")), l[c] || (l[c] = new Array(2)), "Circle" !== o.geometry.getType() || 1 !== o.index) if (!Si(h[0], s) || l[c][0]) if (!Si(h[1], s) || l[c][1]) z(h) in this.vertexSegments_ && !l[c][0] && !l[c][1] && this.insertVertexCondition_(t) && r.push(o); else { if (l[c][0] && 0 === l[c][0].index) { let t = o.geometry.getCoordinates(); switch (o.geometry.getType()) { case "LineString": case "MultiLineString": continue; case "MultiPolygon": t = t[u[1]]; case "Polygon": if (o.index !== t[u[0]].length - 2) continue } } this.dragSegments_.push([o, 1]), l[c][1] = o } else this.dragSegments_.push([o, 0]), l[c][0] = o; else { Si(c_(e, o, n), s) && !l[c][0] && (this.dragSegments_.push([o, 0]), l[c][0] = o) } } r.length && this.willModifyFeatures_(t, [r]); for (let t = r.length - 1; t >= 0; --t)this.insertVertex_(r[t], s) } return !!this.vertexFeature_ } handleUpEvent(t) { for (let e = this.dragSegments_.length - 1; e >= 0; --e) { const i = this.dragSegments_[e][0], n = i.geometry; if ("Circle" === n.getType()) { const e = n.getCenter(), r = i.featureSegments[0], s = i.featureSegments[1]; r.segment[0] = e, r.segment[1] = e, s.segment[0] = e, s.segment[1] = e, this.rBush_.update(Qt(e), r); let o = n; const a = en(); if (a) { const e = t.map.getView().getProjection(); o = o.clone().transform(a, e), o = fr(o).transform(e, a) } this.rBush_.update(o.getExtent(), s) } else this.rBush_.update(zt(i.segment), i) } return this.featuresBeingModified_ && (this.dispatchEvent(new a_(o_, this.featuresBeingModified_, t)), this.featuresBeingModified_ = null), !1 } handlePointerMove_(t) { this.lastPixel_ = t.pixel, this.handlePointerAtPixel_(t.pixel, t.map, t.coordinate) } handlePointerAtPixel_(t, e, i) { const n = i || e.getCoordinateFromPixel(t), r = e.getView().getProjection(), s = function (t, e) { return h_(n, t, r) - h_(n, e, r) }; let o, a; if (this.hitDetection_) { const i = "object" == typeof this.hitDetection_ ? t => t === this.hitDetection_ : void 0; e.forEachFeatureAtPixel(t, ((t, e, i) => { if ("Point" === (i = i || t.getGeometry()).getType() && this.features_.getArray().includes(t)) { a = i; const e = i.getFlatCoordinates().slice(0, 2); o = [{ feature: t, geometry: i, segment: [e, e] }] } return !0 }), { layerFilter: i }) } if (!o) { const t = sn(Xt(on(Qt(n, n_), r), e.getView().getResolution() * this.pixelTolerance_, n_), r); o = this.rBush_.getInExtent(t) } if (o && o.length > 0) { const i = o.sort(s)[0], l = i.segment; let h = c_(n, i, r); const c = e.getPixelFromCoordinate(h); let u = Ci(t, c); if (a || u <= this.pixelTolerance_) { const t = {}; if (t[z(l)] = !0, this.snapToPointer_ || (this.delta_[0] = h[0] - n[0], this.delta_[1] = h[1] - n[1]), "Circle" === i.geometry.getType() && 1 === i.index) this.snappedToVertex_ = !0, this.createOrUpdateVertexFeature_(h, [i.feature], [i.geometry]); else { const n = e.getPixelFromCoordinate(l[0]), r = e.getPixelFromCoordinate(l[1]), s = Ti(c, n), a = Ti(c, r); u = Math.sqrt(Math.min(s, a)), this.snappedToVertex_ = u <= this.pixelTolerance_, this.snappedToVertex_ && (h = s > a ? l[1] : l[0]), this.createOrUpdateVertexFeature_(h, [i.feature], [i.geometry]); const d = {}; d[z(i.geometry)] = !0; for (let e = 1, i = o.length; e < i; ++e) { const i = o[e].segment; if (!(Si(l[0], i[0]) && Si(l[1], i[1]) || Si(l[0], i[1]) && Si(l[1], i[0]))) break; { const n = z(o[e].geometry); n in d || (d[n] = !0, t[z(i)] = !0) } } } return void (this.vertexSegments_ = t) } } this.vertexFeature_ && (this.overlay_.getSource().removeFeature(this.vertexFeature_), this.vertexFeature_ = null) } insertVertex_(t, e) { const i = t.segment, n = t.feature, r = t.geometry, s = t.depth, o = t.index; let a; for (; e.length < r.getStride();)e.push(0); switch (r.getType()) { case "MultiLineString": case "Polygon": a = r.getCoordinates(), a[s[0]].splice(o + 1, 0, e); break; case "MultiPolygon": a = r.getCoordinates(), a[s[1]][s[0]].splice(o + 1, 0, e); break; case "LineString": a = r.getCoordinates(), a.splice(o + 1, 0, e); break; default: return }this.setGeometryCoordinates_(r, a); const l = this.rBush_; l.remove(t), this.updateSegmentIndices_(r, o, s, 1); const h = { segment: [i[0], e], feature: n, geometry: r, depth: s, index: o }; l.insert(zt(h.segment), h), this.dragSegments_.push([h, 1]); const c = { segment: [e, i[1]], feature: n, geometry: r, depth: s, index: o + 1 }; l.insert(zt(c.segment), c), this.dragSegments_.push([c, 0]), this.ignoreNextSingleClick_ = !0 } removePoint() { if (this.lastPointerEvent_ && this.lastPointerEvent_.type != ao.POINTERDRAG) { const t = this.lastPointerEvent_; this.willModifyFeatures_(t, this.dragSegments_); const e = this.removeVertex_(); return this.featuresBeingModified_ && this.dispatchEvent(new a_(o_, this.featuresBeingModified_, t)), this.featuresBeingModified_ = null, e } return !1 } removeVertex_() { const t = this.dragSegments_, e = {}; let i, n, r, s, o, a, l, h, c, u, d, g = !1; for (o = t.length - 1; o >= 0; --o)r = t[o], u = r[0], d = z(u.feature), u.depth && (d += "-" + u.depth.join("-")), d in e || (e[d] = {}), 0 === r[1] ? (e[d].right = u, e[d].index = u.index) : 1 == r[1] && (e[d].left = u, e[d].index = u.index + 1); for (d in e) { switch (c = e[d].right, l = e[d].left, a = e[d].index, h = a - 1, u = void 0 !== l ? l : c, h < 0 && (h = 0), s = u.geometry, n = s.getCoordinates(), i = n, g = !1, s.getType()) { case "MultiLineString": n[u.depth[0]].length > 2 && (n[u.depth[0]].splice(a, 1), g = !0); break; case "LineString": n.length > 2 && (n.splice(a, 1), g = !0); break; case "MultiPolygon": i = i[u.depth[1]]; case "Polygon": i = i[u.depth[0]], i.length > 4 && (a == i.length - 1 && (a = 0), i.splice(a, 1), g = !0, 0 === a && (i.pop(), i.push(i[0]), h = i.length - 1)) }if (g) { this.setGeometryCoordinates_(s, n); const e = []; if (void 0 !== l && (this.rBush_.remove(l), e.push(l.segment[0])), void 0 !== c && (this.rBush_.remove(c), e.push(c.segment[1])), void 0 !== l && void 0 !== c) { const t = { depth: u.depth, feature: u.feature, geometry: u.geometry, index: h, segment: e }; this.rBush_.insert(zt(t.segment), t) } this.updateSegmentIndices_(s, a, u.depth, -1), this.vertexFeature_ && (this.overlay_.getSource().removeFeature(this.vertexFeature_), this.vertexFeature_ = null), t.length = 0 } } return g } setGeometryCoordinates_(t, e) { this.changingFeature_ = !0, t.setCoordinates(e), this.changingFeature_ = !1 } updateSegmentIndices_(t, e, i, n) { this.rBush_.forEachInExtent(t.getExtent(), (function (r) { r.geometry === t && (void 0 === i || void 0 === r.depth || u(r.depth, i)) && r.index > e && (r.index += n) })) } }, _T.interaction.Modify.ModifyEvent = a_, _T.interaction.MouseWheelZoom = ka, _T.interaction.PinchRotate = Ga, _T.interaction.PinchZoom = ja, _T.interaction.Pointer = sa, _T.interaction.Pointer.centroid = oa, _T.interaction.Select = p_, _T.interaction.Select.SelectEvent = g_, _T.interaction.Snap = class extends sa { constructor(t) { const e = t = t || {}; e.handleDownEvent || (e.handleDownEvent = g), e.stopDown || (e.stopDown = f), super(e), this.source_ = t.source ? t.source : null, this.vertex_ = void 0 === t.vertex || t.vertex, this.edge_ = void 0 === t.edge || t.edge, this.features_ = t.features ? t.features : null, this.featuresListenerKeys_ = [], this.featureChangeListenerKeys_ = {}, this.indexedFeaturesExtents_ = {}, this.pendingFeatures_ = {}, this.pixelTolerance_ = void 0 !== t.pixelTolerance ? t.pixelTolerance : 10, this.rBush_ = new Ah, this.GEOMETRY_SEGMENTERS_ = { Point: this.segmentPointGeometry_.bind(this), LineString: this.segmentLineStringGeometry_.bind(this), LinearRing: this.segmentLineStringGeometry_.bind(this), Polygon: this.segmentPolygonGeometry_.bind(this), MultiPoint: this.segmentMultiPointGeometry_.bind(this), MultiLineString: this.segmentMultiLineStringGeometry_.bind(this), MultiPolygon: this.segmentMultiPolygonGeometry_.bind(this), GeometryCollection: this.segmentGeometryCollectionGeometry_.bind(this), Circle: this.segmentCircleGeometry_.bind(this) } } addFeature(t, e) { e = void 0 === e || e; const i = z(t), n = t.getGeometry(); if (n) { const e = this.GEOMETRY_SEGMENTERS_[n.getType()]; if (e) { this.indexedFeaturesExtents_[i] = n.getExtent([1 / 0, 1 / 0, -1 / 0, -1 / 0]); const r = []; if (e(r, n), 1 === r.length) this.rBush_.insert(zt(r[0]), { feature: t, segment: r[0] }); else if (r.length > 1) { const e = r.map((t => zt(t))), i = r.map((e => ({ feature: t, segment: e }))); this.rBush_.load(e, i) } } } e && (this.featureChangeListenerKeys_[i] = N(t, S, this.handleFeatureChange_, this)) } forEachFeatureAdd_(t) { this.addFeature(t) } forEachFeatureRemove_(t) { this.removeFeature(t) } getFeatures_() { let t; return this.features_ ? t = this.features_ : this.source_ && (t = this.source_.getFeatures()), t } handleEvent(t) { const e = this.snapTo(t.pixel, t.coordinate, t.map); return e && (t.coordinate = e.vertex.slice(0, 2), t.pixel = e.vertexPixel), super.handleEvent(t) } handleFeatureAdd_(t) { const e = m_(t); this.addFeature(e) } handleFeatureRemove_(t) { const e = m_(t); this.removeFeature(e) } handleFeatureChange_(t) { const e = t.target; if (this.handlingDownUpSequence) { const t = z(e); t in this.pendingFeatures_ || (this.pendingFeatures_[t] = e) } else this.updateFeature_(e) } handleUpEvent(t) { const e = Object.values(this.pendingFeatures_); return e.length && (e.forEach(this.updateFeature_.bind(this)), this.pendingFeatures_ = {}), !1 } removeFeature(t, e) { const i = void 0 === e || e, n = z(t), r = this.indexedFeaturesExtents_[n]; if (r) { const e = this.rBush_, i = []; e.forEachInExtent(r, (function (e) { t === e.feature && i.push(e) })); for (let t = i.length - 1; t >= 0; --t)e.remove(i[t]) } i && (k(this.featureChangeListenerKeys_[n]), delete this.featureChangeListenerKeys_[n]) } setMap(t) { const e = this.getMap(), i = this.featuresListenerKeys_, n = this.getFeatures_(); e && (i.forEach(k), i.length = 0, n.forEach(this.forEachFeatureRemove_.bind(this))), super.setMap(t), t && (this.features_ ? i.push(N(this.features_, W, this.handleFeatureAdd_, this), N(this.features_, Z, this.handleFeatureRemove_, this)) : this.source_ && i.push(N(this.source_, Oh, this.handleFeatureAdd_, this), N(this.source_, kh, this.handleFeatureRemove_, this)), n.forEach(this.forEachFeatureAdd_.bind(this))) } snapTo(t, e, i) { const n = zt([i.getCoordinateFromPixel([t[0] - this.pixelTolerance_, t[1] + this.pixelTolerance_]), i.getCoordinateFromPixel([t[0] + this.pixelTolerance_, t[1] - this.pixelTolerance_])]), r = this.rBush_.getInExtent(n), s = r.length; if (0 === s) return null; const o = i.getView().getProjection(), a = rn(e, o); let l, h = 1 / 0; const c = this.pixelTolerance_ * this.pixelTolerance_, u = () => { if (l) { const e = i.getPixelFromCoordinate(l); if (Ti(t, e) <= c) return { vertex: l, vertexPixel: [Math.round(e[0]), Math.round(e[1])] } } return null }; if (this.vertex_) { for (let t = 0; t < s; ++t) { const e = r[t]; "Circle" !== e.feature.getGeometry().getType() && e.segment.forEach((t => { const e = rn(t, o), i = Ti(a, e); i < h && (l = t, h = i) })) } const t = u(); if (t) return t } if (this.edge_) { for (let t = 0; t < s; ++t) { let e = null; const i = r[t]; if ("Circle" === i.feature.getGeometry().getType()) { let t = i.feature.getGeometry(); const n = en(); n && (t = t.clone().transform(n, o)), e = nn(_i(a, t), o) } else { const [t, n] = i.segment; n && (__[0] = rn(t, o), __[1] = rn(n, o), e = yi(a, __)) } if (e) { const t = Ti(a, e); t < h && (l = e, h = t) } } const t = u(); if (t) return t } return null } updateFeature_(t) { this.removeFeature(t, !1), this.addFeature(t, !1) } segmentCircleGeometry_(t, e) { const i = this.getMap().getView().getProjection(); let n = e; const r = en(); r && (n = n.clone().transform(r, i)); const s = fr(n); r && s.transform(i, r); const o = s.getCoordinates()[0]; for (let e = 0, i = o.length - 1; e < i; ++e)t.push(o.slice(e, e + 2)) } segmentGeometryCollectionGeometry_(t, e) { const i = e.getGeometriesArray(); for (let e = 0; e < i.length; ++e) { const n = this.GEOMETRY_SEGMENTERS_[i[e].getType()]; n && n(t, i[e]) } } segmentLineStringGeometry_(t, e) { const i = e.getCoordinates(); for (let e = 0, n = i.length - 1; e < n; ++e)t.push(i.slice(e, e + 2)) } segmentMultiLineStringGeometry_(t, e) { const i = e.getCoordinates(); for (let e = 0, n = i.length; e < n; ++e) { const n = i[e]; for (let e = 0, i = n.length - 1; e < i; ++e)t.push(n.slice(e, e + 2)) } } segmentMultiPointGeometry_(t, e) { e.getCoordinates().forEach((e => { t.push([e]) })) } segmentMultiPolygonGeometry_(t, e) { const i = e.getCoordinates(); for (let e = 0, n = i.length; e < n; ++e) { const n = i[e]; for (let e = 0, i = n.length; e < i; ++e) { const i = n[e]; for (let e = 0, n = i.length - 1; e < n; ++e)t.push(i.slice(e, e + 2)) } } } segmentPointGeometry_(t, e) { t.push([e.getCoordinates()]) } segmentPolygonGeometry_(t, e) { const i = e.getCoordinates(); for (let e = 0, n = i.length; e < n; ++e) { const n = i[e]; for (let e = 0, i = n.length - 1; e < i; ++e)t.push(n.slice(e, e + 2)) } } }, _T.interaction.Translate = class extends sa { constructor(t) { let e; if (super(t = t || {}), this.on, this.once, this.un, this.lastCoordinate_ = null, this.startCoordinate_ = null, this.features_ = void 0 !== t.features ? t.features : null, t.layers && !this.features_) if ("function" == typeof t.layers) e = t.layers; else { const i = t.layers; e = function (t) { return i.includes(t) } } else e = g; this.layerFilter_ = e, this.filter_ = t.filter && !this.features_ ? t.filter : g, this.hitTolerance_ = t.hitTolerance ? t.hitTolerance : 0, this.condition_ = t.condition ? t.condition : da, this.lastFeature_ = null, this.addChangeListener(ta, this.handleActiveChanged_) } handleDownEvent(t) { if (!t.originalEvent || !this.condition_(t)) return !1; if (this.lastFeature_ = this.featuresAtPixel_(t.pixel, t.map), !this.lastCoordinate_ && this.lastFeature_) { this.startCoordinate_ = t.coordinate, this.lastCoordinate_ = t.coordinate, this.handleMoveEvent(t); const e = this.features_ || new q([this.lastFeature_]); return this.dispatchEvent(new S_(y_, e, t.coordinate, this.startCoordinate_, t)), !0 } return !1 } handleUpEvent(t) { if (this.lastCoordinate_) { this.lastCoordinate_ = null, this.handleMoveEvent(t); const e = this.features_ || new q([this.lastFeature_]); return this.dispatchEvent(new S_(v_, e, t.coordinate, this.startCoordinate_, t)), this.startCoordinate_ = null, !0 } return !1 } handleDragEvent(t) { if (this.lastCoordinate_) { const e = t.coordinate, i = e[0] - this.lastCoordinate_[0], n = e[1] - this.lastCoordinate_[1], r = this.features_ || new q([this.lastFeature_]); r.forEach((function (t) { const e = t.getGeometry(); e.translate(i, n), t.setGeometry(e) })), this.lastCoordinate_ = e, this.dispatchEvent(new S_(x_, r, e, this.startCoordinate_, t)) } } handleMoveEvent(t) { const e = t.map.getViewport(); this.featuresAtPixel_(t.pixel, t.map) ? (e.classList.remove(this.lastCoordinate_ ? "ol-grab" : "ol-grabbing"), e.classList.add(this.lastCoordinate_ ? "ol-grabbing" : "ol-grab")) : e.classList.remove("ol-grab", "ol-grabbing") } featuresAtPixel_(t, e) { return e.forEachFeatureAtPixel(t, function (t, e) { if (this.filter_(t, e) && (!this.features_ || this.features_.getArray().includes(t))) return t }.bind(this), { layerFilter: this.layerFilter_, hitTolerance: this.hitTolerance_ }) } getHitTolerance() { return this.hitTolerance_ } setHitTolerance(t) { this.hitTolerance_ = t } setMap(t) { const e = this.getMap(); super.setMap(t), this.updateState_(e) } handleActiveChanged_() { this.updateState_(null) } updateState_(t) { let e = this.getMap(); const i = this.getActive(); if ((!e || !i) && (e = e || t, e)) { e.getViewport().classList.remove("ol-grab", "ol-grabbing") } } }, _T.interaction.Translate.TranslateEvent = S_, _T.interaction.defaults = {}, _T.interaction.defaults.defaults = Ba, _T.layer = {}, _T.layer.Base = fs, _T.layer.BaseImage = Tc, _T.layer.BaseTile = Ac, _T.layer.BaseVector = Ig, _T.layer.Graticule = class extends zp { constructor(t) { t = t || {}; const e = Object.assign({ updateWhileAnimating: !0, updateWhileInteracting: !0, renderBuffer: 0 }, t); delete e.maxLines, delete e.strokeStyle, delete e.targetSize, delete e.showLabels, delete e.lonLabelFormatter, delete e.latLabelFormatter, delete e.lonLabelPosition, delete e.latLabelPosition, delete e.lonLabelStyle, delete e.latLabelStyle, delete e.intervals, super(e), this.projection_ = null, this.maxLat_ = 1 / 0, this.maxLon_ = 1 / 0, this.minLat_ = -1 / 0, this.minLon_ = -1 / 0, this.maxX_ = 1 / 0, this.maxY_ = 1 / 0, this.minX_ = -1 / 0, this.minY_ = -1 / 0, this.targetSize_ = void 0 !== t.targetSize ? t.targetSize : 100, this.maxLines_ = void 0 !== t.maxLines ? t.maxLines : 100, this.meridians_ = [], this.parallels_ = [], this.strokeStyle_ = void 0 !== t.strokeStyle ? t.strokeStyle : Zp, this.fromLonLatTransform_ = void 0, this.toLonLatTransform_ = void 0, this.projectionCenterLonLat_ = null, this.bottomLeft_ = null, this.bottomRight_ = null, this.topLeft_ = null, this.topRight_ = null, this.meridiansLabels_ = null, this.parallelsLabels_ = null, t.showLabels && (this.lonLabelFormatter_ = null == t.lonLabelFormatter ? xi.bind(this, "EW") : t.lonLabelFormatter, this.latLabelFormatter_ = null == t.latLabelFormatter ? xi.bind(this, "NS") : t.latLabelFormatter, this.lonLabelPosition_ = null == t.lonLabelPosition ? 0 : t.lonLabelPosition, this.latLabelPosition_ = null == t.latLabelPosition ? 1 : t.latLabelPosition, this.lonLabelStyleBase_ = new cg({ text: void 0 !== t.lonLabelStyle ? t.lonLabelStyle.clone() : new mg({ font: "12px Calibri,sans-serif", textBaseline: "bottom", fill: new rg({ color: "rgba(0,0,0,1)" }), stroke: new hg({ color: "rgba(255,255,255,1)", width: 3 }) }) }), this.lonLabelStyle_ = function (t) { const e = t.get("graticule_label"); return this.lonLabelStyleBase_.getText().setText(e), this.lonLabelStyleBase_ }.bind(this), this.latLabelStyleBase_ = new cg({ text: void 0 !== t.latLabelStyle ? t.latLabelStyle.clone() : new mg({ font: "12px Calibri,sans-serif", textAlign: "right", fill: new rg({ color: "rgba(0,0,0,1)" }), stroke: new hg({ color: "rgba(255,255,255,1)", width: 3 }) }) }), this.latLabelStyle_ = function (t) { const e = t.get("graticule_label"); return this.latLabelStyleBase_.getText().setText(e), this.latLabelStyleBase_ }.bind(this), this.meridiansLabels_ = [], this.parallelsLabels_ = [], this.addEventListener(ms, this.drawLabels_.bind(this))), this.intervals_ = void 0 !== t.intervals ? t.intervals : Yp, this.setSource(new zh({ loader: this.loaderFunction.bind(this), strategy: this.strategyFunction.bind(this), features: new q, overlaps: !1, useSpatialIndex: !1, wrapX: t.wrapX })), this.featurePool_ = [], this.lineStyle_ = new cg({ stroke: this.strokeStyle_ }), this.loadedExtent_ = null, this.renderedExtent_ = null, this.renderedResolution_ = null, this.setRenderOrder(null) } strategyFunction(t, e) { let i = t.slice(); return this.projection_ && this.getSource().getWrapX() && Pe(i, this.projection_), this.loadedExtent_ && (ie(this.loadedExtent_, i, e) ? i = this.loadedExtent_.slice() : this.getSource().removeLoadedExtent(this.loadedExtent_)), [i] } loaderFunction(t, e, i) { this.loadedExtent_ = t; const n = this.getSource(), r = ye(this.getExtent() || [-1 / 0, -1 / 0, 1 / 0, 1 / 0], t); if (this.renderedExtent_ && ee(this.renderedExtent_, r) && this.renderedResolution_ === e) return; if (this.renderedExtent_ = r, this.renderedResolution_ = e, Ee(r)) return; const s = ge(r), o = e * e / 4; (!this.projection_ || !Ki(this.projection_, i)) && this.updateProjectionInfo_(i), this.createGraticule_(r, s, e, o); let a, l = this.meridians_.length + this.parallels_.length; for (this.meridiansLabels_ && (l += this.meridians_.length), this.parallelsLabels_ && (l += this.parallels_.length); l > this.featurePool_.length;)a = new lt, this.featurePool_.push(a); const h = n.getFeaturesCollection(); h.clear(); let c, u, d = 0; for (c = 0, u = this.meridians_.length; c < u; ++c)a = this.featurePool_[d++], a.setGeometry(this.meridians_[c]), a.setStyle(this.lineStyle_), h.push(a); for (c = 0, u = this.parallels_.length; c < u; ++c)a = this.featurePool_[d++], a.setGeometry(this.parallels_[c]), a.setStyle(this.lineStyle_), h.push(a) } addMeridian_(t, e, i, n, r, s) { const o = this.getMeridian_(t, e, i, n, s); if (we(o.getExtent(), r)) { if (this.meridiansLabels_) { const e = this.lonLabelFormatter_(t); s in this.meridiansLabels_ ? this.meridiansLabels_[s].text = e : this.meridiansLabels_[s] = { geom: new Wn([]), text: e } } this.meridians_[s++] = o } return s } addParallel_(t, e, i, n, r, s) { const o = this.getParallel_(t, e, i, n, s); if (we(o.getExtent(), r)) { if (this.parallelsLabels_) { const e = this.latLabelFormatter_(t); s in this.parallelsLabels_ ? this.parallelsLabels_[s].text = e : this.parallelsLabels_[s] = { geom: new Wn([]), text: e } } this.parallels_[s++] = o } return s } drawLabels_(t) { const e = t.frameState.viewState.rotation, i = t.frameState.viewState.resolution, n = t.frameState.size, r = t.frameState.extent, s = ge(r); let o = r; if (e) { const t = n[0] * i, e = n[1] * i; o = [s[0] - t / 2, s[1] - e / 2, s[0] + t / 2, s[1] + e / 2] } let a = 0, l = 0, h = this.latLabelPosition_ < .5; const c = this.projection_.getExtent(), u = Se(c); if (this.getSource().getWrapX() && this.projection_.canWrapX() && !Yt(c, r)) { a = Math.floor((r[0] - c[0]) / u), l = Math.ceil((r[2] - c[2]) / u); h = h !== Math.abs(e) > Math.PI / 2 } const d = Al(t); for (let t = a; t <= l; ++t) { let i, n, c, g, f = this.meridians_.length + this.parallels_.length; if (this.meridiansLabels_) for (n = 0, c = this.meridiansLabels_.length; n < c; ++n) { const a = this.meridians_[n]; if (e || 0 !== t) { const i = a.clone(); i.translate(t * u, 0), i.rotate(-e, s), g = this.getMeridianPoint_(i, o, n), g.rotate(e, s) } else g = this.getMeridianPoint_(a, r, n); i = this.featurePool_[f++], i.setGeometry(g), i.set("graticule_label", this.meridiansLabels_[n].text), d.drawFeature(i, this.lonLabelStyle_(i)) } if (this.parallelsLabels_ && (t === a && h || t === l && !h)) for (n = 0, c = this.parallels_.length; n < c; ++n) { const a = this.parallels_[n]; if (e || 0 !== t) { const i = a.clone(); i.translate(t * u, 0), i.rotate(-e, s), g = this.getParallelPoint_(i, o, n), g.rotate(e, s) } else g = this.getParallelPoint_(a, r, n); i = this.featurePool_[f++], i.setGeometry(g), i.set("graticule_label", this.parallelsLabels_[n].text), d.drawFeature(i, this.latLabelStyle_(i)) } } } createGraticule_(t, e, i, n) { const r = this.getInterval_(i); if (-1 == r) return this.meridians_.length = 0, this.parallels_.length = 0, this.meridiansLabels_ && (this.meridiansLabels_.length = 0), void (this.parallelsLabels_ && (this.parallelsLabels_.length = 0)); let s = !1; const o = this.projection_.getExtent(), a = Se(o); this.getSource().getWrapX() && this.projection_.canWrapX() && !Yt(o, t) && (Se(t) >= a ? (t[0] = o[0], t[2] = o[2]) : s = !0); const l = [ii(e[0], this.minX_, this.maxX_), ii(e[1], this.minY_, this.maxY_)], h = this.toLonLatTransform_(l); isNaN(h[1]) && (h[1] = Math.abs(this.maxLat_) >= Math.abs(this.minLat_) ? this.maxLat_ : this.minLat_); let c = ii(h[0], this.minLon_, this.maxLon_), u = ii(h[1], this.minLat_, this.maxLat_); const d = this.maxLines_; let g, f, p, m, _ = t; s || (_ = [ii(t[0], this.minX_, this.maxX_), ii(t[1], this.minY_, this.maxY_), ii(t[2], this.minX_, this.maxX_), ii(t[3], this.minY_, this.maxY_)]); const y = Re(_, this.toLonLatTransform_, void 0, 8); let x = y[3], v = y[2], S = y[1], w = y[0]; if (s || (Zt(_, this.bottomLeft_) && (w = this.minLon_, S = this.minLat_), Zt(_, this.bottomRight_) && (v = this.maxLon_, S = this.minLat_), Zt(_, this.topLeft_) && (w = this.minLon_, x = this.maxLat_), Zt(_, this.topRight_) && (v = this.maxLon_, x = this.maxLat_), x = ii(x, u, this.maxLat_), v = ii(v, c, this.maxLon_), S = ii(S, this.minLat_, u), w = ii(w, this.minLon_, c)), c = Math.floor(c / r) * r, m = ii(c, this.minLon_, this.maxLon_), f = this.addMeridian_(m, S, x, n, t, 0), g = 0, s) for (; (m -= r) >= w && g++ < d;)f = this.addMeridian_(m, S, x, n, t, f); else for (; m != this.minLon_ && g++ < d;)m = Math.max(m - r, this.minLon_), f = this.addMeridian_(m, S, x, n, t, f); if (m = ii(c, this.minLon_, this.maxLon_), g = 0, s) for (; (m += r) <= v && g++ < d;)f = this.addMeridian_(m, S, x, n, t, f); else for (; m != this.maxLon_ && g++ < d;)m = Math.min(m + r, this.maxLon_), f = this.addMeridian_(m, S, x, n, t, f); for (this.meridians_.length = f, this.meridiansLabels_ && (this.meridiansLabels_.length = f), u = Math.floor(u / r) * r, p = ii(u, this.minLat_, this.maxLat_), f = this.addParallel_(p, w, v, n, t, 0), g = 0; p != this.minLat_ && g++ < d;)p = Math.max(p - r, this.minLat_), f = this.addParallel_(p, w, v, n, t, f); for (p = ii(u, this.minLat_, this.maxLat_), g = 0; p != this.maxLat_ && g++ < d;)p = Math.min(p + r, this.maxLat_), f = this.addParallel_(p, w, v, n, t, f); this.parallels_.length = f, this.parallelsLabels_ && (this.parallelsLabels_.length = f) } getInterval_(t) { const e = this.projectionCenterLonLat_[0], i = this.projectionCenterLonLat_[1]; let n = -1; const r = Math.pow(this.targetSize_ * t, 2), s = [], o = []; for (let t = 0, a = this.intervals_.length; t < a; ++t) { const a = ii(this.intervals_[t] / 2, 0, 90), l = ii(i, -90 + a, 90 - a); s[0] = e - a, s[1] = l - a, o[0] = e + a, o[1] = l + a, this.fromLonLatTransform_(s, s), this.fromLonLatTransform_(o, o); if (Math.pow(o[0] - s[0], 2) + Math.pow(o[1] - s[1], 2) <= r) break; n = this.intervals_[t] } return n } getMeridian_(t, e, i, n, r) { const s = Vp(t, e, i, this.projection_, n); let o = this.meridians_[r]; return o ? (o.setFlatCoordinates("XY", s), o.changed()) : (o = new Op(s, "XY"), this.meridians_[r] = o), o } getMeridianPoint_(t, e, i) { const n = t.getFlatCoordinates(); let r = 1, s = n.length - 1; n[r] > n[s] && (r = s, s = 1); const o = Math.max(e[1], n[r]), a = Math.min(e[3], n[s]), l = ii(e[1] + Math.abs(e[1] - e[3]) * this.lonLabelPosition_, o, a), h = [n[r - 1] + (n[s - 1] - n[r - 1]) * (l - n[r]) / (n[s] - n[r]), l], c = this.meridiansLabels_[i].geom; return c.setCoordinates(h), c } getMeridians() { return this.meridians_ } getParallel_(t, e, i, n, r) { const s = Wp(t, e, i, this.projection_, n); let o = this.parallels_[r]; return o ? (o.setFlatCoordinates("XY", s), o.changed()) : o = new Op(s, "XY"), o } getParallelPoint_(t, e, i) { const n = t.getFlatCoordinates(); let r = 0, s = n.length - 2; n[r] > n[s] && (r = s, s = 0); const o = Math.max(e[0], n[r]), a = Math.min(e[2], n[s]), l = ii(e[0] + Math.abs(e[0] - e[2]) * this.latLabelPosition_, o, a), h = [l, n[r + 1] + (n[s + 1] - n[r + 1]) * (l - n[r]) / (n[s] - n[r])], c = this.parallelsLabels_[i].geom; return c.setCoordinates(h), c } getParallels() { return this.parallels_ } updateProjectionInfo_(t) { const e = Ui("EPSG:4326"), i = t.getWorldExtent(); this.maxLat_ = i[3], this.maxLon_ = i[2], this.minLat_ = i[1], this.minLon_ = i[0]; const n = Hi(t, e); if (this.minLon_ < this.maxLon_) this.toLonLatTransform_ = n; else { const t = this.minLon_ + this.maxLon_ / 2; this.maxLon_ += 360, this.toLonLatTransform_ = function (e, i, r) { const s = n(e, i, r = r || 2); for (let e = 0, i = s.length; e < i; e += r)s[e] < t && (s[e] += 360); return s } } this.fromLonLatTransform_ = Hi(e, t); const r = Re([this.minLon_, this.minLat_, this.maxLon_, this.maxLat_], this.fromLonLatTransform_, void 0, 8); this.minX_ = r[0], this.maxX_ = r[2], this.minY_ = r[1], this.maxY_ = r[3], this.bottomLeft_ = this.fromLonLatTransform_([this.minLon_, this.minLat_]), this.bottomRight_ = this.fromLonLatTransform_([this.maxLon_, this.minLat_]), this.topLeft_ = this.fromLonLatTransform_([this.minLon_, this.maxLat_]), this.topRight_ = this.fromLonLatTransform_([this.maxLon_, this.maxLat_]), this.projectionCenterLonLat_ = this.toLonLatTransform_(ge(t.getExtent())), isNaN(this.projectionCenterLonLat_[1]) && (this.projectionCenterLonLat_[1] = Math.abs(this.maxLat_) >= Math.abs(this.minLat_) ? this.maxLat_ : this.minLat_), this.projection_ = t } }, _T.layer.Group = ro, _T.layer.Group.GroupEvent = io, _T.layer.Heatmap = class extends Ig { constructor(t) { t = t || {}; const e = Object.assign({}, t); delete e.gradient, delete e.radius, delete e.blur, delete e.weight, super(e), this.gradient_ = null, this.addChangeListener(qp, this.handleGradientChanged_), this.setGradient(t.gradient ? t.gradient : $p), this.setBlur(void 0 !== t.blur ? t.blur : 15), this.setRadius(void 0 !== t.radius ? t.radius : 8); const i = t.weight ? t.weight : "weight"; this.weightFunction_ = "string" == typeof i ? function (t) { return t.get(i) } : i, this.setRenderOrder(null) } getBlur() { return this.get(Kp) } getGradient() { return this.get(qp) } getRadius() { return this.get(Hp) } handleGradientChanged_() { this.gradient_ = function (t) { const e = 1, i = 256, n = Dr(e, i), r = n.createLinearGradient(0, 0, e, i), s = 1 / (t.length - 1); for (let e = 0, i = t.length; e < i; ++e)r.addColorStop(e * s, t[e]); return n.fillStyle = r, n.fillRect(0, 0, e, i), n.canvas }(this.getGradient()) } setBlur(t) { this.set(Kp, t) } setGradient(t) { this.set(qp, t) } setRadius(t) { this.set(Hp, t) } createRenderer() { return new gf(this, { className: this.getClassName(), attributes: [{ name: "weight", callback: function (t) { const e = this.weightFunction_(t); return void 0 !== e ? ii(e, 0, 1) : 1 }.bind(this) }], vertexShader: "\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }", fragmentShader: "\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }", hitVertexShader: "\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }", hitFragmentShader: "\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }", uniforms: { u_size: function () { return 2 * (this.get(Hp) + this.get(Kp)) }.bind(this), u_blurSlope: function () { return this.get(Hp) / Math.max(1, this.get(Kp)) }.bind(this) }, postProcesses: [{ fragmentShader: "\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n            uniform float u_opacity;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a * u_opacity;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }", uniforms: { u_gradientTexture: function () { return this.gradient_ }.bind(this), u_opacity: function () { return this.getOpacity() }.bind(this) } }] }) } renderDeclutter() { } }, _T.layer.Image = Lc, _T.layer.Layer = vs, _T.layer.Layer.inView = Ss, _T.layer.MapboxVector = class extends Pm { constructor(t) { const e = !("declutter" in t) || t.declutter, i = new Qc({ state: "loading", format: new Em }); super({ source: i, background: t.background, declutter: e, className: t.className, opacity: t.opacity, visible: t.visible, zIndex: t.zIndex, minResolution: t.minResolution, maxResolution: t.maxResolution, minZoom: t.minZoom, maxZoom: t.maxZoom, renderOrder: t.renderOrder, renderBuffer: t.renderBuffer, renderMode: t.renderMode, map: t.map, updateWhileAnimating: t.updateWhileAnimating, updateWhileInteracting: t.updateWhileInteracting, preload: t.preload, useInterimTilesOnError: t.useInterimTilesOnError, properties: t.properties }), t.accessToken && (this.accessToken = t.accessToken); const n = t.styleUrl; olms.applyStyle(this, n, t.layers || t.source, { accessToken: this.accessToken }).then((() => { i.setState("ready") })).catch((t => { this.dispatchEvent(new Im(t)); this.getSource().setState("error") })), void 0 === this.getBackground() && olms.applyBackground(this, t.styleUrl, { accessToken: this.accessToken }) } }, _T.layer.Tile = Nc, _T.layer.Vector = zp, _T.layer.VectorImage = class extends Ig { constructor(t) { t = t || {}; const e = Object.assign({}, t); delete e.imageRatio, super(e), this.imageRatio_ = void 0 !== t.imageRatio ? t.imageRatio : 1 } getImageRatio() { return this.imageRatio_ } createRenderer() { return new Tp(this) } }, _T.layer.VectorTile = Pm, _T.layer.WebGLPoints = class extends vs { constructor(t) { super(Object.assign({}, t)), this.parseResult_ = tg(t.style), this.styleVariables_ = t.style.variables || {}, this.hitDetectionDisabled_ = !!t.disableHitDetection } createRenderer() { return new gf(this, { vertexShader: this.parseResult_.builder.getSymbolVertexShader(), fragmentShader: this.parseResult_.builder.getSymbolFragmentShader(), hitVertexShader: !this.hitDetectionDisabled_ && this.parseResult_.builder.getSymbolVertexShader(!0), hitFragmentShader: !this.hitDetectionDisabled_ && this.parseResult_.builder.getSymbolFragmentShader(!0), uniforms: this.parseResult_.uniforms, attributes: this.parseResult_.attributes }) } updateStyleVariables(t) { Object.assign(this.styleVariables_, t), this.changed() } }, _T.layer.WebGLTile = Mm, _T.loadingstrategy = {}, _T.loadingstrategy.all = xl, _T.loadingstrategy.bbox = function (t, e) { return [t] }, _T.loadingstrategy.tile = function (t) { return function (e, i, n) { const r = t.getZForResolution(ln(i, n)), s = t.getTileRangeForExtentAndZ(on(e, n), r), o = [], a = [r, 0, 0]; for (a[1] = s.minX; a[1] <= s.maxX; ++a[1])for (a[2] = s.minY; a[2] <= s.maxY; ++a[2])o.push(sn(t.getTileCoordExtent(a), n)); return o } }, _T.math = {}, _T.math.ceil = gi, _T.math.clamp = ii, _T.math.floor = di, _T.math.lerp = hi, _T.math.modulo = li, _T.math.round = ui, _T.math.solveLinearSystem = si, _T.math.squaredDistance = ri, _T.math.squaredSegmentDistance = ni, _T.math.toDegrees = oi, _T.math.toFixed = ci, _T.math.toRadians = ai, _T.net = {}, _T.net.ClientError = wl, _T.net.ResponseError = Sl, _T.net.getJSON = El, _T.net.jsonp = vl, _T.net.overrideXHR = function (t) { "undefined" != typeof XMLHttpRequest && (pl = XMLHttpRequest), global.XMLHttpRequest = t }, _T.net.resolveUrl = Tl, _T.net.restoreXHR = function () { global.XMLHttpRequest = pl }, _T.obj = {}, _T.obj.clear = y, _T.obj.isEmpty = x, _T.proj = {}, _T.proj.Projection = Ae, _T.proj.Units = {}, _T.proj.Units.METERS_PER_UNIT = Fe, _T.proj.Units.fromCode = Me, _T.proj.addCommon = cn, _T.proj.addCoordinateTransforms = Yi, _T.proj.addEquivalentProjections = Xi, _T.proj.addEquivalentTransforms = Vi, _T.proj.addProjection = ji, _T.proj.addProjections = Bi, _T.proj.clearAllProjections = function () { qe(), Qe() }, _T.proj.clearUserProjection = function () { Qi = null }, _T.proj.cloneTransform = ki, _T.proj.createProjection = Wi, _T.proj.createSafeCoordinateTransform = hn, _T.proj.createTransformFromCoordinateTransform = Zi, _T.proj.disableCoordinateWarning = Di, _T.proj.epsg3857 = {}, _T.proj.epsg3857.EXTENT = De, _T.proj.epsg3857.HALF_SIZE = Ne, _T.proj.epsg3857.MAX_SAFE_Y = Ge, _T.proj.epsg3857.PROJECTIONS = Be, _T.proj.epsg3857.RADIUS = Oe, _T.proj.epsg3857.WORLD_EXTENT = ke, _T.proj.epsg3857.fromEPSG4326 = Ue, _T.proj.epsg3857.toEPSG4326 = ze, _T.proj.epsg4326 = {}, _T.proj.epsg4326.EXTENT = Ve, _T.proj.epsg4326.METERS_PER_UNIT = We, _T.proj.epsg4326.PROJECTIONS = Ye, _T.proj.epsg4326.RADIUS = Xe, _T.proj.equivalent = Ki, _T.proj.fromLonLat = function (t, e) { return Di(), $i(t, "EPSG:4326", void 0 !== e ? e : "EPSG:3857") }, _T.proj.fromUserCoordinate = rn, _T.proj.fromUserExtent = on, _T.proj.fromUserResolution = ln, _T.proj.get = Ui, _T.proj.getPointResolution = zi, _T.proj.getTransform = Hi, _T.proj.getTransformFromProjections = qi, _T.proj.getUserProjection = en, _T.proj.identityTransform = Gi, _T.proj.proj4 = {}, _T.proj.proj4.register = function (t) { const e = Object.keys(t.defs), i = e.length; let n, r; for (n = 0; n < i; ++n) { const i = e[n]; if (!Ui(i)) { const e = t.defs(i); let n = e.units; n || "longlat" !== e.projName || (n = "degrees"), ji(new Ae({ code: i, axisOrientation: e.axis, metersPerUnit: e.to_meter, units: n })) } } for (n = 0; n < i; ++n) { const s = e[n], o = Ui(s); for (r = 0; r < i; ++r) { const i = e[r], n = Ui(i); if (!ei(s, i)) if (t.defs[s] === t.defs[i]) Xi([o, n]); else { const e = t(s, i); Yi(o, n, hn(o, n, e.forward), hn(n, o, e.inverse)) } } } }, _T.proj.projections = {}, _T.proj.projections.add = $e, _T.proj.projections.clear = qe, _T.proj.projections.get = He, _T.proj.setUserProjection = tn, _T.proj.toLonLat = function (t, e) { const i = $i(t, void 0 !== e ? e : "EPSG:3857", "EPSG:4326"), n = i[0]; return (n < -180 || n > 180) && (i[0] = li(n + 180, 360) - 180), i }, _T.proj.toUserCoordinate = nn, _T.proj.toUserExtent = sn, _T.proj.toUserResolution = an, _T.proj.transform = $i, _T.proj.transformExtent = Ji, _T.proj.transformWithProjections = function (t, e, i) { return qi(e, i)(t) }, _T.proj.transforms = {}, _T.proj.transforms.add = ti, _T.proj.transforms.clear = Qe, _T.proj.transforms.get = ei, _T.proj.transforms.remove = function (t, e) { const i = t.getCode(), n = e.getCode(), r = Je[i][n]; return delete Je[i][n], x(Je[i]) && delete Je[i], r }, _T.proj.useGeographic = function () { tn("EPSG:4326") }, _T.render = {}, _T.render.Box = Ea, _T.render.Event = Ts, _T.render.Feature = Bp, _T.render.Feature.toFeature = function (t, e) { const i = t.getId(), n = Up(t), r = t.getProperties(), s = new lt; return void 0 !== e && s.setGeometryName(e), s.setGeometry(n), void 0 !== i && s.setId(i), s.setProperties(r, !0), s }, _T.render.Feature.toGeometry = Up, _T.render.VectorContext = Cl, _T.render.canvas = {}, _T.render.canvas.Builder = qf, _T.render.canvas.BuilderGroup = np, _T.render.canvas.Executor = pp, _T.render.canvas.ExecutorGroup = _p, _T.render.canvas.ExecutorGroup.getPixelIndexArray = xp, _T.render.canvas.ImageBuilder = Hf, _T.render.canvas.Immediate = bl, _T.render.canvas.Instruction = {}, _T.render.canvas.Instruction.beginPathInstruction = Yf, _T.render.canvas.Instruction.closePathInstruction = Kf, _T.render.canvas.Instruction.fillInstruction = Wf, _T.render.canvas.Instruction.strokeInstruction = Zf, _T.render.canvas.LineStringBuilder = $f, _T.render.canvas.PolygonBuilder = Jf, _T.render.canvas.TextBuilder = ep, _T.render.canvas.checkedFonts = Vs, _T.render.canvas.defaultFillStyle = Ns, _T.render.canvas.defaultFont = Os, _T.render.canvas.defaultLineCap = Ds, _T.render.canvas.defaultLineDash = ks, _T.render.canvas.defaultLineDashOffset = 0, _T.render.canvas.defaultLineJoin = Gs, _T.render.canvas.defaultLineWidth = 1, _T.render.canvas.defaultMiterLimit = js, _T.render.canvas.defaultPadding = Xs, _T.render.canvas.defaultStrokeStyle = Bs, _T.render.canvas.defaultTextAlign = Us, _T.render.canvas.defaultTextBaseline = zs, _T.render.canvas.drawImageOrLabel = to, _T.render.canvas.getTextDimensions = Qs, _T.render.canvas.hitdetect = {}, _T.render.canvas.hitdetect.HIT_DETECT_RESOLUTION = vp, _T.render.canvas.hitdetect.createHitDetectionImageData = Sp, _T.render.canvas.hitdetect.hitDetect = wp, _T.render.canvas.measureAndCacheTextWidth = Js, _T.render.canvas.measureTextHeight = qs, _T.render.canvas.measureTextWidth = $s, _T.render.canvas.registerFont = Ks, _T.render.canvas.rotateAtOffset = function (t, e, i, n) { 0 !== e && (t.translate(i, n), t.rotate(e), t.translate(-i, -n)) }, _T.render.canvas.textHeights = Ys, _T.render.getRenderPixel = function (t, e) { return bt(t.inversePixelTransform, e.slice(0)) }, _T.render.getVectorContext = Al, _T.render.toContext = function (t, e) { const i = t.canvas, n = (e = e || {}).pixelRatio || mt, r = e.size; r && (i.width = r[0] * n, i.height = r[1] * n, i.style.width = r[0] + "px", i.style.height = r[1] + "px"); const s = [0, 0, i.width, i.height], o = Pt([1, 0, 0, 1, 0, 0], n, n); return new bl(t, n, s, o, 0) }, _T.render.webgl = {}, _T.render.webgl.BatchRenderer = pf, _T.render.webgl.LineStringBatchRenderer = _f, _T.render.webgl.MixedGeometryBatch = yf, _T.render.webgl.PointBatchRenderer = vf, _T.render.webgl.PolygonBatchRenderer = wf, _T.render.webgl.utils = {}, _T.render.webgl.utils.colorDecodeId = uf, _T.render.webgl.utils.colorEncodeId = cf, _T.render.webgl.utils.getBlankImageData = function () { const t = document.createElement("canvas").getContext("2d").createImageData(1, 1); return t.data[0] = 255, t.data[1] = 255, t.data[2] = 255, t.data[3] = 255, t }, _T.render.webgl.utils.writeLineSegmentToBuffers = function (t, e, i, n, r, s, o, a, l, h) { const c = 5 + a.length, u = s.length / c, d = [t[e + 0], t[e + 1]], g = [t[i], t[i + 1]], f = bt(h, [...d]), p = bt(h, [...g]); function m(t, e, i) { const n = 1e4; return Math.round(1500 * e) + Math.round(1500 * i) * n + t * n * n } function _(t, e, i) { const n = Math.sqrt((e[0] - t[0]) * (e[0] - t[0]) + (e[1] - t[1]) * (e[1] - t[1])), r = [(e[0] - t[0]) / n, (e[1] - t[1]) / n], s = [-r[1], r[0]], o = Math.sqrt((i[0] - t[0]) * (i[0] - t[0]) + (i[1] - t[1]) * (i[1] - t[1])), a = [(i[0] - t[0]) / o, (i[1] - t[1]) / o], l = 0 === n || 0 === o ? 0 : Math.acos(ii(a[0] * r[0] + a[1] * r[1], -1, 1)); return a[0] * s[0] + a[1] * s[1] > 0 ? l : 2 * Math.PI - l } const y = null !== r; let x = 0, v = 0; if (null !== n) { x = _(f, p, bt(h, [...[t[n], t[n + 1]]])) } if (y) { v = _(p, f, bt(h, [...[t[r], t[r + 1]]])) } s.push(d[0], d[1], g[0], g[1], m(0, x, v)), s.push(...a), s.push(d[0], d[1], g[0], g[1], m(1, x, v)), s.push(...a), s.push(d[0], d[1], g[0], g[1], m(2, x, v)), s.push(...a), s.push(d[0], d[1], g[0], g[1], m(3, x, v)), s.push(...a), o.push(u, u + 1, u + 2, u + 1, u + 3, u + 2) }, _T.render.webgl.utils.writePointFeatureToBuffers = function (t, e, i, n, r, s) { const o = 3 + r, a = t[e + 0], l = t[e + 1], h = af; h.length = r; for (let i = 0; i < h.length; i++)h[i] = t[e + 2 + i]; let c = s ? s.vertexPosition : 0, u = s ? s.indexPosition : 0; const d = c / o; return hf(i, c, a, l, 0), h.length && i.set(h, c + 3), c += o, hf(i, c, a, l, 1), h.length && i.set(h, c + 3), c += o, hf(i, c, a, l, 2), h.length && i.set(h, c + 3), c += o, hf(i, c, a, l, 3), h.length && i.set(h, c + 3), c += o, n[u++] = d, n[u++] = d + 1, n[u++] = d + 3, n[u++] = d + 1, n[u++] = d + 2, n[u++] = d + 3, lf.vertexPosition = c, lf.indexPosition = u, lf }, _T.render.webgl.utils.writePolygonTrianglesToBuffers = function (t, e, i, n, r) { const s = 2 + r; let o = e; const a = t.slice(o, o + r); o += r; const l = t[o++]; let h = 0; const c = new Array(l - 1); for (let e = 0; e < l; e++)h += t[o++], e < l - 1 && (c[e] = h); const u = t.slice(o, o + 2 * h), d = Ag.exports(u, c, 2); for (let t = 0; t < d.length; t++)n.push(d[t] + i.length / s); for (let t = 0; t < u.length; t += 2)i.push(u[t], u[t + 1], ...a); return o + 2 * h }, _T.renderer = {}, _T.renderer.Composite = eo, _T.renderer.Layer = Cc, _T.renderer.Map = ws, _T.renderer.canvas = {}, _T.renderer.canvas.ImageLayer = Ic, _T.renderer.canvas.Layer = Pc, _T.renderer.canvas.Layer.canvasPool = bc, _T.renderer.canvas.TileLayer = Oc, _T.renderer.canvas.VectorImageLayer = Tp, _T.renderer.canvas.VectorLayer = Ep, _T.renderer.canvas.VectorTileLayer = Rp, _T.renderer.vector = {}, _T.renderer.vector.defaultOrder = Pl, _T.renderer.vector.getSquaredTolerance = Il, _T.renderer.vector.getTolerance = Ll, _T.renderer.vector.renderFeature = Ml, _T.renderer.webgl = {}, _T.renderer.webgl.Layer = gd, _T.renderer.webgl.PointsLayer = gf, _T.renderer.webgl.TileLayer = wd, _T.renderer.webgl.TileLayer.Attributes = pd, _T.renderer.webgl.TileLayer.Uniforms = fd, _T.renderer.webgl.VectorLayer = class extends gd { constructor(t, e) { const i = e.uniforms || {}, n = [1, 0, 0, 1, 0, 0]; i[Wu] = n, super(t, { uniforms: i, postProcesses: e.postProcesses }), this.sourceRevision_ = -1, this.previousExtent_ = [1 / 0, 1 / 0, -1 / 0, -1 / 0], this.currentTransform_ = n; const r = { color: function () { return Ef("#ddd") }, opacity: function () { return 1 }, ...e.fill && e.fill.attributes }, s = { color: function () { return Ef("#eee") }, opacity: function () { return 1 }, width: function () { return 1.5 }, ...e.stroke && e.stroke.attributes }, o = { color: function () { return Ef("#eee") }, opacity: function () { return 1 }, ...e.point && e.point.attributes }; this.fillVertexShader_ = e.fill && e.fill.vertexShader || Cf, this.fillFragmentShader_ = e.fill && e.fill.fragmentShader || bf, this.fillAttributes_ = Mf(r), this.strokeVertexShader_ = e.stroke && e.stroke.vertexShader || Rf, this.strokeFragmentShader_ = e.stroke && e.stroke.fragmentShader || Pf, this.strokeAttributes_ = Mf(s), this.pointVertexShader_ = e.point && e.point.vertexShader || If, this.pointFragmentShader_ = e.point && e.point.fragmentShader || Lf, this.pointAttributes_ = Mf(o), this.worker_ = df(), this.batch_ = new yf; const a = this.getLayer().getSource(); this.batch_.addFeatures(a.getFeatures()), this.sourceListenKeys_ = [N(a, Oh, this.handleSourceFeatureAdded_, this), N(a, Nh, this.handleSourceFeatureChanged_, this), N(a, kh, this.handleSourceFeatureDelete_, this), N(a, Dh, this.handleSourceFeatureClear_, this)] } afterHelperCreated() { this.polygonRenderer_ = new wf(this.helper, this.worker_, this.fillVertexShader_, this.fillFragmentShader_, this.fillAttributes_), this.pointRenderer_ = new vf(this.helper, this.worker_, this.pointVertexShader_, this.pointFragmentShader_, this.pointAttributes_), this.lineStringRenderer_ = new _f(this.helper, this.worker_, this.strokeVertexShader_, this.strokeFragmentShader_, this.strokeAttributes_) } handleSourceFeatureAdded_(t) { const e = t.feature; this.batch_.addFeature(e) } handleSourceFeatureChanged_(t) { const e = t.feature; this.batch_.changeFeature(e) } handleSourceFeatureDelete_(t) { const e = t.feature; this.batch_.removeFeature(e) } handleSourceFeatureClear_() { this.batch_.clear() } renderFrame(t) { const e = this.helper.getGL(); this.preRender(e, t); const i = this.getLayer().getSource(), n = t.viewState.projection, r = i.getWrapX() && n.canWrapX(), s = n.getExtent(), o = t.extent, a = r ? Se(s) : null, l = r ? Math.ceil((o[2] - s[2]) / a) + 1 : 1; let h = r ? Math.floor((o[0] - s[0]) / a) : 0; do { this.polygonRenderer_.render(this.batch_.polygonBatch, this.currentTransform_, t, h * a), this.lineStringRenderer_.render(this.batch_.lineStringBatch, this.currentTransform_, t, h * a), this.pointRenderer_.render(this.batch_.pointBatch, this.currentTransform_, t, h * a) } while (++h < l); this.helper.finalizeDraw(t); const c = this.helper.getCanvas(), u = t.layerStatesArray[t.layerIndex].opacity; return u !== parseFloat(c.style.opacity) && (c.style.opacity = String(u)), this.postRender(e, t), c } prepareFrameInternal(t) { const e = this.getLayer(), i = e.getSource(), n = t.viewState, r = !t.viewHints[Ro] && !t.viewHints[Po], s = !ee(this.previousExtent_, t.extent), o = this.sourceRevision_ < i.getRevision(); if (o && (this.sourceRevision_ = i.getRevision()), r && (s || o)) { const r = n.projection, s = n.resolution, o = e instanceof Ig ? e.getRenderBuffer() : 0, a = Xt(t.extent, o * s); i.loadFeatures(a, s, r), this.ready = !1; let l = 3; const h = () => { l--, this.ready = l <= 0, this.getLayer().changed() }; this.polygonRenderer_.rebuild(this.batch_.polygonBatch, t, "Polygon", h), this.lineStringRenderer_.rebuild(this.batch_.lineStringBatch, t, "LineString", h), this.pointRenderer_.rebuild(this.batch_.pointBatch, t, "Point", h), this.previousExtent_ = t.extent.slice() } return this.helper.makeProjectionTransform(t, this.currentTransform_), this.helper.prepareDraw(t), !0 } forEachFeatureAtCoordinate(t, e, i, n, r) { } disposeInternal() { this.worker_.terminate(), this.layer_ = null, this.sourceListenKeys_.forEach((function (t) { k(t) })), this.sourceListenKeys_ = null, super.disposeInternal() } }, _T.renderer.webgl.shaders = {}, _T.renderer.webgl.shaders.FILL_FRAGMENT_SHADER = bf, _T.renderer.webgl.shaders.FILL_VERTEX_SHADER = Cf, _T.renderer.webgl.shaders.POINT_FRAGMENT_SHADER = Lf, _T.renderer.webgl.shaders.POINT_VERTEX_SHADER = If, _T.renderer.webgl.shaders.STROKE_FRAGMENT_SHADER = Pf, _T.renderer.webgl.shaders.STROKE_VERTEX_SHADER = Rf, _T.renderer.webgl.shaders.packColor = Ef, _T.reproj = {}, _T.reproj.Image = gc, _T.reproj.Tile = zl, _T.reproj.Triangulation = Ul, _T.reproj.calculateSourceExtentResolution = jl, _T.reproj.calculateSourceResolution = Gl, _T.reproj.canvasPool = Nl, _T.reproj.common = {}, _T.reproj.common.ERROR_THRESHOLD = .5, _T.reproj.render = Bl, _T.resolutionconstraint = {}, _T.resolutionconstraint.createMinMaxResolution = ko, _T.resolutionconstraint.createSnapToPower = Do, _T.resolutionconstraint.createSnapToResolutions = No, _T.rotationconstraint = {}, _T.rotationconstraint.createSnapToN = Bo, _T.rotationconstraint.createSnapToZero = Uo, _T.rotationconstraint.disable = Go, _T.rotationconstraint.none = jo, _T.size = {}, _T.size.buffer = Ua, _T.size.hasArea = za, _T.size.scale = Xa, _T.size.toSize = Va, _T.source = {}, _T.source.BingMaps = class extends uh { constructor(t) { const e = void 0 !== t.hidpi && t.hidpi; super({ cacheSize: t.cacheSize, crossOrigin: "anonymous", interpolate: t.interpolate, opaque: !0, projection: Ui("EPSG:3857"), reprojectionErrorThreshold: t.reprojectionErrorThreshold, state: "loading", tileLoadFunction: t.tileLoadFunction, tilePixelRatio: e ? 2 : 1, wrapX: void 0 === t.wrapX || t.wrapX, transition: t.transition, zDirection: t.zDirection }), this.hidpi_ = e, this.culture_ = void 0 !== t.culture ? t.culture : "en-us", this.maxZoom_ = void 0 !== t.maxZoom ? t.maxZoom : -1, this.apiKey_ = t.key, this.imagerySet_ = t.imagerySet; vl("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/" + this.imagerySet_ + "?uriScheme=https&include=ImageryProviders&key=" + this.apiKey_ + "&c=" + this.culture_, this.handleImageryMetadataResponse.bind(this), void 0, "jsonp") } getApiKey() { return this.apiKey_ } getImagerySet() { return this.imagerySet_ } handleImageryMetadataResponse(t) { if (200 != t.statusCode || "OK" != t.statusDescription || "ValidCredentials" != t.authenticationResultCode || 1 != t.resourceSets.length || 1 != t.resourceSets[0].resources.length) return void this.setState("error"); const e = t.resourceSets[0].resources[0], i = -1 == this.maxZoom_ ? e.zoomMax : this.maxZoom_, n = ih(this.getProjection()), r = this.hidpi_ ? 2 : 1, s = e.imageWidth == e.imageHeight ? e.imageWidth / r : [e.imageWidth / r, e.imageHeight / r], o = Ql({ extent: n, minZoom: e.zoomMin, maxZoom: i, tileSize: s }); this.tileGrid = o; const a = this.culture_, l = this.hidpi_; if (this.tileUrlFunction = ah(e.imageUrlSubdomains.map((function (t) { const i = [0, 0, 0], n = e.imageUrl.replace("{subdomain}", t).replace("{culture}", a); return function (t, e, r) { if (t) { el(t[0], t[1], t[2], i); let e = n; return l && (e += "&dpi=d1&device=mobile"), e.replace("{quadkey}", gh(i)) } } }))), e.imageryProviders) { const t = qi(Ui("EPSG:4326"), this.getProjection()); this.setAttributions(function (i) { const n = [], r = i.viewState, s = this.getTileGrid(), o = s.getZForResolution(r.resolution, this.zDirection), a = s.getTileCoordForCoordAndZ(r.center, o)[0]; return e.imageryProviders.map((function (e) { let r = !1; const s = e.coverageAreas; for (let e = 0, n = s.length; e < n; ++e) { const n = s[e]; if (a >= n.zoomMin && a <= n.zoomMax) { const e = n.bbox; if (we(Re([e[1], e[0], e[3], e[2]], t), i.extent)) { r = !0; break } } } r && n.push(e.attribution) })), n.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>'), n }.bind(this)) } this.setState("ready") } }, _T.source.BingMaps.quadKey = gh, _T.source.CartoDB = class extends fh { constructor(t) { super({ attributions: t.attributions, cacheSize: t.cacheSize, crossOrigin: t.crossOrigin, maxZoom: void 0 !== t.maxZoom ? t.maxZoom : 18, minZoom: t.minZoom, projection: t.projection, transition: t.transition, wrapX: t.wrapX, zDirection: t.zDirection }), this.account_ = t.account, this.mapId_ = t.map || "", this.config_ = t.config || {}, this.templateCache_ = {}, this.initializeMap_() } getConfig() { return this.config_ } updateConfig(t) { Object.assign(this.config_, t), this.initializeMap_() } setConfig(t) { this.config_ = t || {}, this.initializeMap_() } initializeMap_() { const t = JSON.stringify(this.config_); if (this.templateCache_[t]) return void this.applyTemplate_(this.templateCache_[t]); let e = "https://" + this.account_ + ".carto.com/api/v1/map"; this.mapId_ && (e += "/named/" + this.mapId_); const i = new XMLHttpRequest; i.addEventListener("load", this.handleInitResponse_.bind(this, t)), i.addEventListener("error", this.handleInitError_.bind(this)), i.open("POST", e), i.setRequestHeader("Content-type", "application/json"), i.send(JSON.stringify(this.config_)) } handleInitResponse_(t, e) { const i = e.target; if (!i.status || i.status >= 200 && i.status < 300) { let e; try { e = JSON.parse(i.responseText) } catch (t) { return void this.setState("error") } this.applyTemplate_(e), this.templateCache_[t] = e, this.setState("ready") } else this.setState("error") } handleInitError_(t) { this.setState("error") } applyTemplate_(t) { const e = "https://" + t.cdn_url.https + "/" + this.account_ + "/api/v1/map/" + t.layergroupid + "/{z}/{x}/{y}.png"; this.setUrl(e) } }, _T.source.Cluster = class extends zh { constructor(t) { super({ attributions: t.attributions, wrapX: t.wrapX }), this.resolution = void 0, this.distance = void 0 !== t.distance ? t.distance : 20, this.minDistance = t.minDistance || 0, this.interpolationRatio = 0, this.features = [], this.geometryFunction = t.geometryFunction || function (t) { const e = t.getGeometry(); return at("Point" == e.getType(), 10), e }, this.createCustomCluster_ = t.createCluster, this.source = null, this.boundRefresh_ = this.refresh.bind(this), this.updateDistance(this.distance, this.minDistance), this.setSource(t.source || null) } clear(t) { this.features.length = 0, super.clear(t) } getDistance() { return this.distance } getSource() { return this.source } loadFeatures(t, e, i) { this.source.loadFeatures(t, e, i), e !== this.resolution && (this.resolution = e, this.refresh()) } setDistance(t) { this.updateDistance(t, this.minDistance) } setMinDistance(t) { this.updateDistance(this.distance, t) } getMinDistance() { return this.minDistance } setSource(t) { this.source && this.source.removeEventListener(S, this.boundRefresh_), this.source = t, t && t.addEventListener(S, this.boundRefresh_), this.refresh() } refresh() { this.clear(), this.cluster(), this.addFeatures(this.features) } updateDistance(t, e) { const i = 0 === t ? 0 : Math.min(e, t) / t, n = t !== this.distance || this.interpolationRatio !== i; this.distance = t, this.minDistance = e, this.interpolationRatio = i, n && this.refresh() } cluster() { if (void 0 === this.resolution || !this.source) return; const t = [1 / 0, 1 / 0, -1 / 0, -1 / 0], e = this.distance * this.resolution, i = this.source.getFeatures(), n = {}; for (let r = 0, s = i.length; r < s; r++) { const s = i[r]; if (!(z(s) in n)) { const i = this.geometryFunction(s); if (i) { Qt(i.getCoordinates(), t), Xt(t, e, t); const r = this.source.getFeaturesInExtent(t).filter((function (t) { const e = z(t); return !(e in n) && (n[e] = !0, !0) })); this.features.push(this.createCluster(r, t)) } } } } createCluster(t, e) { const i = [0, 0]; for (let e = t.length - 1; e >= 0; --e) { const n = this.geometryFunction(t[e]); n ? mi(i, n.getCoordinates()) : t.splice(e, 1) } Ei(i, 1 / t.length); const n = ge(e), r = this.interpolationRatio, s = new Wn([i[0] * (1 - r) + n[0] * r, i[1] * (1 - r) + n[1] * r]); return this.createCustomCluster_ ? this.createCustomCluster_(s, t) : new lt({ geometry: s, features: t }) } }, _T.source.DataTile = Xh, _T.source.GeoTIFF = ic, _T.source.IIIF = class extends uh { constructor(t) { const e = t || {}; let i = e.url || ""; i += i.lastIndexOf("/") === i.length - 1 || "" === i ? "" : "/"; const n = e.version || sc, r = e.sizes || [], s = e.size; at(null != s && Array.isArray(s) && 2 == s.length && !isNaN(s[0]) && s[0] > 0 && !isNaN(s[1]) && s[1] > 0, 60); const o = s[0], a = s[1], l = e.tileSize, h = e.tilePixelRatio || 1, c = e.format || "jpg", u = e.quality || (e.version == rc ? "native" : "default"); let d = e.resolutions || []; const g = e.supports || [], f = e.extent || [0, -a, o, 0], p = null != r && Array.isArray(r) && r.length > 0, m = void 0 !== l && ("number" == typeof l && Number.isInteger(l) && l > 0 || Array.isArray(l) && l.length > 0), _ = null != g && Array.isArray(g) && (g.includes("regionByPx") || g.includes("regionByPct")) && (g.includes("sizeByWh") || g.includes("sizeByH") || g.includes("sizeByW") || g.includes("sizeByPct")); let y, x, v; if (d.sort((function (t, e) { return e - t })), m || _) if (null != l && ("number" == typeof l && Number.isInteger(l) && l > 0 ? (y = l, x = l) : Array.isArray(l) && l.length > 0 && ((1 == l.length || null == l[1] && Number.isInteger(l[0])) && (y = l[0], x = l[0]), 2 == l.length && (Number.isInteger(l[0]) && Number.isInteger(l[1]) ? (y = l[0], x = l[1]) : null == l[0] && Number.isInteger(l[1]) && (y = l[1], x = l[1])))), void 0 !== y && void 0 !== x || (y = Lo, x = Lo), 0 == d.length) { v = Math.max(Math.ceil(Math.log(o / y) / Math.LN2), Math.ceil(Math.log(a / x) / Math.LN2)); for (let t = v; t >= 0; t--)d.push(Math.pow(2, t)) } else { const t = Math.max(...d); v = Math.round(Math.log(t) / Math.LN2) } else if (y = o, x = a, d = [], p) { r.sort((function (t, e) { return t[0] - e[0] })), v = -1; const t = []; for (let e = 0; e < r.length; e++) { const i = o / r[e][0]; d.length > 0 && d[d.length - 1] == i ? t.push(e) : (d.push(i), v++) } if (t.length > 0) for (let e = 0; e < t.length; e++)r.splice(t[e] - e, 1) } else d.push(1), r.push([o, a]), v = 0; const S = new ql({ tileSize: [y, x], extent: f, origin: xe(f), resolutions: d }), w = nc.bind(null, Va(l || 256).map((function (t) { return t * h }))); super({ attributions: e.attributions, attributionsCollapsible: e.attributionsCollapsible, cacheSize: e.cacheSize, crossOrigin: e.crossOrigin, interpolate: e.interpolate, projection: e.projection, reprojectionErrorThreshold: e.reprojectionErrorThreshold, state: e.state, tileClass: w, tileGrid: S, tilePixelRatio: e.tilePixelRatio, tileUrlFunction: function (t, e, s) { let l, h; const f = t[0]; if (f > v) return; const S = t[1], w = t[2], E = d[f]; if (!(void 0 === S || void 0 === w || void 0 === E || S < 0 || Math.ceil(o / E / y) <= S || w < 0 || Math.ceil(a / E / x) <= w)) { if (_ || m) { const t = S * y * E, e = w * x * E; let i = y * E, r = x * E, s = y, c = x; if (t + i > o && (i = o - t), e + r > a && (r = a - e), t + y * E > o && (s = Math.floor((o - t + E - 1) / E)), e + x * E > a && (c = Math.floor((a - e + E - 1) / E)), 0 == t && i == o && 0 == e && r == a) l = "full"; else if (!_ || g.includes("regionByPx")) l = t + "," + e + "," + i + "," + r; else if (g.includes("regionByPct")) { l = "pct:" + dc(t / o * 100) + "," + dc(e / a * 100) + "," + dc(i / o * 100) + "," + dc(r / a * 100) } n != oc || _ && !g.includes("sizeByWh") ? !_ || g.includes("sizeByW") ? h = s + "," : g.includes("sizeByH") ? h = "," + c : g.includes("sizeByWh") ? h = s + "," + c : g.includes("sizeByPct") && (h = "pct:" + dc(100 / E)) : h = s + "," + c } else if (l = "full", p) { const t = r[f][0], e = r[f][1]; h = n == oc ? t == o && e == a ? "max" : t + "," + e : t == o ? "full" : t + "," } else h = n == oc ? "max" : "full"; return i + l + "/" + h + "/0/" + u + "." + c } }, transition: e.transition }), this.zDirection = e.zDirection } }, _T.source.Image = yc, _T.source.Image.ImageSourceEvent = _c, _T.source.Image.defaultImageLoadFunction = xc, _T.source.ImageArcGISRest = class extends yc { constructor(t) { super({ attributions: (t = t || {}).attributions, interpolate: t.interpolate, projection: t.projection, resolutions: t.resolutions }), this.crossOrigin_ = void 0 !== t.crossOrigin ? t.crossOrigin : null, this.hidpi_ = void 0 === t.hidpi || t.hidpi, this.url_ = t.url, this.imageLoadFunction_ = void 0 !== t.imageLoadFunction ? t.imageLoadFunction : xc, this.params_ = t.params || {}, this.image_ = null, this.imageSize_ = [0, 0], this.renderedRevision_ = 0, this.ratio_ = void 0 !== t.ratio ? t.ratio : 1.5 } getParams() { return this.params_ } getImageInternal(t, e, i, n) { if (void 0 === this.url_) return null; e = this.findNearestResolution(e), i = this.hidpi_ ? i : 1; const r = this.image_; if (r && this.renderedRevision_ == this.getRevision() && r.getResolution() == e && r.getPixelRatio() == i && Yt(r.getExtent(), t)) return r; const s = { F: "image", FORMAT: "PNG32", TRANSPARENT: !0 }; Object.assign(s, this.params_); const o = ((t = t.slice())[0] + t[2]) / 2, a = (t[1] + t[3]) / 2; if (1 != this.ratio_) { const e = this.ratio_ * Se(t) / 2, i = this.ratio_ * _e(t) / 2; t[0] = o - e, t[1] = a - i, t[2] = o + e, t[3] = a + i } const l = e / i, h = Math.ceil(Se(t) / l), c = Math.ceil(_e(t) / l); t[0] = o - l * h / 2, t[2] = o + l * h / 2, t[1] = a - l * c / 2, t[3] = a + l * c / 2, this.imageSize_[0] = h, this.imageSize_[1] = c; const u = this.getRequestUrl_(t, this.imageSize_, i, n, s); return this.image_ = new Ar(t, e, i, u, this.crossOrigin_, this.imageLoadFunction_), this.renderedRevision_ = this.getRevision(), this.image_.addEventListener(S, this.handleImageChange.bind(this)), this.image_ } getImageLoadFunction() { return this.imageLoadFunction_ } getRequestUrl_(t, e, i, n, r) { const s = n.getCode().split(/:(?=\d+$)/).pop(); r.SIZE = e[0] + "," + e[1], r.BBOX = t.join(","), r.BBOXSR = s, r.IMAGESR = s, r.DPI = Math.round(90 * i); const o = this.url_, a = o.replace(/MapServer\/?$/, "MapServer/export").replace(/ImageServer\/?$/, "ImageServer/exportImage"); return a == o && at(!1, 50), vc(a, r) } getUrl() { return this.url_ } setImageLoadFunction(t) { this.image_ = null, this.imageLoadFunction_ = t, this.changed() } setUrl(t) { t != this.url_ && (this.url_ = t, this.image_ = null, this.changed()) } updateParams(t) { Object.assign(this.params_, t), this.image_ = null, this.changed() } }, _T.source.ImageCanvas = class extends yc { constructor(t) { super({ attributions: (t = t || {}).attributions, interpolate: t.interpolate, projection: t.projection, resolutions: t.resolutions, state: t.state }), this.canvasFunction_ = t.canvasFunction, this.canvas_ = null, this.renderedRevision_ = 0, this.ratio_ = void 0 !== t.ratio ? t.ratio : 1.5 } getImageInternal(t, e, i, n) { e = this.findNearestResolution(e); let r = this.canvas_; if (r && this.renderedRevision_ == this.getRevision() && r.getResolution() == e && r.getPixelRatio() == i && Yt(r.getExtent(), t)) return r; Ce(t = t.slice(), this.ratio_); const s = [Se(t) / e * i, _e(t) / e * i], o = this.canvasFunction_.call(this, t, e, i, s, n); return o && (r = new Nr(t, e, i, o)), this.canvas_ = r, this.renderedRevision_ = this.getRevision(), r } }, _T.source.ImageMapGuide = class extends yc { constructor(t) { super({ interpolate: t.interpolate, projection: t.projection, resolutions: t.resolutions }), this.crossOrigin_ = void 0 !== t.crossOrigin ? t.crossOrigin : null, this.displayDpi_ = void 0 !== t.displayDpi ? t.displayDpi : 96, this.params_ = t.params || {}, this.url_ = t.url, this.imageLoadFunction_ = void 0 !== t.imageLoadFunction ? t.imageLoadFunction : xc, this.hidpi_ = void 0 === t.hidpi || t.hidpi, this.metersPerUnit_ = void 0 !== t.metersPerUnit ? t.metersPerUnit : 1, this.ratio_ = void 0 !== t.ratio ? t.ratio : 1, this.useOverlay_ = void 0 !== t.useOverlay && t.useOverlay, this.image_ = null, this.renderedRevision_ = 0 } getParams() { return this.params_ } getImageInternal(t, e, i, n) { e = this.findNearestResolution(e), i = this.hidpi_ ? i : 1; let r = this.image_; if (r && this.renderedRevision_ == this.getRevision() && r.getResolution() == e && r.getPixelRatio() == i && Yt(r.getExtent(), t)) return r; 1 != this.ratio_ && Ce(t = t.slice(), this.ratio_); const s = [Se(t) / e * i, _e(t) / e * i]; if (void 0 !== this.url_) { const o = this.getUrl(this.url_, this.params_, t, s, n); r = new Ar(t, e, i, o, this.crossOrigin_, this.imageLoadFunction_), r.addEventListener(S, this.handleImageChange.bind(this)) } else r = null; return this.image_ = r, this.renderedRevision_ = this.getRevision(), r } getImageLoadFunction() { return this.imageLoadFunction_ } updateParams(t) { Object.assign(this.params_, t), this.changed() } getUrl(t, e, i, n, r) { const s = function (t, e, i, n) { const r = Se(t), s = _e(t), o = e[0], a = e[1], l = .0254 / n; return a * r > o * s ? r * i / (o * l) : s * i / (a * l) }(i, n, this.metersPerUnit_, this.displayDpi_), o = ge(i), a = { OPERATION: this.useOverlay_ ? "GETDYNAMICMAPOVERLAYIMAGE" : "GETMAPIMAGE", VERSION: "2.0.0", LOCALE: "en", CLIENTAGENT: "ol/source/ImageMapGuide source", CLIP: "1", SETDISPLAYDPI: this.displayDpi_, SETDISPLAYWIDTH: Math.round(n[0]), SETDISPLAYHEIGHT: Math.round(n[1]), SETVIEWSCALE: s, SETVIEWCENTERX: o[0], SETVIEWCENTERY: o[1] }; return Object.assign(a, e), vc(t, a) } setImageLoadFunction(t) { this.image_ = null, this.imageLoadFunction_ = t, this.changed() } }, _T.source.ImageStatic = class extends yc { constructor(t) { const e = void 0 !== t.crossOrigin ? t.crossOrigin : null, i = void 0 !== t.imageLoadFunction ? t.imageLoadFunction : xc; super({ attributions: t.attributions, interpolate: t.interpolate, projection: Ui(t.projection) }), this.url_ = t.url, this.imageExtent_ = t.imageExtent, this.image_ = new Ar(this.imageExtent_, void 0, 1, this.url_, e, i), this.imageSize_ = t.imageSize ? t.imageSize : null, this.image_.addEventListener(S, this.handleImageChange.bind(this)) } getImageExtent() { return this.imageExtent_ } getImageInternal(t, e, i, n) { return we(t, this.image_.getExtent()) ? this.image_ : null } getUrl() { return this.url_ } handleImageChange(t) { if (this.image_.getState() == Lr) { const t = this.image_.getExtent(), e = this.image_.getImage(); let i, n; this.imageSize_ ? (i = this.imageSize_[0], n = this.imageSize_[1]) : (i = e.width, n = e.height); const r = Se(t), s = _e(t), o = r / i, a = s / n; let l = i, h = n; if (o > a ? l = Math.round(r / a) : h = Math.round(s / o), l !== i || h !== n) { const t = Dr(l, h); this.getInterpolate() || (t.imageSmoothingEnabled = !1); const r = t.canvas; t.drawImage(e, 0, 0, i, n, 0, 0, r.width, r.height), this.image_.setImage(r) } } super.handleImageChange(t) } }, _T.source.ImageWMS = class extends yc { constructor(t) { super({ attributions: (t = t || {}).attributions, interpolate: t.interpolate, projection: t.projection, resolutions: t.resolutions }), this.crossOrigin_ = void 0 !== t.crossOrigin ? t.crossOrigin : null, this.url_ = t.url, this.imageLoadFunction_ = void 0 !== t.imageLoadFunction ? t.imageLoadFunction : xc, this.params_ = Object.assign({}, t.params), this.v13_ = !0, this.updateV13_(), this.serverType_ = t.serverType, this.hidpi_ = void 0 === t.hidpi || t.hidpi, this.image_ = null, this.imageSize_ = [0, 0], this.renderedRevision_ = 0, this.ratio_ = void 0 !== t.ratio ? t.ratio : 1.5 } getFeatureInfoUrl(t, e, i, n) { if (void 0 === this.url_) return; const r = Ui(i), s = this.getProjection(); s && s !== r && (e = Gl(s, r, t, e), t = $i(t, r, s)); const o = pe(t, e, 0, wc), a = { SERVICE: "WMS", VERSION: Sc, REQUEST: "GetFeatureInfo", FORMAT: "image/png", TRANSPARENT: !0, QUERY_LAYERS: this.params_.LAYERS }; Object.assign(a, this.params_, n); const l = di((t[0] - o[0]) / e, 4), h = di((o[3] - t[1]) / e, 4); return a[this.v13_ ? "I" : "X"] = l, a[this.v13_ ? "J" : "Y"] = h, this.getRequestUrl_(o, wc, 1, s || r, a) } getLegendUrl(t, e) { if (void 0 === this.url_) return; const i = { SERVICE: "WMS", VERSION: Sc, REQUEST: "GetLegendGraphic", FORMAT: "image/png" }; if (void 0 === e || void 0 === e.LAYER) { const t = this.params_.LAYERS; if (!(!Array.isArray(t) || 1 === t.length)) return; i.LAYER = t } if (void 0 !== t) { const e = this.getProjection() ? this.getProjection().getMetersPerUnit() : 1, n = 28e-5; i.SCALE = t * e / n } return Object.assign(i, e), vc(this.url_, i) } getParams() { return this.params_ } getImageInternal(t, e, i, n) { if (void 0 === this.url_) return null; e = this.findNearestResolution(e), 1 == i || this.hidpi_ && void 0 !== this.serverType_ || (i = 1); const r = e / i, s = ge(t), o = pe(s, r, 0, [gi(Se(t) / r, 4), gi(_e(t) / r, 4)]), a = pe(s, r, 0, [gi(this.ratio_ * Se(t) / r, 4), gi(this.ratio_ * _e(t) / r, 4)]), l = this.image_; if (l && this.renderedRevision_ == this.getRevision() && l.getResolution() == e && l.getPixelRatio() == i && Yt(l.getExtent(), o)) return l; const h = { SERVICE: "WMS", VERSION: Sc, REQUEST: "GetMap", FORMAT: "image/png", TRANSPARENT: !0 }; Object.assign(h, this.params_), this.imageSize_[0] = ui(Se(a) / r, 4), this.imageSize_[1] = ui(_e(a) / r, 4); const c = this.getRequestUrl_(a, this.imageSize_, i, n, h); return this.image_ = new Ar(a, e, i, c, this.crossOrigin_, this.imageLoadFunction_), this.renderedRevision_ = this.getRevision(), this.image_.addEventListener(S, this.handleImageChange.bind(this)), this.image_ } getImageLoadFunction() { return this.imageLoadFunction_ } getRequestUrl_(t, e, i, n, r) { if (at(void 0 !== this.url_, 9), r[this.v13_ ? "CRS" : "SRS"] = n.getCode(), "STYLES" in this.params_ || (r.STYLES = ""), 1 != i) switch (this.serverType_) { case "geoserver": const t = 90 * i + .5 | 0; "FORMAT_OPTIONS" in r ? r.FORMAT_OPTIONS += ";dpi:" + t : r.FORMAT_OPTIONS = "dpi:" + t; break; case "mapserver": r.MAP_RESOLUTION = 90 * i; break; case "carmentaserver": case "qgis": r.DPI = 90 * i; break; default: at(!1, 8) }r.WIDTH = e[0], r.HEIGHT = e[1]; const s = n.getAxisOrientation(); let o; return o = this.v13_ && "ne" == s.substr(0, 2) ? [t[1], t[0], t[3], t[2]] : t, r.BBOX = o.join(","), vc(this.url_, r) } getUrl() { return this.url_ } setImageLoadFunction(t) { this.image_ = null, this.imageLoadFunction_ = t, this.changed() } setUrl(t) { t != this.url_ && (this.url_ = t, this.image_ = null, this.changed()) } updateParams(t) { Object.assign(this.params_, t), this.updateV13_(), this.image_ = null, this.changed() } updateV13_() { const t = this.params_.VERSION || Sc; this.v13_ = pi(t, "1.3") >= 0 } }, _T.source.OGCMapTile = class extends uh { constructor(t) { super({ attributions: t.attributions, cacheSize: t.cacheSize, crossOrigin: t.crossOrigin, interpolate: t.interpolate, projection: t.projection, reprojectionErrorThreshold: t.reprojectionErrorThreshold, state: "loading", tileLoadFunction: t.tileLoadFunction, wrapX: void 0 === t.wrapX || t.wrapX, transition: t.transition }); Rg({ url: t.url, projection: this.getProjection(), mediaType: t.mediaType, context: t.context || null }).then(this.handleTileSetInfo_.bind(this)).catch(this.handleError_.bind(this)) } handleTileSetInfo_(t) { this.tileGrid = t.grid, this.setTileUrlFunction(t.urlFunction, t.urlTemplate), this.setState("ready") } handleError_(t) { console.error(t), this.setState("error") } }, _T.source.OGCVectorTile = class extends Qc { constructor(t) { super({ attributions: t.attributions, attributionsCollapsible: t.attributionsCollapsible, cacheSize: t.cacheSize, format: t.format, overlaps: t.overlaps, projection: t.projection, tileClass: t.tileClass, transition: t.transition, wrapX: t.wrapX, zDirection: t.zDirection, state: "loading" }); Rg({ url: t.url, projection: this.getProjection(), mediaType: t.mediaType, supportedMediaTypes: t.format.supportedMediaTypes, context: t.context || null }).then(this.handleTileSetInfo_.bind(this)).catch(this.handleError_.bind(this)) } handleTileSetInfo_(t) { this.tileGrid = t.grid, this.setTileUrlFunction(t.urlFunction, t.urlTemplate), this.setState("ready") } handleError_(t) { console.error(t), this.setState("error") } }, _T.source.OSM = class extends fh { constructor(t) { let e; e = void 0 !== (t = t || {}).attributions ? t.attributions : [Ec]; const i = void 0 !== t.crossOrigin ? t.crossOrigin : "anonymous", n = void 0 !== t.url ? t.url : "https://tile.openstreetmap.org/{z}/{x}/{y}.png"; super({ attributions: e, attributionsCollapsible: !1, cacheSize: t.cacheSize, crossOrigin: i, interpolate: t.interpolate, maxZoom: void 0 !== t.maxZoom ? t.maxZoom : 19, opaque: void 0 === t.opaque || t.opaque, reprojectionErrorThreshold: t.reprojectionErrorThreshold, tileLoadFunction: t.tileLoadFunction, transition: t.transition, url: n, wrapX: t.wrapX, zDirection: t.zDirection }) } }, _T.source.OSM.ATTRIBUTION = Ec, _T.source.Raster = Wc, _T.source.Raster.Processor = Uc, _T.source.Raster.RasterSourceEvent = Vc, _T.source.Raster.newImageData = Gc, _T.source.Source = Zl, _T.source.Stamen = class extends fh { constructor(t) { const e = t.layer.indexOf("-"), i = -1 == e ? t.layer : t.layer.slice(0, e), n = $c[i], r = Hc[t.layer], s = void 0 !== t.url ? t.url : "https://stamen-tiles-{a-d}.a.ssl.fastly.net/" + t.layer + "/{z}/{x}/{y}." + r.extension; super({ attributions: qc, cacheSize: t.cacheSize, crossOrigin: "anonymous", interpolate: t.interpolate, maxZoom: null != t.maxZoom ? t.maxZoom : n.maxZoom, minZoom: null != t.minZoom ? t.minZoom : n.minZoom, opaque: r.opaque, reprojectionErrorThreshold: t.reprojectionErrorThreshold, tileLoadFunction: t.tileLoadFunction, transition: t.transition, url: s, wrapX: t.wrapX, zDirection: t.zDirection }) } }, _T.source.Tile = nh, _T.source.Tile.TileSourceEvent = rh, _T.source.TileArcGISRest = class extends uh { constructor(t) { super({ attributions: (t = t || {}).attributions, cacheSize: t.cacheSize, crossOrigin: t.crossOrigin, interpolate: t.interpolate, projection: t.projection, reprojectionErrorThreshold: t.reprojectionErrorThreshold, tileGrid: t.tileGrid, tileLoadFunction: t.tileLoadFunction, url: t.url, urls: t.urls, wrapX: void 0 === t.wrapX || t.wrapX, transition: t.transition, zDirection: t.zDirection }), this.params_ = t.params || {}, this.hidpi_ = void 0 === t.hidpi || t.hidpi, this.tmpExtent_ = [1 / 0, 1 / 0, -1 / 0, -1 / 0], this.setKey(this.getKeyForParams_()) } getKeyForParams_() { let t = 0; const e = []; for (const i in this.params_) e[t++] = i + "-" + this.params_[i]; return e.join("/") } getParams() { return this.params_ } getRequestUrl_(t, e, i, n, r, s) { const o = this.urls; if (!o) return; const a = r.getCode().split(/:(?=\d+$)/).pop(); let l; if (s.SIZE = e[0] + "," + e[1], s.BBOX = i.join(","), s.BBOXSR = a, s.IMAGESR = a, s.DPI = Math.round(s.DPI ? s.DPI * n : 90 * n), 1 == o.length) l = o[0]; else { l = o[li(ol(t), o.length)] } return vc(l.replace(/MapServer\/?$/, "MapServer/export").replace(/ImageServer\/?$/, "ImageServer/exportImage"), s) } getTilePixelRatio(t) { return this.hidpi_ ? t : 1 } updateParams(t) { Object.assign(this.params_, t), this.setKey(this.getKeyForParams_()) } tileUrlFunction(t, e, i) { let n = this.getTileGrid(); if (n || (n = this.getTileGridForProjection(i)), n.getResolutions().length <= t[0]) return; 1 == e || this.hidpi_ || (e = 1); const r = n.getTileCoordExtent(t, this.tmpExtent_); let s = Va(n.getTileSize(t[0]), this.tmpSize); 1 != e && (s = Xa(s, e, this.tmpSize)); const o = { F: "image", FORMAT: "PNG32", TRANSPARENT: !0 }; return Object.assign(o, this.params_), this.getRequestUrl_(t, s, r, e, i, o) } }, _T.source.TileDebug = class extends fh { constructor(t) { super({ opaque: !1, projection: (t = t || {}).projection, tileGrid: t.tileGrid, wrapX: void 0 === t.wrapX || t.wrapX, zDirection: t.zDirection, url: t.template || "z:{z} x:{x} y:{y}", tileLoadFunction: (t, e) => { const i = t.getTileCoord()[0], n = Va(this.tileGrid.getTileSize(i)), r = Dr(n[0], n[1]); r.strokeStyle = "grey", r.strokeRect(.5, .5, n[0] + .5, n[1] + .5), r.fillStyle = "grey", r.strokeStyle = "white", r.textAlign = "center", r.textBaseline = "middle", r.font = "24px sans-serif", r.lineWidth = 4, r.strokeText(e, n[0] / 2, n[1] / 2, n[0]), r.fillText(e, n[0] / 2, n[1] / 2, n[0]), t.setImage(r.canvas) } }) } }, _T.source.TileImage = uh, _T.source.TileJSON = class extends uh { constructor(t) { if (super({ attributions: t.attributions, cacheSize: t.cacheSize, crossOrigin: t.crossOrigin, interpolate: t.interpolate, projection: Ui("EPSG:3857"), reprojectionErrorThreshold: t.reprojectionErrorThreshold, state: "loading", tileLoadFunction: t.tileLoadFunction, wrapX: void 0 === t.wrapX || t.wrapX, transition: t.transition, zDirection: t.zDirection }), this.tileJSON_ = null, this.tileSize_ = t.tileSize, t.url) if (t.jsonp) vl(t.url, this.handleTileJSONResponse.bind(this), this.handleTileJSONError.bind(this)); else { const e = new XMLHttpRequest; e.addEventListener("load", this.onXHRLoad_.bind(this)), e.addEventListener("error", this.onXHRError_.bind(this)), e.open("GET", t.url), e.send() } else t.tileJSON ? this.handleTileJSONResponse(t.tileJSON) : at(!1, 51) } onXHRLoad_(t) { const e = t.target; if (!e.status || e.status >= 200 && e.status < 300) { let t; try { t = JSON.parse(e.responseText) } catch (t) { return void this.handleTileJSONError() } this.handleTileJSONResponse(t) } else this.handleTileJSONError() } onXHRError_(t) { this.handleTileJSONError() } getTileJSON() { return this.tileJSON_ } handleTileJSONResponse(t) { const e = Ui("EPSG:4326"), i = this.getProjection(); let n; if (void 0 !== t.bounds) { const r = qi(e, i); n = Re(t.bounds, r) } const r = ih(i), s = t.minzoom || 0, o = Ql({ extent: r, maxZoom: t.maxzoom || 22, minZoom: s, tileSize: this.tileSize_ }); if (this.tileGrid = o, this.tileUrlFunction = oh(t.tiles, o), t.attribution && !this.getAttributions()) { const e = void 0 !== n ? n : r; this.setAttributions((function (i) { return we(e, i.extent) ? [t.attribution] : null })) } this.tileJSON_ = t, this.setState("ready") } handleTileJSONError() { this.setState("error") } }, _T.source.TileWMS = class extends uh { constructor(t) { t = t || {}; const e = Object.assign({}, t.params), i = !("TRANSPARENT" in e) || e.TRANSPARENT; super({ attributions: t.attributions, attributionsCollapsible: t.attributionsCollapsible, cacheSize: t.cacheSize, crossOrigin: t.crossOrigin, interpolate: t.interpolate, opaque: !i, projection: t.projection, reprojectionErrorThreshold: t.reprojectionErrorThreshold, tileClass: t.tileClass, tileGrid: t.tileGrid, tileLoadFunction: t.tileLoadFunction, url: t.url, urls: t.urls, wrapX: void 0 === t.wrapX || t.wrapX, transition: t.transition, zDirection: t.zDirection }), this.gutter_ = void 0 !== t.gutter ? t.gutter : 0, this.params_ = e, this.v13_ = !0, this.serverType_ = t.serverType, this.hidpi_ = void 0 === t.hidpi || t.hidpi, this.tmpExtent_ = [1 / 0, 1 / 0, -1 / 0, -1 / 0], this.updateV13_(), this.setKey(this.getKeyForParams_()) } getFeatureInfoUrl(t, e, i, n) { const r = Ui(i), s = this.getProjection(); let o = this.getTileGrid(); o || (o = this.getTileGridForProjection(r)); const a = o.getZForResolution(e, this.zDirection), l = o.getTileCoordForCoordAndZ(t, a); if (o.getResolutions().length <= l[0]) return; let h = o.getResolution(l[0]), c = o.getTileCoordExtent(l, this.tmpExtent_), u = Va(o.getTileSize(l[0]), this.tmpSize); const d = this.gutter_; 0 !== d && (u = Ua(u, d, this.tmpSize), c = Xt(c, h * d, c)), s && s !== r && (h = Gl(s, r, t, h), c = Ji(c, r, s), t = $i(t, r, s)); const g = { SERVICE: "WMS", VERSION: Sc, REQUEST: "GetFeatureInfo", FORMAT: "image/png", TRANSPARENT: !0, QUERY_LAYERS: this.params_.LAYERS }; Object.assign(g, this.params_, n); const f = Math.floor((t[0] - c[0]) / h), p = Math.floor((c[3] - t[1]) / h); return g[this.v13_ ? "I" : "X"] = f, g[this.v13_ ? "J" : "Y"] = p, this.getRequestUrl_(l, u, c, 1, s || r, g) } getLegendUrl(t, e) { if (void 0 === this.urls[0]) return; const i = { SERVICE: "WMS", VERSION: Sc, REQUEST: "GetLegendGraphic", FORMAT: "image/png" }; if (void 0 === e || void 0 === e.LAYER) { const t = this.params_.LAYERS; if (!(!Array.isArray(t) || 1 === t.length)) return; i.LAYER = t } if (void 0 !== t) { const e = this.getProjection() ? this.getProjection().getMetersPerUnit() : 1, n = 28e-5; i.SCALE = t * e / n } return Object.assign(i, e), vc(this.urls[0], i) } getGutter() { return this.gutter_ } getParams() { return this.params_ } getRequestUrl_(t, e, i, n, r, s) { const o = this.urls; if (!o) return; if (s.WIDTH = e[0], s.HEIGHT = e[1], s[this.v13_ ? "CRS" : "SRS"] = r.getCode(), "STYLES" in this.params_ || (s.STYLES = ""), 1 != n) switch (this.serverType_) { case "geoserver": const t = 90 * n + .5 | 0; "FORMAT_OPTIONS" in s ? s.FORMAT_OPTIONS += ";dpi:" + t : s.FORMAT_OPTIONS = "dpi:" + t; break; case "mapserver": s.MAP_RESOLUTION = 90 * n; break; case "carmentaserver": case "qgis": s.DPI = 90 * n; break; default: at(!1, 52) }const a = r.getAxisOrientation(), l = i; if (this.v13_ && "ne" == a.substr(0, 2)) { let t; t = i[0], l[0] = i[1], l[1] = t, t = i[2], l[2] = i[3], l[3] = t } let h; if (s.BBOX = l.join(","), 1 == o.length) h = o[0]; else { h = o[li(ol(t), o.length)] } return vc(h, s) } getTilePixelRatio(t) { return this.hidpi_ && void 0 !== this.serverType_ ? t : 1 } getKeyForParams_() { let t = 0; const e = []; for (const i in this.params_) e[t++] = i + "-" + this.params_[i]; return e.join("/") } updateParams(t) { Object.assign(this.params_, t), this.updateV13_(), this.setKey(this.getKeyForParams_()) } updateV13_() { const t = this.params_.VERSION || Sc; this.v13_ = pi(t, "1.3") >= 0 } tileUrlFunction(t, e, i) { let n = this.getTileGrid(); if (n || (n = this.getTileGridForProjection(i)), n.getResolutions().length <= t[0]) return; 1 == e || this.hidpi_ && void 0 !== this.serverType_ || (e = 1); const r = n.getResolution(t[0]); let s = n.getTileCoordExtent(t, this.tmpExtent_), o = Va(n.getTileSize(t[0]), this.tmpSize); const a = this.gutter_; 0 !== a && (o = Ua(o, a, this.tmpSize), s = Xt(s, r * a, s)), 1 != e && (o = Xa(o, e, this.tmpSize)); const l = { SERVICE: "WMS", VERSION: Sc, REQUEST: "GetMap", FORMAT: "image/png", TRANSPARENT: !0 }; return Object.assign(l, this.params_), this.getRequestUrl_(t, o, s, e, i, l) } }, _T.source.UTFGrid = class extends nh { constructor(t) { if (super({ projection: Ui("EPSG:3857"), state: "loading", zDirection: t.zDirection }), this.preemptive_ = void 0 === t.preemptive || t.preemptive, this.tileUrlFunction_ = lh, this.template_ = void 0, this.jsonp_ = t.jsonp || !1, t.url) if (this.jsonp_) vl(t.url, this.handleTileJSONResponse.bind(this), this.handleTileJSONError.bind(this)); else { const e = new XMLHttpRequest; e.addEventListener("load", this.onXHRLoad_.bind(this)), e.addEventListener("error", this.onXHRError_.bind(this)), e.open("GET", t.url), e.send() } else t.tileJSON ? this.handleTileJSONResponse(t.tileJSON) : at(!1, 51) } onXHRLoad_(t) { const e = t.target; if (!e.status || e.status >= 200 && e.status < 300) { let t; try { t = JSON.parse(e.responseText) } catch (t) { return void this.handleTileJSONError() } this.handleTileJSONResponse(t) } else this.handleTileJSONError() } onXHRError_(t) { this.handleTileJSONError() } getTemplate() { return this.template_ } forDataAtCoordinateAndResolution(t, e, i, n) { if (this.tileGrid) { const r = this.tileGrid.getZForResolution(e, this.zDirection), s = this.tileGrid.getTileCoordForCoordAndZ(t, r); this.getTile(s[0], s[1], s[2], 1, this.getProjection()).forDataAtCoordinate(t, i, n) } else !0 === n ? setTimeout((function () { i(null) }), 0) : i(null) } handleTileJSONError() { this.setState("error") } handleTileJSONResponse(t) { const e = Ui("EPSG:4326"), i = this.getProjection(); let n; if (void 0 !== t.bounds) { const r = qi(e, i); n = Re(t.bounds, r) } const r = ih(i), s = t.minzoom || 0, o = Ql({ extent: r, maxZoom: t.maxzoom || 22, minZoom: s }); this.tileGrid = o, this.template_ = t.template; const a = t.grids; if (a) { if (this.tileUrlFunction_ = oh(a, o), void 0 !== t.attribution) { const e = void 0 !== n ? n : r; this.setAttributions((function (i) { return we(e, i.extent) ? [t.attribution] : null })) } this.setState("ready") } else this.setState("error") } getTile(t, e, i, n, r) { const s = il(t, e, i); if (this.tileCache.containsKey(s)) return this.tileCache.get(s); { const o = [t, e, i], a = this.getTileCoordForTileUrlFunction(o, r), l = this.tileUrlFunction_(a, n, r), h = new Jc(o, void 0 !== l ? H : tt, void 0 !== l ? l : "", this.tileGrid.getTileCoordExtent(o), this.preemptive_, this.jsonp_); return this.tileCache.set(s, h), h } } useTile(t, e, i) { const n = il(t, e, i); this.tileCache.containsKey(n) && this.tileCache.get(n) } }, _T.source.UTFGrid.CustomTile = Jc, _T.source.UrlTile = ch, _T.source.Vector = zh, _T.source.Vector.VectorSourceEvent = Uh, _T.source.VectorTile = Qc, _T.source.VectorTile.defaultLoadFunction = tu, _T.source.WMTS = class extends uh { constructor(t) { const e = void 0 !== t.requestEncoding ? t.requestEncoding : "KVP", i = t.tileGrid; let n = t.urls; void 0 === n && void 0 !== t.url && (n = hh(t.url)), super({ attributions: t.attributions, attributionsCollapsible: t.attributionsCollapsible, cacheSize: t.cacheSize, crossOrigin: t.crossOrigin, interpolate: t.interpolate, projection: t.projection, reprojectionErrorThreshold: t.reprojectionErrorThreshold, tileClass: t.tileClass, tileGrid: i, tileLoadFunction: t.tileLoadFunction, tilePixelRatio: t.tilePixelRatio, urls: n, wrapX: void 0 !== t.wrapX && t.wrapX, transition: t.transition, zDirection: t.zDirection }), this.version_ = void 0 !== t.version ? t.version : "1.0.0", this.format_ = void 0 !== t.format ? t.format : "image/jpeg", this.dimensions_ = void 0 !== t.dimensions ? t.dimensions : {}, this.layer_ = t.layer, this.matrixSet_ = t.matrixSet, this.style_ = t.style, this.requestEncoding_ = e, this.setKey(this.getKeyForDimensions_()), n && n.length > 0 && (this.tileUrlFunction = ah(n.map(this.createFromWMTSTemplate.bind(this)))) } setUrls(t) { this.urls = t; const e = t.join("\n"); this.setTileUrlFunction(ah(t.map(this.createFromWMTSTemplate.bind(this))), e) } getDimensions() { return this.dimensions_ } getFormat() { return this.format_ } getLayer() { return this.layer_ } getMatrixSet() { return this.matrixSet_ } getRequestEncoding() { return this.requestEncoding_ } getStyle() { return this.style_ } getVersion() { return this.version_ } getKeyForDimensions_() { let t = 0; const e = []; for (const i in this.dimensions_) e[t++] = i + "-" + this.dimensions_[i]; return e.join("/") } updateDimensions(t) { Object.assign(this.dimensions_, t), this.setKey(this.getKeyForDimensions_()) } createFromWMTSTemplate(t) { const e = this.requestEncoding_, i = { layer: this.layer_, style: this.style_, tilematrixset: this.matrixSet_ }; "KVP" == e && Object.assign(i, { Service: "WMTS", Request: "GetTile", Version: this.version_, Format: this.format_ }), t = "KVP" == e ? vc(t, i) : t.replace(/\{(\w+?)\}/g, (function (t, e) { return e.toLowerCase() in i ? i[e.toLowerCase()] : t })); const n = this.tileGrid, r = this.dimensions_; return function (i, s, o) { if (i) { const s = { TileMatrix: n.getMatrixId(i[0]), TileCol: i[1], TileRow: i[2] }; Object.assign(s, r); let o = t; return o = "KVP" == e ? vc(o, s) : o.replace(/\{(\w+?)\}/g, (function (t, e) { return s[e] })), o } } } }, _T.source.WMTS.optionsFromCapabilities = function (t, e) { const i = t.Contents.Layer.find((function (t) { return t.Identifier == e.layer })); if (!i) return null; const n = t.Contents.TileMatrixSet; let r; r = i.TileMatrixSetLink.length > 1 ? "projection" in e ? i.TileMatrixSetLink.findIndex((function (t) { const i = n.find((function (e) { return e.Identifier == t.TileMatrixSet })).SupportedCRS, r = Ui(i), s = Ui(e.projection); return r && s ? Ki(r, s) : i == e.projection })) : i.TileMatrixSetLink.findIndex((function (t) { return t.TileMatrixSet == e.matrixSet })) : 0, r < 0 && (r = 0); const s = i.TileMatrixSetLink[r].TileMatrixSet, o = i.TileMatrixSetLink[r].TileMatrixSetLimits; let a = i.Format[0]; "format" in e && (a = e.format), r = i.Style.findIndex((function (t) { return "style" in e ? t.Title == e.style : t.isDefault })), r < 0 && (r = 0); const l = i.Style[r].Identifier, h = {}; "Dimension" in i && i.Dimension.forEach((function (t, e, i) { const n = t.Identifier; let r = t.Default; void 0 === r && (r = t.Value[0]), h[n] = r })); const c = t.Contents.TileMatrixSet.find((function (t) { return t.Identifier == s })); let u; const d = c.SupportedCRS; if (d && (u = Ui(d)), "projection" in e) { const t = Ui(e.projection); t && (u && !Ki(t, u) || (u = t)) } let g = !1; const f = "ne" == u.getAxisOrientation().substr(0, 2); let p = c.TileMatrix[0], m = { MinTileCol: 0, MinTileRow: 0, MaxTileCol: p.MatrixWidth - 1, MaxTileRow: p.MatrixHeight - 1 }; if (o) { m = o[o.length - 1]; const t = c.TileMatrix.find((t => t.Identifier === m.TileMatrix || c.Identifier + ":" + t.Identifier === m.TileMatrix)); t && (p = t) } const _ = 28e-5 * p.ScaleDenominator / u.getMetersPerUnit(), y = f ? [p.TopLeftCorner[1], p.TopLeftCorner[0]] : p.TopLeftCorner, x = p.TileWidth * _, v = p.TileHeight * _; let S = c.BoundingBox; S && f && (S = [S[1], S[0], S[3], S[2]]); let w = [y[0] + x * m.MinTileCol, y[1] - v * (1 + m.MaxTileRow), y[0] + x * (1 + m.MaxTileCol), y[1] - v * m.MinTileRow]; if (void 0 !== S && !Yt(S, w)) { const t = i.WGS84BoundingBox, e = Ui("EPSG:4326").getExtent(); if (w = S, t) g = t[0] === e[0] && t[2] === e[2]; else { const t = Ji(S, c.SupportedCRS, "EPSG:4326"); g = t[0] - 1e-10 <= e[0] && t[2] + 1e-10 >= e[2] } } const E = iu(c, w, o), T = []; let C = e.requestEncoding; if (C = void 0 !== C ? C : "", "OperationsMetadata" in t && "GetTile" in t.OperationsMetadata) { const e = t.OperationsMetadata.GetTile.DCP.HTTP.Get; for (let t = 0, i = e.length; t < i; ++t)if (e[t].Constraint) { const i = e[t].Constraint.find((function (t) { return "GetEncoding" == t.name })).AllowedValues.Value; if ("" === C && (C = i[0]), "KVP" !== C) break; i.includes("KVP") && T.push(e[t].href) } else e[t].href && (C = "KVP", T.push(e[t].href)) } return 0 === T.length && (C = "REST", i.ResourceURL.forEach((function (t) { "tile" === t.resourceType && (a = t.format, T.push(t.template)) }))), { urls: T, layer: e.layer, matrixSet: s, format: a, projection: u, requestEncoding: C, tileGrid: E, style: l, dimensions: h, wrapX: g, crossOrigin: e.crossOrigin } }, _T.source.XYZ = fh, _T.source.Zoomify = class extends uh { constructor(t) { const e = t.size, i = void 0 !== t.tierSizeCalculation ? t.tierSizeCalculation : "default", n = t.tilePixelRatio || 1, r = e[0], s = e[1], o = [], a = t.tileSize || Lo; let l = a * n; switch (i) { case "default": for (; r > l || s > l;)o.push([Math.ceil(r / l), Math.ceil(s / l)]), l += l; break; case "truncated": let t = r, e = s; for (; t > l || e > l;)o.push([Math.ceil(t / l), Math.ceil(e / l)]), t >>= 1, e >>= 1; break; default: at(!1, 53) }o.push([1, 1]), o.reverse(); const h = [n], c = [0]; for (let t = 1, e = o.length; t < e; t++)h.push(n << t), c.push(o[t - 1][0] * o[t - 1][1] + c[t - 1]); h.reverse(); const u = new ql({ tileSize: a, extent: t.extent || [0, -s, r, 0], resolutions: h }); let d = t.url; !d || d.includes("{TileGroup}") || d.includes("{tileIndex}") || (d += "{TileGroup}/{z}-{x}-{y}.jpg"); const g = hh(d); let f = a * n; const p = ah(g.map((function (t) { return function (e, i, n) { if (e) { const i = e[0], n = e[1], r = e[2], s = n + r * o[i][0], a = { z: i, x: n, y: r, tileIndex: s, TileGroup: "TileGroup" + ((s + c[i]) / f | 0) }; return t.replace(/\{(\w+?)\}/g, (function (t, e) { return a[e] })) } } }))), m = nc.bind(null, Va(a * n)); super({ attributions: t.attributions, cacheSize: t.cacheSize, crossOrigin: t.crossOrigin, interpolate: t.interpolate, projection: t.projection, tilePixelRatio: n, reprojectionErrorThreshold: t.reprojectionErrorThreshold, tileClass: m, tileGrid: u, tileUrlFunction: p, transition: t.transition }), this.zDirection = t.zDirection; const _ = p(u.getTileCoordForCoordAndResolution(ge(u.getExtent()), h[h.length - 1]), 1, null), y = new Image; y.addEventListener("error", function () { f = a, this.changed() }.bind(this)), y.src = _ } }, _T.source.Zoomify.CustomTile = nc, _T.source.common = {}, _T.source.common.DEFAULT_WMS_VERSION = "1.3.0", _T.source.ogcTileUtil = {}, _T.source.ogcTileUtil.getMapTileUrlTemplate = Tg, _T.source.ogcTileUtil.getTileSetInfo = Rg, _T.source.ogcTileUtil.getVectorTileUrlTemplate = Cg, _T.source.sourcesFromTileGrid = function (t, e) { const i = new tl(32), n = t.getExtent(); return function (r, s) { i.expireCache(), n && (r = ye(n, r)); const o = t.getZForResolution(s), a = []; return t.forEachTileCoord(r, o, (t => { const n = t.toString(); if (!i.containsKey(n)) { const r = e(t); i.set(n, r) } a.push(i.get(n)) })), a } }, _T.source.wms = {}, _T.source.wms.DEFAULT_VERSION = Sc, _T.sphere = {}, _T.sphere.DEFAULT_RADIUS = Li, _T.sphere.getArea = function t(e, i) { const n = (i = i || {}).radius || Li, r = i.projection || "EPSG:3857", s = e.getType(); "GeometryCollection" !== s && (e = e.clone().transform(r, "EPSG:4326")); let o, a, l, h, c, u, d = 0; switch (s) { case "Point": case "MultiPoint": case "LineString": case "MultiLineString": case "LinearRing": break; case "Polygon": for (o = e.getCoordinates(), d = Math.abs(Ai(o[0], n)), l = 1, h = o.length; l < h; ++l)d -= Math.abs(Ai(o[l], n)); break; case "MultiPolygon": for (o = e.getCoordinates(), l = 0, h = o.length; l < h; ++l)for (a = o[l], d += Math.abs(Ai(a[0], n)), c = 1, u = a.length; c < u; ++c)d -= Math.abs(Ai(a[c], n)); break; case "GeometryCollection": { const n = e.getGeometries(); for (l = 0, h = n.length; l < h; ++l)d += t(n[l], i); break } default: throw new Error("Unsupported geometry type: " + s) }return d }, _T.sphere.getDistance = Mi, _T.sphere.getLength = function t(e, i) { const n = (i = i || {}).radius || Li, r = i.projection || "EPSG:3857", s = e.getType(); "GeometryCollection" !== s && (e = e.clone().transform(r, "EPSG:4326")); let o, a, l, h, c, u, d = 0; switch (s) { case "Point": case "MultiPoint": break; case "LineString": case "LinearRing": o = e.getCoordinates(), d = Fi(o, n); break; case "MultiLineString": case "Polygon": for (o = e.getCoordinates(), l = 0, h = o.length; l < h; ++l)d += Fi(o[l], n); break; case "MultiPolygon": for (o = e.getCoordinates(), l = 0, h = o.length; l < h; ++l)for (a = o[l], c = 0, u = a.length; c < u; ++c)d += Fi(a[c], n); break; case "GeometryCollection": { const n = e.getGeometries(); for (l = 0, h = n.length; l < h; ++l)d += t(n[l], i); break } default: throw new Error("Unsupported geometry type: " + s) }return d }, _T.sphere.offset = Oi, _T.string = {}, _T.string.compareVersions = pi, _T.string.padNumber = fi, _T.structs = {}, _T.structs.LRUCache = tl, _T.structs.LinkedList = class { constructor(t) { this.first_, this.last_, this.head_, this.circular_ = void 0 === t || t, this.length_ = 0 } insertItem(t) { const e = { prev: void 0, next: void 0, data: t }, i = this.head_; if (i) { const t = i.next; e.prev = i, e.next = t, i.next = e, t && (t.prev = e), i === this.last_ && (this.last_ = e) } else this.first_ = e, this.last_ = e, this.circular_ && (e.next = e, e.prev = e); this.head_ = e, this.length_++ } removeItem() { const t = this.head_; if (t) { const e = t.next, i = t.prev; e && (e.prev = i), i && (i.next = e), this.head_ = e || i, this.first_ === this.last_ ? (this.head_ = void 0, this.first_ = void 0, this.last_ = void 0) : this.first_ === t ? this.first_ = this.head_ : this.last_ === t && (this.last_ = i ? this.head_.prev : this.head_), this.length_-- } } firstItem() { if (this.head_ = this.first_, this.head_) return this.head_.data } lastItem() { if (this.head_ = this.last_, this.head_) return this.head_.data } nextItem() { if (this.head_ && this.head_.next) return this.head_ = this.head_.next, this.head_.data } getNextItem() { if (this.head_ && this.head_.next) return this.head_.next.data } prevItem() { if (this.head_ && this.head_.prev) return this.head_ = this.head_.prev, this.head_.data } getPrevItem() { if (this.head_ && this.head_.prev) return this.head_.prev.data } getCurrItem() { if (this.head_) return this.head_.data } setFirstItem() { this.circular_ && this.head_ && (this.first_ = this.head_, this.last_ = this.head_.prev) } concat(t) { if (t.head_) { if (this.head_) { const e = this.head_.next; this.head_.next = t.first_, t.first_.prev = this.head_, e.prev = t.last_, t.last_.next = e, this.length_ += t.length_ } else this.head_ = t.head_, this.first_ = t.first_, this.last_ = t.last_, this.length_ = t.length_; t.head_ = void 0, t.first_ = void 0, t.last_ = void 0, t.length_ = 0 } } getLength() { return this.length_ } }, _T.structs.PriorityQueue = To, _T.structs.PriorityQueue.DROP = Eo, _T.structs.RBush = Ah, _T.style = {}, _T.style.Circle = ng, _T.style.Fill = rg, _T.style.Icon = lg, _T.style.IconImage = og, _T.style.IconImage.get = ag, _T.style.IconImageCache = es, _T.style.IconImageCache.shared = ns, _T.style.Image = eg, _T.style.RegularShape = ig, _T.style.Stroke = hg, _T.style.Style = cg, _T.style.Style.createDefaultStyle = gg, _T.style.Style.createEditingStyle = fg, _T.style.Style.toFunction = ug, _T.style.Text = mg, _T.style.expressions = {}, _T.style.expressions.Operators = Ld, _T.style.expressions.PALETTE_TEXTURE_ARRAY = qd, _T.style.expressions.arrayToGlsl = Od, _T.style.expressions.colorToGlsl = Nd, _T.style.expressions.expressionToGlsl = Gd, _T.style.expressions.getStringNumberEquivalent = Dd, _T.style.expressions.getValueType = Md, _T.style.expressions.isTypeUnique = Fd, _T.style.expressions.numberToGlsl = Ad, _T.style.expressions.stringToGlsl = kd, _T.style.expressions.uniformNameForVariable = Kd, _T.style.flat = {}, _T.style.flat.toStyle = _g, _T.tilecoord = {}, _T.tilecoord.createOrUpdate = el, _T.tilecoord.fromKey = sl, _T.tilecoord.getCacheKeyForTileKey = rl, _T.tilecoord.getKey = nl, _T.tilecoord.getKeyZXY = il, _T.tilecoord.hash = ol, _T.tilecoord.withinExtentAndZ = al, _T.tilegrid = {}, _T.tilegrid.TileGrid = ql, _T.tilegrid.WMTS = eu, _T.tilegrid.WMTS.createFromCapabilitiesMatrixSet = iu, _T.tilegrid.common = {}, _T.tilegrid.common.DEFAULT_MAX_ZOOM = 42, _T.tilegrid.common.DEFAULT_TILE_SIZE = Lo, _T.tilegrid.createForExtent = Jl, _T.tilegrid.createForProjection = eh, _T.tilegrid.createXYZ = Ql, _T.tilegrid.extentFromProjection = ih, _T.tilegrid.getForProjection = Hl, _T.tilegrid.wrapX = $l, _T.tileurlfunction = {}, _T.tileurlfunction.createFromTemplate = sh, _T.tileurlfunction.createFromTemplates = oh, _T.tileurlfunction.createFromTileUrlFunctions = ah, _T.tileurlfunction.expandUrl = hh, _T.tileurlfunction.nullTileUrlFunction = lh, _T.transform = {}, _T.transform.apply = bt, _T.transform.compose = Mt, _T.transform.composeCssTransform = function (t, e, i, n, r, s, o) { return Nt(Mt([1, 0, 0, 1, 0, 0], t, e, i, n, r, s, o)) }, _T.transform.create = St, _T.transform.determinant = At, _T.transform.invert = function (t) { return Ft(t, t) }, _T.transform.makeInverse = Ft, _T.transform.makeScale = It, _T.transform.multiply = Et, _T.transform.reset = wt, _T.transform.rotate = Rt, _T.transform.scale = Pt, _T.transform.set = Tt, _T.transform.setFromArray = Ct, _T.transform.toString = Nt, _T.transform.translate = Lt, _T.uri = {}, _T.uri.appendParams = vc, _T.util = {}, _T.util.VERSION = "latest", _T.util.abstract = B, _T.util.getUid = z, _T.vec = {}, _T.vec.mat4 = {}, _T.vec.mat4.create = Xu, _T.vec.mat4.fromTransform = Vu, _T.webgl = {}, _T.webgl.ARRAY_BUFFER = nu, _T.webgl.Buffer = Gu, _T.webgl.Buffer.getArrayClassForType = ju, _T.webgl.DYNAMIC_DRAW = ou, _T.webgl.ELEMENT_ARRAY_BUFFER = ru, _T.webgl.FLOAT = au, _T.webgl.Helper = nd, _T.webgl.Helper.computeAttributesStride = rd, _T.webgl.PaletteTexture = od, _T.webgl.PostProcessingPass = zu, _T.webgl.RenderTarget = ld, _T.webgl.STATIC_DRAW = su, _T.webgl.STREAM_DRAW = 35040, _T.webgl.ShaderBuilder = {}, _T.webgl.ShaderBuilder.ShaderBuilder = Qd, _T.webgl.ShaderBuilder.parseLiteralStyle = tg, _T.webgl.TileTexture = dd, _T.webgl.UNSIGNED_BYTE = 5121, _T.webgl.UNSIGNED_INT = 5125, _T.webgl.UNSIGNED_SHORT = 5123, _T.webgl.getContext = hu, _T.webgl.getSupportedExtensions = function () { if (!cu) { const t = hu(document.createElement("canvas")); t && (cu = t.getSupportedExtensions()) } return cu }, _T.xml = {}, _T.xml.OBJECT_PROPERTY_NODE_FACTORY = bu, _T.xml.XML_SCHEMA_INSTANCE_URI = uu, _T.xml.createElementNS = du, _T.xml.getAllTextContent = gu, _T.xml.getAllTextContent_ = fu, _T.xml.getAttributeNS = mu, _T.xml.getDocument = Du, _T.xml.getXMLSerializer = Nu, _T.xml.isDocument = pu, _T.xml.makeArrayExtender = yu, _T.xml.makeArrayPusher = xu, _T.xml.makeArraySerializer = Tu, _T.xml.makeChildAppender = Eu, _T.xml.makeObjectPropertyPusher = Su, _T.xml.makeObjectPropertySetter = wu, _T.xml.makeReplacer = vu, _T.xml.makeSequence = Ru, _T.xml.makeSimpleNodeFactory = Cu, _T.xml.makeStructureNS = Pu, _T.xml.parse = _u, _T.xml.parseNode = Iu, _T.xml.pushParseAndPop = Lu, _T.xml.pushSerializeAndPop = Fu, _T.xml.registerDocument = function (t) { Ou = t }, _T.xml.registerXMLSerializer = function (t) { Au = t }, _T.xml.serialize = Mu, _T
}();
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('ol/style'), require('ol/render'), require('ol/geom'), require('ol/extent'), require('ol/has')) :
        typeof define === 'function' && define.amd ? define(['exports', 'ol/style', 'ol/render', 'ol/geom', 'ol/extent', 'ol/has'], factory) :
            (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.SLDReader = {}, global.ol.style, global.ol.render, global.ol.geom, global.ol.extent, global.ol.has));
})(this, (function (exports, style, render, geom, extent, has) {
    'use strict';

    /**
     * Bron: https://github.com/NieuwlandGeo/SLDReader
     */

    /**
     * Factory methods for filterelements
     * @see http://schemas.opengis.net/filter/1.0.0/filter.xsd
     *
     * @module
     */

    var TYPE_COMPARISON = 'comparison';

    /**
     * @var string[] element names of binary comparison
     * @private
     */
    var BINARY_COMPARISON_NAMES = [
        'PropertyIsEqualTo',
        'PropertyIsNotEqualTo',
        'PropertyIsLessThan',
        'PropertyIsLessThanOrEqualTo',
        'PropertyIsGreaterThan',
        'PropertyIsGreaterThanOrEqualTo'];

    var COMPARISON_NAMES = BINARY_COMPARISON_NAMES.concat([
        'PropertyIsLike',
        'PropertyIsNull',
        'PropertyIsBetween']);

    /**
     * @private
     * @param {string} localName
     *
     * @return null|string
     */
    function getChildTextContent(node, localName) {
        var propertyNameElement = node
            .getElementsByTagNameNS(node.namespaceURI, localName)
            .item(0);
        if (!propertyNameElement) {
            return null;
        }
        if (propertyNameElement.parentNode !== node) {
            throw new Error('Expected direct descant');
        }
        return propertyNameElement ? propertyNameElement.textContent.trim() : null;
    }

    function isComparison(element) {
        return COMPARISON_NAMES.includes(element.localName);
    }

    function isBinary(element) {
        return ['or', 'and'].includes(element.localName.toLowerCase());
    }

    /**
     * factory for comparisonOps
     * @private
     * @param {Element} element
     *
     * @return {object}
     */
    function createComparison(element) {
        if (BINARY_COMPARISON_NAMES.includes(element.localName)) {
            return createBinaryFilterComparison(element);
        }
        if (element.localName === 'PropertyIsBetween') {
            return createIsBetweenComparison(element);
        }
        if (element.localName === 'PropertyIsNull') {
            return createIsNullComparison(element);
        }
        if (element.localName === 'PropertyIsLike') {
            return createIsLikeComparison(element);
        }
        throw new Error(("Unknown comparison element " + (element.localName)));
    }

    /**
     * factory for element type BinaryComparisonOpType
     * @private
     * @param {Element} element
     *
     * @return {object}
     */
    function createBinaryFilterComparison(element) {
        var propertyname = getChildTextContent(element, 'PropertyName');
        var literal = getChildTextContent(element, 'Literal');

        return {
            type: TYPE_COMPARISON,
            operator: element.localName.toLowerCase(),
            propertyname: propertyname,
            literal: literal,
            // Match case attribute is true by default, so only make it false if the attribute value equals 'false'.
            matchcase: element.getAttribute('matchCase') !== 'false',
        };
    }

    /**
     * factory for element type PropertyIsLikeType
     * @private
     * @param {Element} element
     *
     * @return {object}
     */
    function createIsLikeComparison(element) {
        var propertyname = getChildTextContent(element, 'PropertyName');
        var literal = getChildTextContent(element, 'Literal');

        return {
            type: TYPE_COMPARISON,
            operator: element.localName.toLowerCase(),
            propertyname: propertyname,
            literal: literal,
            wildcard: element.getAttribute('wildCard'),
            singlechar: element.getAttribute('singleChar'),
            escapechar: element.getAttribute('escapeChar'),
            // Match case attribute is true by default, so only make it false if the attribute value equals 'false'.
            matchcase: element.getAttribute('matchCase') !== 'false',
        };
    }
    /**
     * factory for element type PropertyIsNullType
     * @private
     * @param {Element} element
     *
     * @return {object}
     */
    function createIsNullComparison(element) {
        var propertyname = getChildTextContent(element, 'PropertyName');

        return {
            type: TYPE_COMPARISON,
            operator: element.localName.toLowerCase(),
            propertyname: propertyname,
        };
    }
    /**
     * factory for element type PropertyIsBetweenType
     * @private
     * @param {Element} element
     *
     * @return {object}
     */
    function createIsBetweenComparison(element) {
        var propertyname = getChildTextContent(element, 'PropertyName');
        var lowerboundary = getChildTextContent(element, 'LowerBoundary');
        var upperboundary = getChildTextContent(element, 'UpperBoundary');
        return {
            type: TYPE_COMPARISON,
            operator: element.localName.toLowerCase(),
            lowerboundary: lowerboundary,
            upperboundary: upperboundary,
            propertyname: propertyname,
            // Match case attribute is true by default, so only make it false if the attribute value equals 'false'.
            matchcase: element.getAttribute('matchCase') !== 'false',
        };
    }

    /**
     * Factory for and/or filter
     * @private
     * @param {Element} element
     *
     * @return {object}
     */
    function createBinaryLogic(element) {
        var predicates = [];
        for (var n = element.firstElementChild; n; n = n.nextElementSibling) {
            if (isComparison(n)) {
                predicates.push(createComparison(n));
            }
        }
        return {
            type: element.localName.toLowerCase(),
            predicates: predicates,
        };
    }

    /**
     * Factory for not filter
     * @private
     * @param {Element} element
     *
     * @return {object}
     */
    function createUnaryLogic(element) {
        var predicate = null;
        var childElement = element.firstElementChild;
        if (childElement && isComparison(childElement)) {
            predicate = createComparison(childElement);
        }
        if (childElement && isBinary(childElement)) {
            predicate = createBinaryLogic(childElement);
        }
        return {
            type: element.localName.toLowerCase(),
            predicate: predicate,
        };
    }

    /**
     * Factory root filter element
     * @param {Element} element
     *
     * @return {Filter}
     */
    function createFilter(element) {
        var filter = {};
        for (var n = element.firstElementChild; n; n = n.nextElementSibling) {
            if (isComparison(n)) {
                filter = createComparison(n);
            }
            if (isBinary(n)) {
                filter = createBinaryLogic(n);
            }
            if (n.localName.toLowerCase() === 'not') {
                filter = createUnaryLogic(n);
            }
            if (n.localName.toLowerCase() === 'featureid') {
                filter.type = 'featureid';
                filter.fids = filter.fids || [];
                filter.fids.push(n.getAttribute('fid'));
            }
        }
        return filter;
    }

    /**
     * A filter predicate.
     * @typedef Filter
     * @name Filter
     * @description [filter operators](http://schemas.opengis.net/filter/1.1.0/filter.xsd), see also
     * [geoserver](http://docs.geoserver.org/stable/en/user/styling/sld/reference/filters.html)
     * @property {string} type Can be 'comparison', 'and', 'or', 'not', or 'featureid'.
     * @property {Array<string>} [fids] An array of feature id's. Required for type='featureid'.
     * @property {string} [operator] Required for type='comparison'. Can be one of
     * 'propertyisequalto',
     * 'propertyisnotequalto',
     * 'propertyislessthan',
     * 'propertyislessthanorequalto',
     * 'propertyisgreaterthan',
     * 'propertyisgreaterthanorequalto',
     * 'propertyislike',
     * 'propertyisbetween'
     * @property {Filter[]} [predicates] Required for type='and' or type='or'.
     * An array of filter predicates that must all evaluate to true for 'and', or
     * for which at least one must evaluate to true for 'or'.
     * @property {Filter} [predicate] Required for type='not'. A single predicate to negate.
     * @property {string} [propertyname] Required for type='comparison'.
     * @property {string} [literal] A literal value to use in a comparison,
     * required for type='comparison'.
     * @property {string} [lowerboundary] Lower boundary, required for operator='propertyisbetween'.
     * @property {string} [upperboundary] Upper boundary, required for operator='propertyisbetween'.
     * @property {string} [wildcard] Required wildcard character for operator='propertyislike'.
     * @property {string} [singlechar] Required single char match character,
     * required for operator='propertyislike'.
     * @property {string} [escapechar] Required escape character for operator='propertyislike'.
     */

    /**
     * @module
     */

    /**
     * Generic parser for elements with maxOccurs > 1
     * it pushes result of readNode(node) to array on obj[prop]
     * @private
     * @param {Element} node the xml element to parse
     * @param {object} obj  the object to modify
     * @param {string} prop key on obj to hold array
     */
    function addPropArray(node, obj, prop) {
        var property = prop.toLowerCase();
        obj[property] = obj[property] || [];
        var item = {};
        readNode(node, item);
        obj[property].push(item);
    }

    /**
     * Generic parser for elements that can be arrays
     * @private
     * @param {Element} node the xml element to parse
     * @param {object|Array} obj  the object or array to modify
     * @param {string} prop key on obj to hold array
     */
    function addPropOrArray(node, obj, prop) {
        var property = prop.toLowerCase();
        var item = {};
        readNode(node, item);
        if (!(property in obj)) {
            obj[property] = item;
        } else if (Array.isArray(obj[property])) {
            obj[property].push(item);
        } else {
            obj[property] = [obj[property], item];
        }
    }

    /**
     * Generic parser for maxOccurs = 1 (the xsd default)
     * it sets result of readNode(node) to array on obj[prop]
     * @private
     * @param {Element} node the xml element to parse
     * @param {object} obj  the object to modify
     * @param {string} prop key on obj to hold empty object
     */
    function addProp(node, obj, prop) {
        var property = prop.toLowerCase();
        obj[property] = {};
        readNode(node, obj[property]);
    }

    /**
     * Assigns textcontent to obj.prop
     * @private
     * @param {Element} node [description]
     * @param {object} obj  [description]
     * @param {string} prop [description]
     * @param {bool} [trimText] Trim whitespace from text content (default false).
     */
    function addPropWithTextContent(node, obj, prop, trimText) {
        if (trimText === void 0) trimText = false;

        var property = prop.toLowerCase();
        if (trimText) {
            obj[property] = node.textContent.trim();
        } else {
            obj[property] = node.textContent;
        }
    }

    /**
     * Assigns numeric value of text content to obj.prop.
     * Assigns NaN if the text value is not a valid text representation of a floating point number.
     * @private
     * @param {Element} node The XML node element.
     * @param {object} obj  The object to add the element value to.
     * @param {string} prop The property name.
     */
    function addNumericProp(node, obj, prop) {
        var property = prop.toLowerCase();
        var value = parseFloat(node.textContent.trim());
        obj[property] = value;
    }

    /**
     * This function parses SLD XML nodes that can contain an SLD filter expression.
     * If the SLD node contains only text elements, the result will be concatenated into a string.
     * If the SLD node contains one or more non-literal nodes (for now, only PropertyName), the result
     * will be an object with type:"expression" and an array of child nodes of which one or more have
     * the type "propertyname".
     *
     * Functions and arithmetic operators (Add,Sub,Mul,Div) are not supported (yet).
     * Note: for now, only these contents will be parsed:
     * * Plain text nodes.
     * * CDATA sections.
     * * ogc:PropertyName elements (property name will be parsed as trimmed text).
     * * ogc:Literal elements (contents will be parsed as trimmed text).
     * See also:
     * * http://schemas.opengis.net/filter/1.1.0/expr.xsd
     * * https://docs.geoserver.org/stable/en/user/styling/sld/reference/filters.html#sld-filter-expression
     * @private
     * @param {Element} node XML Node.
     * @param {object} obj Object to add XML node contents to.
     * @param {string} prop Property name on obj that will hold the parsed node contents.
     * @param {bool} [skipEmptyNodes] Default true. If true, emtpy (whitespace-only) text nodes will me omitted in the result.
     */
    function addFilterExpressionProp(node, obj, prop, skipEmptyNodes) {
        if (skipEmptyNodes === void 0) skipEmptyNodes = true;

        var childExpressions = [];

        for (var k = 0; k < node.childNodes.length; k += 1) {
            var childNode = node.childNodes[k];
            var childExpression = {};
            if (
                childNode.namespaceURI === 'http://www.opengis.net/ogc' &&
                childNode.localName === 'PropertyName'
            ) {
                // Add ogc:PropertyName elements as type:propertyname.
                childExpression.type = 'propertyname';
                childExpression.value = childNode.textContent.trim();
            } else if (childNode.nodeName === '#cdata-section') {
                // Add CDATA section text content untrimmed.
                childExpression.type = 'literal';
                childExpression.value = childNode.textContent;
            } else {
                // Add ogc:Literal elements and plain text nodes as type:literal.
                childExpression.type = 'literal';
                childExpression.value = childNode.textContent.trim();
            }

            if (childExpression.type === 'literal' && skipEmptyNodes) {
                if (childExpression.value.trim()) {
                    childExpressions.push(childExpression);
                }
            } else {
                childExpressions.push(childExpression);
            }
        }

        var property = prop.toLowerCase();

        // If expression children are all literals, concatenate them into a string.
        var allLiteral = childExpressions.every(
            function (childExpression) { return childExpression.type === 'literal'; }
        );

        if (allLiteral) {
            obj[property] = childExpressions
                .map(function (expression) { return expression.value; })
                .join('');
        } else {
            obj[property] = {
                type: 'expression',
                children: childExpressions,
            };
        }
    }

    /**
     * recieves boolean of element with tagName
     * @private
     * @param  {Element} element [description]
     * @param  {string} tagName [description]
     * @return {boolean}
     */
    function getBool(element, tagName) {
        var collection = element.getElementsByTagNameNS(
            'http://www.opengis.net/sld',
            tagName
        );
        if (collection.length) {
            return Boolean(collection.item(0).textContent);
        }
        return false;
    }

    /**
     * css and svg params
     * @private
     * @param  {Element} element
     * @param  {object} obj
     * @param  {String} prop
     */
    function parameters(element, obj, prop) {
        var propnames = {
            CssParameter: 'styling',
            SvgParameter: 'styling',
            VendorOption: 'vendoroption',
        };
        var propname = propnames[prop] || 'styling';
        obj[propname] = obj[propname] || {};
        var name = element
            .getAttribute('name')
            .toLowerCase()
            .replace(/-(.)/g, function (match, group1) { return group1.toUpperCase(); });
        obj[propname][name] = element.textContent.trim();
    }

    var FilterParsers = {
        Filter: function (element, obj) {
            obj.filter = createFilter(element);
        },
        ElseFilter: function (element, obj) {
            obj.elsefilter = true;
        },
    };

    var SymbParsers = {
        PolygonSymbolizer: addPropOrArray,
        LineSymbolizer: addPropOrArray,
        PointSymbolizer: addPropOrArray,
        TextSymbolizer: addPropOrArray,
        Fill: addProp,
        Stroke: addProp,
        GraphicStroke: addProp,
        GraphicFill: addProp,
        Graphic: addProp,
        ExternalGraphic: addProp,
        Gap: addNumericProp,
        InitialGap: addNumericProp,
        Mark: addProp,
        Label: function (node, obj, prop) { return addFilterExpressionProp(node, obj, prop, false); },
        Halo: addProp,
        Font: addProp,
        Radius: addPropWithTextContent,
        LabelPlacement: addProp,
        PointPlacement: addProp,
        LinePlacement: addProp,
        PerpendicularOffset: addPropWithTextContent,
        AnchorPoint: addProp,
        AnchorPointX: addPropWithTextContent,
        AnchorPointY: addPropWithTextContent,
        Opacity: addFilterExpressionProp,
        Rotation: addFilterExpressionProp,
        Displacement: addProp,
        DisplacementX: addPropWithTextContent,
        DisplacementY: addPropWithTextContent,
        Size: addFilterExpressionProp,
        WellKnownName: addPropWithTextContent,
        VendorOption: parameters,
        OnlineResource: function (element, obj) {
            obj.onlineresource = element.getAttribute('xlink:href');
        },
        CssParameter: parameters,
        SvgParameter: parameters,
    };

    /**
     * Each propname is a tag in the sld that should be converted to plain object
     * @private
     * @type {Object}
     */
    var parsers = Object.assign({}, {
        NamedLayer: function (element, obj) {
            addPropArray(element, obj, 'layers');
        },
        UserLayer: function (element, obj) {
            addPropArray(element, obj, 'layers');
        },
        UserStyle: function (element, obj) {
            obj.styles = obj.styles || [];
            var style = {
                default: getBool(element, 'IsDefault'),
                featuretypestyles: [],
            };
            readNode(element, style);
            obj.styles.push(style);
        },
        FeatureTypeStyle: function (element, obj) {
            obj.featuretypestyle = obj.featuretypestyle || [];
            var featuretypestyle = {
                rules: [],
            };
            readNode(element, featuretypestyle);
            obj.featuretypestyles.push(featuretypestyle);
        },
        Rule: function (element, obj) {
            var rule = {};
            readNode(element, rule);
            obj.rules.push(rule);
        },
        Name: addPropWithTextContent,
        Title: addPropWithTextContent,
        Abstract: addPropWithTextContent,
        MaxScaleDenominator: addPropWithTextContent,
        MinScaleDenominator: addPropWithTextContent
    },
        FilterParsers,
        SymbParsers);

    /**
     * walks over xml nodes
     * @private
     * @param  {Element} node derived from xml
     * @param  {object} obj recieves results
     * @return {void}
     */
    function readNode(node, obj) {
        for (var n = node.firstElementChild; n; n = n.nextElementSibling) {
            if (parsers[n.localName]) {
                parsers[n.localName](n, obj, n.localName);
            }
        }
    }

    /**
     * Creates a object from an sld xml string,
     * @param  {string} sld xml string
     * @return {StyledLayerDescriptor}  object representing sld style
     */
    function Reader(sld) {
        var result = {};
        var parser = new DOMParser();
        var doc = parser.parseFromString(sld, 'application/xml');

        for (var n = doc.firstChild; n; n = n.nextSibling) {
            result.version = n.getAttribute('version');
            readNode(n, result);
        }
        return result;
    }

    /**
     * @typedef StyledLayerDescriptor
     * @name StyledLayerDescriptor
     * @description a typedef for StyledLayerDescriptor {@link http://schemas.opengis.net/sld/1.1/StyledLayerDescriptor.xsd xsd}
     * @property {string} version sld version
     * @property {Layer[]} layers info extracted from NamedLayer element
     */

    /**
     * @typedef Layer
     * @name Layer
     * @description a typedef for Layer, the actual style object for a single layer
     * @property {string} name layer name
     * @property {Object[]} styles See explanation at [Geoserver docs](http://docs.geoserver.org/stable/en/user/styling/sld/reference/styles.html)
     * @property {Boolean} styles[].default
     * @property {String} [styles[].name]
     * @property {FeatureTypeStyle[]} styles[].featuretypestyles Geoserver will draw multiple,
     * libraries as openlayers can only use one definition!
     */

    /**
     * @typedef FeatureTypeStyle
     * @name FeatureTypeStyle
     * @description a typedef for FeatureTypeStyle: {@link http://schemas.opengis.net/se/1.1.0/FeatureStyle.xsd xsd}
     * @property {Rule[]} rules
     */

    /**
     * @typedef Rule
     * @name Rule
     * @description a typedef for Rule to match a feature: {@link http://schemas.opengis.net/se/1.1.0/FeatureStyle.xsd xsd}
     * @property {string} name rule name
     * @property {Filter[]} [filter]
     * @property {boolean} [elsefilter]
     * @property {integer} [minscaledenominator]
     * @property {integer} [maxscaledenominator]
     * @property {PolygonSymbolizer} [polygonsymbolizer]
     * @property {LineSymbolizer}  [linesymbolizer]
     * @property {PointSymbolizer} [pointsymbolizer]
     * */

    /**
     * @typedef PolygonSymbolizer
     * @name PolygonSymbolizer
     * @description a typedef for [PolygonSymbolizer](http://schemas.opengis.net/se/1.1.0/Symbolizer.xsd), see also
     * [geoserver docs](http://docs.geoserver.org/stable/en/user/styling/sld/reference/polygonsymbolizer.html)
     * @property {Object} fill
     * @property {array} fill.css one object per CssParameter with props name (camelcased) & value
     * @property {Object} stroke
     * @property {Object[]} stroke.css with camelcased name & value
     * */

    /**
     * @typedef LineSymbolizer
     * @name LineSymbolizer
     * @description a typedef for [LineSymbolizer](http://schemas.opengis.net/se/1.1.0/Symbolizer.xsd), see also
     * [geoserver docs](http://docs.geoserver.org/stable/en/user/styling/sld/reference/linesymbolizer.html#sld-reference-linesymbolizer)
     * @property {Object} stroke
     * @property {Object[]} stroke.css one object per CssParameter with props name (camelcased) & value
     * @property {Object} graphicstroke
     * @property {Object} graphicstroke.graphic
     * @property {Object} graphicstroke.graphic.mark
     * @property {string} graphicstroke.graphic.mark.wellknownname
     * @property {Object} graphicstroke.graphic.mark.fill
     * @property {Object} graphicstroke.graphic.mark.stroke
     * @property {Number} graphicstroke.graphic.opacity
     * @property {Number} graphicstroke.graphic.size
     * @property {Number} graphicstroke.graphic.rotation
     * */

    /**
     * @typedef PointSymbolizer
     * @name PointSymbolizer
     * @description a typedef for PointSymbolizer [xsd](http://schemas.opengis.net/se/1.1.0/Symbolizer.xsd)
     * & [geoserver docs](http://docs.geoserver.org/latest/en/user/styling/sld/reference/pointsymbolizer.html)
     * @property {Object} graphic
     * @property {Object} graphic.externalgraphic
     * @property {string} graphic.externalgraphic.onlineresource
     * @property {Object} graphic.mark
     * @property {string} graphic.mark.wellknownname
     * @property {Object} graphic.mark.fill
     * @property {Object} graphic.mark.stroke
     * @property {Number} graphic.opacity
     * @property {Number} graphic.size
     * @property {Number} graphic.rotation
     * */

    function isNullOrUndefined(value) {
        /* eslint-disable-next-line eqeqeq */
        return value == null;
    }

    function compareNumbers(a, b) {
        if (a < b) {
            return -1;
        }
        if (a === b) {
            return 0;
        }
        return 1;
    }

    function toNumber(text) {
        if (text === '') {
            return NaN;
        }
        return Number(text);
    }

    function compare(a, b, matchcase) {
        var aNumber = toNumber(a);
        var bNumber = toNumber(b);
        if (!(Number.isNaN(aNumber) || Number.isNaN(bNumber))) {
            return compareNumbers(aNumber, bNumber);
        }

        // If a and/or b is non-numeric, compare both values as strings.
        var aString = a.toString();
        var bString = b.toString();

        // Note: using locale compare with sensitivity option fails the CI test, while it works on my PC.
        // So, case insensitive comparison is done in a more brute-force way by using lower case comparison.
        // Original method:
        // const caseSensitiveCollator = new Intl.Collator(undefined, { sensitivity: 'case' });
        // caseSensitiveCollator.compare(string1, string2);
        if (matchcase) {
            return aString.localeCompare(bString);
        }

        return aString.toLowerCase().localeCompare(bString.toLowerCase());
    }

    function propertyIsLessThan(comparison, value) {
        if (isNullOrUndefined(value)) {
            return false;
        }

        if (isNullOrUndefined(comparison.literal)) {
            return false;
        }

        return compare(value, comparison.literal) < 0;
    }

    function propertyIsGreaterThan(comparison, value) {
        if (isNullOrUndefined(value)) {
            return false;
        }

        if (isNullOrUndefined(comparison.literal)) {
            return false;
        }

        return compare(value, comparison.literal) > 0;
    }

    function propertyIsBetween(comparison, value) {
        if (isNullOrUndefined(value)) {
            return false;
        }

        var lowerBoundary = comparison.lowerboundary;
        if (isNullOrUndefined(lowerBoundary)) {
            return false;
        }

        var upperBoundary = comparison.upperboundary;
        if (isNullOrUndefined(upperBoundary)) {
            return false;
        }

        return (
            compare(lowerBoundary, value) <= 0 && compare(upperBoundary, value) >= 0
        );
    }

    function propertyIsEqualTo(comparison, value) {
        if (isNullOrUndefined(value)) {
            return false;
        }

        if (isNullOrUndefined(comparison.literal)) {
            return false;
        }

        if (!comparison.matchcase) {
            return compare(comparison.literal, value, false) === 0;
        }

        /* eslint-disable-next-line eqeqeq */
        return value == comparison.literal;
    }

    // Watch out! Null-ish values should not pass propertyIsNotEqualTo,
    // just like in databases.
    // This means that PropertyIsNotEqualTo is not the same as NOT(PropertyIsEqualTo).
    function propertyIsNotEqualTo(comparison, value) {
        if (isNullOrUndefined(value)) {
            return false;
        }

        return !propertyIsEqualTo(comparison, value);
    }

    /**
     * A very basic implementation of a PropertyIsLike by converting match pattern to a regex.
     * @private
     * @param {object} comparison filter object for operator 'propertyislike'
     * @param {string|number} value Feature property value.
     * @param {object} getProperty A function with parameters (feature, propertyName) to extract
     * the value of a property from a feature.
     */
    function propertyIsLike(comparison, value) {
        var pattern = comparison.literal;

        if (isNullOrUndefined(value)) {
            return false;
        }

        // Create regex string from match pattern.
        var wildcard = comparison.wildcard;
        var singlechar = comparison.singlechar;
        var escapechar = comparison.escapechar;
        var matchcase = comparison.matchcase;

        // Replace wildcard by '.*'
        var patternAsRegex = pattern.replace(new RegExp(("[" + wildcard + "]"), 'g'), '.*');

        // Replace single char match by '.'
        patternAsRegex = patternAsRegex.replace(
            new RegExp(("[" + singlechar + "]"), 'g'),
            '.'
        );

        // Replace escape char by '\' if escape char is not already '\'.
        if (escapechar !== '\\') {
            patternAsRegex = patternAsRegex.replace(
                new RegExp(("[" + escapechar + "]"), 'g'),
                '\\'
            );
        }

        // Bookend the regular expression.
        patternAsRegex = "^" + patternAsRegex + "$";

        var rex =
            matchcase === false
                ? new RegExp(patternAsRegex, 'i')
                : new RegExp(patternAsRegex);
        return rex.test(value);
    }

    /**
     * Test feature properties against a comparison filter.
     * @private
     * @param  {Filter} comparison A comparison filter object.
     * @param  {object} feature A feature object.
     * @param  {Function} getProperty A function with parameters (feature, propertyName)
     * to extract a single property value from a feature.
     * @return {bool}  does feature fullfill comparison
     */
    function doComparison(comparison, feature, getProperty) {
        var value = getProperty(feature, comparison.propertyname);

        switch (comparison.operator) {
            case 'propertyislessthan':
                return propertyIsLessThan(comparison, value);
            case 'propertyisequalto':
                return propertyIsEqualTo(comparison, value);
            case 'propertyislessthanorequalto':
                return (
                    propertyIsEqualTo(comparison, value) ||
                    propertyIsLessThan(comparison, value)
                );
            case 'propertyisnotequalto':
                return propertyIsNotEqualTo(comparison, value);
            case 'propertyisgreaterthan':
                return propertyIsGreaterThan(comparison, value);
            case 'propertyisgreaterthanorequalto':
                return (
                    propertyIsEqualTo(comparison, value) ||
                    propertyIsGreaterThan(comparison, value)
                );
            case 'propertyisbetween':
                return propertyIsBetween(comparison, value);
            case 'propertyisnull':
                return isNullOrUndefined(value);
            case 'propertyislike':
                return propertyIsLike(comparison, value);
            default:
                throw new Error(("Unkown comparison operator " + (comparison.operator)));
        }
    }

    function doFIDFilter(fids, featureId) {
        for (var i = 0; i < fids.length; i += 1) {
            if (fids[i] === featureId) {
                return true;
            }
        }

        return false;
    }

    /**
     * @private
     * Get feature properties from a GeoJSON feature.
     * @param {object} feature GeoJSON feature.
     * @returns {object} Feature properties.
     *
     */
    function getGeoJSONProperty(feature, propertyName) {
        return feature.properties[propertyName];
    }

    /**
     * @private
     * Gets feature id from a GeoJSON feature.
     * @param {object} feature GeoJSON feature.
     * @returns {number|string} Feature ID.
     */
    function getGeoJSONFeatureId(feature) {
        return feature.id;
    }

    /**
     * Calls functions from Filter object to test if feature passes filter.
     * Functions are called with filter part they match and feature.
     * @private
     * @param  {Filter} filter
     * @param  {object} feature feature
     * @param  {object} options Custom filter options.
     * @param  {Function} options.getProperty An optional function with parameters (feature, propertyName)
     * that can be used to extract properties from a feature.
     * When not given, properties are read from feature.properties directly.
     * @param  {Function} options.getFeatureId An optional function to extract the feature id from a feature.
     * When not given, feature id is read from feature.id.
     * @return {boolean} True if the feature passes the conditions described by the filter object.
     */
    function filterSelector(filter, feature, options) {
        if (options === void 0) options = {};

        var getProperty =
            typeof options.getProperty === 'function'
                ? options.getProperty
                : getGeoJSONProperty;

        var getFeatureId =
            typeof options.getFeatureId === 'function'
                ? options.getFeatureId
                : getGeoJSONFeatureId;

        var type = filter.type;
        switch (type) {
            case 'featureid':
                return doFIDFilter(filter.fids, getFeatureId(feature));

            case 'comparison':
                return doComparison(filter, feature, getProperty);

            case 'and': {
                if (!filter.predicates) {
                    throw new Error('And filter must have predicates array.');
                }

                // And without predicates should return false.
                if (filter.predicates.length === 0) {
                    return false;
                }

                return filter.predicates.every(function (predicate) { return filterSelector(predicate, feature, options); }
                );
            }

            case 'or': {
                if (!filter.predicates) {
                    throw new Error('Or filter must have predicates array.');
                }

                return filter.predicates.some(function (predicate) { return filterSelector(predicate, feature, options); }
                );
            }

            case 'not': {
                if (!filter.predicate) {
                    throw new Error('Not filter must have predicate.');
                }

                return !filterSelector(filter.predicate, feature, options);
            }

            default:
                throw new Error(("Unknown filter type: " + type));
        }
    }

    /**
     * [scaleSelector description]
     * The "standardized rendering pixel size" is defined to be 0.28mm Ã— 0.28mm
     * @private
     * @param  {Rule} rule
     * @param  {number} resolution  m/px
     * @return {boolean}
     */
    function scaleSelector(rule, resolution) {
        if (
            rule.maxscaledenominator !== undefined &&
            rule.minscaledenominator !== undefined
        ) {
            if (
                resolution / 0.00028 < rule.maxscaledenominator &&
                resolution / 0.00028 > rule.minscaledenominator
            ) {
                return true;
            }
            return false;
        }
        if (rule.maxscaledenominator !== undefined) {
            return resolution / 0.00028 < rule.maxscaledenominator;
        }
        if (rule.minscaledenominator !== undefined) {
            return resolution / 0.00028 > rule.minscaledenominator;
        }
        return true;
    }

    /**
     * get all layer names in sld
     * @param {StyledLayerDescriptor} sld
     * @return {string[]} registered layernames
     */
    function getLayerNames(sld) {
        return sld.layers.map(function (l) { return l.name; });
    }

    /**
     * Get layer definition from sld
     * @param  {StyledLayerDescriptor} sld       [description]
     * @param  {string} [layername] optional layername
     * @return {Layer}           [description]
     */
    function getLayer(sld, layername) {
        if (!layername) {
            return sld.layers['0'];
        }
        return sld.layers.find(function (l) { return l.name === layername; });
    }

    /**
     * getStyleNames, notice name is not required for userstyle, you might get undefined
     * @param  {Layer} layer [description]
     * @return {string[]}       [description]
     */
    function getStyleNames(layer) {
        return layer.styles.map(function (s) { return s.name; });
    }

    /**
     * get style from array layer.styles, if name is undefined it returns default style.
     * null is no style found
     * @param  {Layer} layer [description]
     * @param {string} [name] of style
     * @return {object} the style from layer.styles matching the name
     */
    function getStyle(layer, name) {
        if (name) {
            return layer.styles.find(function (s) { return s.name === name; });
        }
        return layer.styles.find(function (s) { return s.default; });
    }

    /**
     * get rules for specific feature after applying filters
     * @example
     * const style = getStyle(sldLayer, stylename);
     * getRules(style.featuretypestyles['0'], geojson, resolution);
     * @param  {FeatureTypeStyle} featureTypeStyle
     * @param  {object} feature geojson
     * @param  {number} resolution m/px
     * @param  {Function} options.getProperty An optional function with parameters (feature, propertyName)
     * that can be used to extract a property value from a feature.
     * When not given, properties are read from feature.properties directly.Error
     * @param  {Function} options.getFeatureId An optional function to extract the feature id from a feature.Error
     * When not given, feature id is read from feature.id.
     * @return {Rule[]}
     */
    function getRules(featureTypeStyle, feature, resolution, options) {
        if (options === void 0) options = {};

        var validRules = [];
        var elseFilterCount = 0;
        for (var j = 0; j < featureTypeStyle.rules.length; j += 1) {
            var rule = featureTypeStyle.rules[j];
            // Only keep rules that pass the rule's min/max scale denominator checks.
            if (scaleSelector(rule, resolution)) {
                if (rule.elsefilter) {
                    // In the first rule selection step, keep all rules with an ElseFilter.
                    validRules.push(rule);
                    elseFilterCount += 1;
                } else if (!rule.filter) {
                    // Rules without filter always apply.
                    validRules.push(rule);
                } else if (filterSelector(rule.filter, feature, options)) {
                    // If a rule has a filter, only keep it if the feature passes the filter.
                    validRules.push(rule);
                }
            }
        }

        // When eligible rules contain only rules with ElseFilter, return them all.
        // Note: the spec does not forbid more than one ElseFilter remaining at a given scale,
        // but leaves handling this case up to the implementor.
        // The SLDLibrary chooses to keep them all.
        if (elseFilterCount === validRules.length) {
            return validRules;
        }

        // If a mix of rules with and without ElseFilter remains, only keep rules without ElseFilter.
        return validRules.filter(function (rule) { return !rule.elsefilter; });
    }

    /**
     * Get all symbolizers inside a given rule.
     * Note: this will be a mix of Point/Line/Polygon/Text symbolizers.
     * @param {object} rule SLD rule object.
     * @returns {Array<object>} Array of all symbolizers in a rule.
     */
    function getRuleSymbolizers(rule) {
        // Helper for adding a symbolizer to a list when the symbolizer can be an array of symbolizers.
        // Todo: refactor style reader, so symbolizer is always an array.
        function addSymbolizer(list, symbolizer) {
            if (!symbolizer) {
                return;
            }
            if (Array.isArray(symbolizer)) {
                Array.prototype.push.apply(list, symbolizer);
                return;
            }
            list.push(symbolizer);
        }

        var allSymbolizers = [];
        addSymbolizer(allSymbolizers, rule.pointsymbolizer);
        addSymbolizer(allSymbolizers, rule.linesymbolizer);
        addSymbolizer(allSymbolizers, rule.polygonsymbolizer);
        addSymbolizer(allSymbolizers, rule.textsymbolizer);

        return allSymbolizers;
    }

    /**
     * Gets a nested property from an object according to a property path.
     * Note: path fragments may not contain a ".".
     * Note: returns undefined if input obj is falsy.
     * @private
     * @example
     * getByPath({ a: { b: { c: 42 } } }, "a.b.c") // returns 42.
     * getByPath({ a: { b: { c: 42 } } }, "a.d.c") // returns undefined, because obj.a has no property .d.
     * @param {object} obj Object.
     * @param {string} path Property path.
     * @returns {any} Value of property at given path inside object, or undefined if any property
     * in the path does not exist on the object.
     */
    function getByPath(obj, path) {
        if (!obj) {
            return undefined;
        }

        // Start from the given object.
        var value = obj;

        // Walk the object property path.
        var fragments = (path || '').split('.');
        for (var k = 0; k < fragments.length; k += 1) {
            var fragment = fragments[k];
            // Return undefined if any partial path does not exist in the object.
            if (!(fragment in value)) {
                return undefined;
            }
            value = value[fragment];
        }

        return value;
    }

    /**
     * Get styling from rules per geometry type
     * @param  {Rule[]} rules [description]
     * @return {GeometryStyles}
     */
    function getGeometryStyles(rules) {
        var result = {
            polygon: [],
            line: [],
            point: [],
            text: [],
        };
        for (var i = 0; i < rules.length; i += 1) {
            if (rules[i].polygonsymbolizer) {
                result.polygon.push(rules[i].polygonsymbolizer);
            }
            if (rules[i].linesymbolizer && rules[i].linesymbolizer) {
                result.line.push(rules[i].linesymbolizer);
            }
            if (rules[i].pointsymbolizer) {
                var ref = rules[i];
                var pointsymbolizer = ref.pointsymbolizer;
                result.point.push(pointsymbolizer);
            }
            if (rules[i].textsymbolizer) {
                var ref$1 = rules[i];
                var textsymbolizer = ref$1.textsymbolizer;
                result.text.push(textsymbolizer);
            }
        }
        return result;
    }

    /**
     * @typedef GeometryStyles
     * @name GeometryStyles
     * @description contains for each geometry type the symbolizer from an array of rules
     * @property {PolygonSymbolizer[]} polygon polygonsymbolizers
     * @property {LineSymbolizer[]} line linesymbolizers
     * @property {PointSymbolizer[]} point pointsymbolizers, same as graphic prop from PointSymbolizer
     */

    var IMAGE_LOADING = 'IMAGE_LOADING';
    var IMAGE_LOADED = 'IMAGE_LOADED';
    var IMAGE_ERROR = 'IMAGE_ERROR';

    // SLD Spec: Default size for Marks without Size should be 6 pixels.
    var DEFAULT_MARK_SIZE = 6; // pixels
    // SLD Spec: Default size for ExternalGraphic with an unknown native size,
    // like SVG without dimensions, should be 16 pixels.
    var DEFAULT_EXTERNALGRAPHIC_SIZE = 16; // pixels

    // QGIS Graphic stroke placement options
    var PLACEMENT_DEFAULT = 'PLACEMENT_DEFAULT';
    var PLACEMENT_FIRSTPOINT = 'PLACEMENT_FIRSTPOINT';
    var PLACEMENT_LASTPOINT = 'PLACEMENT_LASTPOINT';

    /* eslint-disable no-continue */

    // These are possible locations for an external graphic inside a symbolizer.
    var externalGraphicPaths = [
        'graphic.externalgraphic',
        'stroke.graphicstroke.graphic.externalgraphic',
        'fill.graphicfill.graphic.externalgraphic'];

    /**
     * @private
     * Global image cache. A map of image Url -> {
     *   url: image url,
     *   image: an Image instance containing image data,
     *   width: image width in pixels,
     *   height: image height in pixels
     * }
     */
    var imageCache = {};
    function setCachedImage(url, imageData) {
        imageCache[url] = imageData;
    }
    function getCachedImage(url) {
        return imageCache[url];
    }

    /**
     * @private
     * Global image loading state cache.
     * A map of image Url -> one of 'IMAGE_LOADING', 'IMAGE_LOADED', 'IMAGE_ERROR'
     */
    var imageLoadingStateCache = {};
    function setImageLoadingState(url, loadingState) {
        imageLoadingStateCache[url] = loadingState;
    }
    function getImageLoadingState(url) {
        return imageLoadingStateCache[url];
    }

    /**
     * @private
     * A cache of image loading promises.
     * A map of image Url -> Promise
     * This used to prevent duplicate loading when a style references an image that's already being loaded.
     */
    var _imageLoaderCache = {};
    function getImageLoader(url) {
        return _imageLoaderCache[url];
    }
    function setImageLoader(url, loaderPromise) {
        _imageLoaderCache[url] = loaderPromise;
    }

    function invalidateExternalGraphicSymbolizers(symbolizer, imageUrl) {
        // Look at all possible paths where an externalgraphic may be present within a symbolizer.
        // When such an externalgraphic has been found, and its url equals imageUrl, invalidate the symbolizer.
        for (var k = 0; k < externalGraphicPaths.length; k += 1) {
            // Note: this process assumes that each symbolizer has at most one external graphic element.
            var path = externalGraphicPaths[k];
            var externalgraphic = getByPath(symbolizer, path);
            if (externalgraphic && externalgraphic.onlineresource === imageUrl) {
                symbolizer.__invalidated = true;
                // If the symbolizer contains a graphic stroke symbolizer,
                // also update the nested graphicstroke symbolizer object.
                if (path.indexOf('graphicstroke') > -1) {
                    symbolizer.stroke.graphicstroke.__invalidated = true;
                }
            }
        }
    }

    function updateSymbolizerInvalidatedState(ruleSymbolizer, imageUrl) {
        if (!ruleSymbolizer) {
            return;
        }

        // Watch out! A symbolizer inside a rule may be a symbolizer, or an array of symbolizers.
        // Todo: refactor so rule.symbolizers property is always an array with 0..n symbolizer objects.
        if (!Array.isArray(ruleSymbolizer)) {
            invalidateExternalGraphicSymbolizers(ruleSymbolizer, imageUrl);
        } else {
            for (var k = 0; k < ruleSymbolizer.length; k += 1) {
                invalidateExternalGraphicSymbolizers(ruleSymbolizer[k], imageUrl);
            }
        }
    }

    /**
     * @private
     * Invalidate all symbolizers inside a featureTypeStyle's rules having an ExternalGraphic matching the image url
     * @param {object} featureTypeStyle A feature type style object.
     * @param {string} imageUrl The image url.
     */
    function invalidateExternalGraphics(featureTypeStyle, imageUrl) {
        if (!featureTypeStyle.rules) {
            return;
        }

        featureTypeStyle.rules.forEach(function (rule) {
            updateSymbolizerInvalidatedState(rule.pointsymbolizer, imageUrl);
            updateSymbolizerInvalidatedState(rule.linesymbolizer, imageUrl);
            updateSymbolizerInvalidatedState(rule.polygonsymbolizer, imageUrl);
        });
    }

    /**
     * @private
     * Creates a promise that loads an image and store it in the image cache.
     * Calling this method with the same image url twice will return the loader promise
     * that was created when this method was called the first time for that specific image url.
     * @param {string} imageUrl Image url.
     * @returns {Promise} A promise that resolves when the image is loaded and fails when the
     * image didn't load correctly.
     */
    function getCachingImageLoader(imageUrl) {
        // Check of a load is already in progress for an image.
        // If so, return the loader.
        var loader = getImageLoader(imageUrl);
        if (loader) {
            return loader;
        }

        // If no load is in progress, create a new loader and store it in the image loader cache before returning it.
        loader = new Promise(function (resolve, reject) {
            var image = new Image();

            image.onload = function () {
                setCachedImage(imageUrl, {
                    url: imageUrl,
                    image: image,
                    width: image.naturalWidth,
                    height: image.naturalHeight,
                });
                setImageLoadingState(imageUrl, IMAGE_LOADED);
                resolve(imageUrl);
            };

            image.onerror = function () {
                setImageLoadingState(imageUrl, IMAGE_ERROR);
                reject();
            };

            image.src = imageUrl;
        });

        // Cache the new image loader and return it.
        setImageLoadingState(imageUrl, IMAGE_LOADING);
        setImageLoader(imageUrl, loader);
        return loader;
    }

    /**
     * @private
     * Load and cache an image that's used as externalGraphic inside a symbolizer.
     * When the image is loaded, all symbolizers within the feature type style referencing this image are invalidated,
     * and the imageLoadedCallback is called with the loaded image url.
     * @param {url} imageUrl Image url.
     * @param {object} featureTypeStyle Feature type style object.
     * @param {Function} imageLoadedCallback Will be called with the image url when image
     * has loaded. Will be called with undefined if the loading the image resulted in an error.
     */
    function loadExternalGraphic(
        imageUrl,
        featureTypeStyle,
        imageLoadedCallback
    ) {
        invalidateExternalGraphics(featureTypeStyle, imageUrl);
        getCachingImageLoader(imageUrl)
            .then(function () {
                invalidateExternalGraphics(featureTypeStyle, imageUrl);
                if (typeof imageLoadedCallback === 'function') {
                    imageLoadedCallback(imageUrl);
                }
            })
            .catch(function () {
                invalidateExternalGraphics(featureTypeStyle, imageUrl);
                if (typeof imageLoadedCallback === 'function') {
                    imageLoadedCallback();
                }
            });
    }

    /**
     * @private
     * Start loading images used in rules that have a pointsymbolizer with an externalgraphic.
     * @param {Array<object>} rules Array of SLD rule objects that pass the filter for a single feature.
     * @param {FeatureTypeStyle} featureTypeStyle The feature type style object for a layer.
     * @param {Function} imageLoadedCallback Function to call when an image has loaded.
     */
    function processExternalGraphicSymbolizers(
        rules,
        featureTypeStyle,
        imageLoadedCallback,
        callbackRef
    ) {
        // Walk over all symbolizers inside all given rules.
        // Dive into the symbolizers to find ExternalGraphic elements and for each ExternalGraphic,
        // check if the image url has been encountered before.
        // If not -> start loading the image into the global image cache.
        rules.forEach(function (rule) {
            var allSymbolizers = getRuleSymbolizers(rule);
            allSymbolizers.forEach(function (symbolizer) {
                externalGraphicPaths.forEach(function (path) {
                    var exgraphic = getByPath(symbolizer, path);
                    if (!exgraphic) {
                        return;
                    }
                    var imageUrl = exgraphic.onlineresource;
                    var imageLoadingState = getImageLoadingState(imageUrl);
                    if (!imageLoadingState || imageLoadingState === IMAGE_LOADING) {
                        // Prevent adding imageLoadedCallback more than once per image per created style function
                        // by inspecting the callbackRef object passed by the style function creator function.
                        // Each style function has its own callbackRef dictionary.
                        if (!callbackRef[imageUrl]) {
                            callbackRef[imageUrl] = true;
                            // Load image and when loaded, invalidate all symbolizers referencing the image
                            // and invoke the imageLoadedCallback.
                            loadExternalGraphic(
                                imageUrl,
                                featureTypeStyle,
                                imageLoadedCallback
                            );
                        }
                    }
                });
            });
        });
    }

    /**
     * @private
     * Create an OL Icon style for an external graphic.
     * The Graphic must be already loaded and present in the global imageCache.
     * @param {string} imageUrl Url of the external graphic.
     * @param {number} size Requested size in pixels.
     * @param {number} [rotationDegrees] Image rotation in degrees (clockwise). Default 0.
     */
    function createCachedImageStyle(imageUrl, size, rotationDegrees) {
        if (rotationDegrees === void 0) rotationDegrees = 0.0;

        var ref = getCachedImage(imageUrl);
        var image = ref.image;
        var width = ref.width;
        var height = ref.height;
        return new style.Style({
            image: new style.Icon({
                img: image,
                imgSize: [width, height],
                // According to SLD spec, if size is given, image height should equal the given size.
                scale: size / height || 1,
                rotation: (Math.PI * rotationDegrees) / 180.0,
            }),
        });
    }

    var emptyStyle = new style.Style({});

    var defaultPointStyle = new style.Style({
        image: new style.Circle({
            radius: 8,
            fill: new style.Fill({
                color: 'blue',
                fillOpacity: 0.7,
            }),
        }),
    });

    var imageLoadingPointStyle = new style.Style({
        image: new style.Circle({
            radius: 5,
            fill: new style.Fill({
                color: '#DDDDDD',
            }),
            stroke: new style.Stroke({
                width: 1,
                color: '#888888',
            }),
        }),
    });

    var imageLoadingPolygonStyle = new style.Style({
        fill: new style.Fill({
            color: '#DDDDDD',
        }),
        stroke: new style.Stroke({
            color: '#888888',
            width: 1,
        }),
    });

    var imageErrorPointStyle = new style.Style({
        image: new style.RegularShape({
            angle: Math.PI / 4,
            fill: new style.Fill({
                color: 'red',
            }),
            points: 4,
            radius1: 8,
            radius2: 0,
            stroke: new style.Stroke({
                color: 'red',
                width: 4,
            }),
        }),
    });

    var imageErrorPolygonStyle = new style.Style({
        fill: new style.Fill({
            color: 'red',
        }),
        stroke: new style.Stroke({
            color: 'red',
            width: 1,
        }),
    });

    /**
     * @private
     * Function to memoize style conversion functions that convert sld symbolizers to OpenLayers style instances.
     * The memoized version of the style converter returns the same OL style instance if the symbolizer is the same object.
     * Uses a WeakMap internally.
     * Note: This only works for constant symbolizers.
     * @param {Function} styleFunction Function that accepts a single symbolizer object and returns the corresponding OpenLayers style object.
     * @returns {Function} The memoized function of the style conversion function.
     */
    function memoizeStyleFunction(styleFunction) {
        var styleCache = new WeakMap();

        return function (symbolizer) {
            var olStyle = styleCache.get(symbolizer);

            // Create a new style if no style has been created yet, or when symbolizer has been invalidated.
            if (!olStyle || symbolizer.__invalidated) {
                olStyle = styleFunction(symbolizer);
                // Clear invalidated flag after creating a new style instance.
                symbolizer.__invalidated = false;
                styleCache.set(symbolizer, olStyle);
            }

            return olStyle;
        };
    }

    /**
     * @private
     * Convert a hex color (like #AABBCC) to an rgba-string.
     * @param  {string} hex   eg #AA00FF
     * @param  {Number} alpha eg 0.5
     * @return {string}       rgba(0,0,0,0)
     */
    function hexToRGB(hex, alpha) {
        var r = parseInt(hex.slice(1, 3), 16);
        var g = parseInt(hex.slice(3, 5), 16);
        var b = parseInt(hex.slice(5, 7), 16);
        if (alpha) {
            return ("rgba(" + r + ", " + g + ", " + b + ", " + alpha + ")");
        }
        return ("rgb(" + r + ", " + g + ", " + b + ")");
    }

    /**
     * @private
     * Calculate the center-to-center distance for graphics placed along a line within a GraphicSymbolizer.
     * @param {object} lineSymbolizer SLD line symbolizer object.
     * @param {number} graphicWidth Width of the symbolizer graphic in pixels. This size may be dependent on feature properties,
     * so it has to be supplied separately from the line symbolizer object.
     * @returns {number} Center-to-center distance for graphics along a line.
     */
    function calculateGraphicSpacing(lineSymbolizer, graphicWidth) {
        var ref = lineSymbolizer.stroke;
        var graphicstroke = ref.graphicstroke;
        var styling = ref.styling;
        if ('gap' in graphicstroke) {
            // Note: gap should be a numeric property after parsing (check reader.test).
            return graphicstroke.gap + graphicWidth;
        }

        // If gap is not given, use strokeDasharray to space graphics.
        // First digit represents size of graphic, second the relative space, e.g.
        // size = 20, dash = [2 6] -> 2 ~ 20 then 6 ~ 60, total segment length should be 20 + 60 = 80
        var multiplier = 1; // default, i.e. a segment is the size of the graphic (without stroke/outline).
        if (styling && styling.strokeDasharray) {
            var dash = styling.strokeDasharray.split(' ');
            if (dash.length >= 2 && dash[0] !== 0) {
                multiplier = dash[1] / dash[0] + 1;
            }
        }
        return multiplier * graphicWidth;
    }

    /**
     * @private
     * Create an OL point style corresponding to a well known symbol identifier.
     * @param {string} wellKnownName SLD Well Known Name for symbolizer.
     * Can be 'circle', 'square', 'triangle', 'star', 'cross', 'x', 'hexagon', 'octagon'.
     * @param {number} size Symbol size in pixels.
     * @param {ol/style/stroke} stroke OpenLayers Stroke instance.
     * @param {ol/style/fill} fill OpenLayers Fill instance.
     * @param {number} rotationDegrees Symbol rotation in degrees (clockwise). Default 0.
     */
    function getWellKnownSymbol(
        wellKnownName,
        size,
        stroke,
        fill,
        rotationDegrees
    ) {
        if (rotationDegrees === void 0) rotationDegrees = 0.0;

        var radius = 0.5 * parseFloat(size);
        var rotationRadians = (Math.PI * rotationDegrees) / 180.0;

        var fillColor;
        if (fill && fill.getColor()) {
            fillColor = fill.getColor();
        }

        switch (wellKnownName) {
            case 'circle':
                return new style.Circle({
                    fill: fill,
                    radius: radius,
                    stroke: stroke,
                });

            case 'triangle':
                return new style.RegularShape({
                    fill: fill,
                    points: 3,
                    radius: radius,
                    stroke: stroke,
                    rotation: rotationRadians,
                });

            case 'star':
                return new style.RegularShape({
                    fill: fill,
                    points: 5,
                    radius1: radius,
                    radius2: radius / 2.5,
                    stroke: stroke,
                    rotation: rotationRadians,
                });

            case 'cross':
                return new style.RegularShape({
                    fill: fill,
                    points: 4,
                    radius1: radius,
                    radius2: 0,
                    stroke:
                        stroke ||
                        new style.Stroke({
                            color: fillColor,
                            width: radius / 2,
                        }),
                    rotation: rotationRadians,
                });

            case 'hexagon':
                return new style.RegularShape({
                    fill: fill,
                    points: 6,
                    radius: radius,
                    stroke:
                        stroke ||
                        new style.Stroke({
                            color: fillColor,
                            width: radius / 2,
                        }),
                    rotation: rotationRadians,
                });

            case 'octagon':
                return new style.RegularShape({
                    angle: Math.PI / 8,
                    fill: fill,
                    points: 8,
                    radius: radius / Math.cos(Math.PI / 8),
                    stroke:
                        stroke ||
                        new style.Stroke({
                            color: fillColor,
                            width: radius / 2,
                        }),
                    rotation: rotationRadians,
                });

            case 'cross2': // cross2 is used by QGIS for the x symbol.
            case 'x':
                return new style.RegularShape({
                    angle: Math.PI / 4,
                    fill: fill,
                    points: 4,
                    radius1: radius,
                    radius2: 0,
                    stroke:
                        stroke ||
                        new style.Stroke({
                            color: fillColor,
                            width: radius / 2,
                        }),
                    rotation: rotationRadians,
                });

            case 'diamond':
                return new style.RegularShape({
                    fill: fill,
                    points: 4,
                    radius1: radius,
                    stroke: stroke,
                    rotation: rotationRadians,
                });

            default:
                // Default is `square`
                return new style.RegularShape({
                    angle: Math.PI / 4,
                    fill: fill,
                    points: 4,
                    // For square, scale radius so the height of the square equals the given size.
                    radius1: radius * Math.sqrt(2.0),
                    stroke: stroke,
                    rotation: rotationRadians,
                });
        }
    }

    // This module contains an evaluate function that takes an SLD expression and a feature and outputs the value for that feature.
    // Constant expressions are returned as-is.

    /**
     * @private
     * Evaluate the value of a sub-expression.
     * @param {object} childExpression SLD object expression child.
     * @param {ol/feature} feature OpenLayers feature instance.feature.
     * @param {function} getProperty A function to get a specific property value from a feature.
     * Signature (feature, propertyName) => property value.
     */
    function evaluateChildExpression(childExpression, feature, getProperty) {
        // For now, the only valid child types are 'propertyname' and 'literal'.
        // Todo: add,sub,mul,div. Maybe a few functions as well.
        if (childExpression.type === 'literal') {
            return childExpression.value;
        }

        if (childExpression.type === 'propertyname') {
            return getProperty(feature, childExpression.value);
        }

        return null;
    }

    /**
     * @private
     * This function takes an SLD expression and an OL feature and outputs the expression value for that feature.
     * Constant expressions are returned as-is.
     * @param {object|string} expression SLD object expression.
     * @param {ol/feature} feature OpenLayers feature instance.
     * @param {function} getProperty A function to get a specific property value from a feature.
     * Signature (feature, propertyName) => property value.
     */
    function evaluate(expression, feature, getProperty) {
        // The only compound expressions have type: 'expression'.
        // If it does not have this type, it's probably a plain string (or number).
        if (expression.type !== 'expression') {
            return expression;
        }

        // Evaluate the child expression when there is only one child.
        if (expression.children.length === 1) {
            return evaluateChildExpression(expression.children[0], feature, getProperty);
        }

        // In case of multiple child expressions, concatenate the evaluated child results.
        var childValues = [];
        for (var k = 0; k < expression.children.length; k += 1) {
            childValues.push(evaluateChildExpression(expression.children[k], feature, getProperty));
        }
        return childValues.join('');
    }

    /**
     * @private
     * Utility function for evaluating dynamic expressions without a feature.
     * If the expression is static, the expression value will be returned.
     * If the expression is dynamic, defaultValue will be returned.
     * If the expression is falsy, defaultValue will be returned.
     * @param {object|string} expression SLD object expression (or string).
     * @param {any} defaultValue Default value.
     * @returns {any} The value of a static expression or default value if the expression is dynamic.
     */
    function expressionOrDefault(expression, defaultValue) {
        if (!expression) {
            return defaultValue;
        }

        if (expression.type === 'expression') {
            return defaultValue;
        }

        return expression;
    }

    /* eslint-disable import/prefer-default-export */

    /**
     * Get an OL style/Stroke instance from the css/svg properties of the .stroke property
     * of an SLD symbolizer object.
     * @private
     * @param  {object} stroke SLD symbolizer.stroke object.
     * @return {object} OpenLayers style/Stroke instance. Returns undefined when input is null or undefined.
     */
    function getSimpleStroke(stroke) {
        // According to SLD spec, if no Stroke element is present inside a symbolizer element,
        // no stroke is to be rendered.
        if (!stroke) {
            return undefined;
        }

        var styleParams = stroke.styling || {};
        return new style.Stroke({
            color:
                styleParams.strokeOpacity &&
                    styleParams.stroke &&
                    styleParams.stroke.slice(0, 1) === '#'
                    ? hexToRGB(styleParams.stroke, styleParams.strokeOpacity)
                    : styleParams.stroke || 'black',
            width: parseFloat(styleParams.strokeWidth) || 1,
            lineCap: styleParams.strokeLinecap,
            lineDash:
                styleParams.strokeDasharray && styleParams.strokeDasharray.split(' '),
            lineDashOffset: parseFloat(styleParams.strokeDashoffset),
            lineJoin: styleParams.strokeLinejoin,
        });
    }

    /**
     * Get an OL style/Fill instance from the css/svg properties of the .fill property
     * of an SLD symbolizer object.
     * @private
     * @param  {object} fill SLD symbolizer.fill object.
     * @return {object} OpenLayers style/Fill instance. Returns undefined when input is null or undefined.
     */
    function getSimpleFill(fill) {
        // According to SLD spec, if no Fill element is present inside a symbolizer element,
        // no fill is to be rendered.
        if (!fill) {
            return undefined;
        }

        var styleParams = fill.styling || {};

        return new style.Fill({
            color:
                styleParams.fillOpacity &&
                    styleParams.fill &&
                    styleParams.fill.slice(0, 1) === '#'
                    ? hexToRGB(styleParams.fill, styleParams.fillOpacity)
                    : styleParams.fill || 'black',
        });
    }

    var defaultMarkFill = getSimpleFill({ styling: { fill: '#888888' } });
    var defaultMarkStroke = getSimpleStroke({ styling: { stroke: {} } });

    /**
     * @private
     * @param  {PointSymbolizer} pointsymbolizer [description]
     * @return {object} openlayers style
     */
    function pointStyle(pointsymbolizer) {
        var style$1 = pointsymbolizer.graphic;

        // If the point size is a dynamic expression, use the default point size and update in-place later.
        var pointSizeValue = expressionOrDefault(style$1.size, DEFAULT_MARK_SIZE);

        // If the point rotation is a dynamic expression, use 0 as default rotation and update in-place later.
        var rotationDegrees = expressionOrDefault(style$1.rotation, 0.0);

        if (style$1.externalgraphic && style$1.externalgraphic.onlineresource) {
            // For external graphics: the default size is the native image size.
            // In that case, set pointSizeValue to null, so no scaling is calculated for the image.
            if (!style$1.size) {
                pointSizeValue = null;
            }

            var imageUrl = style$1.externalgraphic.onlineresource;

            // Use fallback point styles when image hasn't been loaded yet.
            switch (getImageLoadingState(imageUrl)) {
                case IMAGE_LOADED:
                    return createCachedImageStyle(
                        imageUrl,
                        pointSizeValue,
                        rotationDegrees
                    );
                case IMAGE_LOADING:
                    return imageLoadingPointStyle;
                case IMAGE_ERROR:
                    return imageErrorPointStyle;
                default:
                    // A symbolizer should have loading state metadata, but return IMAGE_LOADING just in case.
                    return imageLoadingPointStyle;
            }
        }

        if (style$1.mark) {
            var ref = style$1.mark;
            var wellknownname = ref.wellknownname;
            var olFill = getSimpleFill(style$1.mark.fill);
            var olStroke = getSimpleStroke(style$1.mark.stroke);

            return new style.Style({
                // Note: size will be set dynamically later.
                image: getWellKnownSymbol(
                    wellknownname,
                    pointSizeValue,
                    olStroke,
                    olFill,
                    rotationDegrees
                ),
            });
        }

        // SLD spec: when no ExternalGraphic or Mark is specified,
        // use a square of 6 pixels with 50% gray fill and a black outline.
        return new style.Style({
            image: getWellKnownSymbol(
                'square',
                pointSizeValue,
                defaultMarkStroke,
                defaultMarkFill,
                rotationDegrees
            ),
        });
    }

    var cachedPointStyle = memoizeStyleFunction(pointStyle);

    /**
     * @private
     * Get an OL point style instance for a feature according to a symbolizer.
     * @param {object} symbolizer SLD symbolizer object.
     * @param {ol/Feature} feature OpenLayers Feature.
     * @param {Function} getProperty A property getter: (feature, propertyName) => property value.
     * @returns {ol/Style} OpenLayers style instance.
     */
    function getPointStyle(symbolizer, feature, getProperty) {
        // According to SLD spec, when a point symbolizer has no Graphic, nothing will be rendered.
        if (!(symbolizer && symbolizer.graphic)) {
            return emptyStyle;
        }

        var olStyle = cachedPointStyle(symbolizer);

        // Reset previous calculated point geometry left by evaluating point style for a line or polygon feature.
        olStyle.setGeometry(null);

        var olImage = olStyle.getImage();

        // Apply dynamic values to the cached OL style instance before returning it.

        // --- Update dynamic size ---
        var graphic = symbolizer.graphic;
        var size = graphic.size;
        if (size && size.type === 'expression') {
            var sizeValue =
                Number(evaluate(size, feature, getProperty)) || DEFAULT_MARK_SIZE;

            if (graphic.externalgraphic && graphic.externalgraphic.onlineresource) {
                var height = olImage.getSize()[1];
                var scale = sizeValue / height || 1;
                olImage.setScale(scale);
            } else if (graphic.mark && graphic.mark.wellknownname === 'circle') {
                // Note: only ol/style/Circle has a setter for radius. RegularShape does not.
                olImage.setRadius(sizeValue * 0.5);
            } else {
                // For a non-Circle RegularShape, create a new olImage in order to update the size.
                olImage = getWellKnownSymbol(
                    (graphic.mark && graphic.mark.wellknownname) || 'square',
                    sizeValue,
                    // Note: re-use stroke and fill instances for a (small?) performance gain.
                    olImage.getStroke(),
                    olImage.getFill()
                );
                olStyle.setImage(olImage);
            }
        }

        // --- Update dynamic rotation ---
        var rotation = graphic.rotation;
        if (rotation && rotation.type === 'expression') {
            var rotationDegrees =
                Number(evaluate(rotation, feature, getProperty)) || 0.0;
            // Note: OL angles are in radians.
            var rotationRadians = (Math.PI * rotationDegrees) / 180.0;
            olImage.setRotation(rotationRadians);
        }

        return olStyle;
    }

    // eslint-disable-next-line import/prefer-default-export
    function splitLineString(geometry, graphicSpacing, options) {
        function calculatePointsDistance(coord1, coord2) {
            var dx = coord1[0] - coord2[0];
            var dy = coord1[1] - coord2[1];
            return Math.sqrt(dx * dx + dy * dy);
        }

        function calculateSplitPointCoords(
            startNode,
            nextNode,
            distanceBetweenNodes,
            distanceToSplitPoint
        ) {
            var d = distanceToSplitPoint / distanceBetweenNodes;
            var x = nextNode[0] + (startNode[0] - nextNode[0]) * d;
            var y = nextNode[1] + (startNode[1] - nextNode[1]) * d;
            return [x, y];
        }

        /**
         * Calculate the angle of a vector in radians clockwise from the positive x-axis.
         * Example: (0,0) -> (1,1) --> -pi/4 radians.
         * @param {Array<number>} p1 Start of the line segment as [x,y].
         * @param {Array<number>} p2 End of the line segment as [x,y].
         * @param {boolean} invertY If true, calculate with Y-axis pointing downwards.
         * @returns {number} Angle in radians, clockwise from the positive x-axis.
         */
        function calculateAngle(p1, p2, invertY) {
            var dX = p2[0] - p1[0];
            var dY = p2[1] - p1[1];
            var angle = -Math.atan2(invertY ? -dY : dY, dX);
            return angle;
        }

        var coords = geometry.getCoordinates();

        // Handle first point placement case.
        if (options.placement === PLACEMENT_FIRSTPOINT) {
            var p1 = coords[0];
            var p2 = coords[1];
            return [[p1[0], p1[1], calculateAngle(p1, p2, options.invertY)]];
        }

        // Handle last point placement case.
        if (options.placement === PLACEMENT_LASTPOINT) {
            var p1$1 = coords[coords.length - 2];
            var p2$1 = coords[coords.length - 1];
            return [[p2$1[0], p2$1[1], calculateAngle(p1$1, p2$1, options.invertY)]];
        }

        // Without placement vendor options, draw regularly spaced GraphicStroke markers.
        var splitPoints = [];
        var coordIndex = 0;
        var startPoint = coords[coordIndex];
        var nextPoint = coords[coordIndex + 1];
        var angle = calculateAngle(startPoint, nextPoint, options.invertY);

        var n = Math.ceil(geometry.getLength() / graphicSpacing);
        var segmentLength = geometry.getLength() / n;
        var currentSegmentLength = options.midPoints
            ? segmentLength / 2
            : segmentLength;

        for (var i = 0; i <= n; i += 1) {
            var distanceBetweenPoints = calculatePointsDistance(
                startPoint,
                nextPoint
            );
            currentSegmentLength += distanceBetweenPoints;

            if (currentSegmentLength < segmentLength) {
                coordIndex += 1;
                if (coordIndex < coords.length - 1) {
                    startPoint = coords[coordIndex];
                    nextPoint = coords[coordIndex + 1];
                    angle = calculateAngle(startPoint, nextPoint, options.invertY);
                    i -= 1;
                    // continue;
                } else {
                    if (!options.midPoints) {
                        var splitPointCoords = nextPoint;
                        if (
                            !options.extent ||
                            extent.containsCoordinate(options.extent, splitPointCoords)
                        ) {
                            splitPointCoords.push(angle);
                            splitPoints.push(splitPointCoords);
                        }
                    }
                    break;
                }
            } else {
                var distanceToSplitPoint = currentSegmentLength - segmentLength;
                var splitPointCoords$1 = calculateSplitPointCoords(
                    startPoint,
                    nextPoint,
                    distanceBetweenPoints,
                    distanceToSplitPoint
                );
                startPoint = splitPointCoords$1.slice();
                if (
                    !options.extent ||
                    extent.containsCoordinate(options.extent, splitPointCoords$1)
                ) {
                    splitPointCoords$1.push(angle);
                    splitPoints.push(splitPointCoords$1);
                }
                currentSegmentLength = 0;
            }
        }

        return splitPoints;
    }

    // A flag to prevent multiple renderer patches.
    var rendererPatched = false;
    function patchRenderer(renderer) {
        if (rendererPatched) {
            return;
        }

        // Add setImageStyle2 function that does the same as setImageStyle, except that it sets rotation
        // to a given value instead of taking it from imageStyle.getRotation().
        // This fixes a problem with re-use of the (cached) image style instance when drawing
        // many points inside a single line feature that are aligned according to line segment direction.
        var rendererProto = Object.getPrototypeOf(renderer);
        // eslint-disable-next-line
        rendererProto.setImageStyle2 = function (imageStyle, rotation) {
            // First call the original setImageStyle method.
            rendererProto.setImageStyle.call(this, imageStyle);

            // Then set rotation according to the given parameter.
            // This overrides the following line in setImageStyle:
            // this.imageRotation_ = imageStyle.getRotation()
            if (this.image_) {
                this.imageRotation_ = rotation;
            }
        };

        rendererPatched = true;
    }

    /**
     * Directly render graphic stroke marks for a line onto canvas.
     * @private
     * @param {ol/render/canvas/Immediate} render Instance of CanvasImmediateRenderer used to paint stroke marks directly to the canvas.
     * @param {Array<Array<number>>} pixelCoords A line as array of [x,y] point coordinate arrays in pixel space.
     * @param {number} graphicSpacing The center-to-center distance in pixels for stroke marks distributed along the line.
     * @param {ol/style/Style} pointStyle OpenLayers style instance used for rendering stroke marks.
     * @param {number} pixelRatio Ratio of device pixels to css pixels.
     * @returns {void}
     */
    function renderStrokeMarks(
        render,
        pixelCoords,
        graphicSpacing,
        pointStyle,
        pixelRatio,
        options
    ) {
        if (!pixelCoords) {
            return;
        }

        // The first element of the first pixelCoords entry should be a number (x-coordinate of first point).
        // If it's an array instead, then we're dealing with a multiline or (multi)polygon.
        // In that case, recursively call renderStrokeMarks for each child coordinate array.
        if (Array.isArray(pixelCoords[0][0])) {
            pixelCoords.forEach(function (pixelCoordsChildArray) {
                renderStrokeMarks(
                    render,
                    pixelCoordsChildArray,
                    graphicSpacing,
                    pointStyle,
                    pixelRatio,
                    options
                );
            });
            return;
        }

        // Line should be a proper line with at least two coordinates.
        if (pixelCoords.length < 2) {
            return;
        }

        // Don't render anything when the pointStyle has no image.
        var image = pointStyle.getImage();
        if (!image) {
            return;
        }

        var splitPoints = splitLineString(
            new geom.LineString(pixelCoords),
            graphicSpacing * pixelRatio,
            {
                invertY: true, // Pixel y-coordinates increase downwards in screen space.
                midPoints: false,
                extent: render.extent_,
                placement: options.placement,
            }
        );

        splitPoints.forEach(function (point) {
            var splitPointAngle = image.getRotation() + point[2];
            render.setImageStyle2(image, splitPointAngle);
            render.drawPoint(new geom.Point([point[0] / pixelRatio, point[1] / pixelRatio]));
        });
    }

    /**
     * Create a renderer function for renderining GraphicStroke marks
     * to be used inside an OpenLayers Style.renderer function.
     * @private
     * @param {LineSymbolizer} linesymbolizer SLD line symbolizer object.
     * @param {Function} getProperty A property getter: (feature, propertyName) => property value.
     * @returns {ol/style/Style~RenderFunction} A style renderer function (pixelCoords, renderState) => void.
     */
    function getGraphicStrokeRenderer(linesymbolizer, getProperty) {
        if (!(linesymbolizer.stroke && linesymbolizer.stroke.graphicstroke)) {
            throw new Error(
                'getGraphicStrokeRenderer error: symbolizer.stroke.graphicstroke null or undefined.'
            );
        }

        var ref = linesymbolizer.stroke;
        var graphicstroke = ref.graphicstroke;

        var options = {
            placement: PLACEMENT_DEFAULT,
        };

        // QGIS vendor options to override graphicstroke symbol placement.
        if (linesymbolizer.vendoroption) {
            if (linesymbolizer.vendoroption.placement === 'firstPoint') {
                options.placement = PLACEMENT_FIRSTPOINT;
            } else if (linesymbolizer.vendoroption.placement === 'lastPoint') {
                options.placement = PLACEMENT_LASTPOINT;
            }
        }

        return function (pixelCoords, renderState) {
            // Abort when feature geometry is (Multi)Point.
            var geometryType = renderState.feature.getGeometry().getType();
            if (geometryType === 'Point' || geometryType === 'MultiPoint') {
                return;
            }

            var pixelRatio = renderState.pixelRatio || 1.0;

            // TODO: Error handling, alternatives, etc.
            var render$1 = render.toContext(renderState.context);
            patchRenderer(render$1);

            var defaultGraphicSize = DEFAULT_MARK_SIZE;
            if (graphicstroke.graphic && graphicstroke.graphic.externalgraphic) {
                defaultGraphicSize = DEFAULT_EXTERNALGRAPHIC_SIZE;
            }

            var pointStyle = getPointStyle(
                graphicstroke,
                renderState.feature,
                getProperty
            );

            // Calculate graphic spacing.
            // Graphic spacing equals the center-to-center distance of graphics along the line.
            // If there's no gap, segment length will be equal to graphic size.
            var graphicSizeExpression =
                (graphicstroke.graphic && graphicstroke.graphic.size) ||
                defaultGraphicSize;
            var graphicSize = Number(
                evaluate(graphicSizeExpression, renderState.feature, getProperty)
            );

            var graphicSpacing = calculateGraphicSpacing(linesymbolizer, graphicSize);

            renderStrokeMarks(
                render$1,
                pixelCoords,
                graphicSpacing,
                pointStyle,
                pixelRatio,
                options
            );
        };
    }

    /**
     * Create an OpenLayers style for rendering line symbolizers with a GraphicStroke.
     * @private
     * @param {LineSymbolizer} linesymbolizer SLD line symbolizer object.
     * @param {Function} getProperty A property getter: (feature, propertyName) => property value.
     * @returns {ol/style/Style} An OpenLayers style instance.
     */
    function getGraphicStrokeStyle(linesymbolizer, getProperty) {
        if (!(linesymbolizer.stroke && linesymbolizer.stroke.graphicstroke)) {
            throw new Error(
                'getGraphicStrokeStyle error: linesymbolizer.stroke.graphicstroke null or undefined.'
            );
        }

        return new style.Style({
            renderer: getGraphicStrokeRenderer(linesymbolizer, getProperty),
        });
    }

    /**
     * @private
     * @param  {object} symbolizer SLD symbolizer object.
     * @return {object} OpenLayers style instance corresponding to the stroke of the given symbolizer.
     */
    function lineStyle(symbolizer) {
        if (symbolizer.stroke && symbolizer.stroke.graphicstroke) {
            return getGraphicStrokeStyle(symbolizer);
        }

        return new style.Style({
            stroke: getSimpleStroke(symbolizer.stroke),
        });
    }

    var cachedLineStyle = memoizeStyleFunction(lineStyle);

    /**
     * @private
     * Get an OL line style instance for a feature according to a symbolizer.
     * @param {object} symbolizer SLD symbolizer object.
     * @returns {ol/Style} OpenLayers style instance.
     */
    function getLineStyle(symbolizer) {
        return cachedLineStyle(symbolizer);
    }

    /* eslint-disable function-call-argument-newline */

    function createPattern(graphic) {
        var ref = getCachedImage(
            graphic.externalgraphic.onlineresource
        );
        var image = ref.image;
        var width = ref.width;
        var height = ref.height;
        var cnv = document.createElement('canvas');
        var ctx = cnv.getContext('2d');

        // Calculate image scale factor.
        var imageRatio = has.DEVICE_PIXEL_RATIO;
        if (graphic.size && height !== graphic.size) {
            imageRatio *= graphic.size / height;
        }

        // Draw image to canvas directly if no scaling necessary.
        if (imageRatio === 1) {
            return ctx.createPattern(image, 'repeat');
        }

        // Scale the image by drawing onto a temp canvas.
        var tempCanvas = document.createElement('canvas');
        var tCtx = tempCanvas.getContext('2d');
        tempCanvas.width = width * imageRatio;
        tempCanvas.height = height * imageRatio;
        // prettier-ignore
        tCtx.drawImage(
            image,
            0, 0, width, height,
            0, 0, width * imageRatio, height * imageRatio
        );

        return ctx.createPattern(tempCanvas, 'repeat');
    }

    function getExternalGraphicFill(symbolizer) {
        var ref = symbolizer.fill.graphicfill;
        var graphic = ref.graphic;
        var fillImageUrl = graphic.externalgraphic.onlineresource;

        // Use fallback style when graphicfill image hasn't been loaded yet.
        switch (getImageLoadingState(fillImageUrl)) {
            case IMAGE_LOADED:
                return new style.Fill({
                    color: createPattern(symbolizer.fill.graphicfill.graphic),
                });
            case IMAGE_LOADING:
                return imageLoadingPolygonStyle.getFill();
            case IMAGE_ERROR:
                return imageErrorPolygonStyle.getFill();
            default:
                // Load state of an image should be known at this time, but return 'loading' style as fallback.
                return imageLoadingPolygonStyle.getFill();
        }
    }

    function polygonStyle(symbolizer) {
        var fillImageUrl =
            symbolizer.fill &&
            symbolizer.fill.graphicfill &&
            symbolizer.fill.graphicfill.graphic &&
            symbolizer.fill.graphicfill.graphic.externalgraphic &&
            symbolizer.fill.graphicfill.graphic.externalgraphic.onlineresource;

        var polygonFill = fillImageUrl
            ? getExternalGraphicFill(symbolizer)
            : getSimpleFill(symbolizer.fill);

        // When a polygon has a GraphicStroke, use a custom renderer to combine
        // GraphicStroke with fill. This is needed because a custom renderer
        // ignores any stroke, fill and image present in the style.
        if (symbolizer.stroke && symbolizer.stroke.graphicstroke) {
            var renderGraphicStroke = getGraphicStrokeRenderer(symbolizer);
            return new style.Style({
                renderer: function (pixelCoords, renderState) {
                    // First render the fill (if any).
                    if (polygonFill) {
                        var feature = renderState.feature;
                        var context = renderState.context;
                        var render$1 = render.toContext(context);
                        render$1.setFillStrokeStyle(polygonFill, undefined);
                        var geometryType = feature.getGeometry().getType();
                        if (geometryType === 'Polygon') {
                            render$1.drawPolygon(new geom.Polygon(pixelCoords));
                        } else if (geometryType === 'MultiPolygon') {
                            render$1.drawMultiPolygon(new geom.MultiPolygon(pixelCoords));
                        }
                    }

                    // Then, render the graphic stroke.
                    renderGraphicStroke(pixelCoords, renderState);
                },
            });
        }

        var polygonStroke = getSimpleStroke(symbolizer.stroke);

        return new style.Style({
            fill: polygonFill,
            stroke: polygonStroke,
        });
    }

    var cachedPolygonStyle = memoizeStyleFunction(polygonStyle);

    /**
     * @private
     * Get an OL line style instance for a feature according to a symbolizer.
     * @param {object} symbolizer SLD symbolizer object.
     * @returns {ol/Style} OpenLayers style instance.
     */
    function getPolygonStyle(symbolizer) {
        return cachedPolygonStyle(symbolizer);
    }

    /**
     * @private
     * Get the static OL style instance for a text symbolizer.
     * The text and placement properties will be set on the style object at runtime.
     * @param {object} textsymbolizer SLD text symbolizer object.
     * @return {object} openlayers style
     */
    function textStyle(textsymbolizer) {
        if (!(textsymbolizer && textsymbolizer.label)) {
            return emptyStyle;
        }

        // If the label is dynamic, set text to empty string.
        // In that case, text will be set at runtime.
        var labelText = expressionOrDefault(textsymbolizer.label, '');

        var fill = textsymbolizer.fill ? textsymbolizer.fill.styling : {};
        var halo =
            textsymbolizer.halo && textsymbolizer.halo.fill
                ? textsymbolizer.halo.fill.styling
                : {};
        var haloRadius =
            textsymbolizer.halo && textsymbolizer.halo.radius
                ? parseFloat(textsymbolizer.halo.radius)
                : 1;
        var ref = textsymbolizer.font && textsymbolizer.font.styling
            ? textsymbolizer.font.styling
            : {};
        var fontFamily = ref.fontFamily; if (fontFamily === void 0) fontFamily = 'sans-serif';
        var fontSize = ref.fontSize; if (fontSize === void 0) fontSize = 10;
        var fontStyle = ref.fontStyle; if (fontStyle === void 0) fontStyle = '';
        var fontWeight = ref.fontWeight; if (fontWeight === void 0) fontWeight = '';

        var pointplacement =
            textsymbolizer &&
                textsymbolizer.labelplacement &&
                textsymbolizer.labelplacement.pointplacement
                ? textsymbolizer.labelplacement.pointplacement
                : {};

        // If rotation is dynamic, default to 0. Rotation will be set at runtime.
        var labelRotationDegrees = expressionOrDefault(
            pointplacement.rotation,
            0.0
        );

        var displacement =
            pointplacement && pointplacement.displacement
                ? pointplacement.displacement
                : {};
        var offsetX = displacement.displacementx ? displacement.displacementx : 0;
        var offsetY = displacement.displacementy ? displacement.displacementy : 0;

        // OpenLayers does not support fractional alignment, so snap the anchor to the most suitable option.
        var anchorpoint = (pointplacement && pointplacement.anchorpoint) || {};

        var textAlign = 'center';
        var anchorpointx = Number(
            anchorpoint.anchorpointx === '' ? NaN : anchorpoint.anchorpointx
        );
        if (anchorpointx < 0.25) {
            textAlign = 'left';
        } else if (anchorpointx > 0.75) {
            textAlign = 'right';
        }

        var textBaseline = 'middle';
        var anchorpointy = Number(
            anchorpoint.anchorpointy === '' ? NaN : anchorpoint.anchorpointy
        );
        if (anchorpointy < 0.25) {
            textBaseline = 'bottom';
        } else if (anchorpointy > 0.75) {
            textBaseline = 'top';
        }

        // Assemble text style options.
        var textStyleOptions = {
            text: labelText,
            font: (fontStyle + " " + fontWeight + " " + fontSize + "px " + fontFamily),
            offsetX: Number(offsetX),
            offsetY: Number(offsetY),
            rotation: (Math.PI * labelRotationDegrees) / 180.0,
            textAlign: textAlign,
            textBaseline: textBaseline,
            fill: new style.Fill({
                color:
                    fill.fillOpacity && fill.fill && fill.fill.slice(0, 1) === '#'
                        ? hexToRGB(fill.fill, fill.fillOpacity)
                        : fill.fill,
            }),
        };

        // Convert SLD halo to text symbol stroke.
        if (textsymbolizer.halo) {
            textStyleOptions.stroke = new style.Stroke({
                color:
                    halo.fillOpacity && halo.fill && halo.fill.slice(0, 1) === '#'
                        ? hexToRGB(halo.fill, halo.fillOpacity)
                        : halo.fill,
                // wrong position width radius equal to 2 or 4
                width:
                    (haloRadius === 2 || haloRadius === 4
                        ? haloRadius - 0.00001
                        : haloRadius) * 2,
            });
        }

        return new style.Style({
            text: new style.Text(textStyleOptions),
        });
    }

    var cachedTextStyle = memoizeStyleFunction(textStyle);

    /**
     * @private
     * Get an OL text style instance for a feature according to a symbolizer.
     * @param {object} symbolizer SLD symbolizer object.
     * @param {ol/Feature} feature OpenLayers Feature.
     * @param {Function} getProperty A property getter: (feature, propertyName) => property value.
     * @returns {ol/Style} OpenLayers style instance.
     */
    function getTextStyle(symbolizer, feature, getProperty) {
        var olStyle = cachedTextStyle(symbolizer);
        var olText = olStyle.getText();
        if (!olText) {
            return olStyle;
        }

        // Read text from feature and set it on the text style instance.
        var label = symbolizer.label;
        var labelplacement = symbolizer.labelplacement;

        // Set text only if the label expression is dynamic.
        if (label && label.type === 'expression') {
            var labelText = evaluate(label, feature, getProperty);
            // Important! OpenLayers expects the text property to always be a string.
            olText.setText(labelText.toString());
        }

        // Set rotation if expression is dynamic.
        if (labelplacement) {
            var pointPlacementRotation =
                (labelplacement.pointplacement &&
                    labelplacement.pointplacement.rotation) ||
                0.0;
            if (pointPlacementRotation.type === 'expression') {
                var labelRotationDegrees = evaluate(
                    pointPlacementRotation,
                    feature,
                    getProperty
                );
                olText.setRotation((Math.PI * labelRotationDegrees) / 180.0); // OL rotation is in radians.
            }
        }

        // Set line or point placement according to geometry type.
        var geometry = feature.getGeometry
            ? feature.getGeometry()
            : feature.geometry;
        var geometryType = geometry.getType ? geometry.getType() : geometry.type;
        var lineplacement =
            symbolizer &&
                symbolizer.labelplacement &&
                symbolizer.labelplacement.lineplacement
                ? symbolizer.labelplacement.lineplacement
                : null;
        var placement =
            geometryType !== 'point' && lineplacement ? 'line' : 'point';
        olText.setPlacement(placement);

        return olStyle;
    }

    /**
     * @private
     * Get the point located at the middle along a line string.
     * @param {ol/geom/LineString} geometry An OpenLayers LineString geometry.
     * @returns {Array<number>} An [x, y] coordinate array.
     */
    function getLineMidpoint(geometry) {
        // Use the splitpoints routine to distribute points over the line with
        // a point-to-point distance along the line equal to half line length.
        // This results in three points. Take the middle point.
        var splitPoints = splitLineString(geometry, geometry.getLength() / 2, {
            midPoints: false,
        });
        var ref = splitPoints[1];
        var x = ref[0];
        var y = ref[1];
        return [x, y];
    }

    /**
     * @private
     * Get an OL point style instance for a line feature according to a symbolizer.
     * The style will render a point on the middle of the line.
     * @param {object} symbolizer SLD symbolizer object.
     * @param {ol/Feature} feature OpenLayers Feature.
     * @returns {ol/Style} OpenLayers style instance.
     */
    function getLinePointStyle(symbolizer, feature) {
        var geom$1 = feature.getGeometry();
        if (!geom$1) {
            return null;
        }

        var pointStyle = null;
        var geomType = geom$1.getType();
        if (geomType === 'LineString') {
            pointStyle = getPointStyle(symbolizer, feature);
            pointStyle.setGeometry(new geom.Point(getLineMidpoint(geom$1)));
        } else if (geomType === 'MultiLineString') {
            var lineStrings = geom$1.getLineStrings();
            var multiPointCoords = lineStrings.map(getLineMidpoint);
            pointStyle = getPointStyle(symbolizer, feature);
            pointStyle.setGeometry(new geom.MultiPoint(multiPointCoords));
        }

        return pointStyle;
    }

    /**
     * @private
     * Get the point located at the centroid of a polygon.
     * @param {ol/geom/Polygon} geometry An OpenLayers Polygon geometry.
     * @returns {Array<number>} An [x, y] coordinate array.
     */
    function getInteriorPoint(geometry) {
        // Use OpenLayers getInteriorPoint method to get a 'good' interior point.
        var ref = geometry.getInteriorPoint().getCoordinates();
        var x = ref[0];
        var y = ref[1];
        return [x, y];
    }

    /**
     * @private
     * Get an OL point style instance for a line feature according to a symbolizer.
     * The style will render a point on the middle of the line.
     * @param {object} symbolizer SLD symbolizer object.
     * @param {ol/Feature} feature OpenLayers Feature.
     * @returns {ol/Style} OpenLayers style instance.
     */
    function getPolygonPointStyle(symbolizer, feature) {
        var geom$1 = feature.getGeometry();
        if (!geom$1) {
            return null;
        }

        var pointStyle = null;
        var geomType = geom$1.getType();
        if (geomType === 'Polygon') {
            pointStyle = getPointStyle(symbolizer, feature);
            pointStyle.setGeometry(new geom.Point(getInteriorPoint(geom$1)));
        } else if (geomType === 'MultiPolygon') {
            var polygons = geom$1.getPolygons();
            var multiPointCoords = polygons.map(getInteriorPoint);
            pointStyle = getPointStyle(symbolizer, feature);
            pointStyle.setGeometry(new geom.MultiPoint(multiPointCoords));
        }

        return pointStyle;
    }

    var defaultStyles = [defaultPointStyle];

    /**
     * @private
     * Convert symbolizers together with the feature to OL style objects and append them to the styles array.
     * @example appendStyle(styles, point[j], feature, getPointStyle);
     * @param {Array<ol/style>} styles Array of OL styles.
     * @param {object|Array<object>} symbolizers Feature symbolizer object, or array of feature symbolizers.
     * @param {ol/feature} feature OpenLayers feature.
     * @param {Function} styleFunction Function for getting the OL style object. Signature (symbolizer, feature) => OL style.
     * @param {Function} getProperty A property getter: (feature, propertyName) => property value.
     */
    function appendStyle(styles, symbolizers, feature, styleFunction, getProperty) {
        if (Array.isArray(symbolizers)) {
            for (var k = 0; k < symbolizers.length; k += 1) {
                styles.push(styleFunction(symbolizers[k], feature, getProperty));
            }
        } else {
            styles.push(styleFunction(symbolizers, feature, getProperty));
        }
    }

    /**
     * Create openlayers style
     * @example OlStyler(getGeometryStyles(rules), geojson.geometry.type);
     * @param {GeometryStyles} GeometryStyles rulesconverter
     * @param {object|Feature} feature {@link http://geojson.org|geojson}
     *  or {@link https://openlayers.org/en/latest/apidoc/module-ol_Feature-Feature.html|ol/Feature} Changed in 0.0.04 & 0.0.5!
     * @param {Function} getProperty A property getter: (feature, propertyName) => property value.
     * @return ol.style.Style or array of it
     */
    function OlStyler(GeometryStyles, feature, getProperty) {
        var polygon = GeometryStyles.polygon;
        var line = GeometryStyles.line;
        var point = GeometryStyles.point;
        var text = GeometryStyles.text;

        var geometry = feature.getGeometry
            ? feature.getGeometry()
            : feature.geometry;
        var geometryType = geometry.getType ? geometry.getType() : geometry.type;

        var styles = [];
        switch (geometryType) {
            case 'Point':
            case 'MultiPoint':
                for (var j = 0; j < point.length; j += 1) {
                    appendStyle(styles, point[j], feature, getPointStyle, getProperty);
                }
                for (var j$1 = 0; j$1 < text.length; j$1 += 1) {
                    styles.push(getTextStyle(text[j$1], feature, getProperty));
                }
                break;

            case 'LineString':
            case 'MultiLineString':
                for (var j$2 = 0; j$2 < line.length; j$2 += 1) {
                    appendStyle(styles, line[j$2], feature, getLineStyle, getProperty);
                }
                for (var j$3 = 0; j$3 < point.length; j$3 += 1) {
                    appendStyle(styles, point[j$3], feature, getLinePointStyle, getProperty);
                }
                for (var j$4 = 0; j$4 < text.length; j$4 += 1) {
                    styles.push(getTextStyle(text[j$4], feature, getProperty));
                }
                break;

            case 'Polygon':
            case 'MultiPolygon':
                for (var j$5 = 0; j$5 < polygon.length; j$5 += 1) {
                    appendStyle(styles, polygon[j$5], feature, getPolygonStyle, getProperty);
                }
                for (var j$6 = 0; j$6 < line.length; j$6 += 1) {
                    appendStyle(styles, line[j$6], feature, getLineStyle, getProperty);
                }
                for (var j$7 = 0; j$7 < point.length; j$7 += 1) {
                    appendStyle(
                        styles,
                        point[j$7],
                        feature,
                        getPolygonPointStyle,
                        getProperty
                    );
                }
                for (var j$8 = 0; j$8 < text.length; j$8 += 1) {
                    styles.push(getTextStyle(text[j$8], feature, getProperty));
                }
                break;

            default:
                styles = defaultStyles;
        }

        return styles;
    }

    /**
     * @private
     * Extract feature id from an OpenLayers Feature.
     * @param {Feature} feature {@link https://openlayers.org/en/latest/apidoc/module-ol_Feature-Feature.html|ol/Feature}
     * @returns {string} Feature id.
     */
    function getOlFeatureId(feature) {
        return feature.getId();
    }

    /**
     * @private
     * Extract a property value from an OpenLayers Feature.
     * @param {Feature} feature {@link https://openlayers.org/en/latest/apidoc/module-ol_Feature-Feature.html|ol/Feature}
     * @param {string} propertyName The name of the feature property to read.
     * @returns {object} Property value.
     */
    function getOlFeatureProperty(feature, propertyName) {
        return feature.get(propertyName);
    }

    /**
     * Create an OpenLayers style function from a FeatureTypeStyle object extracted from an SLD document.
     *
     * **Important!** When using externalGraphics for point styling, make sure to call .changed() on the layer
     * inside options.imageLoadedCallback to immediately see the loaded image. If you do not do this, the
     * image icon will only become visible the next time OpenLayers draws the layer (after pan or zoom).
     * @param {FeatureTypeStyle} featureTypeStyle Feature Type Style object.
     * @param {object} options Options
     * @param {function} options.convertResolution An optional function to convert the resolution in map units/pixel to resolution in meters/pixel.
     * When not given, the map resolution is used as-is.
     * @param {function} options.imageLoadedCallback Optional callback that will be called with the url of an externalGraphic when
     * an image has been loaded (successfully or not). Call .changed() inside the callback on the layer to see the loaded image.
     * @param {function} options.getProperty Optional custom property getter: (feature, propertyName) => property value.
     * @returns {Function} A function that can be set as style function on an OpenLayers vector style layer.
     * @example
     * myOlVectorLayer.setStyle(SLDReader.createOlStyleFunction(featureTypeStyle, {
     *   imageLoadedCallback: () => { myOlVectorLayer.changed(); }
     * }));
     */
    function createOlStyleFunction(featureTypeStyle, options) {
        if (options === void 0) options = {};

        var imageLoadedCallback = options.imageLoadedCallback || (function () { });

        // Keep track of whether a callback has been registered per image url.
        var callbackRef = {};

        return function (feature, mapResolution) {
            // Determine resolution in meters/pixel.
            var resolution =
                typeof options.convertResolution === 'function'
                    ? options.convertResolution(mapResolution)
                    : mapResolution;

            var getProperty =
                typeof options.getProperty === 'function'
                    ? options.getProperty
                    : getOlFeatureProperty;

            // Determine applicable style rules for the feature, taking feature properties and current resolution into account.
            var rules = getRules(featureTypeStyle, feature, resolution, {
                getProperty: getProperty,
                getFeatureId: getOlFeatureId,
            });

            // Start loading images for external graphic symbolizers and when loaded:
            // * update symbolizers to use the cached image.
            // * call imageLoadedCallback with the image url.
            processExternalGraphicSymbolizers(
                rules,
                featureTypeStyle,
                imageLoadedCallback,
                callbackRef
            );

            // Convert style rules to style rule lookup categorized by geometry type.
            var geometryStyles = getGeometryStyles(rules);

            // Determine style rule array.
            var olStyles = OlStyler(geometryStyles, feature, getProperty);

            return olStyles;
        };
    }

    exports.OlStyler = OlStyler;
    exports.Reader = Reader;
    exports.createOlStyleFunction = createOlStyleFunction;
    exports.getByPath = getByPath;
    exports.getGeometryStyles = getGeometryStyles;
    exports.getLayer = getLayer;
    exports.getLayerNames = getLayerNames;
    exports.getRuleSymbolizers = getRuleSymbolizers;
    exports.getRules = getRules;
    exports.getStyle = getStyle;
    exports.getStyleNames = getStyleNames;

    Object.defineProperty(exports, '__esModule', { value: true });

}));

class Kaartgegevens {

    constructor() {
        this._GeoJSON = {};
        this._Symbolisaties = {};
    }

    VoegDataToe(naam, geoJSON) {
        this._GeoJSON[naam] = geoJSON;
        return this;
    }

    VoegSymbolisatieToe(naam, symbolisatie) {
        this._Symbolisaties[naam] = SLDReader.createOlStyleFunction(
            SLDReader.getStyle(
                SLDReader.getLayer(
                    SLDReader.Reader(`<?xml version="1.0" encoding="UTF-8"?>
<StyledLayerDescriptor xmlns="http://www.opengis.net/sld" version="1.1.0">
    <NamedLayer>
        <Name>Symbolisatie</Name>
        <UserStyle>
            <Name>Symbolisatie</Name>
` + symbolisatie + `
        </UserStyle>
    </NamedLayer>
</StyledLayerDescriptor>`)
                ), 'Symbolisatie'
            ).featuretypestyles[0]
        );
        return this;
    }

    static Instantie = new Kaartgegevens();
}


class Kaart {
    constructor() {
        this._Toplagen = [];
        this._OudLagen = [];
        this._NieuwLagen = [];
        this._Onderlagen = [];
        this._BBox = false;
        this._LagenMetProperties = 0;
    }
    static EPSG28992 = new ol.proj.Projection('urn:ogc:def:crs:EPSG::28992');

    VoegOnderlaagToe(naam, dataNaam, symbolisatieNaam, inControls = false, toonInitieel = true) {
        this._MaakKaartlaag(this._Onderlagen, naam, dataNaam, symbolisatieNaam, inControls, toonInitieel);
        return this;
    }

    VoegOudLaagToe(naam, dataNaam, symbolisatieNaam, inControls = false, toonInitieel = true) {
        var layer = this._MaakKaartlaag(this._OudLagen, naam, dataNaam, symbolisatieNaam, inControls, toonInitieel);
        var self = this;
        layer.on('prerender', function (event) {
            var ctx = event.context;
            ctx.save();
            ctx.beginPath();
            ctx.rect(0, 0, self._SliderPositie, ctx.canvas.height);
            ctx.clip();
        });

        layer.on('postrender', function (event) {
            var ctx = event.context;
            ctx.restore();
        });
        return this;
    }
    VoegNieuwLaagToe(naam, dataNaam, symbolisatieNaam, inControls = false, toonInitieel = true) {
        var layer = this._MaakKaartlaag(this._NieuwLagen, naam, dataNaam, symbolisatieNaam, inControls, toonInitieel);
        var self = this;
        layer.on('prerender', function (event) {
            var ctx = event.context;
            ctx.save();
            ctx.beginPath();
            ctx.rect(self._SliderPositie, 0, ctx.canvas.width, ctx.canvas.height);
            ctx.clip();
        });

        layer.on('postrender', function (event) {
            var ctx = event.context;
            ctx.restore();
        });
        return this;
    }

    _MaakKaartlaag(collectie, naam, dataNaam, symbolisatieNaam, inControls, toonInitieel) {
        var geoJson = Kaartgegevens.Instantie._GeoJSON[dataNaam];
        if (this._BBox === false) {
            this._BBox = geoJson.bbox;
        } else {
            this._BBox = [
                (this._BBox[0] < geoJson.bbox[0] ? this._BBox[0] : geoJson.bbox[0]),
                (this._BBox[1] < geoJson.bbox[1] ? this._BBox[1] : geoJson.bbox[1]),
                (this._BBox[2] > geoJson.bbox[2] ? this._BBox[2] : geoJson.bbox[2]),
                (this._BBox[3] > geoJson.bbox[3] ? this._BBox[3] : geoJson.bbox[3])
            ];
        }
        var layer = new ol.layer.Vector({
            source: new ol.source.Vector({
                features: (new ol.format.GeoJSON()).readFeatures(geoJson),
                projection: Kaart.EPSG28992
            }),
            style: Kaartgegevens.Instantie._Symbolisaties[symbolisatieNaam]
        });
        collectie.push(layer);

        if (geoJson.properties !== undefined) {
            this._LagenMetProperties++;
            layer._PopupNaam = naam;
            layer._PopupProperties = geoJson.properties;
        }

        if (inControls) {
            layer._AanUit = naam;
            layer.setVisible(toonInitieel);
        } else {
            layer._AanUit = false
        }

        return layer;
    }

    Toon(kaartElementId, kaartElementWidth, kaartElementHeight) {
        var self = this;
        // Bepaal eerst welk deel van Nederland getoond moet worden
        var kaartElement = document.getElementById(kaartElementId);
        kaartElement.style.width = kaartElementWidth + "px"
        kaartElement.style.height = kaartElementHeight + "px"
        var legeRuimteOmGeometrie = 0.5;
        if (this._BBox === false) {
            this._BBox = Kaart._BGT_BBox;
            legeRuimteOmGeometrie = 0;
        }
        var zoomLevel = 20 - Kaart._BGT_Resolutions.length;
        var zoomLevelX = Math.max(Math.floor(Math.log2((kaartElementWidth * (1 - legeRuimteOmGeometrie) * Kaart._BGT_Resolutions[0]) / (this._BBox[2] - this._BBox[0]))), 0);
        var zoomLevelY = Math.max(Math.floor(Math.log2((kaartElementHeight * (1 - legeRuimteOmGeometrie) * Kaart._BGT_Resolutions[0]) / (this._BBox[3] - this._BBox[1]))), 0);
        zoomLevel += (zoomLevelX < zoomLevelY ? zoomLevelX : zoomLevelY);

        // Achtergrondkaart
        var matrixIds = [];
        for (var z = 0; z < Kaart._BGT_Resolutions.length; z++) {
            matrixIds.push('urn:ogc:def:crs:EPSG::28992:' + z);
        }
        var mapLayers = [new ol.layer.Tile({
            extent: Kaart._BGT_BBox,
            source: new ol.source.WMTS({
                url: 'https://service.pdok.nl/brt/achtergrondkaart/wmts/v2_0',
                layer: 'pastel',
                matrixSet: 'EPSG:28992',
                format: 'image/png',
                projection: Kaart.EPSG28992,
                tileGrid: new ol.tilegrid.WMTS({
                    origin: ol.extent.getTopLeft(Kaart._BGT_BBox),
                    resolutions: Kaart._BGT_Resolutions,
                    matrixIds: matrixIds
                })
            })
        })];

        // Eerst de onderste lagen
        for (var i = 0; i < this._Onderlagen.length; i++) {
            mapLayers.push(this._Onderlagen[i]);
        }

        // Dan de oud/nieuw lagen
        if (this._OudLagen.length > 0 || this._NieuwLagen.length > 0) {
            this._SliderPositie = kaartElementWidth / 2;
            for (var i = 0; i < this._OudLagen.length; i++) {
                mapLayers.push(this._OudLagen[i]);
            }
            for (var i = 0; i < this._NieuwLagen.length; i++) {
                mapLayers.push(this._NieuwLagen[i]);
            }
        }

        // Tot slot de overlays / popup
        var mapOverlays = []
        const popup_content = document.getElementById(kaartElementId + '_popup-content');
        const popup_closer = document.getElementById(kaartElementId + '_popup-closer');
        var popup_overlay = false;
        if (this._LagenMetProperties > 0) {
            // Popup wordt als overlay op de kaart getoond
            popup_overlay = new ol.Overlay({
                element: document.getElementById(kaartElementId + '_popup'),
                autoPan: true,
                autoPanAnimation: {
                    duration: 250
                }
            });
            mapOverlays.push(popup_overlay);

            popup_closer.onclick = function () {
                popup_overlay.setPosition(undefined);
                popup_closer.blur();
                return false;
            };
        } else {
            var popup = document.getElementById(kaartElementId + '_popup');
            if (popup) {
                popup.remove();
            }
        }

        // Maak het kaartbeeld
        var map = new ol.Map({
            layers: mapLayers,
            overlays: mapOverlays,
            target: kaartElementId,
            view: new ol.View({
                center: ol.extent.getCenter(this._BBox),
                zoom: zoomLevel
            })
        });
        map.render();

        if (this._LagenMetProperties > 0) {
            // Vulling van de popup
            const toonNamen = (this._LagenMetProperties > 1);
            map.on('click', function (e) {
                var content = false;
                map.forEachFeatureAtPixel(e.pixel, function (feature, layer) {
                    if (layer._PopupNaam !== undefined) {
                        var attr = feature.getProperties();
                        if (content === false) {
                            content = '';
                        }
                        if (toonNamen) {
                            content += '<div><b>' + layer._PopupNaam + '</b></div>';
                        }
                        for (var prop in layer._PopupProperties) {
                            var info = layer._PopupProperties[prop]
                            content += '<div>' + info[0] + ': ' + attr[prop] + (info[1] ? ' ' + info[1] : '') + '</div>';
                        }
                    }
                });
                if (content !== false) {
                    popup_content.innerHTML = content;
                    popup_overlay.setPosition(e.coordinate);
                }
            });
        }
        if (this._OudLagen.length > 0 || this._NieuwLagen.length > 0) {
            var self = this;
            new Slider(kaartElement, function (positie) {
                self._SliderPositie = positie;
                map.render();
            })
        }

        this._AanUitLagen = {};
        var aanUitLagenElt = null;
        for (var i = mapLayers.length - 1; i >= 0; i--) {
            if (mapLayers[i]._AanUit) {
                if (aanUitLagenElt === null) {
                    aanUitLagenElt = document.createElement('p');
                    aanUitLagenElt.innerHTML = 'Gegevens in de kaart die wel/niet zichtbaar gemaakt kunnen worden:</br>'
                    kaartElement.insertAdjacentElement('afterend', aanUitLagenElt);
                } else {
                    aanUitLagenElt.append(document.createElement('br'));
                }
                var ctrl = document.createElement('input');
                ctrl.type = 'checkbox';
                ctrl.id = kaartElementId + '_laag_' + i;
                ctrl.checked = mapLayers[i].getVisible();
                aanUitLagenElt.append(ctrl);
                var label = document.createElement('label');
                label.htmlFor = ctrl.id;
                label.innerText = mapLayers[i]._AanUit
                aanUitLagenElt.append(label);
                this._AanUitLagen[ctrl.id] = mapLayers[i];
                ctrl.addEventListener('click', (e) =>
                    self._AanUitLagen[e.srcElement.id].setVisible(e.srcElement.checked)
                );
            }
        }
    }

    static _BGT_BBox = [-285401.92, 22598.08, 595401.9199999999, 903401.9199999999];
    static _BGT_Resolutions = [3440.64, 1720.32, 860.16, 430.08, 215.04, 107.52, 53.76, 26.88, 13.44, 6.72, 3.36, 1.68, 0.84, 0.42];
}

class Slider {
    // Inspiratie: https://www.w3schools.com/howto/howto_js_image_comparison.asp
    constructor(kaartElement, onSlide) {
        this._Kaartelement = kaartElement;
        var kaartRect = kaartElement.getBoundingClientRect();
        this._Left = kaartRect.left;
        this._Width = kaartRect.right - kaartRect.left;
        this._OnSlide = onSlide;
        this._Clicked = false;

        this._Sliders = [document.createElement("DIV"), document.createElement("DIV")];
        this._Sliders[0].setAttribute("class", "kaart-slider knop");
        this._Sliders[1].setAttribute("class", "kaart-slider lijn");
        this._Sliders[1].style.height = (kaartRect.bottom - kaartRect.top) + "px";
        var self = this;
        for (var i = 0; i < this._Sliders.length; i++) {
            var slider = this._Sliders[i]
            kaartElement.parentElement.insertBefore(slider, kaartElement);
            slider.style.top = ((kaartRect.top + kaartRect.bottom) / 2 - slider.offsetHeight / 2) + "px";
            slider.style.left = (this._Left + this._Width / 2 - slider.offsetWidth / 2) + "px";
            slider.addEventListener("mousedown", (e) => self._SlideReady(e));
            window.addEventListener("mouseup", (e) => self._SlideFinish(e));
            slider.addEventListener("touchstart", (e) => self._SlideReady(e));
        }
    }
    _SlideReady(e) {
        e.preventDefault();
        this._Clicked = true;
        var self = this;
        window.addEventListener("mousemove", (e) => self._SlideMove(e));
        window.addEventListener("touchmove", (e) => self._SlideMove(e));
    }
    _SlideFinish() {
        this._Clicked = false;
    }
    _SlideMove(e) {
        if (!this._Clicked) return false;
        var pos = this._GetCursorPos(e)
        if (pos < 0) pos = 0;
        if (pos > this._Width) pos = this._Width;
        for (var i = 0; i < this._Sliders.length; i++) {
            var slider = this._Sliders[i]
            slider.style.left = this._Left + (pos - (slider.offsetWidth / 2)) + "px";
        }
        this._OnSlide(pos)
    }
    _GetCursorPos(e) {
        e = (e.changedTouches) ? e.changedTouches[0] : e;
        var a = this._Kaartelement.getBoundingClientRect();
        var x = e.pageX - a.left;
        x = x - window.pageXOffset;
        return x;
    }
}


    </script>
</head>
<body>
<h1>Geo-informatie in beeld</h1>Bestand: testdata_vlakken.gml
<div id="kaart_3" class="kaart">
</div>
<div id="kaart_3_popup" class="ol-popup">
    <a href="#" id="kaart_3_popup-closer" class="ol-popup-closer"></a>
    <div id="kaart_3_popup-content" class="ol-popup-content"></div>
</div>

<p>Om te zien of het GIO geschikt is om te gebruiken voor een GIO-wijziging wordt de elder beschreven <a href="@@@GeoTools_Url@@@wiki/Toon-controleer-gio" target="_blank">procedure</a> gevolgd.</p>
<p>Voor een GIO met vlakken wordt nagegaan of vlakken niet teveel overlappen.
Daartoe worden de vlakken verkleind met de halve tekennauwkeurigheid en wordt bepaald of de verkleinde vlakken elkaar overlappen.</p>
<div id="kaart_7" class="kaart">
</div>
<div id="kaart_7_popup" class="ol-popup">
    <a href="#" id="kaart_7_popup-closer" class="ol-popup-closer"></a>
    <div id="kaart_7_popup-content" class="ol-popup-content"></div>
</div>

<p>Het GIO kan gebruikt worden voor de bepaling van een GIO-wijziging bij een tekennauwkeurigheid van 100 decimeter</p>
<button data-accordion="6" class="accordion_h"><h3>Verslag van de verwerking</h3></button>
<div data-accordion-paneel="6" class="accordion_h_paneel">
<p><b>Fouten: 0, waarschuwingen: 0</b></p>
<!-- checkboxElement id moet overeenkomen "toon_" plus log-level waarde. -->
<input id="toon_fout" checked="checked" type="checkbox" class="meldingen_checkbox" /><label for="toon_fout">Toon FOUT meldingen </label>
<input id="toon_letop" checked="checked" type="checkbox" class="meldingen_checkbox" /><label for="toon_letop">Toon LeT OP meldingen </label>
<input id="toon_info" checked="checked" type="checkbox" class="meldingen_checkbox" /><label for="toon_info">Toon INFO meldingen </label>
<input id="toon_detail" type="checkbox" class="meldingen_checkbox" /><label for="toon_detail">Toon alle (detail)meldingen in gedetailleerd overzicht</label>
<div id="log_detail">

<table id="meldingen_tabel">
<tr class="entry_INFO"><td class="level_INFO">INFO</td><td class="message_INFO main">Geo-tools (@@@GeoTools_Url@@@) versie @@@VERSIE@@@.</td></tr>
<tr class="entry_INFO"><td class="level_INFO">INFO</td><td class="message_INFO main">Lees het GIO, gebiedsmarkering of effectgebied</td></tr>
<tr style="display: none" class="entry_DETAIL"><td class="level_DETAIL">DETAIL</td><td class="message_DETAIL main">Lees het GIO, gebiedsmarkering of effectgebied</td></tr>
<tr style="display: none" class="entry_DETAIL"><td class="level_DETAIL">DETAIL</td><td class="message_DETAIL main">Bestand "testdata_vlakken.gml" voor "geometrie" ingelezen</td></tr>
<tr class="entry_INFO"><td class="level_INFO">INFO</td><td class="message_INFO main">GIO ingelezen</td></tr>
<tr class="entry_INFO"><td class="level_INFO">INFO</td><td class="message_INFO main">GIO heeft per locatie een groepID - een symbolisatie is nodig om dat weer te geven</td></tr>
<tr class="entry_INFO"><td class="level_INFO">INFO</td><td class="message_INFO main">Lees de symbolisatie (indien aanwezig)</td></tr>
<tr style="display: none" class="entry_DETAIL"><td class="level_DETAIL">DETAIL</td><td class="message_DETAIL main">Bestand "testdata_vlakken_symbolisatie.xml" voor "symbolisatie" ingelezen</td></tr>
<tr style="display: none" class="entry_DETAIL"><td class="level_DETAIL">DETAIL</td><td class="message_DETAIL main">Symbolisatie ingelezen</td></tr>
<tr class="entry_INFO"><td class="level_INFO">INFO</td><td class="message_INFO main">Maak de kaartweergave</td></tr>
<tr class="entry_INFO"><td class="level_INFO">INFO</td><td class="message_INFO main">Valideer de GIO</td></tr>
<tr style="display: none" class="entry_DETAIL"><td class="level_DETAIL">DETAIL</td><td class="message_DETAIL main">Maak de pagina af</td></tr>
<tr class="entry_INFO"><td class="level_INFO">INFO</td><td class="message_INFO main">De verwerking is voltooid.</td></tr>
</table>
</div>
<script type="text/javascript">
    function Meldingen_Aanpassen(e) {
        var show = e.srcElement.checked;
        var container = document.querySelector("#meldingen_tabel");
        var matches = container.querySelectorAll("tr.entry" + e.srcElement.id.slice(4));

        for (var i = 0; i < matches.length; i++) {
            matches[i].style.display = show ? '' : 'none';
        }
    }

    document.querySelectorAll(".meldingen_checkbox").forEach((checkbox) => {
        checkbox.addEventListener('change', Meldingen_Aanpassen);
    });
</script>

</div>

<script type="text/javascript">
    window.addEventListener('load', function () {

        function TogglePaneel() {
            this.classList.toggle("active");
            var panel = document.querySelector('[data-accordion-paneel="' + this.dataset.accordion + '"]');
            var titel = document.querySelector('[data-accordion-titel="' + this.dataset.accordion + '"]');
            if (panel.style.display === "block") {
                panel.style.display = "none";
                if (titel) {
                    titel.style.display = "block";
                }
            } else {
                panel.style.display = "block";
                if (titel) {
                    titel.style.display = "none";
                }
            }
        }

        function VerbergPanelen() {
            document.querySelectorAll("[data-accordion]").forEach((elt) => {
                elt.classList.remove("active");
            });
            document.querySelectorAll("[data-accordion-paneel]").forEach((elt) => {
                elt.style.display = "none";
            });
            document.querySelectorAll("[data-accordion-titel]").forEach((elt) => {
                elt.style.display = "block";
            });
        }

        // Event handlers voor de accordion panelen (op te klikken stukjes van de pagina)
        document.querySelectorAll("[data-accordion]").forEach((elt) => {
            elt.addEventListener("click", TogglePaneel);
        });
        // Event handler voor het sluiten van alle accordion panelen
        document.querySelectorAll("#accordion-sluiten").forEach((elt) => {
            elt.addEventListener("click", VerbergPanelen);
        });
    });
    
Kaartgegevens.Instantie.VoegDataToe ("data1",
{"type": "FeatureCollection", "crs": {"type": "name", "properties": {"name": "urn:ogc:def:crs:EPSG::28992"}}, "features": [{"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[238741.56, 569656.273], [238742.064, 569656.239], [238743.838, 569656.171], [238746.021, 569654.943], [238756.119, 569647.506], [238759.213, 569645.481], [238761.441, 569644.367], [238766.449, 569644.34], [238767.645, 569644.937], [238769.998, 569646.114], [238771.908, 569647.479], [238772.1, 569647.628], [238775.32, 569650.14], [238779.277, 569652.869], [238786.332, 569657.14], [238808.63, 569668.753], [238819.684, 569673.393], [238826.371, 569676.532], [238849.533, 569689.34], [238867.091, 569697.765], [238888.663, 569708.242], [238902.49, 569715.042], [238923.086, 569724.739], [238940.345, 569732.864], [238954.274, 569740.086], [238969.95, 569748.845], [238983.068, 569756.674], [238983.71, 569755.711], [239021.53, 569774.882], [239095.187, 569812.865], [239100.64, 569815.678], [239116.383, 569824.034], [239117.204, 569824.47], [239126.969, 569829.652], [239128.751, 569830.598], [239157.445, 569845.827], [239231.669, 569884.009], [239299.337, 569919.332], [239332.071, 569936.033], [239418.004, 569980.701], [239434.114, 569988.894], [239475.002, 570009.689], [239480.638, 570012.6], [239590.064, 570069.117], [239678.638, 570114.129], [239685.577, 570117.656], [239690.817, 570120.097], [239692.926, 570121.079], [239702.81, 570125.683], [239742.955, 570144.384], [239742.987, 570144.398], [239798.993, 570170.487], [239801.321, 570171.572], [239802.862, 570172.29], [239806.992, 570174.214], [239808.069, 570174.715], [239810.385, 570175.794], [239811.284, 570176.213], [239835.413, 570187.258], [239838.294, 570188.577], [239850.961, 570194.7], [239869.082, 570203.206], [239872.057, 570204.603], [239904.521, 570219.842], [239968.692, 570249.967], [239973.098, 570252.035], [240003.501, 570266.307], [240003.815, 570266.455], [240004.682, 570266.859], [240008.332, 570268.559], [240009.218, 570268.972], [240012.376, 570270.443], [240304.903, 570406.699], [240308.916, 570408.556], [240318.055, 570412.784], [240319.952, 570413.662], [240498.143, 570488.272], [240498.35, 570488.359], [240574.544, 570520.262], [240564.886, 570547.285], [240733.364, 570611.025], [240734.409, 570611.42], [240736.829, 570612.336], [240735.819, 570621.051], [240740.774, 570623.046], [240742.483, 570623.735], [240930.474, 570699.472], [240931.544, 570699.903], [240945.556, 570705.549], [240946.358, 570705.872], [240926.577, 570735.849], [241106.765, 570804.025], [241108.256, 570804.589], [241108.744, 570804.774], [241115.737, 570807.172], [241116.569, 570807.457], [241126.625, 570793.904], [241127.731, 570794.556], [241164.001, 570815.931], [241166.747, 570816.385], [241171.423, 570817.159], [241189.36, 570832.546], [241196.885, 570839.002], [241200.738, 570843.284], [241209.064, 570848.851], [241214.087, 570853.225], [241240.846, 570866.119], [241245.697, 570867.761], [241398.948, 570904.992], [241404.984, 570906.458], [241455.061, 570918.624], [241459.979, 570919.955], [241467.637, 570922.027], [241520.256, 570936.268], [241555.015, 570945.469], [241560.115, 570946.819], [241589.959, 570954.718], [241599.189, 570957.161], [241632.804, 570966.059], [241747.67, 571006.392], [241915.763, 571065.414], [242033.204, 571104.441], [242037.782, 571106.066], [242160.214, 571149.522], [242162.109, 571150.195], [242448.69, 571248.571], [242454.381, 571250.174], [242575.08, 571284.16], [242525.161, 571524.165], [242511.707, 571588.857], [242461.541, 571830.072], [242448.168, 571894.374], [242404.876, 572102.533], [242394.382, 572166.328], [242350.983, 572430.152], [242340.793, 572492.099], [242310.901, 572673.809], [242208.054, 573325.436], [242142.68, 573739.64], [242105.19, 573890.156], [242099.026, 573902.33], [242094.019, 573912.102], [242085.108, 573931.372], [242077.495, 573940.73], [242039.743, 573992.864], [242031.212, 574004.754], [242025.682, 574012.061], [242020.436, 574019.03], [242017.69, 574023.302], [242014.338, 574028.518], [242008.125, 574038.141], [242002.986, 574046.356], [241999.593, 574052.227], [241997.188, 574055.693], [241978.548, 574076.408], [241975.649, 574079.225], [241972.824, 574082.915], [241970.13, 574087.41], [241928.944, 574168.568], [241924.468, 574199.375], [241912.94, 574241.006], [241912.581, 574273.723], [241919.982, 574303.21], [241935.2, 574333.101], [241944.459, 574347.349], [241958.317, 574366.246], [241971.118, 574379.494], [241993.612, 574399.205], [242003.659, 574408.683], [242010.278, 574412.221], [242017.575, 574416.432], [242030.787, 574424.723], [242091.81, 574461.917], [242110.828, 574473.106], [242115.654, 574476.354], [242121.171, 574482.14], [242128.842, 574489.971], [242133.029, 574494.033], [242143.056, 574502.222], [242151.906, 574508.851], [242155.43, 574512.18], [242171.457, 574529.03], [242173.094, 574531.918], [242173.738, 574534.381], [242173.603, 574537.433], [242173.434, 574546.13], [242174.112, 574572.37], [242174.761, 574605.605], [242173.539, 574613.863], [242168.069, 574638.666], [242161.561, 574661.043], [242145.912, 574709.099], [242135.41, 574740.884], [242129.295, 574765.151], [242127.866, 574773.747], [242121.473, 574805.529], [242115.44, 574825.318], [242114.963, 574826.813], [242112.522, 574833.694], [242101.394, 574875.034], [242098.658, 574882.929], [242081.413, 574949.412], [242062.549, 574996.562], [242031.234, 575056.636], [241963.433, 575156.488], [241904.526, 575233.639], [241856.744, 575309.486], [241837.699, 575346.505], [241826.882, 575376.449], [241815.063, 575434.589], [241770.008, 575550.726], [241702.134, 575642.699], [241642.409, 575693.08], [241496.663, 575803.733], [241463.218, 575836.967], [241452.713, 575876.168], [241456.643, 575904.709], [241454.455, 575908.777], [241451.813, 575920.639], [241450.887, 575924.086], [241439.432, 575960.445], [241402.322, 576020.586], [241383.107, 576050.058], [241363.824, 576080.116], [241347.992, 576099.747], [241329.549, 576117.223], [241302.932, 576138.588], [241279.819, 576154.064], [241257.875, 576167.066], [241236.633, 576178.179], [241204.436, 576194.297], [241169.85, 576210.878], [241135.901, 576226.299], [241102.709, 576240.77], [241066.339, 576252.612], [241033.333, 576265.038], [240999.47, 576282.249], [240964.372, 576303.735], [240943.92, 576318.504], [240918.496, 576341.587], [240915.741, 576344.089], [240897.042, 576364.69], [240888.079, 576375.733], [240876.95, 576389.123], [240864.608, 576406.138], [240852.953, 576423.358], [240841.114, 576442.185], [240824.283, 576471.044], [240813.474, 576489.458], [240808.398, 576497.905], [240800.067, 576511.77], [240788.702, 576530.657], [240776.665, 576546.335], [240765.818, 576558.596], [240754.984, 576568.0], [240737.56, 576579.593], [240720.752, 576588.403], [240707.101, 576594.34], [240692.29, 576598.367], [240672.16, 576601.81], [240660.61, 576603.087], [240641.709, 576605.385], [240601.287, 576608.404], [240565.282, 576610.532], [240528.761, 576612.914], [240500.126, 576617.354], [240482.298, 576621.67], [240463.257, 576628.224], [240447.062, 576636.1], [240423.35, 576651.683], [240404.134, 576669.14], [240394.491, 576681.073], [240365.034, 576713.175], [240342.095, 576736.848], [240321.371, 576756.919], [240291.946, 576787.861], [240264.952, 576821.655], [240244.506, 576855.798], [240229.094, 576887.126], [240215.597, 576918.252], [240204.046, 576951.036], [240195.582, 576978.354], [240188.29, 577020.481], [240182.972, 577045.959], [240178.2, 577073.774], [240174.05, 577097.965], [240167.601, 577134.866], [240159.703, 577178.788], [240151.972, 577223.445], [240144.007, 577268.445], [240138.016, 577309.849], [240131.691, 577351.856], [240124.93, 577383.463], [240116.329, 577411.885], [240099.531, 577452.162], [240078.613, 577497.301], [240063.424, 577531.026], [240053.049, 577547.964], [240040.693, 577574.088], [240032.856, 577593.79], [240018.047, 577632.976], [240012.301, 577647.527], [240005.374, 577668.55], [239988.053, 577719.266], [239981.542, 577735.267], [239973.251, 577753.951], [239956.095, 577785.42], [239933.348, 577821.906], [239932.228, 577823.702], [239933.236, 577823.943], [239933.103, 577824.165], [239932.453, 577825.257], [239912.017, 577859.581], [239910.931, 577861.405], [239910.035, 577862.933], [239906.112, 577869.623], [239906.026, 577869.77], [239895.019, 577865.742], [239860.499, 577853.108], [239855.118, 577851.139], [239839.032, 577881.243], [239824.801, 577905.386], [239821.875, 577910.622], [239816.287, 577908.06], [239811.968, 577910.829], [239760.108, 577934.968], [239748.204, 577940.473], [239747.099, 577941.023], [239698.27, 577963.454], [239661.186, 577980.891], [239650.953, 577985.703], [239598.818, 578009.781], [239583.58, 578017.095], [239585.56, 578018.096], [239557.358, 578031.899], [239507.412, 578055.628], [239505.483, 578056.545], [239502.526, 578058.046], [239464.574, 578077.312], [239441.842, 578088.414], [239398.911, 578109.381], [239387.598, 578114.775], [239343.298, 578135.899], [239290.423, 578161.884], [239290.212, 578161.988], [239293.926, 578163.457], [239286.608, 578167.055], [239255.387, 578182.405], [239252.817, 578183.669], [239252.214, 578183.952], [239252.154, 578183.98], [239233.611, 578192.692], [239232.364, 578193.278], [239217.15, 578200.426], [239209.287, 578204.12], [239150.208, 578233.018], [239093.064, 578260.365], [239095.295, 578263.396], [239092.586, 578264.695], [238987.707, 578314.99], [238986.127, 578315.771], [238985.92, 578315.874], [238982.207, 578317.711], [238974.479, 578321.535], [238970.999, 578323.257], [238970.475, 578323.517], [238969.867, 578323.801], [238905.331, 578353.93], [238858.378, 578375.851], [238832.184, 578386.71], [238831.945, 578386.805], [238805.947, 578397.177], [238795.168, 578401.672], [238784.663, 578405.204], [238764.831, 578411.564], [238733.777, 578420.341], [238707.855, 578428.879], [238708.01, 578428.957], [238711.488, 578430.714], [238712.544, 578431.309], [238712.555, 578431.315], [238733.617, 578443.188], [238735.349, 578444.164], [238742.671, 578448.291], [238762.33, 578458.943], [238769.445, 578462.798], [238772.039, 578464.165], [238772.701, 578464.514], [238860.979, 578511.049], [238961.578, 578564.055], [238962.349, 578564.461], [238965.241, 578565.985], [238965.566, 578566.156], [238971.428, 578569.237], [238972.173, 578569.629], [238972.717, 578569.915], [238974.114, 578570.65], [238982.322, 578574.965], [238984.919, 578576.33], [239028.267, 578599.118], [239032.3, 578596.772], [239034.692, 578595.514], [239037.746, 578594.258], [239040.34, 578593.356], [239043.24, 578592.506], [239048.479, 578591.058], [239050.556, 578590.913], [239052.747, 578590.875], [239054.83, 578591.089], [239056.963, 578591.454], [239059.908, 578591.875], [239062.65, 578592.447], [239067.421, 578593.791], [239069.654, 578594.615], [239071.782, 578596.048], [239088.085, 578603.827], [239131.481, 578624.533], [239195.541, 578655.173], [239156.835, 578676.202], [239121.105, 578695.614], [239114.69, 578699.089], [239108.215, 578702.413], [239080.276, 578716.758], [239075.694, 578719.073], [239068.823, 578722.291], [239057.269, 578727.672], [239002.705, 578752.966], [238975.372, 578765.944], [238960.762, 578773.139], [238950.58, 578778.374], [238942.74, 578782.604], [238925.479, 578792.226], [238899.101, 578807.9], [238858.263, 578831.482], [238789.113, 578871.339], [238722.566, 578909.532], [238733.333, 578920.35], [238735.223, 578922.248], [238747.266, 578933.987], [238747.847, 578934.572], [238795.884, 578982.834], [238801.026, 578988.0], [238805.531, 578992.595], [238812.366, 578999.283], [238819.718, 579006.568], [238849.394, 579035.974], [238884.41, 579070.643], [238889.076, 579075.126], [238891.877, 579077.765], [238894.679, 579080.861], [238896.614, 579082.484], [238900.787, 579085.222], [238901.071, 579085.395], [238903.28, 579086.743], [238904.756, 579087.808], [238906.514, 579089.248], [238907.297, 579088.058], [238907.854, 579087.142], [238909.628, 579084.902], [238910.843, 579083.223], [238911.806, 579082.001], [238912.326, 579081.525], [238915.305, 579078.793], [238916.776, 579077.469], [238918.45, 579076.297], [238920.516, 579075.004], [238921.732, 579074.145], [238923.727, 579073.086], [238924.945, 579072.423], [238926.964, 579071.409], [238930.427, 579069.77], [238932.204, 579068.852], [238934.11, 579068.002], [238937.384, 579067.776], [238999.233, 579093.495], [239015.814, 579100.177], [239032.191, 579106.605], [239049.582, 579113.656], [239080.509, 579126.196], [239135.59, 579147.808], [239166.158, 579159.734], [239256.582, 579193.71], [239257.552, 579194.071], [239292.319, 579207.006], [239338.869, 579224.325], [239360.736, 579231.659], [239383.57, 579239.601], [239396.381, 579241.918], [239396.03, 579244.104], [239396.491, 579245.883], [239404.158, 579270.135], [239409.296, 579268.126], [239511.109, 579349.439], [239527.498, 579361.255], [239532.629, 579364.94], [239535.336, 579366.884], [239533.769, 579373.62], [239531.856, 579378.327], [239528.513, 579382.959], [239516.602, 579396.449], [239512.088, 579400.422], [239508.908, 579405.215], [239610.709, 579485.451], [239631.01, 579501.708], [239715.883, 579569.808], [239712.285, 579574.44], [239731.614, 579590.441], [239748.991, 579604.827], [239749.937, 579605.603], [239769.271, 579621.468], [239791.646, 579639.828], [239821.384, 579664.23], [239824.693, 579666.918], [239812.627, 579679.393], [239808.578, 579684.071], [239828.071, 579699.852], [239874.345, 579736.983], [239882.595, 579744.798], [239891.907, 579750.78], [239897.002, 579756.414], [239927.301, 579780.237], [239927.631, 579780.496], [239931.566, 579783.551], [239933.906, 579784.818], [239935.839, 579785.628], [239942.869, 579793.495], [239999.761, 579839.89], [240011.928, 579849.856], [240024.204, 579863.125], [240027.942, 579866.285], [240113.462, 579938.592], [240115.156, 579940.024], [240118.311, 579942.692], [240127.522, 579950.48], [240139.129, 579948.356], [240139.721, 579948.832], [240148.872, 579956.188], [240151.541, 579958.334], [240236.045, 580026.266], [240300.385, 580077.989], [240335.878, 580106.507], [240363.584, 580128.768], [240501.886, 580241.017], [240507.884, 580245.903], [240534.11, 580226.38], [240542.68, 580220.6], [240557.04, 580212.26], [240570.34, 580205.79], [240580.58, 580201.4], [240587.34, 580199.09], [240605.22, 580193.64], [240637.85, 580185.29], [240647.15, 580182.96], [240663.01, 580179.27], [240673.19, 580176.99], [240691.88, 580172.59], [240715.78, 580165.46], [240725.04, 580162.34], [240737.15, 580157.73], [240745.57, 580154.01], [240763.04, 580145.85], [240780.39, 580138.73], [240813.92, 580128.36], [240829.13, 580124.43], [240848.33, 580119.68], [240867.33, 580115.79], [240890.27, 580111.62], [240911.63, 580108.42], [240913.67, 580108.12], [240959.89, 580101.49], [240958.32, 580105.53], [240953.046, 580107.376], [240961.4, 580106.2], [240966.98, 580105.53], [240973.17, 580104.95], [240977.61, 580104.73], [240981.61, 580104.66], [240987.25, 580104.96], [241012.8, 580109.14], [241051.97, 580111.17], [241102.65, 580116.02], [241128.86, 580118.31], [241139.09, 580119.27], [241164.67, 580121.12], [241191.65, 580123.02], [241242.32, 580126.34], [241260.32, 580127.5], [241278.28, 580128.49], [241296.84, 580129.35], [241296.84, 580129.32], [241317.34, 580129.98], [241421.328, 580131.981], [241440.51, 580132.35], [241475.52, 580130.98], [241492.73, 580129.65], [241543.8, 580126.35], [241567.93, 580124.79], [241569.97, 580127.66], [241578.02, 580137.39], [241586.06, 580146.53], [241591.49, 580153.09], [241599.93, 580163.23], [241617.65, 580166.39], [241617.99, 580205.08], [241618.8, 580207.307], [241619.676, 580209.509], [241620.618, 580211.684], [241621.624, 580213.83], [241622.694, 580215.945], [241623.826, 580218.027], [241625.02, 580220.074], [241626.274, 580222.085], [241627.588, 580224.057], [241628.961, 580225.99], [241630.39, 580227.88], [241632.125, 580229.55], [241633.805, 580231.277], [241635.427, 580233.058], [241636.99, 580234.891], [241638.492, 580236.774], [241639.931, 580238.705], [241641.307, 580240.683], [241642.616, 580242.705], [241643.858, 580244.768], [241645.033, 580246.872], [241646.137, 580249.012], [241647.171, 580251.188], [241648.132, 580253.397], [241649.021, 580255.636], [241649.836, 580257.902], [241650.576, 580260.195], [241651.24, 580262.51], [241651.828, 580264.846], [241652.339, 580267.2], [241652.627, 580269.4], [241652.835, 580271.609], [241652.964, 580273.823], [241653.014, 580276.042], [241652.984, 580278.26], [241652.874, 580280.476], [241652.685, 580282.686], [241652.417, 580284.889], [241652.07, 580287.08], [241650.19, 580304.07], [241632.45, 580410.03], [241617.09, 580500.3], [241613.9, 580520.47], [241612.57, 580528.83], [241602.15, 580591.06], [241599.69, 580605.15], [241589.15, 580682.1], [241578.19, 580757.51], [241577.44, 580763.24], [241580.4, 580763.76], [241577.01, 580784.95], [241574.34, 580784.46], [241573.15, 580791.003], [241573.122, 580791.16], [241571.0, 580802.832], [241538.038, 580984.169], [241433.657, 580963.483], [241356.51, 580962.54], [241347.81, 581062.73], [241347.393, 581067.535], [241346.841, 581073.889], [241346.095, 581082.475], [241359.52, 581087.35], [241379.62, 581095.31], [241375.69, 581139.91], [241374.42, 581152.95], [241390.7, 581154.04], [241414.0, 581155.6], [241415.59, 581155.71], [241415.23, 581159.37], [241397.27, 581338.33], [241407.41, 581345.52], [241421.88, 581356.74], [241428.29, 581360.96], [241431.17, 581362.86], [241434.93, 581364.09], [241452.4, 581367.08], [241483.08, 581372.53], [241497.266, 581374.293], [241523.623, 581378.704], [241542.5, 581381.86], [241550.005, 581337.194], [241556.45, 581298.95], [241556.687, 581297.491], [241561.037, 581270.736], [241604.748, 581275.917], [241606.237, 581276.093], [241649.582, 581281.241], [241650.07, 581278.65], [241658.33, 581279.13], [241669.96, 581279.72], [241670.95, 581279.78], [241679.73, 581281.03], [241684.44, 581281.8], [241693.33, 581284.21], [241697.27, 581286.18], [241689.931, 581332.589], [241716.685, 581336.774], [241744.824, 581341.263], [241764.006, 581344.217], [241764.0, 581344.25], [241790.021, 581349.906], [241819.62, 581356.34], [241821.53, 581356.76], [241822.149, 581356.896], [241835.873, 581359.914], [241836.49, 581367.9], [241838.133, 581395.92], [241911.594, 581395.63], [241911.61, 581396.466], [241911.785, 581401.687], [241911.794, 581401.948], [241912.62, 581436.14], [241913.7, 581452.52], [241941.16, 581451.59], [241979.185, 581450.696], [241987.075, 581450.483], [242024.693, 581449.468], [242026.47, 581419.61], [242046.47, 581419.94], [242054.142, 581426.968], [242064.81, 581436.74], [242064.96, 581435.09], [242083.44, 581435.84], [242082.21, 581514.23], [242143.65, 581515.94], [242162.933, 581516.477], [242164.27, 581497.73], [242164.53, 581491.59], [242255.58, 581498.95], [242255.51, 581499.52], [242254.15, 581508.6], [242253.6, 581512.88], [242254.56, 581515.51], [242256.048, 581517.442], [242256.37, 581517.86], [242260.9, 581526.67], [242256.59, 581568.21], [242256.495, 581569.079], [242254.33, 581588.87], [242253.09, 581602.96], [242249.53, 581638.71], [242261.78, 581642.59], [242270.0, 581644.28], [242274.17, 581646.238], [242277.56, 581647.83], [242284.81, 581649.12], [242302.49, 581650.41], [242321.41, 581652.5], [242325.58, 581653.12], [242326.916, 581654.113], [242329.01, 581655.67], [242333.1, 581660.87], [242345.14, 581662.77], [242361.45, 581666.44], [242359.762, 581675.278], [242424.249, 581685.477], [242425.482, 581679.006], [242427.006, 581671.288], [242478.705, 581681.8], [242522.012, 581690.612], [242566.867, 581699.751], [242569.977, 581688.055], [242578.435, 581690.928], [242574.45, 581741.79], [242570.91, 581787.05], [242568.54, 581794.274], [242566.93, 581799.18], [242560.17, 581822.32], [242557.661, 581830.868], [242556.365, 581835.285], [242556.302, 581835.501], [242552.7, 581847.77], [242549.67, 581856.76], [242547.48, 581862.35], [242546.411, 581865.205], [242545.41, 581867.88], [242543.856, 581873.072], [242543.65, 581873.76], [242541.859, 581880.543], [242540.367, 581886.191], [242540.308, 581886.414], [242539.71, 581888.68], [242538.247, 581894.299], [242536.148, 581902.366], [242536.14, 581902.395], [242534.669, 581908.046], [242533.78, 581911.46], [242532.749, 581915.509], [242530.778, 581923.246], [242527.954, 581934.331], [242525.04, 581945.77], [242556.06, 581954.75], [242560.109, 581955.872], [242576.71, 581960.47], [242582.184, 581964.622], [242597.361, 581976.133], [242609.459, 581985.31], [242612.61, 581987.7], [242613.87, 581988.66], [242612.17, 581991.42], [242610.68, 581994.9], [242604.04, 582010.87], [242597.97, 582024.92], [242591.06, 582040.09], [242592.32, 582040.57], [242614.383, 582048.803], [242631.63, 582055.24], [242628.47, 582064.14], [242631.25, 582065.1], [242666.5, 582077.16], [242662.02, 582090.16], [242655.67, 582108.09], [242654.3, 582110.4], [242647.05, 582119.99], [242655.12, 582122.29], [242726.36, 582145.43], [242784.53, 582163.1], [242785.65, 582165.54], [242787.998, 582170.641], [242751.652, 582256.746], [242758.698, 582260.155], [242777.48, 582269.24], [242803.88, 582282.01], [242826.83, 582293.22], [242826.164, 582294.694], [242819.966, 582308.406], [242819.455, 582309.536], [242846.928, 582323.0], [242852.318, 582325.641], [242826.26, 582382.33], [242864.35, 582401.85], [242869.69, 582404.58], [242885.17, 582412.52], [242887.4, 582413.65], [242908.373, 582424.278], [242878.064, 582480.465], [242887.816, 582485.805], [242919.838, 582503.339], [242967.205, 582529.387], [243048.129, 582664.206], [243019.47, 582705.14], [243054.823, 582733.155], [243100.847, 582798.351], [243059.311, 582851.152], [243066.7, 582856.98], [243067.145, 582857.331], [243144.22, 582918.12], [243195.76, 582863.74], [243215.86, 582842.52], [243228.05, 582832.78], [243233.3, 582828.93], [243250.21, 582854.68], [243254.75, 582862.34], [243258.69, 582871.49], [243261.32, 582879.15], [243263.98, 582889.66], [243264.93, 582900.7], [243264.86, 582909.9], [243261.12, 582935.19], [243260.42, 582945.28], [243258.21, 582947.54], [243190.57, 583016.6], [243151.63, 583056.37], [243180.03, 583086.33], [243046.84, 583212.11], [243158.59, 583330.45], [243092.517, 583392.845], [243139.697, 583454.441], [243174.77, 583500.198], [243177.209, 583503.38], [243117.544, 583555.669], [243122.913, 583562.469], [243162.256, 583612.301], [243175.425, 583629.006], [243197.889, 583657.503], [243269.469, 583599.664], [243292.614, 583580.941], [243306.015, 583659.788], [243315.006, 583712.69], [243137.42, 583856.23], [243166.94, 583892.8], [243111.85, 583937.27], [243091.51, 583953.69], [243277.21, 583956.72], [243270.64, 583962.16], [243262.95, 583968.53], [243246.75, 583981.94], [243244.773, 583999.431], [243243.685, 584009.056], [243243.018, 584014.961], [243294.792, 584084.274], [243349.7, 584157.754], [243337.883, 584167.21], [243377.687, 584215.372], [243413.835, 584259.11], [243436.691, 584286.748], [243451.177, 584304.238], [243424.571, 584325.417], [243449.076, 584355.023], [243466.729, 584340.986], [243516.379, 584402.397], [243524.927, 584395.458], [243594.949, 584482.066], [243610.069, 584500.768], [243687.544, 584589.917], [243694.36, 584597.76], [243721.04, 584628.46], [243739.75, 584649.71], [243821.038, 584742.034], [243811.72, 584750.24], [243584.06, 584952.65], [243483.98, 585041.64], [243484.68, 585042.3], [243557.16, 585112.13], [243559.93, 585114.8], [243601.22, 585154.12], [243592.1, 585162.72], [243589.64, 585160.45], [243583.85, 585165.69], [243553.152, 585193.418], [243542.71, 585202.85], [243510.05, 585232.31], [243509.34, 585232.95], [243472.68, 585266.84], [243415.29, 585321.65], [243409.1, 585327.56], [243367.28, 585367.93], [243336.83, 585399.08], [243304.31, 585433.43], [243301.95, 585435.93], [243304.72, 585439.0], [243302.02, 585441.75], [243293.91, 585449.96], [243284.56, 585459.54], [243281.95, 585462.2], [243279.76, 585459.79], [243203.85, 585528.85], [243180.5, 585550.22], [243177.24, 585553.2], [243146.19, 585581.44], [243058.73, 585661.26], [243030.5, 585687.01], [243023.11, 585693.34], [242955.9, 585753.81], [242878.272, 585823.555], [242877.793, 585823.985], [242871.01, 585830.08], [242858.66, 585842.21], [242857.959, 585842.915], [242857.652, 585843.238], [242857.426, 585843.542], [242857.105, 585843.859], [242856.74, 585844.415], [242856.495, 585844.68], [242856.333, 585844.914], [242856.108, 585845.196], [242855.925, 585845.535], [242855.7, 585845.908], [242855.441, 585846.286], [242855.229, 585846.657], [242855.042, 585847.035], [242854.86, 585847.375], [242854.654, 585847.837], [242854.495, 585848.124], [242854.342, 585848.497], [242854.15, 585848.916], [242854.039, 585849.202], [242853.895, 585849.669], [242853.723, 585850.16], [242853.6, 585850.47], [242852.642, 585852.519], [242852.097, 585853.983], [242851.413, 585855.742], [242850.837, 585857.368], [242850.309, 585858.909], [242849.874, 585860.422], [242849.376, 585862.653], [242848.972, 585864.166], [242848.707, 585865.601], [242848.505, 585867.065], [242848.256, 585868.423], [242848.116, 585870.147], [242847.929, 585872.004], [242847.836, 585873.327], [242847.789, 585875.142], [242847.774, 585876.902], [242847.805, 585878.59], [242848.007, 585880.786], [242848.132, 585882.679], [242848.412, 585884.677], [242848.676, 585886.859], [242849.065, 585888.463], [242849.423, 585890.152], [242849.89, 585891.99], [242858.65, 585928.37], [242877.49, 586006.54], [242877.891, 586007.759], [242878.216, 586009.001], [242878.463, 586010.261], [242878.631, 586011.534], [242878.721, 586012.814], [242878.73, 586014.098], [242878.66, 586015.38], [242878.51, 586016.655], [242878.282, 586017.918], [242877.976, 586019.165], [242877.593, 586020.39], [242877.134, 586021.589], [242876.603, 586022.758], [242875.999, 586023.891], [242875.327, 586024.984], [242874.588, 586026.034], [242873.785, 586027.036], [242872.922, 586027.986], [242872.001, 586028.881], [242871.027, 586029.716], [242870.003, 586030.49], [242868.932, 586031.199], [242867.82, 586031.84], [242726.03, 586143.39], [242728.2, 586145.33], [242689.62, 586175.24], [242688.16, 586173.42], [242621.31, 586225.07], [242595.92, 586243.58], [242590.56, 586245.57], [242581.22, 586247.69], [242579.85, 586248.39], [242562.175, 586261.275], [242550.814, 586269.558], [242500.081, 586306.544], [242555.117, 586340.9], [242602.654, 586370.176], [242660.213, 586406.888], [242710.526, 586438.353], [242770.699, 586475.543], [242799.539, 586493.442], [242812.528, 586501.503], [242872.312, 586538.468], [242942.737, 586582.303], [243019.339, 586629.84], [243083.465, 586669.382], [243106.388, 586683.385], [243113.244, 586688.435], [243242.858, 586768.719], [243367.652, 586845.599], [243550.503, 586958.991], [243625.485, 587006.813], [243633.066, 587011.648], [243687.696, 587048.126], [243851.771, 587167.06], [244290.347, 587483.275], [244314.814, 587499.791], [244380.826, 587547.406], [244426.418, 587580.169], [244484.285, 587622.064], [244553.574, 587672.29], [244571.763, 587685.475], [244633.067, 587728.585], [244702.033, 587777.849], [244718.602, 587788.704], [244728.889, 587795.391], [244739.212, 587802.045], [244754.41, 587811.444], [244840.861, 587863.296], [244844.02, 587864.424], [244873.35, 587880.085], [244875.426, 587882.251], [244977.063, 587935.998], [245056.942, 587977.968], [245087.483, 587994.155], [245224.198, 588065.051], [245278.648, 588093.597], [245296.91, 588103.064], [245341.667, 588126.39], [245436.108, 588176.552], [245452.052, 588185.298], [245471.044, 588195.786], [245509.009, 588217.72], [245522.358, 588226.169], [245533.556, 588233.825], [245553.512, 588246.274], [245557.173, 588248.658], [245580.142, 588262.16], [245624.114, 588289.763], [245625.392, 588290.777], [245708.589, 588343.498], [245906.853, 588467.389], [245975.653, 588509.826], [246346.01, 588741.67], [246347.39, 588742.53], [246347.512, 588742.578], [246362.23, 588748.32], [246364.0, 588745.48], [246371.72, 588750.31], [246369.9, 588753.21], [246380.94, 588763.27], [246471.75, 588820.58], [246622.37, 588914.94], [246663.32, 588940.37], [246758.804, 589000.0], [246830.65, 589044.91], [246901.939, 589089.685], [246979.31, 589138.28], [246984.85, 589141.76], [247034.61, 589173.19], [247099.23, 589213.76], [247209.31, 589282.58], [247221.88, 589290.11], [247341.16, 589364.63], [247393.6, 589397.25], [247385.51, 589411.88], [247369.35, 589441.06], [247357.67, 589461.06], [247340.2, 589489.43], [247324.18, 589513.34], [247314.6, 589527.59], [247311.67, 589540.27], [247285.05, 589584.84], [247275.35, 589598.77], [247268.76, 589607.41], [247234.57, 589646.55], [247218.27, 589665.3], [247206.5, 589679.26], [247200.29, 589694.02], [247159.97, 589786.71], [247169.996, 589793.133], [247369.03, 589920.65], [247338.301, 589976.869], [247195.15, 590238.77], [247210.33, 590248.69], [247252.3, 590277.5], [247282.22, 590300.65], [247352.19, 590357.45], [247357.389, 590362.009], [247364.14, 590367.93], [247354.61, 590379.57], [247310.48, 590433.505], [247225.13, 590537.818], [247178.135, 590595.255], [247176.11, 590597.73], [247167.57, 590608.22], [247143.948, 590640.357], [247078.438, 590729.48], [246866.59, 591017.69], [246834.3, 591061.62], [246816.7, 591036.6], [246757.0, 590947.2], [246704.5, 590871.2], [246641.12, 590798.89], [246604.9, 590761.3], [246578.0, 590734.1], [246494.88, 590837.21], [246516.98, 590858.73], [246517.82, 590859.98], [246517.95, 590861.51], [246487.12, 590901.24], [246421.94, 590976.53], [246418.47, 590980.96], [246409.25, 590992.71], [246366.93, 591043.69], [246290.54, 591137.75], [246239.62, 591200.2], [246225.67, 591216.92], [246063.53, 591126.27], [246049.8, 591144.253], [245981.252, 591234.032], [245935.71, 591293.68], [245845.54, 591412.44], [245773.786, 591506.893], [245719.32, 591578.59], [245582.8, 591829.35], [245541.44, 591926.81], [245538.2, 591934.45], [245501.65, 592025.4], [245502.8, 592026.0], [245502.83, 592033.32], [245496.88, 592074.59], [245492.23, 592106.93], [245555.9, 592157.4], [245622.65, 592213.4], [245641.1, 592229.25], [245652.6, 592239.15], [245708.4, 592286.25], [245750.79, 592322.07], [245754.16, 592323.98], [245760.41, 592330.4], [245762.5, 592334.06], [245773.15, 592333.17], [245783.32, 592339.76], [245791.67, 592345.18], [245788.71, 592357.08], [245785.93, 592368.01], [245783.93, 592378.1], [245780.94, 592387.99], [245777.63, 592398.0], [245774.13, 592405.56], [245770.27, 592413.08], [245766.69, 592418.95], [245762.53, 592425.66], [245754.62, 592434.14], [245746.54, 592441.52], [245737.33, 592447.23], [245720.25, 592456.24], [245689.03, 592467.93], [245666.79, 592474.97], [245669.05, 592481.93], [245673.0, 592494.08], [245694.12, 592559.07], [245676.969, 592565.138], [245674.19, 592566.12], [245664.84, 592569.429], [245652.71, 592573.72], [245634.92, 592525.58], [245616.909, 592529.768], [245607.39, 592531.98], [245595.08, 592534.84], [245578.19, 592538.77], [245576.846, 592539.084], [245561.55, 592542.64], [245458.62, 592566.57], [245438.9, 592571.16], [245433.83, 592562.85], [245443.24, 592555.16], [245444.71, 592553.45], [245445.73, 592551.04], [245445.87, 592548.77], [245445.09, 592544.94], [245438.98, 592525.89], [245436.11, 592518.72], [245433.45, 592512.09], [245430.49, 592506.48], [245424.51, 592497.2], [245417.19, 592486.17], [245410.91, 592477.83], [245409.35, 592477.83], [245406.45, 592479.4], [245398.99, 592485.22], [245393.12, 592490.44], [245376.65, 592499.2], [245368.39, 592501.98], [245362.96, 592502.51], [245357.73, 592503.03], [245344.71, 592467.73], [245329.01, 592478.74], [245309.48, 592495.86], [245290.79, 592512.11], [245286.61, 592515.74], [245279.68, 592522.46], [245270.57, 592531.3], [245260.27, 592542.12], [245250.71, 592551.49], [245229.7, 592570.87], [245219.04, 592579.0], [245195.76, 592593.44], [245186.22, 592598.5], [245182.65, 592600.11], [245178.19, 592602.13], [245172.12, 592604.0], [245159.12, 592608.75], [245138.95, 592613.69], [245118.72, 592620.07], [245103.39, 592626.19], [245097.73, 592628.45], [245089.02, 592632.07], [245087.29, 592633.12], [245070.07, 592643.64], [245059.44, 592651.08], [245048.72, 592658.45], [245022.92, 592675.52], [245018.132, 592677.992], [245014.839, 592673.768], [245010.32, 592667.97], [245007.37, 592663.35], [244992.67, 592648.93], [244965.14, 592621.46], [244944.41, 592600.48], [244931.65, 592586.51], [244913.18, 592561.64], [244906.59, 592557.27], [244900.34, 592557.04], [244890.9, 592560.46], [244877.61, 592566.09], [244860.91, 592570.78], [244842.36, 592573.8], [244828.0, 592575.27], [244809.96, 592575.56], [244803.44, 592575.65], [244802.55, 592575.66], [244791.71, 592572.52], [244779.73, 592567.77], [244769.18, 592561.88], [244751.48, 592549.96], [244740.83, 592542.68], [244728.16, 592531.54], [244718.97, 592523.47], [244696.61, 592503.57], [244692.05, 592498.79], [244676.19, 592473.54], [244671.18, 592462.71], [244661.76, 592435.39], [244659.43, 592428.32], [244647.4, 592393.6], [244645.78, 592385.14], [244639.98, 592358.65], [244638.15, 592344.33], [244636.17, 592322.97], [244636.46, 592321.85], [244641.7, 592301.42], [244646.15, 592287.32], [244649.27, 592280.0], [244656.01, 592267.74], [244658.17, 592263.54], [244660.49, 592254.8], [244659.96, 592242.42], [244656.73, 592228.59], [244647.13, 592195.9], [244640.46, 592184.48], [244631.51, 592177.94], [244618.6, 592175.45], [244606.47, 592176.84], [244589.01, 592180.11], [244577.78, 592179.33], [244568.2, 592175.95], [244554.69, 592166.6], [244532.33, 592145.56], [244529.39, 592138.86], [244533.5, 592133.51], [244539.58, 592125.04], [244543.49, 592114.07], [244545.41, 592098.08], [244544.21, 592079.96], [244541.73, 592067.26], [244533.71, 592046.84], [244523.6, 592026.34], [244503.77, 591992.11], [244498.8, 591983.45], [244494.44, 591975.85], [244488.13, 591963.41], [244482.82, 591949.87], [244479.48, 591938.96], [244475.36, 591918.21], [244473.11, 591903.08], [244471.61, 591886.3], [244471.552, 591882.015], [244471.42, 591872.35], [244472.28, 591857.85], [244475.3, 591829.24], [244474.5, 591820.15], [244471.16, 591813.78], [244463.6, 591808.55], [244426.5, 591798.07], [244407.97, 591790.03], [244394.88, 591784.63], [244380.05, 591779.64], [244372.02, 591779.59], [244363.99, 591780.5], [244346.16, 591779.64], [244318.96, 591776.89], [244314.53, 591775.45], [244312.15, 591774.68], [244309.76, 591773.91], [244289.78, 591767.45], [244278.64, 591765.4], [244275.15, 591767.35], [244269.02, 591770.73], [244261.52, 591773.77], [244251.89, 591777.13], [244242.46, 591780.83], [244223.76, 591788.5], [244214.59, 591792.64], [244205.32, 591796.6], [244196.09, 591800.65], [244190.2, 591803.523], [244187.07, 591805.05], [244179.39, 591808.98], [244178.16, 591809.61], [244169.64, 591814.87], [244152.27, 591824.78], [244134.89, 591834.68], [244082.28, 591864.72], [244075.47, 591869.26], [244063.92, 591872.68], [244043.41, 591875.25], [244038.91, 591876.45], [244038.55, 591876.54], [244033.86, 591878.3], [244029.37, 591880.52], [244027.71, 591881.47], [244024.98, 591883.02], [244016.39, 591888.49], [244011.3, 591892.19], [244005.82, 591895.85], [243988.65, 591906.81], [243975.75, 591914.99], [243971.83, 591918.13], [243968.19, 591921.56], [243964.15, 591926.74], [243962.29, 591929.87], [243958.24, 591932.87], [243950.07, 591938.78], [243946.08, 591941.85], [243942.45, 591945.28], [243935.37, 591952.35], [243928.16, 591959.29], [243913.47, 591972.86], [243905.33, 591980.16], [243900.42, 591984.3], [243897.6, 591986.68], [243890.03, 591993.46], [243882.25, 591999.89], [243874.2, 592005.9], [243865.69, 592011.15], [243857.17, 592016.39], [243848.6, 592021.55], [243839.98, 592026.62], [243831.15, 592031.35], [243830.76, 592031.53], [243803.56, 592043.77], [243784.67, 592051.84], [243750.03, 592067.15], [243713.4, 592083.27], [243672.98, 592097.36], [243649.92, 592106.65], [243639.6, 592110.8], [243619.87, 592118.75], [243615.14, 592120.64], [243605.61, 592123.7], [243596.0, 592126.47], [243576.76, 592131.92], [243538.38, 592143.2], [243499.85, 592154.0], [243461.44, 592165.18], [243456.67, 592166.67], [243451.97, 592168.44], [243447.31, 592170.3], [243442.67, 592172.26], [243438.11, 592174.52], [243433.64, 592177.05], [243429.31, 592180.07], [243428.41, 592181.19], [243421.88, 592186.23], [243413.99, 592192.38], [243390.52, 592211.06], [243358.97, 592235.66], [243351.14, 592241.88], [243347.14, 592244.88], [243342.94, 592247.64], [243338.49, 592250.1], [243333.92, 592252.39], [243329.22, 592254.54], [243323.42, 592256.72], [243303.03, 592263.53], [243284.07, 592269.9], [243217.59, 592291.84], [243189.12, 592301.33], [243186.45, 592302.82], [243169.57, 592309.14], [243165.64, 592309.98], [243160.9, 592311.59], [243151.41, 592314.73], [243146.61, 592316.15], [243141.79, 592317.48], [243136.87, 592318.52], [243131.65, 592318.61], [243128.44, 592318.46], [243122.72, 592317.55], [243117.26, 592316.34], [243112.43, 592314.35], [243103.4, 592309.59], [243099.14, 592306.9], [243095.19, 592303.82], [243093.08, 592302.38], [243091.56, 592300.35], [243087.93, 592296.88], [243084.86, 592292.72], [243082.18, 592288.08], [243081.1, 592285.84], [243078.96, 592281.32], [243074.86, 592272.2], [243066.84, 592253.88], [243014.35, 592130.63], [243012.94, 592126.74], [242985.17, 592062.31], [242971.43, 592026.46], [242958.37, 591995.63], [242956.25, 591991.39], [242953.94, 591988.02], [242951.19, 591985.41], [242947.59, 591983.17], [242943.85, 591981.6], [242939.9, 591980.91], [242935.82, 591980.81], [242935.23, 591980.85], [242931.19, 591981.9], [242927.61, 591983.73], [242922.14, 591987.16], [242919.86, 591988.73], [242915.91, 591991.42], [242911.59, 591993.94], [242907.78, 591997.3], [242900.38, 592004.37], [242892.93, 592011.36], [242884.75, 592017.15], [242876.36, 592022.6], [242868.23, 592027.77], [242867.62, 592027.09], [242862.19, 592029.77], [242850.26, 592016.97], [242812.994, 591975.781], [242551.717, 591687.002], [242332.108, 591444.278], [242279.77, 591386.784], [242270.81, 591376.52], [242009.205, 591086.638], [241953.605, 591025.027], [241858.76, 590919.93], [241846.34, 590905.91], [241843.19, 590902.49], [241833.779, 590892.273], [241831.76, 590893.957], [241822.583, 590901.354], [241815.418, 590907.882], [241807.325, 590914.128], [241798.912, 590920.869], [241781.703, 590934.21], [241767.341, 590944.27], [241752.63, 590954.015], [241735.713, 590964.312], [241724.876, 590970.881], [241711.735, 590977.449], [241700.533, 590982.838], [241689.663, 590987.447], [241678.374, 590991.52], [241673.183, 590994.023], [241660.785, 591000.0], [241659.621, 591000.561], [241650.225, 591007.976], [241643.929, 591015.377], [241639.254, 591023.231], [241636.446, 591030.777], [241634.269, 591038.479], [241634.135, 591042.26], [241634.131, 591043.577], [241594.423, 591079.539], [241569.341, 591104.071], [241517.712, 591157.809], [241472.709, 591205.423], [241453.661, 591224.942], [241427.397, 591250.834], [241388.382, 591288.369], [241358.616, 591318.235], [241324.628, 591352.132], [241299.12, 591377.692], [241292.804, 591383.592], [241282.535, 591392.554], [241281.532, 591393.39], [241269.928, 591403.071], [241254.91, 591415.705], [241236.448, 591430.754], [241222.89, 591442.005], [241215.418, 591448.043], [241212.095, 591450.614], [241198.595, 591460.304], [241182.145, 591470.759], [241155.315, 591485.454], [241137.764, 591494.485], [241130.42, 591498.398], [241118.385, 591504.423], [241107.424, 591509.872], [241095.283, 591516.74], [241078.925, 591525.352], [241057.152, 591538.41], [241043.586, 591546.38], [241031.53, 591553.687], [241019.23, 591560.678], [241006.894, 591567.948], [240999.479, 591572.423], [240997.421, 591574.015], [240993.272, 591577.479], [240987.136, 591581.975], [240980.986, 591585.47], [240969.953, 591591.48], [240963.436, 591594.501], [240946.538, 591601.76], [240935.683, 591606.368], [240928.324, 591609.28], [240916.821, 591613.377], [240893.414, 591621.375], [240871.99, 591628.343], [240867.629, 591630.017], [240842.152, 591639.8], [240826.326, 591646.484], [240809.796, 591654.219], [240798.308, 591659.314], [240790.403, 591663.157], [240784.325, 591666.09], [240778.685, 591668.938], [240766.457, 591675.366], [240755.969, 591680.448], [240734.785, 591690.014], [240729.375, 591692.177], [240722.879, 591693.916], [240718.174, 591695.028], [240711.873, 591696.364], [240707.485, 591697.23], [240697.025, 591698.75], [240691.391, 591699.315], [240686.355, 591699.671], [240680.808, 591700.675], [240675.251, 591702.182], [240668.096, 591704.19], [240638.234, 591711.366], [240626.594, 591714.303], [240624.841, 591714.567], [240609.148, 591716.927], [240592.905, 591722.417], [240571.128, 591724.347], [240551.523, 591723.027], [240530.912, 591725.849], [240491.604, 591731.021], [240476.525, 591731.831], [240440.243, 591733.39], [240429.953, 591735.802], [240410.936, 591740.68], [240397.993, 591744.896], [240360.481, 591757.284], [240349.207, 591760.712], [240347.384, 591761.621], [240346.781, 591761.922], [240340.986, 591764.811], [240322.788, 591773.358], [240314.515, 591776.737], [240308.315, 591779.522], [240276.055, 591789.862], [240249.239, 591797.75], [240225.813, 591804.782], [240201.809, 591810.742], [240186.094, 591814.324], [240174.734, 591817.314], [240153.66, 591823.786], [240130.075, 591830.94], [240123.175, 591832.496], [240118.759, 591833.585], [240094.465, 591839.575], [240058.978, 591848.367], [240026.44, 591856.389], [239982.756, 591865.717], [239941.143, 591874.45], [239939.371, 591874.866], [239928.458, 591877.351], [239914.22, 591880.858], [239905.184, 591883.278], [239893.835, 591886.508], [239883.72, 591890.057], [239876.533, 591892.719], [239869.789, 591895.026], [239857.11, 591900.252], [239830.305, 591913.082], [239822.94, 591916.498], [239788.344, 591932.215], [239771.469, 591939.755], [239753.25, 591947.83], [239747.583, 591950.714], [239727.55, 591960.91], [239707.239, 591970.17], [239669.0, 591988.039], [239660.909, 591991.82], [239650.389, 591996.519], [239639.78, 592002.6], [239639.08, 592003.34], [239616.989, 592019.559], [239617.859, 592021.799], [239623.657, 592034.268], [239568.734, 592062.998], [239557.819, 592039.141], [239551.504, 592042.81], [239538.544, 592050.111], [239511.147, 592063.819], [239495.723, 592070.299], [239488.04, 592073.429], [239482.333, 592075.914], [239477.45, 592078.04], [239470.54, 592080.89], [239448.21, 592092.13], [239445.28, 592094.05], [239442.591, 592095.811], [239439.464, 592083.725], [239433.567, 592069.264], [239418.603, 592063.89], [239415.268, 592053.718], [239422.606, 592041.073], [239417.585, 592030.927], [239419.144, 592030.111], [239411.242, 592010.206], [239403.74, 591991.39], [239391.784, 591961.529], [239384.814, 591943.925], [239374.777, 591917.321], [239365.512, 591892.543], [239347.565, 591846.446], [239338.2, 591822.357], [239335.693, 591817.18], [239333.537, 591811.222], [239323.97, 591786.087], [239314.838, 591761.894], [239311.888, 591754.767], [239304.41, 591738.767], [239295.685, 591720.432], [239292.538, 591714.477], [239288.971, 591708.927], [239282.86, 591697.792], [239279.268, 591690.977], [239274.653, 591682.218], [239269.451, 591673.755], [239258.978, 591657.204], [239245.941, 591635.693], [239235.416, 591617.563], [239227.227, 591601.364], [239218.146, 591582.137], [239211.778, 591568.09], [239201.57, 591542.09], [239182.7, 591496.458], [239175.851, 591480.058], [239174.596, 591476.917], [239161.19, 591443.475], [239153.839, 591424.419], [239142.327, 591395.38], [239137.411, 591382.08], [239145.416, 591378.649], [239144.486, 591376.133], [239140.055, 591364.143], [239138.602, 591360.212], [239130.4, 591362.485], [239128.482, 591356.97], [239127.372, 591353.888], [239120.363, 591333.625], [239113.553, 591314.825], [239109.822, 591303.443], [239102.932, 591281.665], [239094.818, 591256.985], [239087.892, 591235.728], [239079.808, 591208.014], [239074.664, 591189.637], [239066.801, 591162.899], [239060.105, 591139.948], [239054.867, 591122.515], [239051.774, 591112.495], [239045.955, 591091.603], [239043.056, 591079.282], [239040.21, 591064.025], [239037.452, 591046.901], [239036.414, 591035.164], [239036.011, 591030.605], [239033.312, 591006.953], [239029.718, 590974.167], [239027.272, 590957.742], [239022.178, 590931.452], [239016.753, 590909.803], [239011.885, 590892.646], [239008.534, 590883.3], [238996.635, 590848.04], [238984.198, 590814.03], [238958.115, 590738.639], [238936.474, 590676.042], [238928.401, 590652.225], [238896.846, 590652.375], [238892.895, 590652.17], [238891.328, 590651.217], [238889.693, 590649.582], [238888.399, 590646.039], [238883.617, 590626.025], [238876.859, 590592.726], [238904.626, 590583.556], [238899.04, 590567.343], [238895.882, 590559.152], [238892.37, 590549.501], [238891.132, 590546.087], [238889.495, 590540.715], [238888.036, 590536.123], [238885.723, 590530.494], [238872.387, 590497.815], [238871.626, 590495.812], [238865.399, 590481.686], [238857.323, 590463.093], [238850.208, 590445.206], [238842.499, 590425.758], [238833.518, 590402.597], [238823.098, 590376.073], [238814.281, 590352.805], [238809.311, 590339.969], [238806.2, 590332.35], [238802.234, 590322.173], [238802.089, 590319.743], [238801.935, 590315.469], [238801.434, 590311.479], [238798.8, 590302.639], [238795.747, 590292.87], [238793.486, 590284.767], [238790.997, 590278.358], [238784.274, 590260.602], [238773.658, 590233.884], [238760.836, 590201.104], [238750.113, 590174.822], [238719.127, 590097.551], [238708.348, 590069.229], [238695.366, 590034.844], [238683.44, 590003.295], [238673.42, 589978.288], [238656.971, 589937.716], [238638.245, 589889.866], [238590.74, 589766.308], [238561.575, 589692.992], [238542.409, 589646.143], [238532.549, 589622.777], [238515.404, 589579.331], [238488.379, 589506.956], [238469.865, 589460.113], [238445.46, 589397.56], [238414.974, 589319.592], [238396.825, 589273.105], [238371.214, 589205.242], [238344.015, 589133.878], [238325.914, 589086.766], [238304.847, 589032.14], [238272.342, 588947.52], [238254.523, 588900.891], [238201.164, 588759.575], [238183.765, 588714.412], [238170.167, 588678.17], [238164.523, 588663.21], [238154.53, 588636.721], [238146.255, 588616.5], [238129.935, 588573.268], [238117.278, 588541.124], [238111.842, 588525.684], [238099.066, 588493.318], [238086.967, 588461.929], [238082.414, 588450.24], [238077.388, 588437.648], [238067.389, 588412.963], [238064.505, 588405.323], [238044.909, 588356.412], [238031.211, 588323.52], [238009.382, 588268.812], [237997.212, 588237.97], [237990.585, 588221.118], [237936.318, 588084.981], [237898.533, 587990.668], [237880.578, 587946.259], [237860.592, 587893.264], [237854.261, 587877.002], [237852.369, 587872.463], [237842.589, 587846.998], [237820.555, 587787.582], [237790.529, 587707.641], [237773.808, 587663.955], [237753.492, 587610.692], [237741.924, 587581.697], [237719.409, 587522.03], [237699.56, 587474.505], [237679.896, 587424.493], [237660.145, 587372.278], [237652.831, 587358.523], [237647.206, 587348.31], [237644.528, 587341.655], [237643.945, 587339.504], [237643.916, 587338.299], [237644.137, 587336.615], [237644.689, 587335.197], [237645.723, 587333.124], [237648.108, 587330.049], [237655.88, 587322.853], [237672.605, 587311.818], [237685.226, 587300.096], [237713.731, 587272.377], [237737.986, 587248.637], [237756.685, 587229.821], [237759.658, 587226.131], [237763.418, 587219.94], [237779.948, 587183.295], [237787.923, 587164.374], [237793.296, 587153.08], [237796.363, 587148.053], [237803.216, 587136.818], [237804.956, 587133.813], [237818.919, 587113.997], [237826.588, 587103.462], [237836.952, 587089.92], [237856.22, 587064.704], [237892.996, 587018.485], [237910.998, 586995.065], [237924.001, 586978.472], [237946.127, 586950.835], [237979.748, 586908.477], [238017.435, 586860.45], [238036.41, 586835.316], [238048.344, 586819.542], [238060.726, 586803.721], [238066.929, 586795.456], [238069.842, 586791.671], [238071.901, 586788.38], [238073.747, 586784.962], [238075.433, 586781.46], [238079.582, 586771.404], [238079.716, 586771.145], [238083.29, 586764.263], [238088.861, 586755.261], [238098.946, 586739.132], [238109.607, 586722.741], [238137.07, 586677.209], [238152.343, 586651.218], [238163.652, 586631.974], [238164.148, 586630.521], [238164.838, 586628.332], [238166.789, 586619.962], [238170.384, 586603.616], [238176.456, 586577.407], [238184.163, 586543.724], [238189.783, 586518.748], [238195.46, 586495.085], [238197.999, 586484.574], [238209.326, 586435.896], [238215.445, 586412.07], [238221.728, 586386.976], [238225.084, 586372.727], [238227.645, 586364.387], [238230.224, 586355.618], [238232.917, 586345.479], [238239.379, 586319.258], [238244.444, 586300.127], [238244.876, 586298.824], [238246.983, 586292.467], [238248.154, 586290.147], [238249.445, 586287.918], [238250.507, 586286.465], [238251.636, 586285.654], [238253.799, 586285.381], [238254.914, 586284.971], [238256.292, 586284.219], [238256.563, 586283.628], [238257.176, 586281.849], [238259.361, 586273.869], [238262.291, 586263.214], [238267.351, 586242.269], [238272.39, 586222.926], [238277.548, 586203.676], [238280.525, 586193.822], [238284.333, 586182.333], [238289.058, 586168.769], [238292.321, 586158.631], [238295.22, 586148.716], [238298.844, 586135.753], [238300.694, 586127.43], [238301.864, 586119.657], [238305.307, 586095.523], [238312.367, 586044.347], [238314.637, 586028.238], [238316.696, 586012.725], [238317.166, 586011.063], [238318.075, 586010.058], [238319.11, 586009.216], [238320.391, 586008.058], [238321.467, 586007.247], [238322.269, 586005.97], [238323.134, 586004.044], [238324.266, 585993.388], [238328.402, 585959.651], [238335.616, 585896.551], [238336.942, 585874.601], [238338.618, 585846.844], [238340.867, 585818.889], [238342.15, 585806.993], [238346.06, 585773.285], [238350.302, 585734.827], [238351.528, 585724.328], [238352.882, 585711.41], [238352.786, 585708.468], [238351.88, 585705.963], [238351.187, 585704.204], [238349.561, 585702.843], [238346.994, 585700.956], [238321.162, 585685.861], [238318.8, 585690.008], [238318.742, 585690.119], [238317.874, 585691.78], [238317.795, 585691.932], [238314.295, 585695.389], [238311.376, 585697.711], [238307.638, 585698.908], [238303.48, 585699.043], [238302.874, 585698.839], [238296.836, 585696.806], [238286.198, 585690.653], [238278.436, 585688.45], [238268.861, 585686.592], [238072.846, 585644.937], [238072.443, 585644.858], [238029.364, 585636.402], [237974.01, 585623.394], [237873.923, 585602.177], [237822.339, 585592.12], [237793.417, 585585.992], [237746.252, 585576.737], [237635.418, 585553.393], [237608.119, 585547.643], [237566.254, 585540.033], [237555.713, 585538.198], [237552.148, 585537.533], [237325.354, 585487.561], [237238.778, 585468.151], [237221.824, 585526.271], [237171.417, 585693.857], [237167.869, 585693.713], [237124.86, 585687.526], [237099.296, 585683.75], [237085.873, 585682.495], [237073.925, 585682.179], [237069.31, 585682.657], [237064.475, 585683.929], [237060.152, 585684.714], [237056.3, 585684.712], [236897.818, 585681.118], [236808.225, 585679.198], [236711.528, 585677.289], [236642.232, 585675.856], [236466.27, 585673.1], [236392.39, 585672.17], [236384.84, 585672.1], [236378.712, 585672.394], [236377.174, 585672.468], [236374.771, 585672.583], [236372.561, 585681.577], [236367.329, 585720.536], [236365.326, 585744.354], [236367.362, 585787.905], [236369.338, 585791.462], [236373.053, 585795.335], [236375.541, 585800.236], [236376.726, 585805.691], [236378.228, 585821.974], [236378.841, 585838.796], [236378.92, 585851.997], [236378.683, 585860.771], [236376.819, 585875.785], [236374.764, 585893.175], [236372.097, 585909.338], [236369.963, 585925.938], [236368.382, 585929.653], [236366.658, 585931.163], [236363.971, 585931.954], [236359.781, 585932.586], [236341.334, 585932.954], [236317.669, 585936.061], [236304.401, 585938.919], [236290.93, 585944.226], [236278.479, 585949.941], [236269.09, 585953.615], [236265.62, 585954.636], [236236.677, 585959.289], [236079.754, 585981.497], [236009.009, 585990.6], [235877.846, 586008.685], [235824.591, 586016.484], [235811.228, 586018.441], [235731.497, 586030.117], [235625.44, 586045.548], [235415.693, 586076.083], [235341.641, 586086.044], [235328.237, 586088.449], [235315.364, 586090.758], [235312.289, 586091.31], [235270.242, 586097.025], [235111.115, 586120.825], [235105.783, 586121.817], [235097.63, 586123.335], [235089.093, 586124.464], [235072.617, 586132.958], [235061.208, 586140.086], [235060.235, 586138.848], [235056.629, 586139.457], [235026.452, 586142.993], [235026.667, 586143.667], [235027.476, 586146.209], [235039.031, 586198.223], [235046.067, 586251.702], [235054.497, 586334.165], [235062.116, 586404.376], [235062.401, 586406.999], [235075.103, 586525.411], [235083.051, 586597.054], [235087.3, 586635.356], [235087.453, 586636.736], [235088.289, 586636.787], [235091.049, 586637.188], [235092.212, 586638.95], [235094.059, 586656.961], [235095.323, 586669.99], [235098.478, 586692.155], [235100.742, 586704.775], [235101.163, 586708.582], [235101.192, 586708.844], [235104.148, 586718.923], [235104.206, 586719.121], [235104.808, 586721.509], [235105.617, 586724.736], [235108.426, 586734.375], [235119.183, 586769.888], [235125.84, 586788.832], [235131.216, 586802.398], [235132.038, 586804.948], [235133.42, 586809.193], [235134.525, 586810.5], [235140.633, 586824.297], [235163.289, 586873.913], [235171.869, 586891.736], [235163.856, 586891.368], [235090.905, 586888.016], [235081.351, 586887.106], [234999.864, 586883.057], [234977.51, 586881.888], [234977.51, 586775.96], [234921.031, 586774.715], [234871.997, 586772.972], [234872.018, 586789.99], [234805.459, 586788.867], [234733.934, 586787.767], [234657.594, 586786.597], [234657.672, 586790.964], [234657.75, 586795.328], [234657.622, 586795.324], [234640.382, 586794.809], [234616.001, 586794.082], [234605.041, 586793.755], [234575.878, 586792.884], [234549.127, 586792.401], [234465.66, 586789.107], [234465.411, 586778.293], [234379.379, 586775.812], [234334.993, 586774.532], [234301.533, 586773.665], [234237.615, 586772.297], [234228.288, 586771.974], [234219.099, 586771.656], [234209.955, 586771.34], [234140.897, 586768.702], [234140.91, 586766.232], [234141.237, 586757.865], [234130.839, 586757.435], [234124.219, 586757.161], [234109.154, 586756.538], [234062.969, 586755.797], [234006.81, 586754.876], [233953.559, 586754.051], [233893.66, 586753.281], [233819.888, 586751.805], [233752.516, 586750.638], [233741.706, 586750.451], [233725.642, 586831.832], [233714.288, 586885.674], [233707.268, 586923.096], [233695.889, 586984.931], [233687.853, 586983.975], [233653.678, 586979.908], [233542.213, 586966.508], [233519.763, 586964.509], [233461.858, 586959.192], [233445.741, 586957.447], [233427.963, 586954.83], [233382.719, 586948.918], [233348.708, 586944.383], [233325.127, 586941.108], [233291.57, 586936.976], [233252.319, 586933.248], [233240.881, 586932.038], [233217.47, 586926.628], [233141.05, 586908.08], [233140.542, 586907.838], [233137.812, 586906.537], [233137.617, 586906.444], [233136.638, 586904.95], [233135.692, 586901.221], [233133.105, 586846.109], [233130.44, 586845.777], [233056.429, 586836.565], [232975.139, 586826.53], [232908.239, 586818.236], [232890.288, 586816.237], [232856.208, 586813.504], [232854.091, 586806.322], [232825.059, 586807.072], [232762.514, 586809.551], [232750.737, 586810.509], [232745.21, 586811.647], [232743.074, 586812.087], [232736.678, 586813.603], [232732.436, 586814.609], [232706.088, 586823.257], [232685.766, 586830.316], [232683.003, 586831.276], [232696.428, 586855.775], [232704.469, 586875.701], [232713.532, 586895.707], [232714.991, 586902.849], [232713.432, 586918.591], [232709.659, 586932.874], [232705.435, 586942.229], [232698.897, 586949.722], [232683.357, 586961.742], [232664.647, 586973.109], [232657.657, 586976.78], [232646.844, 586980.854], [232636.332, 586983.217], [232628.185, 586984.475], [232621.445, 586984.626], [232612.342, 586983.368], [232609.074, 586982.213], [232602.572, 586995.7], [232596.881, 587005.477], [232593.389, 587010.505], [232577.571, 587032.783], [232567.27, 587045.214], [232559.155, 587053.367], [232556.892, 587055.641], [232560.079, 587061.661], [232576.709, 587078.465], [232582.634, 587084.857], [232584.664, 587089.308], [232585.404, 587090.095], [232594.106, 587099.355], [232597.252, 587102.159], [232607.91, 587111.661], [232603.381, 587116.264], [232602.066, 587114.99], [232598.086, 587111.449], [232595.145, 587109.319], [232590.96, 587107.222], [232587.158, 587105.566], [232580.117, 587103.755], [232570.699, 587101.664], [232564.993, 587100.345], [232563.896, 587100.091], [232557.824, 587098.74], [232557.443, 587098.669], [232552.318, 587097.885], [232546.172, 587097.138], [232538.707, 587096.533], [232527.823, 587095.061], [232520.837, 587093.671], [232518.715, 587093.135], [232517.6, 587092.711], [232516.577, 587092.105], [232515.335, 587091.168], [232512.78, 587088.271], [232509.79, 587083.908], [232508.917, 587082.936], [232508.258, 587082.203], [232507.308, 587081.413], [232506.248, 587080.752], [232504.512, 587079.888], [232499.631, 587078.082], [232495.608, 587076.901], [232485.934, 587074.626], [232474.777, 587072.64], [232462.962, 587070.177], [232449.941, 587067.217], [232436.445, 587063.67], [232424.632, 587060.584], [232414.574, 587058.126], [232408.795, 587056.611], [232406.912, 587056.057], [232403.383, 587055.078], [232401.496, 587054.632], [232384.821, 587050.695], [232380.91, 587049.541], [232380.633, 587049.459], [232378.609, 587048.932], [232379.686, 587044.798], [232378.536, 587044.419], [232369.363, 587041.397], [232360.586, 587039.088], [232357.917, 587037.91], [232355.929, 587037.512], [232355.012, 587037.329], [232349.175, 587036.162], [232348.937, 587036.178], [232334.439, 587037.219], [232314.549, 587038.645], [232306.839, 587036.888], [232289.027, 587032.829], [232288.943, 587031.907], [232261.885, 587024.793], [232254.028, 587022.823], [232225.252, 587016.312], [232167.313, 587003.171], [232087.111, 586985.799], [232017.174, 586968.092], [231992.027, 586960.391], [231985.478, 586959.029], [231978.407, 586958.662], [231972.592, 586959.395], [231962.428, 586962.434], [231928.651, 586972.874], [231842.343, 586996.187], [231804.687, 587005.867], [231795.159, 587007.844], [231787.152, 587008.604], [231781.775, 587008.426], [231784.922, 587000.919], [231795.638, 586975.358], [231798.882, 586966.495], [231801.605, 586956.531], [231805.486, 586940.08], [231809.309, 586927.452], [231816.144, 586911.464], [231821.242, 586900.921], [231828.135, 586889.046], [231829.584, 586884.701], [231831.843, 586876.07], [231831.843, 586872.073], [231826.282, 586858.46], [231821.553, 586849.539], [231829.741, 586810.728], [231833.68, 586796.304], [231859.689, 586684.446], [231875.023, 586617.656], [231880.629, 586594.047], [231867.568, 586591.245], [231855.406, 586588.636], [231768.691, 586570.035], [231741.507, 586563.551], [231729.785, 586561.306], [231699.358, 586554.074], [231649.947, 586545.066], [231650.236, 586571.101], [231558.948, 586558.316], [231544.739, 586555.366], [231542.486, 586551.124], [231542.19, 586546.095], [231543.077, 586541.361], [231544.261, 586530.71], [231545.572, 586508.733], [231538.048, 586504.97], [231486.569, 586471.538], [231465.563, 586457.337], [231381.576, 586401.749], [231376.959, 586408.213], [231355.95, 586438.947], [231317.598, 586409.562], [231283.533, 586384.266], [231279.823, 586381.737], [231277.63, 586379.207], [231276.956, 586376.34], [231278.136, 586369.932], [231280.328, 586359.982], [231282.569, 586352.784], [231283.942, 586348.374], [231258.512, 586346.491], [231249.911, 586346.491], [231242.154, 586348.009], [231234.228, 586350.876], [231229.169, 586353.405], [231219.219, 586362.174], [231215.677, 586366.222], [231215.093, 586367.683], [231211.257, 586365.254], [231193.08, 586353.743], [231185.323, 586349.695], [231179.42, 586346.997], [231172.675, 586345.311], [231166.098, 586343.962], [231159.139, 586343.708], [231129.869, 586347.272], [231096.017, 586352.362], [231076.928, 586354.144], [231058.348, 586353.635], [231045.114, 586351.089], [231035.95, 586347.526], [231025.261, 586341.672], [231014.062, 586331.492], [231004.458, 586320.994], [231003.117, 586319.529], [230999.361, 586314.7], [230997.772, 586312.657], [230988.967, 586317.35], [230987.76, 586310.541], [230984.949, 586301.029], [230979.647, 586287.429], [230974.115, 586271.062], [230971.809, 586262.648], [230965.409, 586233.616], [230963.757, 586228.223], [230962.017, 586224.047], [230959.059, 586218.828], [230954.188, 586212.217], [230941.992, 586197.777], [230929.545, 586184.155], [230914.865, 586168.419], [230897.133, 586151.274], [230885.516, 586141.497], [230882.04, 586145.839], [230871.592, 586158.89], [230867.362, 586164.174], [230853.824, 586180.154], [230843.051, 586192.605], [230809.205, 586229.956], [230767.47, 586275.916], [230762.247, 586281.026], [230760.508, 586281.761], [230759.573, 586282.156], [230757.778, 586282.291], [230753.449, 586282.616], [230732.388, 586280.956], [230725.269, 586281.156], [230717.964, 586282.336], [230711.622, 586284.066], [230704.985, 586286.246], [230684.296, 586293.896], [230672.126, 586297.636], [230649.09, 586303.696], [230630.593, 586307.896], [230621.966, 586309.136], [230616.495, 586309.596], [230610.169, 586309.556], [230603.298, 586309.326], [230589.341, 586308.056], [230581.383, 586307.936], [230571.062, 586308.496], [230566.072, 586308.976], [230556.606, 586311.116], [230551.29, 586313.166], [230547.917, 586315.366], [230544.699, 586318.596], [230543.036, 586321.406], [230541.311, 586326.346], [230540.58, 586330.536], [230538.948, 586353.896], [230538.171, 586357.956], [230536.539, 586360.896], [230534.673, 586363.326], [230532.435, 586364.456], [230531.349, 586364.548], [230528.535, 586364.786], [230523.467, 586364.236], [230468.442, 586345.856], [230404.02, 586324.107], [230342.553, 586303.356], [230335.339, 586300.996], [230319.173, 586295.708], [230238.773, 586269.406], [230241.009, 586265.192], [230223.411, 586259.438], [230158.779, 586239.291], [230155.834, 586238.373], [230154.992, 586240.607], [230143.048, 586237.404], [230141.113, 586236.885], [230117.284, 586230.495], [230081.823, 586218.399], [230078.847, 586217.384], [230072.704, 586214.009], [230010.06, 586179.595], [230004.51, 586176.546], [230001.336, 586174.803], [229999.706, 586173.907], [229997.147, 586172.501], [229986.264, 586166.523], [229893.092, 586212.065], [229812.403, 586251.324], [229813.318, 586217.829], [229814.294, 586171.402], [229815.062, 586138.0], [229817.387, 586124.851], [229819.921, 586110.514], [229821.08, 586103.958], [229822.316, 586096.969], [229824.367, 586086.574], [229837.443, 586060.414], [229840.342, 586055.651], [229843.98, 586049.635], [229846.481, 586045.67], [229849.689, 586040.453], [229854.545, 586034.186], [229857.639, 586030.273], [229863.077, 586024.177], [229871.592, 586015.72], [229879.343, 586007.794], [229885.733, 586001.865], [229887.935, 585999.823], [229896.408, 585991.841], [229903.27, 585985.87], [229920.478, 585971.005], [229930.427, 585962.555], [229939.483, 585954.744], [229958.23, 585938.7], [229967.457, 585930.306], [229977.706, 585921.166], [229985.911, 585913.519], [229994.007, 585905.743], [230008.222, 585892.289], [230016.437, 585884.524], [230024.007, 585877.299], [230032.093, 585869.642], [230025.906, 585861.544], [230020.919, 585855.016], [230020.247, 585854.137], [230018.423, 585851.75], [230009.01, 585839.884], [230002.328, 585831.459], [229994.246, 585820.85], [229979.115, 585801.532], [229967.052, 585786.183], [229961.82, 585780.393], [229944.132, 585760.282], [229927.358, 585740.531], [229917.559, 585729.216], [229916.943, 585728.507], [229908.66, 585718.966], [229901.777, 585724.294], [229871.277, 585751.393], [229875.807, 585709.828], [229877.349, 585695.997], [229879.474, 585678.482], [229873.287, 585672.595], [229867.073, 585666.542], [229859.516, 585659.09], [229852.111, 585652.04], [229842.021, 585642.191], [229827.059, 585627.689], [229821.398, 585621.885], [229815.64, 585616.012], [229808.346, 585607.577], [229795.503, 585592.978], [229776.874, 585571.316], [229769.553, 585562.715], [229766.646, 585559.612], [229758.052, 585549.515], [229748.973, 585539.072], [229744.101, 585533.393], [229737.655, 585526.285], [229737.305, 585525.899], [229731.922, 585519.708], [229726.275, 585513.475], [229706.842, 585491.331], [229696.63, 585479.672], [229687.521, 585469.068], [229685.032, 585464.548], [229682.47, 585459.896], [229675.816, 585448.551], [229667.753, 585434.212], [229664.015, 585427.786], [229657.979, 585417.571], [229650.132, 585403.491], [229643.731, 585393.363], [229634.714, 585377.626], [229627.191, 585364.88], [229625.558, 585362.115], [229621.279, 585355.043], [229615.785, 585345.474], [229605.007, 585327.671], [229602.957, 585324.141], [229587.467, 585303.171], [229607.141, 585283.383], [229595.205, 585272.29], [229586.285, 585263.615], [229582.414, 585260.046], [229577.539, 585255.672], [229570.985, 585248.639], [229552.139, 585230.483], [229546.471, 585224.246], [229535.495, 585213.118], [229532.259, 585209.127], [229531.12, 585207.71], [229529.673, 585205.911], [229527.282, 585203.19], [229523.325, 585199.255], [229513.277, 585188.448], [229503.197, 585177.997], [229490.78, 585164.231], [229475.555, 585145.676], [229468.215, 585137.843], [229458.55, 585127.53], [229455.774, 585124.568], [229449.891, 585128.59], [229423.883, 585146.369], [229423.082, 585146.917], [229318.552, 585185.421], [229227.347, 585219.239], [229193.352, 585178.948], [229182.512, 585166.278], [229150.228, 585128.288], [229148.265, 585120.703], [229115.376, 585078.716], [229083.535, 585037.059], [229063.747, 585010.13], [229005.487, 584930.843], [229015.318, 584907.439], [229011.452, 584907.136], [228927.811, 584900.576], [228918.751, 584909.561], [228912.546, 584915.374], [228909.36, 584918.807], [228906.105, 584921.311], [228901.257, 584925.02], [228897.615, 584927.248], [228894.347, 584929.158], [228888.987, 584931.33], [228885.982, 584932.256], [228883.088, 584932.823], [228880.097, 584933.32], [228875.653, 584933.803], [228870.294, 584933.925], [228866.002, 584933.785], [228860.948, 584933.687], [228857.653, 584933.381], [228854.787, 584933.089], [228835.748, 584926.67], [228784.928, 584909.358], [228748.213, 584897.021], [228773.6, 584987.058], [228768.392, 584993.73], [228776.356, 585022.117], [228685.892, 585043.392], [228646.261, 585052.543], [228643.99, 585053.262], [228641.649, 585054.078], [228641.033, 585054.94], [228640.125, 585056.21], [228639.183, 585058.757], [228639.416, 585064.78], [228639.705, 585069.086], [228639.925, 585073.49], [228640.2, 585077.2], [228641.206, 585091.975], [228615.481, 585089.251], [228597.038, 585087.195], [228575.855, 585085.082], [228538.402, 585081.149], [228527.755, 585080.273], [228526.702, 585083.18], [228525.01, 585088.413], [228523.735, 585092.041], [228522.917, 585094.823], [228521.336, 585100.522], [228520.782, 585102.521], [228518.689, 585108.931], [228517.039, 585114.926], [228515.361, 585120.754], [228514.321, 585124.257], [228512.734, 585129.285], [228510.62, 585136.399], [228508.568, 585143.57], [228506.974, 585148.872], [228505.518, 585153.981], [228504.45, 585158.342], [228503.202, 585163.16], [228502.481, 585166.012], [228500.803, 585173.89], [228498.222, 585187.126], [228496.849, 585194.782], [228495.471, 585201.142], [228494.851, 585204.335], [228494.114, 585211.715], [228493.253, 585218.859], [228492.266, 585228.842], [228492.044, 585231.611], [228492.499, 585234.865], [228494.2, 585240.473], [228495.916, 585244.628], [228498.157, 585249.89], [228500.122, 585253.491], [228502.82, 585257.909], [228504.882, 585261.579], [228507.713, 585265.823], [228513.517, 585274.487], [228516.45, 585278.78], [228493.824, 585284.421], [228427.273, 585300.097], [228399.26, 585306.719], [228383.169, 585310.589], [228364.463, 585315.155], [228360.114, 585316.216], [228347.623, 585319.147], [228329.871, 585323.294], [228298.59, 585330.8], [228273.72, 585336.301], [228236.471, 585345.398], [228205.854, 585352.471], [228198.238, 585354.231], [228164.091, 585362.47], [228136.604, 585369.175], [228110.252, 585375.521], [228085.271, 585381.382], [228059.723, 585387.423], [228030.242, 585394.459], [228001.812, 585401.047], [228001.032, 585391.024], [227997.405, 585344.422], [227993.607, 585294.438], [227991.076, 585261.672], [227988.673, 585237.135], [227986.564, 585214.965], [227984.53, 585192.191], [227980.805, 585152.947], [227978.829, 585129.334], [227976.447, 585106.706], [227974.437, 585087.512], [227973.969, 585082.771], [227974.094, 585069.868], [227974.093, 585053.631], [227975.279, 585037.307], [227975.978, 585019.227], [227976.133, 585008.351], [227976.362, 584996.873], [227976.587, 584995.065], [227977.457, 584989.032], [227981.107, 584970.497], [227981.945, 584965.659], [227982.765, 584954.501], [227983.059, 584949.497], [227983.099, 584943.187], [227982.344, 584930.34], [227981.153, 584911.307], [227979.918, 584879.18], [227979.003, 584863.12], [227977.243, 584836.594], [227976.136, 584824.227], [227974.671, 584811.745], [227970.206, 584787.872], [227967.905, 584775.282], [227965.502, 584764.003], [227963.211, 584752.127], [227959.816, 584737.645], [227957.423, 584727.199], [227954.053, 584714.741], [227949.933, 584699.435], [227945.456, 584684.134], [227942.092, 584672.152], [227938.978, 584661.12], [227935.858, 584649.611], [227933.106, 584638.931], [227930.097, 584626.826], [227927.334, 584615.313], [227923.075, 584598.343], [227920.17, 584585.045], [227917.257, 584571.034], [227914.074, 584554.526], [227911.186, 584542.539], [227906.785, 584523.784], [227903.542, 584511.92], [227900.072, 584501.011], [227894.624, 584484.174], [227890.037, 584469.589], [227885.482, 584457.622], [227879.352, 584443.413], [227872.358, 584426.715], [227865.872, 584412.629], [227861.083, 584400.903], [227856.763, 584388.695], [227856.115, 584386.687], [227853.048, 584377.194], [227849.791, 584364.259], [227847.333, 584348.575], [227845.322, 584330.505], [227842.284, 584306.495], [227839.894, 584286.763], [227837.368, 584265.604], [227835.786, 584253.362], [227833.179, 584235.3], [227831.623, 584225.081], [227828.363, 584211.907], [227826.525, 584202.305], [227822.982, 584189.106], [227813.481, 584150.772], [227798.629, 584090.375], [227795.335, 584077.404], [227772.36, 583994.23], [227742.471, 583883.1], [227730.055, 583835.116], [227721.545, 583806.037], [227702.314, 583738.639], [227702.04, 583737.677], [227693.797, 583708.763], [227679.152, 583653.245], [227661.069, 583584.166], [227644.98, 583525.491], [227634.074, 583490.554], [227621.77, 583456.392], [227612.338, 583433.67], [227607.201, 583422.207], [227597.57, 583403.189], [227588.189, 583387.259], [227580.756, 583375.06], [227575.636, 583366.815], [227566.013, 583350.776], [227563.762, 583345.508], [227561.475, 583339.407], [227559.69, 583333.881], [227558.014, 583328.112], [227557.284, 583322.183], [227556.937, 583316.834], [227556.777, 583310.285], [227556.896, 583304.677], [227557.128, 583298.946], [227557.836, 583293.194], [227559.165, 583288.012], [227561.068, 583282.329], [227563.561, 583276.501], [227566.541, 583270.891], [227568.348, 583268.549], [227572.75, 583262.759], [227576.504, 583258.546], [227580.263, 583254.452], [227584.928, 583249.247], [227595.99, 583240.313], [227587.797, 583222.01], [227580.841, 583206.51], [227573.504, 583190.97], [227565.068, 583175.448], [227564.289, 583174.014], [227562.58, 583170.869], [227561.475, 583168.835], [227556.761, 583161.662], [227553.054, 583154.5], [227548.38, 583144.694], [227546.194, 583137.477], [227544.061, 583132.641], [227542.102, 583127.062], [227540.437, 583121.859], [227537.395, 583110.468], [227534.581, 583098.596], [227531.84, 583086.817], [227526.559, 583063.708], [227520.536, 583038.305], [227514.347, 583010.761], [227507.769, 582982.917], [227500.75, 582952.39], [227492.307, 582916.774], [227484.486, 582882.334], [227466.224, 582802.794], [227454.981, 582751.66], [227446.545, 582713.16], [227432.093, 582648.495], [227424.566, 582614.02], [227415.189, 582571.068], [227401.164, 582508.49], [227393.571, 582473.569], [227370.189, 582367.462], [227356.887, 582307.345], [227345.864, 582256.492], [227337.542, 582217.752], [227330.083, 582184.543], [227318.966, 582133.764], [227313.278, 582108.401], [227311.063, 582098.362], [227310.728, 582096.847], [227310.203, 582094.462], [227309.1, 582090.276], [227305.354, 582076.058], [227302.358, 582064.686], [227301.948, 582063.128], [227298.977, 582048.838], [227292.011, 582017.175], [227289.232, 582004.177], [227287.314, 581996.689], [227283.766, 581982.04], [227280.992, 581970.478], [227275.121, 581945.316], [227270.486, 581924.717], [227268.393, 581914.806], [227265.515, 581902.026], [227262.757, 581888.997], [227259.431, 581874.547], [227255.912, 581857.861], [227252.815, 581843.755], [227249.282, 581827.387], [227245.715, 581811.38], [227243.397, 581802.455], [227240.638, 581794.353], [227237.754, 581788.592], [227235.957, 581782.525], [227233.211, 581773.839], [227230.316, 581766.273], [227228.689, 581760.282], [227226.49, 581750.645], [227223.683, 581741.002], [227219.517, 581721.682], [227217.189, 581710.736], [227214.432, 581698.176], [227211.636, 581684.774], [227209.169, 581671.189], [227206.885, 581660.477], [227204.246, 581647.895], [227201.305, 581635.006], [227199.161, 581624.388], [227195.864, 581609.628], [227193.192, 581596.717], [227192.8, 581594.824], [227191.098, 581587.033], [227189.954, 581581.796], [227186.663, 581566.429], [227184.034, 581552.633], [227181.099, 581539.137], [227178.309, 581525.129], [227175.741, 581512.29], [227173.051, 581500.08], [227169.999, 581486.606], [227167.175, 581471.151], [227164.68, 581458.056], [227161.962, 581446.336], [227158.476, 581429.31], [227155.669, 581417.122], [227153.508, 581405.781], [227152.7, 581402.179], [227152.477, 581398.465], [227152.221, 581393.304], [227151.319, 581387.297], [227150.917, 581382.648], [227150.399, 581378.021], [227149.625, 581373.322], [227149.129, 581368.812], [227148.327, 581364.603], [227146.517, 581358.284], [227144.295, 581351.074], [227142.09, 581344.587], [227139.078, 581337.043], [227134.812, 581326.103], [227132.2, 581318.119], [227131.504, 581315.102], [227130.106, 581309.673], [227125.79, 581291.473], [227118.255, 581257.649], [227112.056, 581228.297], [227107.623, 581210.119], [227102.488, 581186.985], [227097.437, 581164.926], [227091.934, 581141.136], [227084.549, 581108.738], [227078.991, 581083.383], [227073.767, 581059.782], [227068.482, 581035.223], [227063.363, 581012.814], [227058.045, 580989.352], [227052.821, 580965.751], [227047.496, 580942.896], [227042.289, 580920.018], [227038.903, 580904.791], [227034.481, 580885.399], [227030.031, 580866.497], [227026.422, 580850.1], [227022.824, 580835.034], [227019.36, 580820.67], [227016.37, 580808.154], [227011.931, 580790.583], [227009.007, 580778.417], [227006.011, 580766.508], [227002.619, 580751.888], [227000.158, 580740.24], [226997.752, 580727.613], [226995.407, 580715.943], [226992.255, 580700.671], [226990.461, 580692.531], [226989.097, 580686.006], [226988.456, 580679.464], [226988.467, 580673.162], [226988.322, 580666.041], [226988.377, 580659.972], [226988.651, 580656.791], [226982.183, 580656.715], [226982.153, 580649.905], [226974.945, 580647.136], [226980.122, 580646.95], [226993.598, 580621.182], [226998.571, 580616.808], [227001.935, 580613.849], [227009.395, 580607.288], [227024.653, 580593.134], [227044.092, 580574.147], [227056.484, 580561.802], [227065.684, 580552.919], [227074.505, 580544.773], [227085.816, 580536.445], [227089.929, 580533.754], [227095.353, 580530.204], [227108.135, 580518.82], [227110.588, 580516.635], [227120.842, 580510.643], [227135.357, 580500.0], [227140.404, 580495.769], [227141.675, 580494.693], [227144.355, 580492.435], [227146.381, 580488.985], [227147.164, 580485.229], [227147.274, 580484.863], [227147.747, 580479.792], [227148.619, 580464.784], [227149.391, 580455.206], [227151.725, 580434.129], [227151.955, 580431.826], [227152.188, 580428.526], [227152.13, 580425.548], [227151.914, 580423.513], [227151.499, 580420.071], [227151.054, 580416.95], [227150.193, 580412.462], [227149.243, 580408.448], [227147.312, 580399.62], [227146.469, 580395.3], [227145.446, 580390.668], [227144.585, 580386.435], [227143.977, 580383.131], [227143.406, 580379.929], [227142.407, 580375.695], [227141.823, 580372.721], [227141.476, 580368.596], [227141.427, 580366.97], [227141.398, 580364.17], [227141.445, 580360.779], [227141.465, 580356.382], [227141.511, 580352.673], [227141.532, 580349.04], [227141.58, 580345.709], [227141.452, 580342.865], [227141.746, 580338.37], [227141.895, 580333.531], [227141.918, 580330.152], [227141.672, 580328.011], [227141.265, 580324.71], [227140.322, 580321.487], [227139.514, 580318.848], [227138.085, 580316.297], [227137.019, 580314.368], [227136.592, 580312.313], [227136.22, 580310.723], [227136.277, 580309.708], [227136.584, 580306.285], [227137.307, 580303.519], [227139.937, 580291.861], [227141.071, 580287.221], [227142.551, 580281.016], [227136.104, 580277.627], [227135.196, 580277.239], [227129.686, 580275.467], [227117.318, 580271.669], [227108.201, 580268.351], [227099.54, 580264.931], [227097.254, 580263.714], [227096.212, 580262.902], [227094.57, 580261.396], [227094.026, 580260.897], [227091.307, 580258.231], [227085.537, 580252.165], [227084.88, 580251.497], [227080.149, 580246.682], [227075.955, 580242.265], [227071.175, 580236.298], [227070.295, 580235.301], [227066.091, 580230.536], [227061.516, 580225.23], [227056.177, 580218.705], [227051.678, 580213.806], [227046.669, 580207.509], [227040.746, 580200.451], [227037.563, 580196.69], [227036.45, 580195.374], [227033.425, 580191.566], [227029.467, 580186.79], [227027.323, 580184.203], [227022.621, 580178.77], [227019.418, 580175.216], [227008.919, 580163.031], [227000.0, 580151.818], [226998.86, 580150.48], [226986.957, 580136.99], [226976.843, 580127.181], [226972.148, 580123.182], [226971.458, 580122.595], [226967.446, 580119.178], [226957.391, 580108.73], [226940.467, 580090.102], [226937.087, 580086.499], [226925.669, 580074.331], [226922.756, 580071.287], [226915.498, 580063.703], [226914.787, 580062.959], [226894.862, 580043.519], [226868.864, 580018.285], [226878.756, 579976.033], [226886.804, 579941.052], [226889.738, 579927.712], [226894.801, 579907.365], [226900.586, 579883.477], [226901.77, 579878.679], [226904.363, 579868.173], [226904.501, 579867.614], [226908.819, 579850.12], [226917.492, 579814.975], [226917.507, 579814.915], [226919.377, 579807.34], [226919.886, 579805.279], [227008.87, 579840.97], [227021.91, 579845.56], [227037.159, 579851.475], [227065.999, 579861.331], [227099.593, 579871.452], [227163.43, 579890.932], [227222.885, 579908.769], [227301.366, 579933.293], [227341.112, 579945.494], [227357.777, 579950.546], [227390.858, 579960.575], [227452.542, 579979.387], [227503.352, 579996.254], [227514.155, 580000.0], [227541.32, 580009.42], [227567.249, 580018.846], [227600.78, 580031.066], [227652.226, 580048.784], [227692.89, 580063.129], [227692.987, 580063.163], [227739.161, 580080.013], [227740.082, 580080.349], [227785.436, 580096.492], [227839.541, 580116.12], [227903.361, 580138.406], [227980.1, 580166.002], [227993.344, 580169.85], [228000.0, 580172.029], [228024.671, 580180.049], [228056.045, 580189.319], [228084.668, 580198.457], [228091.346, 580200.693], [228095.62, 580203.274], [228099.695, 580204.661], [228100.291, 580205.438], [228104.416, 580207.034], [228120.117, 580212.4], [228138.753, 580217.667], [228169.596, 580225.759], [228180.21, 580228.32], [228191.998, 580230.547], [228208.63, 580233.69], [228230.31, 580236.93], [228256.99, 580240.97], [228263.327, 580241.581], [228283.42, 580243.52], [228287.555, 580243.792], [228323.29, 580246.14], [228364.1, 580247.15], [228383.34, 580247.12], [228394.61, 580246.49], [228400.62, 580246.48], [228400.613, 580226.849], [228400.61, 580218.765], [228400.61, 580217.58], [228400.797, 580216.852], [228403.99, 580204.39], [228410.5, 580195.41], [228420.29, 580191.11], [228434.27, 580189.5], [228456.589, 580187.392], [228483.72, 580184.83], [228523.849, 580181.276], [228533.51, 580180.42], [228583.47, 580175.69], [228600.198, 580174.245], [228602.973, 580174.005], [228603.838, 580173.93], [228611.6, 580173.26], [228616.096, 580173.004], [228616.654, 580171.879], [228617.183, 580170.484], [228617.616, 580168.994], [228618.241, 580167.214], [228619.01, 580164.473], [228620.645, 580159.135], [228622.569, 580152.065], [228624.07, 580145.467], [228624.647, 580142.437], [228626.474, 580134.069], [228627.196, 580131.039], [228628.302, 580127.336], [228629.177, 580124.681], [228630.139, 580122.229], [228631.053, 580119.776], [228632.159, 580117.419], [228633.313, 580115.255], [228634.419, 580113.187], [228635.91, 580110.879], [228638.363, 580107.272], [228640.248, 580104.906], [228642.604, 580101.732], [228646.452, 580096.586], [228648.215, 580095.778], [228651.213, 580090.093], [228654.589, 580085.755], [228658.725, 580081.042], [228660.889, 580078.974], [228662.765, 580077.195], [228666.131, 580073.78], [228670.854, 580069.154], [228673.884, 580066.365], [228675.567, 580064.922], [228677.202, 580063.431], [228682.156, 580059.391], [228695.92, 580047.984], [228705.875, 580040.0], [228731.422, 580019.599], [228737.296, 580014.816], [228739.006, 580013.027], [228739.121, 580012.907], [228745.609, 580006.644], [228752.123, 580000.582], [228802.974, 579959.205], [228808.908, 579961.452], [228810.111, 579961.911], [228826.761, 579968.258], [228864.178, 579982.524], [228871.026, 579967.265], [228871.801, 579965.539], [228873.373, 579962.061], [228874.863, 579958.763], [228877.585, 579952.784], [228878.634, 579950.481], [228883.88, 579938.957], [228880.585, 579933.786], [228877.95, 579928.282], [228876.121, 579920.845], [228874.18, 579910.359], [228872.419, 579892.576], [228872.7, 579885.415], [228873.266, 579871.652], [228873.753, 579865.594], [228876.159, 579840.204], [228880.73, 579808.531], [228883.843, 579789.288], [228889.091, 579762.516], [228890.888, 579752.601], [228892.138, 579746.27], [228892.54, 579745.024], [228901.421, 579710.414], [228906.827, 579692.915], [228909.876, 579685.079], [228912.301, 579680.649], [228918.527, 579673.157], [228926.759, 579665.023], [228930.078, 579661.963], [228938.314, 579654.997], [228945.361, 579649.814], [228953.551, 579644.348], [228965.243, 579637.574], [228978.818, 579631.605], [228984.888, 579630.542], [228995.531, 579629.386], [229000.716, 579629.647], [229004.189, 579629.574], [229022.413, 579631.128], [229026.582, 579631.448], [229032.377, 579631.713], [229038.349, 579631.799], [229054.94, 579630.64], [229057.761, 579630.214], [229069.123, 579628.496], [229073.993, 579627.899], [229080.58, 579626.505], [229093.703, 579624.14], [229098.072, 579623.443], [229105.542, 579623.094], [229120.24, 579624.197], [229121.117, 579624.313], [229128.989, 579625.342], [229131.36, 579625.94], [229138.718, 579627.862], [229150.445, 579632.379], [229172.172, 579641.774], [229191.675, 579651.118], [229194.105, 579652.236], [229196.267, 579653.119], [229226.284, 579664.729], [229253.934, 579674.871], [229285.805, 579685.79], [229315.638, 579695.164], [229323.855, 579698.293], [229327.747, 579700.036], [229332.629, 579701.116], [229337.29, 579702.442], [229355.195, 579707.392], [229376.162, 579713.657], [229405.405, 579723.638], [229478.595, 579748.251], [229485.685, 579750.695], [229494.594, 579753.824], [229512.372, 579759.697], [229514.536, 579761.014], [229517.156, 579761.871], [229520.029, 579762.321], [229525.827, 579764.084], [229529.871, 579765.268], [229536.635, 579766.927], [229555.431, 579773.002], [229571.303, 579778.5], [229584.403, 579783.598], [229586.388, 579784.431], [229632.678, 579799.505], [229639.285, 579801.838], [229691.03, 579820.133], [229706.986, 579825.782], [229749.7, 579839.687], [229760.505, 579843.23], [229762.431, 579843.861], [229767.434, 579845.502], [229795.857, 579854.592], [229803.03, 579856.615], [229809.727, 579858.504], [229814.626, 579859.435], [229818.63, 579859.128], [229819.604, 579859.031], [229826.714, 579856.992], [229838.893, 579852.222], [229839.958, 579851.686], [229846.088, 579848.601], [229852.154, 579845.548], [229854.285, 579844.042], [229858.366, 579841.16], [229870.197, 579832.806], [229888.213, 579817.154], [229898.384, 579807.081], [229899.292, 579805.964], [229913.623, 579792.171], [229931.102, 579774.764], [229942.044, 579763.961], [229952.662, 579755.535], [229963.525, 579749.839], [229974.021, 579745.912], [229981.504, 579743.106], [229990.453, 579739.636], [229995.794, 579739.042], [230019.104, 579735.878], [230019.295, 579729.283], [230019.627, 579717.81], [230019.67, 579716.338], [230020.149, 579714.764], [230020.691, 579713.21], [230021.297, 579711.681], [230021.965, 579710.177], [230022.695, 579708.702], [230023.484, 579707.258], [230024.332, 579705.848], [230025.236, 579704.474], [230026.197, 579703.137], [230027.211, 579701.842], [230028.278, 579700.589], [230029.395, 579699.381], [230204.047, 579562.969], [230218.947, 579551.331], [230220.273, 579551.818], [230221.623, 579552.231], [230222.995, 579552.568], [230224.383, 579552.829], [230225.783, 579553.013], [230227.192, 579553.119], [230228.604, 579553.146], [230230.015, 579553.096], [230231.422, 579552.967], [230232.819, 579552.761], [230234.203, 579552.478], [230235.569, 579552.118], [230236.913, 579551.684], [230238.23, 579551.176], [230239.518, 579550.595], [230240.771, 579549.944], [230241.987, 579549.225], [230243.161, 579548.44], [230244.289, 579547.591], [230245.369, 579546.68], [230246.397, 579545.711], [230247.369, 579544.687], [230248.284, 579543.611], [230249.137, 579542.485], [230249.927, 579541.314], [230250.651, 579540.102], [230251.306, 579538.851], [230251.891, 579537.565], [230252.404, 579536.249], [230252.844, 579534.907], [230253.208, 579533.542], [230253.496, 579532.16], [230253.708, 579530.763], [230253.842, 579529.357], [230253.897, 579527.946], [230253.875, 579526.534], [230253.774, 579525.125], [230253.698, 579523.987], [230253.696, 579522.847], [230253.769, 579521.709], [230253.916, 579520.578], [230254.136, 579519.459], [230254.365, 579518.575], [230254.64, 579517.703], [230254.959, 579516.847], [230255.323, 579516.009], [230261.301, 579508.955], [230264.044, 579511.229], [230334.895, 579569.962], [230358.839, 579589.811], [230356.842, 579592.253], [230361.336, 579596.163], [230367.879, 579601.857], [230370.137, 579603.822], [230366.325, 579610.287], [230370.81, 579613.61], [230376.912, 579619.91], [230393.92, 579637.47], [230414.56, 579663.97], [230413.44, 579660.76], [230413.78, 579659.478], [230414.28, 579657.59], [230415.39, 579655.83], [230417.9, 579653.82], [230419.374, 579653.02], [230420.46, 579652.43], [230418.932, 579648.452], [230417.84, 579645.61], [230418.61, 579644.86], [230441.94, 579635.94], [230481.17, 579621.59], [230498.29, 579615.08], [230563.212, 579590.943], [230563.452, 579590.854], [230577.429, 579585.658], [230579.59, 579584.83], [230615.524, 579571.495], [230642.06, 579561.63], [230702.801, 579540.119], [230707.74, 579538.37], [230732.612, 579530.363], [230736.69, 579529.05], [230776.45, 579517.33], [230801.46, 579510.58], [230838.255, 579499.907], [230859.263, 579493.814], [230883.27, 579486.85], [230926.478, 579473.899], [230978.59, 579458.93], [231001.156, 579452.749], [231065.26, 579435.19], [231114.238, 579422.638], [231163.55, 579410.0], [231165.33, 579408.29], [231168.04, 579402.81], [231167.52, 579401.8], [231167.57, 579399.64], [231168.46, 579397.61], [231170.3, 579397.12], [231172.71, 579397.43], [231193.263, 579415.153], [231233.61, 579405.784], [231261.973, 579399.38], [231282.936, 579394.834], [231308.749, 579389.894], [231309.205, 579389.818], [231406.842, 579373.649], [231363.159, 579345.618], [231354.36, 579339.673], [231343.127, 579332.083], [231340.724, 579331.072], [231345.948, 579311.227], [231357.064, 579268.999], [231358.175, 579264.78], [231363.15, 579245.674], [231368.639, 579224.594], [231369.43, 579221.556], [231369.607, 579220.875], [231369.874, 579219.852], [231374.014, 579207.0], [231374.109, 579206.706], [231380.377, 579187.251], [231380.43, 579187.084], [231381.307, 579184.363], [231394.803, 579141.373], [231395.254, 579139.938], [231395.469, 579117.133], [231395.555, 579108.03], [231402.521, 579083.071], [231409.516, 579058.006], [231409.979, 579056.312], [231412.615, 579046.672], [231419.268, 579022.338], [231424.423, 579003.485], [231426.43, 578996.145], [231430.536, 578981.768], [231433.594, 578971.061], [231438.291, 578954.613], [231441.598, 578943.033], [231446.294, 578926.588], [231446.513, 578925.82], [231448.557, 578918.664], [231450.83, 578910.623], [231454.116, 578899.0], [231459.088, 578881.411], [231459.114, 578881.321], [231467.965, 578850.014], [231471.062, 578839.058], [231474.009, 578828.644], [231474.352, 578827.432], [231479.718, 578808.466], [231480.675, 578805.084], [231483.038, 578796.732], [231487.72, 578780.188], [231488.085, 578778.9], [231490.423, 578770.636], [231492.342, 578763.885], [231494.992, 578754.564], [231497.8, 578744.689], [231503.539, 578724.501], [231503.605, 578724.27], [231509.186, 578704.64], [231512.539, 578692.846], [231514.339, 578686.515], [231517.265, 578676.222], [231518.365, 578672.491], [231524.154, 578652.85], [231527.614, 578641.111], [231533.261, 578621.954], [231533.661, 578620.597], [231538.445, 578604.365], [231540.103, 578598.663], [231541.066, 578595.35], [231547.603, 578572.863], [231553.44, 578553.321], [231559.957, 578531.502], [231562.126, 578524.241], [231562.765, 578522.101], [231571.42, 578492.223], [231576.103, 578476.058], [231579.694, 578463.663], [231588.376, 578433.695], [231592.605, 578419.097], [231597.773, 578398.335], [231601.974, 578381.457], [231602.022, 578381.263], [231602.207, 578380.519], [231607.36, 578359.817], [231613.534, 578335.014], [231615.145, 578328.475], [231622.591, 578298.259], [231627.325, 578279.048], [231632.844, 578256.65], [231633.077, 578255.703], [231634.036, 578251.812], [231635.985, 578244.045], [231640.954, 578224.244], [231644.005, 578212.084], [231646.12, 578203.656], [231647.503, 578198.794], [231650.714, 578187.502], [231654.009, 578175.915], [231656.52, 578167.087], [231661.09, 578151.424], [231661.252, 578150.869], [231664.464, 578139.861], [231669.029, 578127.867], [231669.258, 578127.284], [231673.675, 578116.059], [231675.619, 578111.118], [231680.441, 578100.846], [231683.431, 578095.546], [231683.544, 578095.346], [231685.053, 578092.671], [231689.212, 578086.827], [231689.941, 578085.803], [231693.857, 578080.303], [231703.291, 578068.353], [231706.74, 578064.904], [231707.483, 578064.161], [231719.432, 578053.05], [231725.577, 578047.947], [231731.801, 578042.778], [231739.767, 578035.651], [231747.104, 578029.571], [231756.537, 578021.605], [231757.545, 578020.785], [231765.552, 578014.268], [231777.71, 578005.883], [231787.563, 577999.384], [231793.433, 577995.537], [231800.636, 577991.129], [231807.478, 577986.942], [231817.121, 577981.492], [231827.812, 577975.622], [231833.931, 577972.645], [231843.325, 577968.075], [231856.532, 577961.577], [231873.093, 577952.982], [231885.671, 577946.693], [231894.5, 577941.069], [231898.249, 577938.517], [231913.552, 577925.73], [231924.034, 577916.925], [231934.306, 577907.492], [231940.339, 577901.124], [231941.853, 577899.526], [231950.448, 577890.931], [231961.348, 577879.537], [231969.105, 577871.361], [231976.861, 577862.976], [231977.925, 577861.839], [231982.941, 577856.477], [231988.391, 577850.608], [231994.051, 577844.109], [231998.453, 577839.078], [232002.436, 577834.256], [232010.193, 577826.08], [232012.794, 577823.401], [232017.111, 577818.953], [232024.448, 577810.777], [232030.737, 577804.069], [232036.607, 577797.57], [232040.38, 577792.959], [232044.782, 577787.927], [232048.346, 577783.315], [232051.281, 577778.284], [232052.458, 577776.283], [232055.474, 577771.157], [232058.666, 577765.932], [232060.085, 577763.61], [232064.697, 577755.434], [232068.051, 577749.565], [232071.182, 577743.576], [232072.035, 577741.944], [232076.646, 577732.93], [232079.162, 577727.899], [232080.21, 577725.803], [232084.612, 577717.627], [232091.111, 577706.516], [232098.029, 577694.148], [232104.528, 577683.457], [232108.911, 577676.405], [232109.349, 577675.7], [232113.122, 577670.46], [232119.412, 577661.026], [232123.671, 577655.334], [232126.36, 577651.74], [232132.048, 577643.796], [232146.251, 577617.658], [232149.306, 577610.902], [232152.019, 577604.904], [232154.416, 577598.892], [232157.565, 577589.468], [232160.919, 577580.034], [232164.692, 577569.762], [232168.465, 577559.071], [232171.61, 577550.267], [232174.964, 577540.204], [232176.816, 577534.34], [232186.322, 577508.401], [232189.004, 577499.584], [232237.107, 577508.015], [232237.272, 577507.01], [232253.403, 577507.523], [232281.102, 577523.184], [232294.524, 577536.382], [232304.914, 577546.598], [232315.486, 577556.878], [232374.005, 577607.175], [232381.437, 577613.563], [232393.517, 577624.042], [232405.345, 577633.733], [232433.917, 577655.064], [232434.291, 577652.752], [232523.011, 577714.964], [232594.048, 577765.188], [232592.789, 577767.13], [232615.37, 577783.294], [232628.404, 577759.917], [232757.2, 577531.0], [232764.356, 577518.28], [232870.342, 577329.886], [232880.165, 577312.425], [232977.787, 577138.898], [232985.2, 577125.721], [233023.791, 577143.187], [233027.394, 577131.905], [233031.188, 577120.252], [233038.901, 577106.957], [233050.693, 577086.738], [233054.385, 577081.239], [233060.217, 577076.072], [233065.546, 577070.775], [233068.556, 577063.529], [233069.153, 577058.872], [233069.816, 577053.779], [233071.553, 577048.387], [233076.528, 577039.356], [233081.554, 577032.254], [233087.97, 577024.605], [233091.435, 577015.125], [233093.053, 577008.612], [233094.039, 577002.279], [233095.531, 576995.765], [233097.453, 576990.933], [233100.845, 576983.069], [233104.288, 576977.009], [233108.431, 576969.96], [233112.581, 576961.854], [233115.775, 576955.232], [233122.596, 576943.483], [233128.662, 576931.354], [233132.753, 576922.564], [233136.692, 576917.876], [233140.305, 576914.677], [233143.103, 576910.911], [233144.761, 576907.942], [233146.674, 576904.541], [233147.638, 576901.69], [233152.841, 576889.153], [233165.715, 576867.317], [233165.729, 576867.293], [233170.147, 576852.039], [233173.729, 576844.052], [233177.17, 576838.24], [233182.871, 576833.942], [233185.726, 576831.171], [233189.872, 576823.501], [233192.622, 576817.434], [233196.449, 576810.506], [233203.473, 576796.582], [233209.389, 576788.184], [233215.809, 576779.79], [233217.295, 576776.276], [233224.034, 576767.546], [233224.568, 576766.66], [233225.867, 576764.507], [233227.644, 576761.56], [233228.074, 576760.71], [233234.286, 576748.464], [233244.82, 576729.826], [233260.59, 576703.38], [233260.869, 576702.913], [233265.313, 576696.246], [233271.98, 576681.432], [233283.091, 576664.395], [233288.62, 576655.508], [233290.004, 576653.284], [233295.19, 576642.42], [233302.35, 576625.63], [233311.288, 576609.531], [233321.165, 576594.47], [233326.597, 576582.865], [233330.794, 576570.272], [233338.202, 576557.186], [233345.321, 576544.939], [233348.098, 576539.572], [233348.202, 576539.399], [233352.276, 576531.26], [233364.139, 576516.127], [233372.893, 576501.945], [233380.762, 576487.087], [233388.983, 576470.474], [233393.048, 576461.105], [233395.26, 576451.589], [233396.541, 576446.08], [233397.305, 576442.793], [233405.934, 576400.603], [233411.153, 576379.341], [233412.946, 576373.128], [233416.779, 576355.821], [233417.48, 576347.435], [233418.34, 576336.982], [233420.839, 576327.446], [233423.479, 576319.096], [233427.892, 576303.033], [233438.588, 576256.44], [233447.362, 576220.376], [233459.417, 576172.514], [233467.778, 576143.082], [233470.05, 576135.327], [233476.711, 576112.588], [233477.706, 576109.191], [233478.644, 576104.49], [233479.632, 576098.912], [233479.914, 576097.442], [233480.017, 576096.903], [233483.023, 576081.237], [233483.162, 576080.375], [233484.813, 576070.147], [233484.921, 576069.475], [233485.624, 576065.121], [233487.251, 576057.385], [233487.794, 576054.541], [233488.02, 576053.346], [233491.194, 576036.562], [233492.711, 576028.541], [233493.889, 576022.311], [233497.372, 576003.898], [233499.049, 575995.649], [233502.418, 575979.074], [233510.89, 575939.137], [233520.048, 575905.645], [233522.385, 575897.096], [233524.19, 575890.496], [233527.094, 575879.877], [233528.13, 575876.088], [233532.703, 575859.365], [233534.143, 575854.097], [233536.286, 575844.316], [233536.668, 575842.57], [233542.192, 575817.356], [233546.083, 575799.591], [233550.236, 575787.132], [233554.908, 575773.635], [233558.542, 575761.696], [233559.59, 575757.82], [233563.733, 575742.489], [233569.962, 575716.014], [233572.663, 575705.707], [233573.079, 575704.12], [233573.892, 575701.018], [233580.142, 575677.174], [233580.734, 575674.914], [233581.015, 575673.844], [233594.787, 575621.298], [233595.384, 575619.019], [233599.337, 575603.935], [233608.22, 575570.04], [233609.975, 575563.109], [233610.484, 575561.099], [233618.602, 575529.03], [233625.751, 575508.341], [233625.767, 575508.296], [233633.864, 575474.835], [233635.076, 575463.509], [233636.979, 575445.765], [233639.266, 575433.758], [233639.8, 575430.956], [233641.567, 575421.675], [233642.592, 575416.297], [233643.208, 575413.061], [233645.804, 575401.381], [233646.121, 575397.686], [233647.627, 575380.867], [233649.015, 575368.705], [233649.043, 575368.457], [233649.383, 575365.476], [233649.997, 575360.098], [233650.01, 575359.98], [233652.069, 575344.605], [233656.73, 575309.81], [233657.616, 575307.357], [233658.08, 575306.072], [233669.29, 575275.05], [233673.064, 575263.186], [233675.33, 575256.06], [233687.7, 575207.56], [233690.91, 575198.565], [233694.105, 575189.612], [233707.555, 575197.354], [233737.47, 575214.572], [233786.025, 575242.52], [233796.89, 575248.773], [233817.281, 575260.597], [233991.559, 575361.652], [234020.249, 575378.857], [234070.661, 575407.939], [234099.813, 575425.091], [234138.352, 575446.789], [234178.315, 575469.704], [234216.326, 575493.054], [234254.237, 575513.321], [234279.855, 575528.308], [234302.029, 575541.374], [234341.147, 575563.627], [234380.158, 575585.075], [234398.12, 575596.364], [234408.235, 575601.063], [234419.602, 575605.785], [234429.922, 575612.065], [234440.123, 575618.519], [234463.922, 575633.989], [234477.421, 575641.893], [234489.78, 575648.705], [234500.534, 575653.483], [234511.379, 575656.588], [234518.136, 575659.257], [234524.528, 575663.411], [234537.57, 575671.955], [234561.007, 575689.433], [234582.9, 575706.353], [234590.406, 575711.513], [234595.138, 575714.488], [234601.314, 575717.299], [234611.086, 575721.231], [234623.998, 575727.224], [234637.706, 575734.27], [234652.902, 575742.356], [234663.925, 575748.5], [234675.904, 575756.074], [234686.577, 575763.914], [234697.018, 575770.916], [234702.928, 575774.7], [234710.534, 575778.347], [234717.107, 575780.906], [234724.939, 575783.112], [234732.06, 575785.669], [234735.205, 575787.423], [234741.111, 575790.878], [234746.916, 575795.385], [234749.0, 575797.126], [234756.941, 575803.761], [234759.191, 575805.64], [234766.644, 575811.109], [234774.816, 575816.716], [234783.928, 575820.978], [234796.773, 575826.146], [234808.251, 575832.636], [234821.645, 575841.371], [234835.768, 575850.238], [234849.558, 575858.829], [234855.781, 575863.578], [234859.326, 575866.284], [234861.353, 575867.79], [234866.771, 575870.197], [234871.212, 575870.752], [234875.514, 575870.891], [234873.753, 575861.172], [234871.722, 575858.941], [234870.25, 575856.327], [234869.298, 575849.624], [234868.434, 575840.829], [234867.075, 575820.643], [234865.345, 575797.225], [234865.157, 575796.923], [234861.496, 575791.043], [234858.468, 575786.179], [234849.122, 575774.365], [234838.845, 575758.822], [234833.309, 575752.087], [234829.027, 575745.438], [234825.733, 575728.219], [234825.663, 575716.396], [234833.157, 575715.248], [234833.85, 575715.1], [234841.831, 575713.397], [234849.93, 575712.726], [234868.58, 575715.39], [234872.05, 575715.886], [234886.797, 575718.344], [234894.872, 575718.344], [234901.544, 575715.886], [234906.108, 575712.726], [234909.619, 575709.215], [234912.077, 575704.65], [234912.428, 575697.628], [234912.077, 575689.553], [234908.215, 575677.264], [234902.246, 575664.624], [234896.979, 575651.984], [234892.064, 575637.237], [234890.659, 575625.299], [234892.064, 575611.606], [234899.086, 575588.784], [234906.507, 575569.483], [234907.091, 575567.963], [234916.045, 575551.11], [234926.578, 575534.783], [234945.184, 575506.874], [234946.591, 575504.763], [234967.658, 575470.53], [234980.824, 575451.043], [234985.636, 575443.252], [234991.884, 575433.137], [234999.258, 575416.81], [235000.0, 575413.55], [235002.376, 575403.111], [235005.156, 575390.898], [235005.284, 575390.185], [235013.583, 575344.025], [235014.261, 575322.328], [235014.636, 575310.318], [235014.636, 575281.878], [235015.974, 575268.838], [235016.743, 575261.338], [235020.535, 575244.379], [235020.711, 575243.968], [235023.695, 575237.006], [235033.702, 575229.106], [235047.395, 575224.893], [235066.882, 575221.733], [235089.528, 575219.099], [235101.115, 575216.466], [235107.435, 575212.779], [235114.808, 575202.773], [235136.786, 575170.493], [235148.515, 575153.266], [235154.494, 575144.454], [235158.522, 575138.519], [235171.162, 575127.46], [235183.802, 575118.506], [235205.395, 575111.133], [235220.142, 575105.866], [235235.626, 575096.702], [235239.18, 575094.241], [235249.319, 575087.222], [235256.693, 575075.636], [235261.959, 575058.256], [235264.593, 575040.876], [235264.267, 575040.436], [235247.837, 575018.255], [235232.993, 574998.216], [235222.034, 574985.978], [235201.393, 574962.929], [235198.798, 574959.484], [235174.108, 574926.707], [235170.846, 574922.376], [235152.392, 574897.211], [235147.673, 574890.776], [235133.614, 574872.751], [235127.133, 574864.442], [235103.128, 574842.938], [235101.853, 574841.796], [235093.426, 574832.842], [235091.846, 574824.942], [235096.059, 574774.909], [235095.54, 574761.473], [235095.217, 574753.105], [235096.116, 574745.695], [235099.438, 574747.748], [235104.278, 574750.74], [235110.881, 574754.822], [235191.4, 574618.51], [235195.2, 574612.076], [235197.604, 574608.007], [235184.597, 574598.419], [235180.237, 574595.082], [235182.798, 574589.798], [235175.546, 574582.995], [235177.761, 574578.189], [235177.864, 574577.965], [235179.211, 574575.042], [235179.705, 574573.954], [235180.316, 574572.606], [235184.691, 574562.965], [235185.269, 574561.691], [235192.361, 574546.059], [235192.423, 574545.899], [235196.017, 574536.631], [235197.119, 574533.791], [235197.538, 574531.774], [235200.179, 574519.064], [235203.136, 574504.122], [235205.169, 574497.492], [235205.251, 574497.363], [235209.296, 574490.972], [235210.66, 574468.704], [235211.635, 574451.42], [235213.368, 574439.595], [235216.921, 574431.89], [235220.102, 574425.033], [235232.232, 574399.169], [235236.585, 574390.025], [235249.974, 574361.9], [235251.357, 574358.995], [235261.446, 574333.284], [235278.335, 574297.824], [235278.365, 574297.781], [235281.121, 574293.859], [235284.674, 574285.82], [235287.385, 574273.973], [235290.272, 574251.904], [235293.931, 574231.156], [235294.89, 574222.251], [235294.982, 574221.393], [235299.881, 574208.805], [235304.544, 574192.849], [235309.443, 574169.324], [235311.018, 574146.85], [235311.294, 574146.177], [235321.319, 574121.683], [235324.574, 574086.331], [235324.485, 574064.874], [235325.65, 574059.845], [235333.83, 574024.525], [235333.425, 574016.111], [235331.88, 574010.786], [235328.569, 573998.054], [235328.955, 573989.83], [235329.967, 573979.144], [235330.436, 573965.745], [235331.475, 573950.103], [235331.993, 573942.298], [235332.457, 573933.558], [235331.342, 573921.788], [235328.271, 573909.092], [235325.496, 573895.255], [235328.016, 573883.859], [235330.463, 573877.859], [235335.704, 573867.162], [235340.487, 573858.571], [235346.466, 573852.985], [235355.498, 573846.217], [235363.168, 573841.164], [235377.019, 573833.957], [235404.428, 573826.668], [235428.507, 573819.627], [235441.255, 573814.03], [235444.311, 573813.605], [235464.34, 573810.823], [235501.645, 573806.87], [235513.914, 573807.012], [235521.438, 573807.261], [235526.754, 573808.456], [235527.785, 573808.625], [235547.76, 573811.9], [235591.908, 573817.297], [235620.181, 573822.302], [235639.698, 573826.182], [235676.406, 573834.257], [235704.256, 573842.561], [235713.038, 573842.7], [235714.965, 573843.08], [235762.557, 573852.475], [235850.464, 573872.838], [235856.719, 573872.128], [235863.893, 573869.928], [235866.284, 573868.839], [235868.499, 573868.5], [235870.386, 573868.212], [235875.573, 573864.212], [235881.35, 573857.136], [235886.408, 573846.722], [235886.537, 573840.438], [235878.625, 573814.451], [235878.543, 573814.176], [235874.671, 573801.103], [235872.629, 573785.413], [235871.323, 573770.064], [235871.176, 573751.13], [235871.67, 573749.399], [235872.941, 573744.941], [235876.638, 573739.853], [235878.827, 573738.03], [235885.854, 573733.368], [235896.737, 573727.549], [235902.368, 573723.368], [235903.762, 573722.21], [235905.993, 573720.357], [235913.426, 573718.27], [235925.102, 573716.293], [235938.388, 573714.75], [235967.711, 573710.809], [235992.287, 573721.229], [236024.021, 573736.327], [236050.621, 573748.824], [236094.095, 573768.909], [236132.63, 573786.804], [236146.022, 573792.749], [236147.641, 573791.35], [236148.442, 573790.375], [236151.739, 573786.363], [236156.67, 573778.286], [236159.573, 573773.311], [236161.516, 573770.248], [236168.593, 573759.542], [236171.212, 573756.217], [236178.369, 573747.133], [236208.166, 573707.815], [236236.981, 573669.793], [236237.621, 573668.941], [236256.826, 573643.386], [236259.004, 573640.489], [236262.51, 573634.424], [236292.894, 573594.521], [236303.799, 573581.11], [236307.584, 573576.055], [236317.007, 573563.471], [236319.312, 573560.393], [236383.854, 573474.199], [236395.395, 573459.857], [236398.588, 573455.89], [236411.912, 573439.335], [236465.299, 573368.417], [236507.312, 573313.382], [236508.609, 573311.618], [236541.497, 573266.914], [236541.893, 573266.375], [236551.439, 573254.113], [236553.791, 573251.091], [236559.329, 573243.978], [236563.662, 573238.35], [236580.352, 573215.363], [236593.534, 573198.164], [236595.783, 573195.997], [236598.162, 573195.246], [236603.865, 573193.779], [236613.074, 573191.236], [236620.84, 573190.559], [236630.674, 573190.31], [236639.364, 573191.04], [236650.303, 573191.839], [236655.679, 573191.661], [236669.47, 573182.035], [236675.885, 573176.882], [236696.302, 573160.482], [236743.766, 573123.288], [236773.276, 573099.892], [236812.507, 573069.344], [236829.932, 573055.613], [236832.288, 573054.182], [236836.607, 573051.902], [236838.961, 573051.892], [236840.157, 573049.991], [236843.469, 573044.727], [236843.846, 573044.556], [236844.351, 573044.327], [236847.023, 573043.114], [236849.979, 573043.158], [236852.831, 573043.716], [236860.109, 573047.522], [236863.52, 573049.003], [236866.958, 573049.919], [236870.644, 573050.354], [236874.742, 573050.043], [236877.689, 573048.746], [236881.22, 573046.3], [236884.094, 573043.34], [236910.969, 573014.369], [236937.644, 572986.931], [236953.541, 572970.465], [237003.147, 572919.082], [237016.669, 572905.077], [237047.783, 572872.849], [237097.587, 572821.262], [237103.38, 572814.96], [237116.44, 572801.11], [237119.507, 572797.883], [237119.545, 572797.843], [237127.89, 572789.063], [237126.5, 572779.903], [237125.752, 572774.769], [237124.643, 572767.286], [237123.765, 572761.32], [237119.416, 572731.87], [237116.202, 572714.603], [237112.498, 572694.78], [237112.073, 572690.176], [237112.253, 572685.375], [237113.055, 572680.116], [237114.15, 572674.89], [237115.386, 572671.283], [237116.522, 572667.693], [237117.103, 572665.026], [237117.095, 572662.377], [237116.49, 572659.629], [237114.745, 572656.509], [237110.601, 572652.268], [237106.185, 572648.097], [237103.118, 572644.907], [237099.899, 572640.901], [237097.234, 572637.856], [237095.711, 572635.571], [237093.427, 572632.907], [237091.524, 572629.481], [237090.569, 572625.881], [237089.652, 572622.092], [237088.813, 572618.623], [237087.176, 572611.859], [237085.563, 572600.746], [237083.733, 572588.132], [237083.111, 572579.678], [237082.21, 572567.432], [237081.661, 572559.972], [237081.118, 572552.594], [237079.843, 572539.783], [237078.588, 572527.165], [237077.203, 572513.245], [237075.86, 572506.163], [237074.399, 572498.455], [237074.224, 572494.81], [237074.757, 572488.64], [237077.251, 572481.039], [237080.245, 572474.556], [237082.509, 572469.653], [237087.375, 572464.799], [237090.502, 572461.679], [237094.297, 572457.894], [237099.852, 572454.702], [237103.185, 572452.787], [237109.546, 572451.883], [237114.821, 572451.638], [237123.659, 572453.352], [237131.947, 572455.994], [237141.099, 572459.588], [237152.386, 572465.231], [237164.654, 572472.96], [237184.282, 572483.265], [237195.953, 572486.886], [237202.868, 572488.863], [237220.946, 572492.452], [237229.106, 572494.522], [237236.353, 572496.361], [237240.53, 572497.421], [237247.657, 572499.441], [237253.45, 572501.083], [237260.557, 572503.097], [237265.1, 572504.925], [237268.472, 572505.889], [237272.326, 572505.528], [237275.337, 572504.925], [237277.866, 572503.962], [237282.08, 572501.313], [237283.513, 572500.244], [237286.67, 572497.89], [237288.38, 572495.891], [237294.326, 572490.187], [237297.979, 572486.288], [237300.511, 572481.779], [237303.371, 572475.566], [237304.954, 572471.662], [237306.984, 572466.654], [237309.393, 572458.466], [237307.397, 572448.747], [237305.057, 572436.478], [237306.014, 572429.568], [237307.14, 572426.432], [237310.045, 572420.517], [237313.721, 572414.459], [237318.504, 572409.202], [237330.161, 572402.178], [237345.474, 572394.972], [237362.124, 572390.66], [237370.19, 572389.262], [237380.373, 572389.437], [237387.419, 572389.589], [237396.482, 572388.225], [237401.966, 572385.044], [237405.33, 572381.428], [237405.721, 572381.166], [237410.48, 572376.438], [237415.489, 572372.181], [237420.286, 572368.071], [237427.232, 572363.606], [237432.886, 572359.752], [237436.518, 572356.867], [237441.702, 572351.846], [237444.611, 572348.739], [237446.938, 572344.103], [237446.698, 572339.539], [237445.064, 572334.207], [237442.422, 572328.201], [237440.02, 572322.436], [237435.215, 572312.347], [237431.852, 572305.381], [237429.45, 572299.856], [237427.048, 572294.091], [237426.087, 572290.728], [237423.926, 572284.242], [237422.724, 572279.678], [237421.523, 572275.114], [237419.842, 572268.629], [237418.16, 572262.143], [237416.719, 572255.417], [237416.479, 572249.171], [237417.007, 572239.755], [237418.208, 572229.426], [237421.427, 572217.8], [237425.031, 572207.711], [237429.498, 572195.796], [237448.091, 572156.065], [237450.681, 572150.515], [237451.454, 572148.858], [237454.577, 572143.814], [237457.192, 572139.318], [237460.164, 572135.611], [237461.107, 572134.435], [237470.65, 572122.529], [237482.555, 572109.439], [237511.36, 572081.647], [237544.165, 572053.697], [237582.645, 572021.969], [237594.717, 572010.816], [237601.557, 572001.505], [237604.767, 571990.464], [237605.984, 571984.162], [237606.784, 571976.333], [237602.61, 571938.992], [237602.488, 571930.827], [237603.196, 571920.636], [237603.899, 571915.851], [237605.615, 571909.2], [237607.572, 571905.049], [237620.671, 571882.351], [237629.116, 571856.536], [237632.402, 571801.661], [237638.156, 571773.052], [237647.847, 571755.864], [237664.392, 571733.982], [237680.306, 571715.095], [237685.035, 571708.287], [237711.699, 571665.483], [237729.452, 571642.561], [237744.874, 571632.071], [237759.876, 571623.249], [237773.15, 571614.863], [237790.895, 571601.531], [237794.315, 571598.663], [237807.891, 571585.76], [237825.976, 571566.101], [237831.283, 571559.65], [237851.494, 571525.456], [237859.326, 571514.314], [237871.188, 571506.464], [237879.27, 571503.659], [237887.541, 571501.159], [237910.822, 571494.687], [237919.027, 571492.112], [237925.292, 571490.146], [237929.773, 571488.451], [237939.685, 571478.736], [237941.881, 571476.098], [237950.988, 571458.03], [237954.236, 571445.178], [237957.952, 571435.674], [237995.522, 571402.301], [237997.645, 571400.877], [238014.919, 571389.286], [238015.94, 571388.601], [238025.038, 571385.978], [238029.159, 571384.79], [238033.862, 571380.834], [238036.51, 571377.77], [238038.615, 571374.746], [238040.531, 571370.323], [238041.908, 571367.143], [238043.883, 571361.224], [238044.081, 571360.63], [238051.155, 571333.688], [238059.147, 571295.923], [238060.266, 571289.712], [238061.745, 571278.728], [238062.022, 571271.506], [238055.932, 571260.558], [238030.701, 571217.47], [238028.859, 571209.884], [238028.368, 571206.945], [238028.499, 571204.389], [238030.12, 571200.236], [238033.055, 571194.869], [238045.54, 571177.198], [238055.661, 571163.809], [238066.674, 571148.647], [238070.596, 571141.804], [238072.295, 571137.726], [238074.675, 571129.524], [238085.553, 571083.481], [238088.618, 571072.688], [238089.641, 571067.775], [238093.077, 571055.536], [238100.3, 571038.383], [238105.041, 571028.939], [238107.884, 571024.224], [238112.142, 571017.884], [238117.178, 571013.348], [238121.555, 571010.81], [238123.309, 571010.054], [238127.482, 571010.302], [238130.321, 571011.712], [238130.694, 571012.23], [238134.591, 571015.127], [238137.764, 571019.435], [238142.431, 571026.764], [238144.676, 571032.507], [238149.412, 571046.313], [238152.028, 571050.61], [238156.148, 571055.086], [238158.393, 571056.256], [238161.011, 571057.145], [238166.649, 571054.32], [238173.438, 571049.934], [238180.396, 571043.805], [238190.771, 571035.956], [238194.292, 571033.824], [238208.465, 571026.459], [238215.579, 571023.348], [238232.42, 571014.196], [238241.365, 571008.118], [238248.809, 571001.905], [238255.981, 570994.504], [238258.764, 570989.032], [238260.588, 570983.581], [238260.398, 570980.699], [238259.735, 570977.173], [238258.681, 570974.718], [238256.498, 570971.481], [238248.979, 570962.563], [238241.729, 570955.588], [238236.386, 570951.307], [238226.99, 570944.777], [238191.312, 570922.796], [238185.356, 570918.59], [238182.339, 570915.705], [238179.505, 570912.528], [238176.772, 570908.679], [238175.262, 570906.017], [238171.132, 570895.929], [238164.886, 570877.282], [238154.269, 570847.758], [238150.794, 570839.456], [238150.05, 570837.677], [238145.046, 570828.787], [238142.27, 570824.403], [238137.873, 570818.219], [238131.255, 570810.271], [238126.015, 570805.363], [238083.529, 570767.979], [238068.998, 570759.582], [238060.991, 570755.535], [238054.358, 570751.507], [238051.698, 570748.594], [238049.714, 570745.503], [238048.889, 570743.443], [238047.44, 570735.824], [238047.673, 570728.258], [238049.069, 570723.719], [238051.134, 570720.151], [238054.071, 570715.841], [238057.215, 570711.963], [238060.24, 570709.286], [238062.8, 570707.656], [238071.123, 570703.194], [238074.203, 570702.069], [238089.637, 570699.229], [238093.228, 570697.881], [238095.504, 570696.475], [238099.823, 570692.273], [238100.717, 570690.177], [238101.332, 570687.493], [238102.062, 570680.11], [238102.182, 570676.146], [238101.355, 570666.643], [238100.386, 570660.576], [238097.323, 570648.764], [238094.184, 570641.235], [238087.46, 570627.7], [238083.607, 570620.334], [238080.203, 570614.574], [238078.243, 570610.414], [238077.395, 570605.324], [238077.002, 570599.751], [238077.218, 570596.775], [238078.779, 570591.066], [238079.847, 570589.235], [238085.324, 570583.561], [238088.268, 570581.52], [238094.459, 570578.078], [238099.279, 570576.042], [238105.568, 570574.323], [238128.094, 570570.367], [238137.23, 570569.242], [238144.843, 570567.239], [238147.694, 570566.066], [238149.992, 570564.82], [238155.402, 570559.098], [238164.539, 570547.015], [238169.32, 570539.441], [238171.521, 570535.135], [238172.833, 570531.957], [238176.031, 570521.261], [238181.112, 570501.622], [238183.847, 570495.311], [238185.072, 570493.197], [238186.446, 570491.727], [238189.021, 570490.011], [238200.487, 570484.049], [238205.482, 570482.646], [238211.093, 570481.535], [238226.327, 570477.512], [238240.857, 570474.002], [238257.207, 570469.569], [238275.346, 570464.135], [238286.583, 570460.173], [238290.87, 570459.238], [238301.538, 570457.849], [238306.858, 570457.613], [238321.87, 570458.073], [238339.399, 570457.915], [238357.33, 570458.416], [238392.699, 570460.209], [238399.252, 570459.913], [238414.651, 570458.675], [238434.877, 570456.289], [238440.588, 570455.305], [238448.617, 570454.723], [238455.949, 570451.075], [238457.393, 570449.697], [238465.121, 570444.01], [238467.965, 570441.259], [238471.345, 570435.274], [238474.991, 570424.221], [238481.061, 570408.844], [238485.786, 570400.342], [238489.758, 570396.301], [238492.802, 570393.697], [238502.039, 570387.003], [238510.295, 570381.983], [238517.959, 570377.888], [238529.231, 570371.394], [238538.306, 570367.44], [238545.715, 570363.866], [238556.152, 570361.025], [238601.408, 570347.718], [238614.008, 570342.95], [238619.05, 570338.933], [238624.675, 570333.32], [238633.412, 570322.649], [238651.217, 570294.905], [238654.493, 570291.036], [238657.09, 570287.085], [238657.724, 570284.301], [238657.905, 570282.26], [238655.299, 570277.299], [238651.489, 570271.741], [238647.662, 570267.448], [238643.758, 570265.153], [238638.283, 570262.845], [238632.668, 570261.84], [238610.207, 570261.81], [238607.587, 570261.243], [238605.604, 570260.331], [238603.455, 570257.647], [238601.931, 570250.234], [238595.839, 570212.278], [238591.504, 570200.035], [238585.261, 570187.019], [238583.839, 570184.565], [238580.035, 570179.312], [238571.524, 570168.849], [238568.875, 570165.056], [238564.885, 570157.656], [238562.729, 570152.597], [238562.211, 570150.79], [238560.498, 570141.661], [238559.916, 570136.873], [238560.228, 570131.586], [238561.502, 570120.95], [238563.125, 570110.996], [238564.304, 570108.411], [238572.083, 570096.855], [238576.74, 570092.402], [238588.942, 570081.756], [238611.247, 570066.063], [238626.48, 570054.597], [238646.795, 570038.592], [238665.752, 570020.613], [238671.143, 570014.992], [238677.41, 570004.289], [238679.374, 570000.513], [238680.678, 569996.771], [238681.321, 569992.954], [238681.497, 569988.0], [238679.131, 569967.346], [238679.831, 569938.077], [238680.772, 569921.029], [238686.668, 569886.62], [238699.031, 569820.968], [238700.318, 569812.798], [238700.556, 569806.682], [238700.049, 569795.647], [238698.603, 569782.247], [238696.409, 569777.388], [238690.65, 569773.067], [238678.187, 569765.746], [238665.807, 569761.673], [238642.926, 569754.914], [238634.355, 569751.459], [238624.377, 569747.001], [238617.287, 569741.493], [238608.564, 569734.05], [238604.701, 569730.218], [238601.997, 569725.713], [238601.924, 569723.979], [238603.224, 569714.821], [238605.059, 569708.015], [238607.46, 569700.663], [238613.184, 569685.555], [238620.238, 569673.231], [238625.802, 569662.718], [238627.073, 569659.48], [238627.671, 569654.179], [238627.386, 569647.225], [238626.782, 569639.991], [238621.923, 569625.53], [238618.541, 569617.644], [238613.308, 569606.87], [238611.616, 569604.07], [238607.502, 569600.007], [238602.775, 569597.399], [238591.676, 569594.428], [238584.863, 569594.404], [238579.878, 569595.941], [238578.274, 569595.851], [238577.25, 569597.096], [238575.105, 569599.03], [238573.592, 569599.991], [238569.935, 569601.29], [238566.636, 569599.844], [238563.9, 569597.116], [238562.255, 569594.097], [238560.489, 569588.169], [238558.895, 569584.59], [238557.281, 569579.71], [238555.26, 569571.046], [238554.567, 569563.119], [238552.641, 569550.337], [238551.668, 569546.093], [238556.808, 569546.09], [238557.549, 569546.09], [238561.192, 569546.053], [238567.506, 569545.989], [238576.247, 569548.174], [238581.16, 569549.88], [238593.072, 569556.166], [238601.493, 569560.729], [238608.862, 569564.755], [238620.42, 569572.233], [238628.404, 569575.986], [238642.418, 569581.758], [238653.704, 569585.688], [238663.666, 569593.194], [238670.421, 569596.4], [238681.092, 569602.105], [238701.684, 569611.261], [238710.964, 569615.492], [238717.514, 569619.108], [238722.358, 569622.451], [238724.132, 569625.249], [238724.569, 569630.953], [238724.978, 569635.661], [238726.616, 569640.642], [238729.441, 569645.459], [238735.445, 569651.6], [238738.243, 569654.534], [238739.948, 569655.967], [238741.04, 569656.308], [238741.56, 569656.273]]]}, "properties": {"id": "37b0a09f-36a0-4e69-80c2-002022000000", "naam": "Groningen", "groepID": "GM0014"}, "_shape": null}, {"type": "Feature", "geometry": {"type": "Polygon", "coordinates": [[[150213.998, 479503.726], [150224.901, 479514.169], [150264.697, 479552.284], [150273.748, 479560.952], [150291.313, 479577.775], [150431.58, 479712.11], [150626.68, 479923.559], [150931.86, 480259.089], [151282.857, 480642.738], [151285.11, 480645.201], [151300.569, 480662.061], [151300.647, 480662.146], [151303.02, 480664.734], [151303.075, 480664.794], [151307.806, 480669.953], [151323.474, 480687.135], [151330.638, 480694.966], [151338.243, 480703.279], [151472.889, 480617.47], [151532.29, 480581.9], [151588.869, 480545.12], [151591.294, 480543.22], [151594.83, 480540.449], [151883.889, 480356.3], [151944.86, 480318.919], [152004.009, 480281.36], [152065.68, 480246.419], [152116.599, 480220.47], [152196.45, 480194.199], [152255.13, 480174.059], [152261.7, 480172.419], [152286.119, 480167.199], [152295.529, 480167.099], [152336.459, 480158.419], [152362.18, 480135.069], [152368.45, 480134.239], [152392.02, 480149.459], [152442.549, 480143.58], [152496.659, 480141.569], [152565.13, 480141.949], [152599.939, 480143.639], [152652.36, 480148.68], [152692.819, 480154.389], [152735.99, 480160.989], [152773.209, 480171.629], [152773.27, 480171.65], [152817.619, 480183.75], [153247.72, 480314.04], [154454.95, 480670.93], [154440.11, 480721.129], [154437.139, 480721.379], [154433.9, 480722.73], [154430.479, 480725.769], [154426.725, 480730.124], [154409.869, 480749.669], [154270.045, 480949.858], [154262.549, 480960.589], [154261.631, 480961.72], [154249.5, 480976.66], [154241.169, 480988.487], [153653.056, 481823.383], [153646.93, 481832.08], [153358.93, 482240.919], [153070.95, 482649.75], [152782.444, 483059.307], [152754.348, 483099.193], [152520.081, 483431.754], [152518.911, 483433.414], [152496.049, 483465.868], [152494.849, 483467.572], [151919.092, 484284.903], [151825.343, 484417.99], [151760.672, 484509.797], [151681.23, 484622.573], [151650.508, 484666.186], [151631.65, 484692.955], [151628.33, 484697.669], [151624.353, 484703.302], [151605.15, 484730.5], [151600.244, 484737.467], [151591.869, 484749.36], [151476.506, 484913.198], [151434.236, 484973.229], [151331.839, 485118.653], [151042.958, 485528.917], [151039.701, 485533.543], [150744.023, 485953.463], [150450.53, 486370.28], [150197.15, 486730.129], [149861.168, 487213.155], [149619.779, 487560.19], [149604.84, 487581.699], [149603.985, 487582.927], [149603.125, 487584.163], [149518.909, 487705.19], [149516.454, 487708.721], [149501.419, 487730.339], [149484.88, 487754.12], [149479.288, 487762.158], [149462.795, 487785.866], [149454.159, 487798.279], [149364.38, 487927.352], [149149.49, 488236.294], [149148.592, 488237.585], [149147.33, 488239.4], [149168.65, 488254.769], [149220.72, 488290.19], [149272.759, 488324.3], [149323.319, 488354.97], [149388.099, 488392.089], [149441.75, 488422.68], [149494.919, 488452.919], [149590.77, 488507.449], [149673.83, 488555.11], [149777.65, 488614.639], [149879.0, 488671.66], [149881.459, 488673.29], [149937.29, 488705.489], [149941.477, 488707.866], [149948.132, 488711.644], [149948.974, 488712.122], [149950.889, 488713.209], [149952.84, 488710.12], [149975.279, 488667.519], [149983.34, 488656.279], [150011.701, 488673.038], [150011.85, 488673.126], [150014.292, 488674.569], [150053.252, 488697.582], [150054.962, 488698.592], [150055.343, 488698.816], [150055.843, 488699.113], [150059.292, 488701.15], [150071.43, 488708.32], [150078.276, 488712.364], [150123.254, 488738.931], [150386.652, 488894.515], [150393.198, 488898.382], [150396.659, 488900.426], [150405.138, 488905.435], [150426.528, 488918.07], [150462.033, 488939.042], [151283.369, 489424.19], [151305.84, 489437.459], [151303.145, 489441.165], [151290.088, 489459.118], [151288.296, 489461.583], [151270.72, 489485.75], [151267.479, 489490.18], [151361.57, 489547.653], [151363.99, 489549.131], [151418.569, 489582.47], [151433.275, 489591.415], [151523.099, 489646.05], [151617.65, 489703.54], [151692.439, 489749.65], [151743.02, 489775.4], [151794.38, 489789.61], [151856.31, 489793.559], [151860.54, 489794.019], [151943.139, 489793.419], [152020.88, 489784.279], [152052.45, 489780.58], [152084.65, 489783.099], [152115.77, 489797.76], [152189.56, 489846.459], [152193.085, 489842.174], [152220.72, 489808.58], [152281.024, 489853.17], [152288.61, 489858.779], [152312.369, 489876.349], [152326.45, 489889.029], [152343.09, 489910.29], [152353.5, 489943.809], [152394.29, 490060.949], [152428.58, 490147.129], [152435.75, 490163.139], [152443.939, 490178.989], [152453.069, 490194.529], [152468.919, 490215.72], [152501.74, 490252.309], [152520.506, 490264.062], [152434.946, 490404.219], [152395.21, 490378.91], [152365.27, 490368.91], [152338.11, 490361.35], [152311.04, 490357.34], [152290.2, 490356.5], [152265.52, 490356.95], [152177.0, 490368.76], [152120.99, 490382.49], [152081.286, 490389.491], [152072.86, 490386.57], [152039.94, 490379.32], [152016.99, 490369.98], [152015.908, 490369.348], [152013.491, 490372.331], [151999.54, 490389.549], [151967.41, 490427.857], [151934.428, 490465.435], [151900.612, 490502.265], [151865.982, 490538.328], [151852.591, 490551.661], [151852.416, 490551.835], [151830.55, 490573.606], [151828.361, 490575.691], [151794.34, 490608.082], [151782.437, 490618.916], [151782.256, 490619.08], [151782.237, 490619.098], [151770.631, 490629.662], [151757.363, 490641.739], [151719.644, 490674.558], [151681.198, 490706.524], [151642.047, 490737.622], [151602.208, 490767.834], [151561.703, 490797.147], [151520.551, 490825.544], [151478.774, 490853.013], [151436.392, 490879.54], [151393.426, 490905.11], [151365.813, 490920.876], [151322.016, 490944.996], [151277.866, 490968.464], [151233.481, 490991.485], [151188.97, 491014.261], [151093.388, 491062.92], [150927.339, 491146.832], [150904.375, 491158.437], [150870.261, 491175.677], [150646.666, 491287.504], [150486.33, 491366.862], [150461.656, 491379.075], [150422.609, 491398.402], [150381.75, 491418.436], [150362.975, 491427.624], [150324.787, 491446.311], [150305.95, 491455.529], [150305.926, 491455.541], [150266.166, 491475.024], [150198.092, 491508.366], [149973.12, 491617.397], [149747.698, 491725.491], [149521.828, 491832.647], [149018.51, 492070.15], [149013.116, 492072.695], [148990.7, 492083.272], [147862.478, 492615.643], [147819.879, 492635.744], [147801.594, 492644.372], [147776.766, 492656.095], [147661.952, 492710.265], [147641.734, 492719.922], [147596.952, 492742.159], [147552.65, 492765.338], [147508.848, 492789.446], [147465.564, 492814.474], [147422.818, 492840.41], [147381.192, 492866.884], [147339.016, 492894.961], [147297.998, 492923.551], [147257.592, 492953.001], [147217.818, 492983.297], [147178.69, 493014.426], [147140.23, 493046.375], [147106.904, 493075.271], [147065.376, 493112.672], [147029.014, 493146.991], [146993.386, 493182.07], [146958.508, 493217.893], [146924.392, 493254.445], [146891.056, 493291.709], [146858.514, 493329.669], [146823.168, 493372.894], [146795.87, 493407.607], [146765.796, 493447.55], [146736.572, 493488.119], [146585.694, 493702.307], [146575.643, 493716.575], [146288.972, 494123.546], [146287.724, 494125.318], [146287.706, 494125.344], [146262.227, 494161.521], [146245.719, 494184.959], [146237.088, 494197.217], [145962.67, 494586.931], [145371.435, 495372.289], [141511.181, 500500.0], [139252.715, 503500.0], [135865.015, 508000.0], [133814.489, 510723.786], [132850.0, 510200.0], [133601.898, 508000.0], [134165.25, 506351.67], [135139.87, 503500.0], [135550.0, 502300.0], [135980.255, 501711.563], [136378.497, 501166.908], [136499.997, 501000.739], [136866.129, 500500.0], [138950.0, 497650.0], [139176.471, 497100.0], [139951.651, 495217.42], [140967.11, 492751.305], [141050.0, 492550.0], [141276.49, 492000.0], [138000.0, 492000.0], [134029.81, 489022.36], [134029.81, 486992.15], [135102.63, 485671.36], [136532.357, 483892.075], [137781.11, 482338.01], [138002.2, 482064.16], [138034.638, 482023.15], [138041.251, 482014.789], [138067.31, 481981.85], [138188.97, 481828.038], [138303.515, 481683.225], [138417.22, 481539.47], [138564.14, 481329.58], [138750.25, 481224.34], [138903.84, 481214.66], [139960.0, 481388.25], [141600.0, 481657.789], [142591.09, 481820.68], [143118.87, 481918.23], [143629.02, 482025.68], [143842.38, 482005.18], [143914.21, 481992.52], [144236.61, 481935.58], [144778.962, 481789.585], [144833.081, 481775.017], [146293.3, 481381.95], [146469.204, 481334.589], [147624.751, 481023.528], [147767.95, 480984.99], [148194.29, 480793.67], [148864.05, 480362.189], [149126.61, 480193.04], [149326.997, 480040.404], [149420.323, 479969.318], [149424.71, 479965.99], [149547.68, 479872.31], [149965.984, 479492.524], [150000.42, 479461.258], [150087.299, 479382.379], [150213.998, 479503.726]]]}, "properties": {"id": "37b0a09f-36a0-4e69-80c2-002022000001", "naam": "Almere", "groepID": "GM0034"}, "_shape": null}], "bbox": [132850.0, 479382.379, 247393.6, 592677.992], "properties": {"id": ["ID", ""], "groepID": ["GIO-deel", ""], "naam": ["Naam", ""]}}
);


Kaartgegevens.Instantie.VoegSymbolisatieToe ("sym2",`<FeatureTypeStyle version="1.1.0" 
    xmlns="http://www.opengis.net/se"
    xmlns:ogc="http://www.opengis.net/ogc">
    <FeatureTypeName>geo:Locatie</FeatureTypeName>
    <SemanticTypeIdentifier>geo:groepID</SemanticTypeIdentifier>
    <Rule>
        <Name>GM0014</Name>
        <ogc:Filter>
            <ogc:PropertyIsEqualTo>
                <ogc:PropertyName>groepID</ogc:PropertyName> 
                <ogc:Literal>GM0014</ogc:Literal>
            </ogc:PropertyIsEqualTo>
        </ogc:Filter>
        <PolygonSymbolizer><Name>06</Name><Fill><SvgParameter name="fill">#ff3c82</SvgParameter><SvgParameter name="fill-opacity">0.5</SvgParameter></Fill><Stroke><SvgParameter name="stroke">#000001</SvgParameter><SvgParameter name="stroke-opacity">1</SvgParameter><SvgParameter name="stroke-width">1</SvgParameter><SvgParameter name="stroke-linejoin">round</SvgParameter></Stroke></PolygonSymbolizer>
    </Rule>
    <Rule>
        <Name>GM0034</Name>
        <ogc:Filter>
            <ogc:PropertyIsEqualTo>
                <ogc:PropertyName>groepID</ogc:PropertyName> 
                <ogc:Literal>GM0034</ogc:Literal>
            </ogc:PropertyIsEqualTo>
        </ogc:Filter>
        <PolygonSymbolizer><Name>13</Name><Fill><SvgParameter name="fill">#9b32cd</SvgParameter><SvgParameter name="fill-opacity">0.5</SvgParameter></Fill><Stroke><SvgParameter name="stroke">#000001</SvgParameter><SvgParameter name="stroke-opacity">1</SvgParameter><SvgParameter name="stroke-width">1</SvgParameter><SvgParameter name="stroke-linejoin">round</SvgParameter></Stroke></PolygonSymbolizer>
    </Rule>
</FeatureTypeStyle>`);


window.addEventListener("load", function () {
var kaart = new Kaart ();
kaart.VoegOnderlaagToe ("GIO", "data1", "sym2");
kaart.Toon ("kaart_3", 600, 400);
});

Kaartgegevens.Instantie.VoegSymbolisatieToe ("sym4",`<FeatureTypeStyle version="1.1.0"
    xmlns="http://www.opengis.net/se"
    xmlns:ogc="http://www.opengis.net/ogc">
    <FeatureTypeName>geo:Locatie</FeatureTypeName>
    <SemanticTypeIdentifier>geo:geometrie</SemanticTypeIdentifier>
    <Rule>
        <Name>Vlak</Name>
        <PolygonSymbolizer>
            <Fill>
                <SvgParameter name="fill">#ffffff</SvgParameter>
                <SvgParameter name="fill-opacity">0.8</SvgParameter>
            </Fill>
            <Stroke>
                <SvgParameter name="stroke">#0000ff</SvgParameter>
                <SvgParameter name="stroke-opacity">1</SvgParameter>
                <SvgParameter name="stroke-width">3</SvgParameter>
                <SvgParameter name="stroke-linejoin">round</SvgParameter>
            </Stroke>
        </PolygonSymbolizer>
    </Rule>
</FeatureTypeStyle>`);


Kaartgegevens.Instantie.VoegDataToe ("data5",
{"type": "FeatureCollection", "crs": {"type": "name", "properties": {"name": "urn:ogc:def:crs:EPSG::28992"}}, "features": [{"type": "Feature", "properties": {"p": "ja"}, "geometry": {"type": "Polygon", "coordinates": [[[226923.3618190878, 579812.0603319785], [226922.3612724483, 579816.113348446], [226922.35771250018, 579816.1276781274], [226922.34455280667, 579816.1803169013], [226913.67331446667, 579851.318178225], [226909.35526711337, 579868.8123700563], [226909.21729994146, 579869.3712370788], [226906.62435635406, 579879.8770085132], [226905.4429784713, 579884.6643827374], [226899.66053127518, 579908.5418414446], [226899.65304216908, 579908.5723470045], [226894.60657581114, 579928.8529022061], [226891.68728377836, 579942.1260295807], [226891.67670380778, 579942.1730520066], [226883.62870380777, 579977.1540520067], [226883.62435819829, 579977.1727756154], [226874.37762029, 580016.6686480476], [226898.3444228668, 580039.931141171], [226898.35370903925, 580039.9401778494], [226918.27870903927, 580059.3801778494], [226918.40179166594, 580059.5045418353], [226919.11155608686, 580060.2472489086], [226926.36841022494, 580067.8300515817], [226929.28141022494, 580070.8740515817], [226929.3151157554, 580070.9096201763], [226940.73358115202, 580083.0781162104], [226944.11358115202, 580086.6811162104], [226944.16774295887, 580086.7397832383], [226961.04344549432, 580105.3146229234], [226970.87672749438, 580115.5322390682], [226974.69891525904, 580118.7875769525], [226975.3901234673, 580119.3756059817], [226980.08512346732, 580123.3746059816], [226980.3240007455, 580123.5917613886], [226990.4380007455, 580133.4007613886], [226990.70618116623, 580133.6818826225], [227002.60918116622, 580147.1718826225], [227002.665904102, 580147.2373014376], [227003.80590410202, 580148.5753014376], [227003.91307868634, 580148.7054744668], [227012.770957209, 580159.841632318], [227023.16949068394, 580171.910032203], [227026.33518340858, 580175.4226366186], [227026.40171759482, 580175.4979708943], [227031.10371759481, 580180.9309708943], [227031.1727526788, 580181.0124821247], [227033.31681360592, 580183.5995556423], [227037.2748136059, 580188.3755556423], [227037.34005349304, 580188.4559588191], [227040.31728949305, 580192.2038314432], [227041.38016250829, 580193.4605618009], [227044.56262347338, 580197.2209248828], [227044.5760525877, 580197.2368598077], [227050.4990525877, 580204.2948598077], [227050.58199839038, 580204.3963735211], [227055.48061544582, 580210.5546070203], [227059.85968001356, 580215.3230082912], [227060.04668080097, 580215.5386818702], [227065.34484976908, 580222.0137806747], [227069.85916973348, 580227.2494050968], [227074.0439952437, 580231.9926718798], [227074.92364059875, 580232.9892700833], [227075.07730151794, 580233.1719733105], [227079.7257554019, 580238.9747608263], [227083.74545520605, 580243.2081928805], [227088.44563493723, 580247.9918253906], [227089.10176266637, 580248.6589385156], [227089.1598194053, 580248.7189617592], [227094.86977460276, 580254.7218366688], [227097.46716096727, 580257.2685935822], [227097.94974411407, 580257.7112571672], [227099.4437050645, 580259.0814795736], [227099.98583604168, 580259.5039463236], [227101.63971914892, 580260.3844256506], [227109.97449397092, 580263.6756079496], [227118.90789953963, 580266.9267914175], [227131.153767678, 580270.6872868241], [227131.21677293093, 580270.7070909427], [227136.72677293094, 580272.4790909427], [227137.160706312, 580272.6411821363], [227138.06870631198, 580273.0291821363], [227138.4304966966, 580273.2012330472], [227144.8774966966, 580276.5902330471], [227145.31443729743, 580276.8490569594], [227145.72286951568, 580277.1508682072], [227146.0985798518, 580277.4925532222], [227146.43769237417, 580277.8705870877], [227146.7367087043, 580278.2810699015], [227146.99254410714, 580278.71976701], [227147.202559314, 580279.1821526921], [227147.36458775, 580279.6634568498], [227147.476957885, 580280.1587142161], [227147.5385104777, 580280.6628155794], [227147.54861053452, 580281.1705604908], [227147.50715386047, 580281.6767109135], [227147.4145681341, 580282.1760452599], [227145.93456813408, 580288.38104526], [227145.92804868342, 580288.4080459498], [227144.80462323708, 580293.0047779349], [227142.1844252849, 580304.619328401], [227142.14447290072, 580304.7834587516], [227141.52680464243, 580307.146488354], [227141.26445927646, 580310.0715964573], [227141.2524890192, 580310.284751038], [227141.4605276137, 580311.1739482563], [227141.4874365297, 580311.2957973732], [227141.76071165685, 580312.610973922], [227142.45425747026, 580313.8659925656], [227143.876209287, 580316.4044103994], [227144.1117418171, 580316.8831157328], [227144.29492733354, 580317.38419201], [227145.10292733353, 580320.02319201], [227145.12081428804, 580320.0829410879], [227146.06381428806, 580323.3059410879], [227146.16166612043, 580323.6987330199], [227146.2274231498, 580324.0981532197], [227146.63442314978, 580327.3991532198], [227146.639318457, 580327.4402571974], [227146.885318457, 580329.5812571973], [227146.9178841745, 580330.1860329494], [227146.8948841745, 580333.5650329493], [227146.89263139514, 580333.6848844963], [227146.74363139516, 580338.5238844963], [227146.7353393279, 580338.6963327614], [227146.45935315554, 580342.9159172666], [227146.5749435981, 580345.484192412], [227146.5794809543, 580345.7810429558], [227146.53179177866, 580349.0904730427], [227146.51091647107, 580352.7019012512], [227146.51061550394, 580352.7350065551], [227146.46485897715, 580356.4243752047], [227146.4449482774, 580360.8017425438], [227146.44451980508, 580360.8482944355], [227146.39835886666, 580364.178757034], [227146.42621996976, 580366.8687945744], [227146.46967906062, 580368.3109268552], [227146.78233189342, 580372.0276211932], [227147.29508473363, 580374.6387974718], [227148.27237645438, 580378.7807926127], [227148.32834676182, 580379.0512173638], [227148.89692742174, 580382.2396504164], [227149.49398084555, 580385.484164417], [227150.33734939547, 580389.6304815734], [227151.35134481813, 580394.2217101147], [227151.37643733568, 580394.342368131], [227152.20860265163, 580398.606845195], [227154.11840531838, 580407.3379368273], [227155.0585873702, 580411.3104534127], [227155.10345316524, 580411.5199545064], [227155.96445316524, 580416.0079545063], [227156.00393761022, 580416.2442254929], [227156.44893761023, 580419.365225493], [227156.46304902039, 580419.4724874075], [227156.87804902036, 580422.9144874075], [227156.88607019835, 580422.9852520084], [227157.10207019837, 580425.0202520083], [227157.12905196782, 580425.4506376715], [227157.1870519678, 580428.4286376715], [227157.17558336598, 580428.8781536134], [227156.94258336598, 580432.1781536135], [227156.930250078, 580432.3228769074], [227156.70025007802, 580434.6258769074], [227156.69462248826, 580434.6793202015], [227154.36883937134, 580455.6821182973], [227153.60733460335, 580465.1299067269], [227152.7385816023, 580480.0820225985], [227152.72539011616, 580480.2563617679], [227152.25239011616, 580485.3273617679], [227152.18166210968, 580485.8194792821], [227152.0624106544, 580486.3021398142], [227152.01464548742, 580486.4610675517], [227151.27577195695, 580490.0053957514], [227151.13651058724, 580490.529383066], [227150.9413327, 580491.035211127], [227150.6925332471, 580491.5169322778], [227148.6665332471, 580494.9669322779], [227148.352873494, 580495.4378332498], [227147.98802014472, 580495.8702823215], [227147.57664522176, 580496.2587418932], [227144.90115370217, 580498.5129433301], [227143.63465326207, 580499.585134104], [227143.61618422435, 580499.6006931647], [227138.56918422432, 580503.8316931648], [227138.3135774497, 580504.032201605], [227123.79857744972, 580514.6752016051], [227123.36465261682, 580514.9599692812], [227113.54126693337, 580520.7003366515], [227111.46044389278, 580522.5538214896], [227098.67844389277, 580533.9378214896], [227098.39313040694, 580534.1735852566], [227098.0911584245, 580534.3875975478], [227092.66648007298, 580537.9380414493], [227088.6691767849, 580540.5533449134], [227077.6931610612, 580548.6347045588], [227069.11703297123, 580556.5545707213], [227059.98512952146, 580565.3718205414], [227047.62081006498, 580577.6892449838], [227047.58570418917, 580577.7238744791], [227028.14670418916, 580596.710874479], [227028.05343052789, 580596.7996612261], [227012.79543052788, 580610.9536612261], [227012.69706151594, 580611.0425159135], [227005.23718521837, 580617.6034071185], [227001.8731863101, 580620.5624061545], [226997.59800239207, 580624.3226423213], [226985.9304809643, 580646.6325779216], [226985.96370735712, 580646.667947415], [226986.2677450653, 580647.0644238177], [226986.5306958152, 580647.489264222], [226986.74993396504, 580647.9382264693], [226986.9232703564, 580648.4068275378], [226987.0489741737, 580648.8903883056], [226987.12579022674, 580649.3840802744], [226987.15295148434, 580649.882973782], [226987.1612782535, 580651.7731503857], [226988.70974671774, 580651.7913451296], [226989.19249893542, 580651.8204085962], [226989.6701850106, 580651.8959758005], [226990.13833581956, 580652.0173397523], [226990.59257144842, 580652.1833649981], [226991.02864217063, 580652.3924982427], [226991.4424682063, 580652.6427828826], [226991.83017789203, 580652.9318773107], [226992.18814390292, 580653.2570768245], [226992.5130171894, 580653.6153389304], [226992.80175830986, 580654.0033118085], [226993.0516658672, 580654.4173656715], [226993.26040178246, 580654.8536267247], [226993.4260131692, 580655.3080134073], [226993.54695060448, 580655.7762745796], [226993.6220826248, 580656.2540292952], [226993.6507063118, 580656.7368077883], [226993.63255386875, 580657.2200932914], [226993.37505250826, 580660.2095525166], [226993.3224612949, 580666.0127538571], [226993.46596376318, 580673.0602095568], [226993.4669923833, 580673.1707273748], [226993.4564265612, 580679.2239829024], [226994.04671657778, 580685.2484404505], [226995.34965764, 580691.4813513235], [226997.13781918804, 580699.5948602428], [226997.1517928993, 580699.6603470915], [227000.3037928993, 580714.9323470915], [227000.30901279286, 580714.9579768638], [227002.65401279286, 580726.6279768639], [227002.6636315383, 580726.6771177255], [227005.06030437982, 580739.2551675882], [227007.50079194302, 580750.8060814998], [227010.87118422947, 580765.3329491967], [227013.85591086923, 580777.1971379659], [227013.8685590218, 580777.2485634901], [227016.78579007654, 580789.3863996775], [227021.21769528202, 580806.9293161825], [227021.2331541841, 580806.9922205968], [227024.22191056158, 580819.5030148512], [227027.68465579557, 580833.8618117741], [227027.68724027075, 580833.8725810106], [227031.28524027075, 580848.9385810106], [227031.30511857304, 580849.0252195566], [227034.9062899247, 580865.386651159], [227039.34794397763, 580884.2532005766], [227039.35586292137, 580884.2873743895], [227043.77786292136, 580903.6793743895], [227043.78378441377, 580903.7056689416], [227047.16708280108, 580918.9205196634], [227052.36847986607, 580941.7739020432], [227057.69057511716, 580964.6164348065], [227057.7028388687, 580964.6704217936], [227062.92410298, 580988.2590615888], [227068.2383741945, 581011.7046108997], [227073.35643694364, 581034.1095079783], [227073.3700985422, 581034.1711004603], [227078.6520107958, 581058.7157519337], [227083.8728388687, 581082.3024217936], [227083.87503340596, 581082.3123844343], [227089.4285780994, 581107.6470598036], [227096.80717541964, 581140.0169712431], [227102.30837208626, 581163.7991752588], [227102.31086296207, 581163.8099982854], [227107.36186296208, 581185.8689982854], [227107.36919828263, 581185.9015318068], [227112.49294549177, 581208.9848361762], [227116.91364220268, 581227.1123851973], [227116.9480883166, 581227.2638146813], [227123.14137728867, 581256.5887732082], [227130.6629473704, 581290.3524874013], [227134.96000351012, 581308.4726036531], [227136.34604029317, 581313.8551456382], [227136.3760376159, 581313.9780562874], [227137.0217340348, 581316.7770018273], [227139.5208977359, 581324.4160994497], [227143.72904068063, 581335.2077271607], [227146.73357111635, 581342.733018531], [227146.82399270663, 581342.9778657441], [227149.02899270665, 581349.4648657441], [227149.0732354224, 581349.6014286951], [227151.29523542238, 581356.8114286951], [227151.3237001133, 581356.9071797428], [227153.1337001133, 581363.2261797428], [227153.2386315383, 581363.6671177255], [227154.0406315383, 581367.8761177255], [227154.09903375557, 581368.2654064872], [227154.5803507968, 581372.6418981322], [227155.3325214049, 581377.2083705964], [227155.36795858692, 581377.4647171929], [227155.8859585869, 581382.091717193], [227155.8984114342, 581382.217256314], [227156.2868840161, 581386.7098160981], [227157.16556698966, 581392.5615329741], [227157.21486023557, 581393.0562905986], [227157.4695710313, 581398.1913000386], [227157.66688109664, 581401.477441665], [227158.38675842545, 581404.6865977768], [227158.4196283788, 581404.8451011439], [227160.562810932, 581416.0925945895], [227163.3484473692, 581428.1878339543], [227163.37438201014, 581428.3070774295], [227166.8473792224, 581445.2695704116], [227169.55073435837, 581456.9264218442], [227169.59164358096, 581457.120180929], [227172.08664358096, 581470.2151809289], [227172.09356349029, 581470.2522602201], [227174.8986776091, 581485.6039028215], [227177.9274664667, 581498.9754300388], [227177.9339032278, 581499.0042416311], [227180.6239032278, 581511.2142416312], [227180.64388869042, 581511.309345887], [227183.21268273352, 581524.1523241843], [227185.99411784703, 581538.1173217006], [227188.91980012233, 581551.5704760404], [227188.94561491197, 581551.6970304723], [227191.56400591467, 581565.4373584577], [227194.84099445853, 581580.7389333447], [227195.9828050833, 581585.9659108291], [227197.6847984858, 581593.7568806286], [227197.69612507158, 581593.810116731], [227198.08824501061, 581595.7036960988], [227200.75229450868, 581608.576279583], [227204.04074218145, 581623.2979925494], [227204.06208419427, 581623.3983668758], [227206.19366562093, 581633.9548648181], [227209.12070766397, 581646.7826937513], [227209.1395192224, 581646.8686133184], [227211.7768123471, 581659.4424754232], [227214.0590784148, 581670.1463432506], [227214.0885406429, 581670.2956244559], [227216.5439101416, 581683.8165789106], [227219.32130429166, 581697.1293959345], [227222.07272767407, 581709.6639906691], [227222.07961476917, 581709.695861942], [227224.40614732588, 581720.6349621852], [227228.53329086996, 581739.7747637385], [227231.29074091982, 581749.2475428019], [227231.36470345908, 581749.5326753235], [227233.54098869392, 581759.0701290788], [227235.07547833133, 581764.7204839762], [227237.88082302746, 581772.0521723944], [227237.97843196226, 581772.3318196905], [227240.72443196224, 581781.0178196905], [227240.75112606102, 581781.1050157357], [227242.42271975652, 581786.7486211618], [227245.1090489024, 581792.1147592372], [227245.37109404066, 581792.7412243325], [227248.13009404065, 581800.8432243324], [227248.23644250262, 581801.1981005354], [227250.55444250262, 581810.1231005355], [227250.59529599003, 581810.292474805], [227254.16229599004, 581826.299474805], [227254.16944226084, 581826.332055382], [227257.70057692556, 581842.691413489], [227260.7956810392, 581856.7887782378], [227260.8043846434, 581856.8292187727], [227264.313900699, 581873.4702488675], [227267.6295917168, 581887.8754608962], [227267.64860666636, 581887.9615367114], [227270.3999286782, 581900.9589893917], [227273.27084434725, 581913.7075308269], [227273.28510379602, 581913.7728879785], [227275.3712834864, 581923.6515917105], [227279.9947006455, 581944.1991149167], [227285.85766357326, 581969.3266695392], [227288.62676536513, 581980.8682538642], [227292.16577373087, 581995.4801291601], [227294.0756304334, 582002.9363371833], [227294.12149598505, 582003.1316153761], [227296.89739975828, 582016.115133636], [227303.86021780266, 582047.763670492], [227303.87231779058, 582047.8202260913], [227306.81667841983, 582061.9820952909], [227307.1931964562, 582063.4128638292], [227310.1890108774, 582074.7841594225], [227313.9349856128, 582089.0020635304], [227315.03796848032, 582093.1879985109], [227315.0860934071, 582093.3871052249], [227315.6105827898, 582095.7697855635], [227315.94556620342, 582097.2847130052], [227318.15870610494, 582107.3152825182], [227323.84481690617, 582132.6698585119], [227323.85031741133, 582132.694680859], [227334.96442356103, 582183.4604626503], [227342.4204582097, 582216.6562602973], [227342.43047960888, 582216.7018728108], [227350.75150363977, 582255.4373295468], [227361.7712418129, 582306.275281585], [227375.07185064818, 582366.3860029984], [227398.45385064816, 582472.4930029984], [227398.4568388826, 582472.5066542872], [227406.0464521837, 582507.4120785055], [227420.06796624497, 582569.9745246319], [227420.073944833, 582570.0015507613], [227429.45093547282, 582612.9535078865], [227436.97530314265, 582647.4164513457], [227451.42462139836, 582712.0694519687], [227451.42912570905, 582712.0898055979], [227459.86473957467, 582750.5880433678], [227471.10238379115, 582801.6976848661], [227489.35920652177, 582881.2151353093], [227489.3618561253, 582881.2267389444], [227497.177620723, 582915.6436846989], [227505.61516754873, 582951.236680997], [227505.6228529821, 582951.269596584], [227512.63849643822, 582981.7819983199], [227519.2130524899, 583009.6114204397], [227519.22536718653, 583009.6648551221], [227525.40791352608, 583037.1801332571], [227531.42412211848, 583062.5544893706], [227531.43334096484, 583062.5940879036], [227536.7121322556, 583085.6934228665], [227539.44856217597, 583097.4527836953], [227542.24392000225, 583109.2461341266], [227545.23626048208, 583120.4511802824], [227546.84279031513, 583125.4714654003], [227548.71421636143, 583130.8010651513], [227550.76877393827, 583135.4592181947], [227550.97930043758, 583136.027551925], [227553.05589212247, 583142.8833443266], [227557.53218350565, 583152.2745538481], [227561.08207346263, 583159.133014024], [227565.6534433723, 583166.0889827049], [227565.8685165117, 583166.4481584339], [227566.97338951763, 583168.481924673], [227568.6825695859, 583171.6272561315], [227569.46133831647, 583173.0608304058], [227577.89710705937, 583188.5824048993], [227578.02539301236, 583188.83528568], [227585.36239301236, 583204.37528568], [227585.40269770462, 583204.4628277915], [227592.36064354898, 583219.9671692293], [227600.55364354898, 583238.2701692292], [227600.73627745442, 583238.7404700875], [227600.87058703328, 583239.226781693], [227600.95520480975, 583239.7241526537], [227600.98926924606, 583240.2275189764], [227600.9724335144, 583240.731755626], [227600.9048690282, 583241.2317287062], [227600.78726369666, 583241.7223477301], [227600.62081492107, 583242.1986174496], [227600.40721740323, 583242.6556887144], [227600.14864589085, 583243.0889078432], [227599.8477330354, 583243.4938640065], [227599.5075425876, 583243.866434134], [227599.1315382039, 583244.2028248949], [227588.3827188617, 583252.8838908869], [227583.9863988729, 583257.7891096526], [227583.94600613575, 583257.8336365571], [227580.21222689602, 583261.9001681366], [227576.6125004487, 583265.9400316215], [227572.3282810365, 583271.5751134927], [227572.30665434693, 583271.603350301], [227570.75816080743, 583273.6103076168], [227568.07534970774, 583278.6608345528], [227565.74483990105, 583284.108973804], [227563.96347739335, 583289.4287232162], [227562.75922360935, 583294.1243162251], [227562.115610321, 583299.3532196636], [227561.89385406466, 583304.831172703], [227561.7782958853, 583310.2769732896], [227561.93304406587, 583316.6110097561], [227562.26416723433, 583321.7152686261], [227562.9274718393, 583327.1025741097], [227564.47076118243, 583332.4147675588], [227566.1974205166, 583337.7601566236], [227568.4042229039, 583343.6472145006], [227570.47646317907, 583348.4968643315], [227579.90382756194, 583364.2097914163], [227585.0036435478, 583372.4222880577], [227585.02582305728, 583372.4583445541], [227592.4588230573, 583384.657344554], [227592.4974399368, 583384.7218075928], [227601.8784399368, 583400.6518075928], [227602.03063142925, 583400.930069445], [227611.66163142925, 583419.9480694451], [227611.76378226606, 583420.162246227], [227616.90078226605, 583431.625246227], [227616.95594202384, 583431.7530723894], [227626.38794202384, 583454.4750723894], [227626.4741877398, 583454.6977102642], [227638.7781877398, 583488.8597102643], [227638.84685909282, 583489.0640952782], [227649.75285909284, 583524.0010952782], [227649.80200528505, 583524.1687802636], [227665.89100528503, 583582.8437802636], [227665.90601757905, 583582.8998005923], [227683.98782394966, 583651.9742408], [227698.61899170457, 583707.4398038876], [227706.8487498875, 583736.3073560611], [227707.12242585677, 583737.2682184057], [227726.34846954307, 583804.6488482414], [227734.85372826632, 583833.711647115], [227734.8955793656, 583833.8634859661], [227747.3056059214, 583881.8244004517], [227777.1840168092, 583992.9150291766], [227800.15451052168, 584076.0727155332], [227800.1811736538, 584076.1733087645], [227803.4751736538, 584089.1443087645], [227803.4843532704, 584089.1810382672], [227818.33526075428, 584149.5735954515], [227827.82355511712, 584187.8563315958], [227831.35404887833, 584201.0087411792], [227831.4358402687, 584201.3649745455], [227833.24871055034, 584210.835692959], [227836.47660263086, 584223.8799415078], [227836.5660269168, 584224.3283480887], [227838.1220269168, 584234.5473480887], [227838.12771756697, 584234.5857210333], [227840.73471756696, 584252.6477210332], [227840.7447665211, 584252.7211922369], [227842.3267665211, 584264.963192237], [227842.3327463332, 584265.0112995304], [227844.85823767554, 584286.1660387671], [227847.246120685, 584305.8805607514], [227850.28244928687, 584329.8773513148], [227850.29132133877, 584329.9519670608], [227852.2899804721, 584347.9110772243], [227854.69537415216, 584363.2594069551], [227857.8564583375, 584375.8134824656], [227860.87336437954, 584385.1514322121], [227861.499898418, 584387.0929142323], [227865.7568601686, 584399.1227728091], [227870.45945016155, 584410.637195498], [227876.89966360346, 584424.6237583322], [227876.96979761004, 584424.7833367777], [227883.95352022434, 584441.4567997764], [227890.07298232857, 584455.6413735186], [227890.15493954808, 584455.8433387113], [227894.7099395481, 584467.8103387114], [227894.8066745095, 584468.0889316439], [227899.38749886013, 584482.6542953136], [227904.82916174404, 584499.4717105078], [227904.83676081544, 584499.4953963673], [227908.30676081544, 584510.4043963673], [227908.36505840524, 584510.6016269042], [227911.60805840525, 584522.4656269042], [227911.65277594244, 584522.6417402334], [227916.05038647473, 584541.3822959102], [227918.93491134312, 584553.354871948], [227918.9835692039, 584553.5793584458], [227922.15970132075, 584570.051739528], [227925.06018399555, 584584.0025334713], [227927.94335728697, 584597.2006189892], [227932.18360099135, 584614.0958844654], [227932.19594800952, 584614.1461831537], [227934.9542212768, 584625.6394875787], [227937.9531758545, 584637.7040755358], [227940.6920178355, 584648.3330117122], [227943.79702493336, 584659.7867061638], [227946.90397360816, 584670.7937253611], [227946.90587591968, 584670.8004828414], [227950.2624820321, 584682.7561470622], [227954.73180044052, 584698.0308937605], [227954.76114579028, 584698.1353815069], [227958.88033813372, 584713.4383810234], [227962.2495267394, 584725.893381513], [227962.2967504653, 584726.0825070972], [227964.68691817782, 584736.5161435056], [227968.07902320183, 584750.9857944503], [227968.12048296494, 584751.179911294], [227970.40232280642, 584763.0084272074], [227972.79524592415, 584774.240129182], [227972.82352864576, 584774.3830695462], [227975.12267405706, 584786.9629221007], [227979.58577761272, 584810.8257823884], [227979.6369130595, 584811.1621556936], [227981.1019130595, 584823.6441556936], [227981.11608839652, 584823.7812202753], [227982.2230883965, 584836.1482202754], [227982.2320304005, 584836.2629778518], [227983.99203040052, 584862.7889778517], [227983.9949046545, 584862.8355919826], [227984.90990465452, 584878.8955919826], [227984.9143097773, 584878.9879359239], [227986.1469980041, 584911.0547979991], [227987.33423941393, 584930.0277331402], [227987.33538793534, 584930.0466631983], [227988.0903879353, 584942.8936631983], [227988.09889954113, 584943.2186950842], [227988.05889954115, 584949.5286950842], [227988.05039249107, 584949.790259271], [227987.75639249108, 584954.7942592711], [227987.75155254197, 584954.8674611117], [227986.93155254197, 584966.0254611117], [227986.87164059945, 584966.5123536218], [227986.03364059943, 584971.3503536218], [227986.01278318246, 584971.4630700629], [227982.38752834508, 584989.8724120933], [227981.54273392056, 584995.7306244648], [227981.3558211177, 584997.2325726763], [227981.13228931744, 585008.4364940891], [227980.9774923097, 585019.29825058], [227980.97426740403, 585019.4201632143], [227980.27526740404, 585037.5001632144], [227980.26585559233, 585037.669313816], [227979.09301117173, 585053.8122415745], [227979.09399999052, 585069.8676920614], [227979.09376538917, 585069.9164360749], [227978.97138547292, 585082.5489805503], [227979.4113556671, 585087.0060290346], [227981.41966660565, 585106.1838997583], [227983.80152485633, 585128.8105531993], [227983.81158442225, 585128.9170437972], [227985.78526044212, 585152.5022724699], [227989.5076270393, 585191.7185287758], [227989.51017676422, 585191.7462085914], [227991.542894179, 585214.5058479247], [227993.64987079374, 585236.6545779149], [227996.05219356966, 585261.184662789], [227996.06114956256, 585261.2869235933], [227998.59214956255, 585294.0529235932], [227998.59262816294, 585294.0591704593], [228002.3902807552, 585344.0385983613], [228006.0169281485, 585390.6360678483], [228006.34594038792, 585394.8638751247], [228029.0972683754, 585389.5917770319], [228058.56228813954, 585382.5595909099], [228058.57244310115, 585382.5571785048], [228084.12044310116, 585376.5161785048], [228084.12892070058, 585376.5141817131], [228109.0956414487, 585370.656531887], [228135.42622683465, 585364.3156888825], [228162.90607670954, 585357.6124330374], [228162.91825187145, 585357.6094792638], [228197.06525187148, 585349.3704792638], [228197.11220759593, 585349.3593892333], [228204.72856364676, 585347.5993069663], [228235.31511528706, 585340.5333410078], [228272.5337572304, 585331.4437550924], [228272.64014952132, 585331.4190001081], [228297.46665905594, 585325.9276197725], [228328.70434686728, 585318.4320127039], [228328.73358608078, 585318.4250894877], [228346.4831824473, 585314.2786509944], [228358.95033522346, 585311.3532467204], [228363.2776414611, 585310.2975392203], [228381.98334635838, 585305.7316112528], [228381.99980435742, 585305.7276234924], [228398.09080435743, 585301.8576234924], [228398.10975009564, 585301.8531059242], [228426.12662946407, 585295.2301905118], [228492.6459900227, 585279.5616431404], [228508.2861182011, 585275.6623254062], [228503.5589550138, 585268.6057882155], [228503.55350259657, 585268.5976317505], [228500.7225025966, 585264.3536317506], [228500.52291745777, 585264.0281629978], [228498.50542404412, 585260.4373769512], [228495.8547792723, 585256.0969215762], [228495.73294142308, 585255.8860291874], [228493.76794142308, 585252.2850291873], [228493.55681006823, 585251.8491458832], [228491.31581006822, 585246.5871458832], [228491.2946160872, 585246.5366148723], [228489.5786160872, 585242.3816148723], [228489.41525845835, 585241.924291969], [228487.71425845835, 585236.316291969], [228487.61595143809, 585235.9400984801], [228487.5471743242, 585235.5574034058], [228487.09217432418, 585232.3034034058], [228487.04616993447, 585231.7582909917], [228487.05999235905, 585231.2114154221], [228487.28199235906, 585228.4424154221], [228487.29025953435, 585228.3500581147], [228488.27725953434, 585218.3670581148], [228488.28892224366, 585218.2607257912], [228489.14381732303, 585211.1673803242], [228489.87574734585, 585203.8381488881], [228489.94267520588, 585203.3819272245], [228490.56267520587, 585200.1889272245], [228490.58438429984, 585200.083233265], [228491.94336760615, 585193.8110026205], [228493.30051504262, 585186.2433982699], [228493.31443318637, 585186.1690318868], [228495.89543318638, 585172.9330318868], [228495.91270167904, 585172.8483751483], [228497.59070167903, 585164.9703751482], [228497.63350378475, 585164.7865284813], [228498.35450378474, 585161.9345284813], [228498.36174445244, 585161.9062351758], [228499.60141495353, 585157.120391847], [228500.66151344185, 585152.7916563532], [228500.70945791603, 585152.6106266836], [228502.165457916, 585147.5016266835], [228502.18571451385, 585147.4324437826], [228503.77011238644, 585142.1623826029], [228505.81293717137, 585135.0234466707], [228505.82713920003, 585134.9747509514], [228507.94113920003, 585127.8607509515], [228507.96587173967, 585127.7800239561], [228509.53997646688, 585122.7928793004], [228510.5619048044, 585119.3507495251], [228512.22605665977, 585113.5708466567], [228513.8682558284, 585107.6041896775], [228513.9359593221, 585107.3790321156], [228515.993837185, 585101.0765968068], [228516.51796257775, 585099.1853940753], [228518.09896257773, 585093.4863940753], [228518.12006268013, 585093.4125417945], [228518.93806268013, 585090.6305417945], [228519.01782020554, 585090.3832259543], [228520.27190794604, 585086.8147315837], [228521.94450338988, 585081.6417457932], [228522.00091177775, 585081.4771290341], [228523.05391177777, 585078.5701290341], [228523.24829365074, 585078.1074520599], [228523.48807685776, 585077.6665911875], [228523.77084578155, 585077.2519877254], [228524.09375175947, 585076.86781846], [228524.45354178117, 585076.5179535784], [228524.84659126014, 585076.2059176795], [228525.26894054847, 585075.9348542667], [228525.7163348268, 585075.7074940794], [228526.18426696834, 585075.526127583], [228526.66802294433, 585075.392581895], [228527.1627293139, 585075.3082023773], [228527.6634023201, 585075.273839084], [228528.16499809708, 585075.2898381965], [228538.81199809708, 585076.1658381964], [228538.9241867754, 585076.176342665], [228576.36423987366, 585080.10798309], [228597.53428607935, 585082.2196909515], [228597.59196150445, 585082.2257820885], [228616.02123617733, 585084.2802520082], [228635.81319933498, 585086.3760074072], [228635.21256970978, 585077.5546329416], [228634.93867956975, 585073.8596059618], [228634.93122699982, 585073.7394618664], [228634.71336020695, 585069.3781647945], [228634.4272233744, 585065.1148249988], [228634.4197371369, 585064.9732806322], [228634.1867371369, 585058.9502806321], [228634.19186645406, 585058.4593661196], [228634.24511496405, 585057.9713210758], [228634.34596930144, 585057.4908507112], [228634.49345713615, 585057.0225872094], [228635.43545713616, 585054.4755872093], [228635.60778451792, 585054.0664598701], [228635.8157223572, 585053.6742306498], [228636.0576314226, 585053.3019915998], [228636.9653009041, 585052.0324538889], [228637.58097048415, 585051.1709162623], [228637.89973653565, 585050.7699758956], [228638.25784960348, 585050.4037519152], [228638.65155143465, 585050.0760876948], [228639.07671028632, 585049.790421939], [228639.52886428687, 585049.5497525954], [228640.00326826138, 585049.356605392], [228642.34426826137, 585048.540605392], [228642.48082763253, 585048.4951982666], [228644.75182763254, 585047.7761982665], [228645.1360740171, 585047.6711890909], [228684.75720541336, 585038.5224678019], [228770.13254707961, 585018.4442002706], [228763.577869203, 584995.0806089995], [228763.4726823622, 584994.624602693], [228763.41058992906, 584994.1607594516], [228763.39213584823, 584993.6931426534], [228763.41748178197, 584993.2258487345], [228763.48640569372, 584992.7629713021], [228763.59830379346, 584992.3085652742], [228763.75219582688, 584991.8666113568], [228763.94673366265, 584991.4409811731], [228764.1802131025, 584991.0354033456], [228764.4505888103, 584990.653430834], [228768.10041693517, 584985.9776141578], [228743.4006392055, 584898.3779022011], [228743.29041564217, 584897.8974492227], [228743.2280365071, 584897.4084777085], [228743.21410808628, 584896.9157401541], [228743.24876575524, 584896.4240256594], [228743.33167266316, 584895.9381133803], [228743.462023007, 584895.4627260792], [228743.6385498633, 584895.0024842217], [228743.85953750185, 584894.5618610699], [228744.12283806162, 584894.145139204], [228744.42589242655, 584893.7563688987], [228744.76575509852, 584893.3993287574], [228745.1391228258, 584893.0774889858], [228745.54236670866, 584892.7939776647], [228745.97156746977, 584892.5515503456], [228746.42255354728, 584892.3525632701], [228746.8909416398, 584892.1989504676], [228747.37217930926, 584892.092204958], [228747.86158922772, 584892.0333642404], [228748.3544146382, 584892.02300021], [228748.84586558718, 584892.0612135985], [228749.33116548014, 584892.1476329956], [228749.80559750693, 584892.2814184593], [228786.52059750695, 584904.6184184593], [228786.54028494938, 584904.6250794174], [228837.35284875677, 584921.934546254], [228855.85236749786, 584928.1716601149], [228858.13758348118, 584928.4044874238], [228861.22801763675, 584928.6914898066], [228866.09893468683, 584928.7859397217], [228866.16500743272, 584928.7876578488], [228870.31862372282, 584928.9231439347], [228875.32537884393, 584928.8091629447], [228879.41654105546, 584928.3645114262], [228882.19735315317, 584927.9024373331], [228884.76172281866, 584927.4000193649], [228887.3087712394, 584926.6151385535], [228892.13518256147, 584924.6593614283], [228895.04863703085, 584922.9565774514], [228898.42565741058, 584920.890679207], [228903.06159278296, 584917.3439208951], [228905.97969951126, 584915.0990854888], [228908.88108212178, 584911.9727683193], [228909.1276051807, 584911.7250855231], [228915.28069600218, 584905.9607153466], [228924.29019115889, 584897.0258021035], [228924.64476827308, 584896.7062485026], [228925.02820108502, 584896.4219621813], [228925.4369951501, 584896.175534005], [228925.86742489203, 584895.969209816], [228926.315567556, 584895.8048699655], [228926.77733895925, 584895.6840121777], [228927.24853071236, 584895.6077378994], [228927.7248485728, 584895.5767422619], [228928.20195158094, 584895.5913077466], [229011.8428145047, 584902.1512969957], [229015.7086798263, 584902.4542864402], [229016.20184547384, 584902.5177382535], [229016.68627029663, 584902.6298590793], [229017.15716355623, 584902.7895400944], [229017.6098683351, 584902.9952021271], [229018.03990759145, 584903.2448112747], [229018.44302843505, 584903.5358990175], [229018.81524418638, 584903.8655866317], [229019.15287380305, 584904.2306136588], [229019.45257828358, 584904.6273701494], [229019.71139368872, 584905.0519323646], [229019.92676045324, 584905.5001015796], [229020.09654869905, 584905.9674456072], [229020.21907929852, 584906.4493426302], [229020.29314048047, 584906.9410269088], [229020.31799981394, 584907.437635912], [229020.2934114515, 584907.9342584055], [229020.21961856083, 584908.4259830213], [229020.09735091956, 584908.9079468295], [229019.9278176984, 584909.3753834299], [229011.19445869836, 584930.1663033807], [229067.77618790464, 585007.1693168305], [229087.53616471306, 585034.0601807619], [229119.3304523946, 585075.656067887], [229152.20117743392, 585117.6197375705], [229152.49682492722, 585118.0399833298], [229152.74778198986, 585118.4883520299], [229152.9513983754, 585118.9601086472], [229153.1055237812, 585119.4502711691], [229154.78105642842, 585125.9245020039], [229186.316666835, 585163.0338391168], [229197.15124477443, 585175.6975017083], [229197.17348225188, 585175.7236747375], [229228.9028604276, 585213.329451354], [229316.81369394748, 585180.7328988846], [229316.82375193317, 585180.7291817362], [229420.77117096612, 585142.4397775227], [229421.06130461243, 585142.2412845131], [229447.0692109651, 585124.4623485302], [229452.95211489793, 585120.440414208], [229453.38376523124, 585120.1763285926], [229453.83989761324, 585119.9572247986], [229454.31584009487, 585119.7853470028], [229454.80671782146, 585119.6624556686], [229455.3075029637, 585119.589809514], [229455.8130662153, 585119.5681526192], [229456.3182293301, 585119.5977068058], [229456.81781816026, 585119.678169364], [229457.30671565272, 585119.8087161538], [229457.7799142608, 585119.9880100461], [229458.23256723414, 585120.2142146176], [229458.66003826153, 585120.4850129619], [229459.0579489586, 585120.7976314189], [229459.42222371354, 585121.148867985], [229462.1982927185, 585124.1109416151], [229471.86348482277, 585134.4241466107], [229479.20348482276, 585142.2571466106], [229479.4203275624, 585142.5043690575], [229494.57112148838, 585160.9689326895], [229506.85382095477, 585174.5860415607], [229516.8758343135, 585184.9769206889], [229516.93878238212, 585185.0433928587], [229526.9201019137, 585195.7786755197], [229530.807664436, 585199.6446240982], [229531.0379489362, 585199.8895685753], [229533.4289489362, 585202.6105685753], [229533.56909024453, 585202.777235362], [229535.0170890128, 585204.5774774979], [229536.14943854784, 585205.9862038291], [229539.22556485047, 585209.7800295625], [229550.03076213482, 585220.7348615032], [229550.17129090597, 585220.8832857376], [229555.72760072, 585226.9973831811], [229574.45400144675, 585245.0381627415], [229574.64290419934, 585245.2302264862], [229581.04450760802, 585252.0996919689], [229585.75312584086, 585256.3244091279], [229585.80323063917, 585256.3699810018], [229589.67423063918, 585259.9389810018], [229589.77096575187, 585260.0305833422], [229598.65034151255, 585268.6660749032], [229610.54483228122, 585279.7204973309], [229610.8943960775, 585280.0796656413], [229611.20624624199, 585280.4720254224], [229611.47724934516, 585280.8936342943], [229611.7046823833, 585281.3402559867], [229611.88626013912, 585281.807402903], [229612.02015814307, 585282.2903812125], [229612.10503100557, 585282.7843380122], [229612.14002593528, 585283.2843100892], [229612.12479130767, 585283.7852737895], [229612.05948019828, 585284.2821954954], [229611.94474884463, 585284.770082203], [229611.7817500523, 585285.2440316903], [229611.57212161174, 585285.6992817752], [229611.3179698421, 585286.1312581644], [229611.02184842702, 585286.5356204159], [229610.68673275568, 585286.9083055507], [229594.0389206408, 585303.6525825725], [229606.97875740338, 585321.1702311789], [229607.28077314654, 585321.6300269262], [229609.3078617698, 585325.120574653], [229620.06223430356, 585342.8845470245], [229620.12113141656, 585342.9844288847], [229625.58657302838, 585352.5036882191], [229629.83588113482, 585359.5266157556], [229629.86322148342, 585359.5723502053], [229631.49692337637, 585362.3385390271], [229639.01992337639, 585375.0845390272], [229639.05231178345, 585375.1402303266], [229648.0154752643, 585390.7832716594], [229654.35862124275, 585400.8197319733], [229654.49951955382, 585401.056914351], [229662.31578021837, 585415.0817582604], [229668.31965780904, 585425.2423960317], [229668.33696492182, 585425.2719158299], [229672.0749649218, 585431.69791583], [229672.11122667888, 585431.7613143377], [229680.1519283246, 585446.0606596059], [229686.782912097, 585457.3664171799], [229686.84972718236, 585457.4839490453], [229689.41185145892, 585462.1361747165], [229691.6511220292, 585466.2026684801], [229700.40708539792, 585476.3956902786], [229710.60165575493, 585488.0347909242], [229730.00698874288, 585510.1472642266], [229735.62742464984, 585516.3509435267], [229735.69517193586, 585516.4272724065], [229741.0440109897, 585522.5789838281], [229741.3589197533, 585522.9262832074], [229747.80480019507, 585530.0341513706], [229747.8958675815, 585530.1373925239], [229752.7571557979, 585535.8039064363], [229761.82536208336, 585546.2344911085], [229761.85954646204, 585546.2742300391], [229770.376337334, 585556.2805178484], [229773.20189594405, 585559.2965853981], [229773.36047844792, 585559.4741501317], [229780.67324060953, 585568.0654719938], [229799.2756423238, 585589.6965432233], [229812.10009296157, 585604.2744576406], [229812.12806767714, 585604.306531519], [229819.3197876088, 585612.6232517854], [229824.9683165247, 585618.3845943216], [229824.9773533042, 585618.3938354488], [229830.58932871986, 585624.1475724762], [229845.50091211044, 585638.6007059029], [229845.51354527747, 585638.6129939232], [229855.581240122, 585648.4402215272], [229862.9636652517, 585655.4687289093], [229863.02671410062, 585655.5298193159], [229870.572805314, 585662.9710621004], [229876.75484620803, 585668.9929310305], [229882.92062353544, 585674.859737419], [229883.27622500816, 585675.2349882988], [229883.59117831837, 585675.6449517637], [229883.86211641826, 585676.085245048], [229884.08614281015, 585676.5511611411], [229884.26086251187, 585677.037719109], [229884.38440766057, 585677.5397173424], [229884.45545748138, 585678.0517891666], [229884.47325240725, 585678.5684602136], [229884.43760219932, 585679.0842069468], [229882.3155242273, 585696.5751225607], [229880.77689735257, 585710.3758672463], [229877.65295857156, 585739.0395571871], [229898.45601000363, 585720.5562165065], [229898.7164121034, 585720.3401661989], [229905.5994121034, 585715.0121661989], [229906.013553734, 585714.7237927725], [229906.45465445056, 585714.4786342909], [229906.91822080372, 585714.2791881592], [229907.39953048903, 585714.1274861153], [229907.89368045237, 585714.0250735332], [229908.39563683703, 585713.9729936793], [229908.90028626303, 585713.9717770863], [229909.40248791667, 585714.0214361473], [229909.89712591947, 585714.1214649904], [229910.37916144307, 585714.2708446317], [229910.8436840394, 585714.4680533556], [229911.28596166274, 585714.7110822164], [229911.70148887477, 585714.997455503], [229912.08603274095, 585715.3242559594], [229912.435675951, 585715.6881545014], [229920.71803942072, 585725.2284212966], [229921.3334025796, 585725.936688309], [229921.33865753203, 585725.942746429], [229931.13765753203, 585737.257746429], [229931.16906262052, 585737.2943656829], [229947.91504657196, 585757.0123774287], [229965.55228662444, 585777.0656641031], [229970.76177289805, 585782.8307492568], [229970.9832095016, 585783.0934058754], [229983.0462095016, 585798.4424058754], [229983.0512820448, 585798.4488711243], [229998.1822820448, 585817.7668711243], [229998.2233479266, 585817.8200324307], [230006.27578229655, 585828.3902225113], [230012.92731344578, 585836.7768058593], [230022.34016138985, 585848.6426141781], [230022.39587548206, 585848.7141705574], [230024.21952487004, 585851.1007117247], [230024.89225716476, 585851.9806701163], [230029.87918489036, 585858.5085755088], [230036.06611177177, 585866.6064798059], [230036.34318480082, 585867.008384774], [230036.579745567, 585867.4353930533], [230036.77353920086, 585867.8834344513], [230036.92271848425, 585868.3482382897], [230037.02586145766, 585868.8253741129], [230037.08198497444, 585869.3102939184], [230037.09055407182, 585869.7983755072], [230037.0514870701, 585870.284966543], [230036.96515635142, 585870.7654288972], [230036.83238481006, 585871.235182859], [230036.65443800873, 585871.6897507886], [230036.4330121155, 585872.124799798], [230036.17021773598, 585872.5361830511], [230035.86855979537, 585872.9199792909], [230035.53091366176, 585873.2725302166], [230027.45204585418, 585880.9227764203], [230019.8891514457, 585888.1409946635], [230019.8716110151, 585888.1576547958], [230011.65780283796, 585895.9215282585], [229997.45731796155, 585909.361790202], [229989.3745491243, 585917.12508201], [229989.3199696276, 585917.1767214325], [229981.1149696276, 585924.8237214325], [229981.03387144205, 585924.8976580317], [229970.80333798903, 585934.02118967], [229961.59464064974, 585942.3985393465], [229961.48105229627, 585942.4987707179], [229942.74137935918, 585958.5365000934], [229933.6926821886, 585966.3412012418], [229933.6637630321, 585966.3659533026], [229923.73071141218, 585974.8024078396], [229906.54536307073, 585989.6478403765], [229899.76464356467, 585995.548113791], [229891.3635112992, 586003.4624107039], [229891.3348280289, 586003.4892200389], [229889.1333377828, 586005.5307473243], [229882.83287001864, 586011.3766742998], [229875.1667778225, 586019.2158494703], [229875.1154310216, 586019.2675955006], [229866.70760868816, 586027.6181478756], [229861.46899522186, 586033.4906354981], [229858.48231284655, 586037.2679102669], [229853.80674766336, 586043.3020467996], [229850.74018832913, 586048.2890293578], [229850.70998981947, 586048.3375166554], [229848.23413699676, 586052.2626491792], [229844.62052809546, 586058.238314696], [229844.61307935562, 586058.2505924946], [229841.8223242294, 586062.8357482953], [229829.1415958537, 586088.2049632164], [229827.2309931137, 586097.8883934856], [229826.00362562685, 586104.8285806746], [229824.84466941477, 586111.384332984], [229822.31062348213, 586125.7215927901], [229820.05192584987, 586138.4956208187], [229819.29279204682, 586171.5120105187], [229818.31689552858, 586217.9340880315], [229818.31613542762, 586217.9655366149], [229817.62618461176, 586243.2222607435], [229890.90036867862, 586207.570918029], [229984.06829004537, 586162.0309116443], [229984.50754912422, 586161.8416668223], [229984.96288058153, 586161.6952584722], [229985.43011791343, 586161.5930263018], [229985.90498567137, 586161.5359057848], [229986.3831385848, 586161.5244196018], [229986.8602013223, 586161.558672857], [229987.33180852816, 586161.6383521165], [229987.7936447674, 586161.7627282761], [229988.2414840142, 586161.9306632339], [229988.67122832188, 586162.1406203033], [229999.5546871603, 586168.1188723731], [230002.11456177136, 586169.5253530273], [230003.74364640174, 586170.4208498547], [230006.91747171694, 586172.1637540082], [230012.46744831756, 586175.2127411533], [230075.11159444327, 586209.6268214325], [230080.87304921364, 586212.7921982597], [230083.43720921743, 586213.6667353621], [230118.7402493156, 586225.7088541131], [230142.4083021178, 586232.055694416], [230144.34318993683, 586232.5746643272], [230152.41011433856, 586234.7379562611], [230152.58932905522, 586234.5687772857], [230152.98876044244, 586234.2614781577], [230153.41709698102, 586233.9959485042], [230153.86998714553, 586233.7748858749], [230154.34282996698, 586233.6005360732], [230154.83082177493, 586233.474670341], [230155.32900499832, 586233.3985673642], [230155.83231853033, 586233.3730002828], [230156.33564914463, 586233.3982288359], [230156.8338834413, 586233.4739967234], [230157.3219597946, 586233.5995342099], [230160.26697668634, 586234.5175394752], [230224.89897668632, 586254.6645394752], [230224.96489133942, 586254.6855878014], [230242.56289133942, 586260.4395878015], [230243.0149884942, 586260.6120425591], [230243.44829896642, 586260.8273899886], [230243.85876467396, 586261.0836132969], [230244.24254148258, 586261.378312876], [230244.59603520765, 586261.7087287762], [230244.91593527462, 586262.0717665537], [230245.1992457237, 586262.4640262511], [230245.44331326772, 586262.881834239], [230245.64585214108, 586263.3212776204], [230245.8049655067, 586263.7782408767], [230245.9191632202, 586264.2484444104], [230245.98737578592, 586264.7274846244], [230246.00896437268, 586265.2108751639], [230245.98372679696, 586265.6940889318], [230245.9118994162, 586266.1726004867], [230245.840474897, 586266.4572976237], [230320.7275516734, 586290.9558037602], [230336.89363273396, 586296.2438302785], [230344.10763273397, 586298.6038302785], [230344.15230057016, 586298.618676105], [230405.61932726947, 586319.3696851186], [230470.03372372515, 586341.1161181463], [230524.54106410884, 586359.3232043118], [230528.59458609603, 586359.7631090262], [230530.92727913792, 586359.5658165799], [230531.0468669763, 586359.5556857501], [230531.40169379237, 586359.3765283318], [230532.34740814875, 586358.144971051], [230533.41066660473, 586356.2295422149], [230533.9809758325, 586353.2495480516], [230535.5921576152, 586330.1875342991], [230535.6543992101, 586329.6766648741], [230536.3853992101, 586325.4866648741], [230536.47185082518, 586325.087971676], [230536.59051765283, 586324.6976534314], [230538.31551765284, 586319.7576534314], [230538.50200028217, 586319.2981938991], [230538.73307549386, 586318.859464963], [230540.39607549386, 586316.049464963], [230540.62216046275, 586315.7012842302], [230540.87635022344, 586315.3730590006], [230541.15689245032, 586315.0670519831], [230544.37489245032, 586311.8370519831], [230544.76292474108, 586311.4863338725], [230545.1854717307, 586311.1780705219], [230548.55847173074, 586308.9780705218], [230549.01219843584, 586308.714975395], [230549.49098888208, 586308.5008570228], [230554.80698888208, 586306.4508570229], [230555.50346224773, 586306.2390736622], [230564.9694622477, 586304.0990736622], [230565.59324791652, 586303.9989731322], [230570.58324791654, 586303.5189731322], [230570.79110691516, 586303.5033436994], [230581.11210691516, 586302.9433436993], [230581.45838725776, 586302.9365683561], [230589.41638725775, 586303.0565683561], [230589.7940969089, 586303.0765720016], [230603.60844125293, 586304.3335912261], [230610.26846398006, 586304.5565289684], [230616.3009528303, 586304.5946730649], [230621.40036821878, 586304.1659157849], [230629.68227446105, 586302.9755177622], [230647.90006182063, 586298.8389168589], [230670.75501304964, 586292.8265447264], [230682.69332563583, 586289.1577452954], [230703.2509385707, 586281.5563272013], [230703.42470421357, 586281.4956866357], [230710.0617042136, 586279.3156866357], [230710.3061555378, 586279.2422511103], [230716.6481555378, 586277.5122511103], [230717.16666939494, 586277.3999829917], [230724.47166939493, 586276.2199829917], [230725.12858623383, 586276.1579719915], [230732.24758623383, 586275.9579719915], [230732.78087489278, 586275.9714589661], [230753.45833138583, 586277.6012285772], [230757.40334646453, 586277.3050562739], [230758.38149196596, 586277.2314910134], [230758.56182598943, 586277.1553071211], [230759.42764611566, 586276.7893624444], [230763.86773920356, 586272.4453311063], [230805.5016607991, 586226.5966420795], [230839.30739297142, 586189.2900799343], [230850.02583585386, 586176.902134856], [230863.50209078047, 586160.9950175766], [230867.68870660098, 586155.7652119047], [230878.1367086173, 586142.714209386], [230881.6127086173, 586138.372209386], [230881.94314457919, 586137.9991858051], [230882.3090710741, 586137.6609073442], [230882.7068532148, 586137.3607342518], [230883.13253967988, 586137.1016482618], [230883.58190196365, 586136.8862229737], [230884.0504763795, 586136.7165982891], [230884.5336083993, 586136.5944591544], [230885.02649888888, 586136.5210188242], [230885.52425177934, 586136.4970068092], [230886.0219227017, 586136.52266163], [230886.5145681013, 586136.5977284473], [230886.9972943438, 586136.721461594], [230887.46530632573, 586136.8926319816], [230887.91395510585, 586137.1095393095], [230888.3387840851, 586137.3700289546], [230888.73557327542, 586137.6715133742], [230900.35257327542, 586147.4485133742], [230900.60853661396, 586147.6794700939], [230918.34053661395, 586164.8244700939], [230918.52107976703, 586165.0082697648], [230933.20107976705, 586180.7442697649], [230933.2361424723, 586180.7822463403], [230945.6831424723, 586194.4042463403], [230945.81185978974, 586194.5507527704], [230958.00785978974, 586208.9907527703], [230958.2133557063, 586209.2511086605], [230963.08435570632, 586215.8621086605], [230963.40890832886, 586216.3625796442], [230966.36690832884, 586221.5815796442], [230966.63238461537, 586222.1239230769], [230968.3723846154, 586226.2999230769], [230968.53773132572, 586226.7585519841], [230970.18973132572, 586232.1515519841], [230970.291764498, 586232.539612125], [230976.66456777198, 586261.4482409767], [230978.89854492867, 586269.5994481738], [230984.34708887342, 586285.7195347145], [230989.60750464362, 586299.2128682631], [230989.7440013614, 586299.6119742612], [230992.5550013614, 586309.1239742612], [230992.68324666144, 586309.6682787897], [230992.68893544632, 586309.7003707006], [230995.42022934955, 586308.244611213], [230995.872298964, 586308.0319447599], [230996.34333473438, 586307.8654537403], [230996.82863395338, 586307.7468003603], [230997.32335151098, 586307.6771692265], [230997.82254826662, 586307.6572555193], [230998.3212403606, 586307.6872580523], [230998.81444897156, 586307.7668772876], [230999.29725002398, 586307.8953183261], [230999.7648233489, 586308.0712988431], [231000.21250080725, 586308.293061892], [231000.6358128955, 586308.5583934442], [231001.03053336806, 586308.8646444933], [231001.39272143118, 586309.2087575031], [231001.71876108684, 586309.5872969324], [231003.3077391597, 586311.6302687402], [231006.94058694388, 586316.3009348611], [231008.14712387449, 586317.6190385129], [231017.59564522392, 586327.9470869434], [231028.1842265181, 586337.5722103987], [231038.06576768422, 586342.9839927905], [231046.50356060814, 586346.2646405632], [231058.89235260565, 586348.6480366962], [231076.76349561996, 586349.1376175247], [231095.4124307951, 586347.3966985409], [231129.12555506174, 586342.3275799507], [231129.26464914466, 586342.3086583794], [231158.53464914465, 586338.7446583793], [231158.9273554227, 586338.712481351], [231159.32137604387, 586338.7113272091], [231166.28037604387, 586338.9653272092], [231166.69354830837, 586338.9975944755], [231167.1026290965, 586339.0639677035], [231173.6796290965, 586340.4129677034], [231173.8875089096, 586340.4602451985], [231180.63250890962, 586342.1462451984], [231181.07246023908, 586342.2779561182], [231181.49847108757, 586342.4494778243], [231187.40147108756, 586345.1474778242], [231187.6362206129, 586345.2622795716], [231195.3932206129, 586349.3102795717], [231195.75507795357, 586349.5187890746], [231213.70317930647, 586360.8848337835], [231215.4561165265, 586358.8814769606], [231215.91309936976, 586358.4228640357], [231225.86309936974, 586349.6538640357], [231226.19861938315, 586349.3829558691], [231226.55623485963, 586349.1419660662], [231226.9332856419, 586348.9326872528], [231231.9922856419, 586346.4036872528], [231232.52724146182, 586346.1741471317], [231240.45324146183, 586343.3071471317], [231240.81954726178, 586343.1903657651], [231241.19374329786, 586343.1020756001], [231248.95074329784, 586341.5840756001], [231249.42862151752, 586341.5143232977], [231249.911, 586341.491], [231258.512, 586341.491], [231258.8812211972, 586341.5046510644], [231284.31122119722, 586343.3876510643], [231284.80682811106, 586343.4493606895], [231285.29380631342, 586343.5602052711], [231285.7672970418, 586343.7190788718], [231286.2225761033, 586343.9243963505], [231286.65510100944, 586344.1741091785], [231287.06055629853, 586344.4657258779], [231287.43489659246, 586344.7963368808], [231287.77438695903, 586345.1626435581], [231288.07564017663, 586345.5609911322], [231288.33565053, 586345.9874051411], [231288.5518237992, 586346.4376310939], [231288.7220031432, 586346.9071769188], [231288.8444906194, 586347.3913577829], [231288.91806412477, 586347.8853428334], [231288.94198958908, 586348.3842033981], [231288.91602829908, 586348.8829621597], [231288.84043928023, 586349.3766428167], [231288.71597671224, 586349.8603197337], [231287.34297784924, 586354.2703160817], [231285.1651750368, 586361.2653293097], [231283.0375965055, 586370.922905216], [231282.0630136116, 586376.2153858804], [231282.21530772463, 586376.8632007501], [231283.17585375655, 586377.9713546309], [231286.34926945766, 586380.13458059], [231286.5139039873, 586380.2517489592], [231320.5789039873, 586405.5477489593], [231320.638971354, 586405.5930589292], [231354.80100681112, 586431.7677411337], [231372.8312418965, 586405.3913669552], [231372.89029011456, 586405.3068685735], [231377.50729011456, 586398.8428685735], [231377.80442705864, 586398.466434304], [231378.13626143627, 586398.120198736], [231378.49974046246, 586397.8073471413], [231378.89152023013, 586397.5307576687], [231379.30799647322, 586397.2929748651], [231379.74533772486, 586397.0961862669], [231380.1995205658, 586396.9422022752], [231380.6663666389, 586396.8324395001], [231381.1415810887, 586396.7679077293], [231381.620792073, 586396.749200637], [231382.0995909825, 586396.7764903235], [231382.57357299904, 586396.849525731], [231383.0383776184, 586396.9676349541], [231383.48972876594, 586397.1297314203], [231383.92347413528, 586397.3343238868], [231384.33562338835, 586397.579530159], [231468.32262338835, 586453.1675301591], [231468.36333711285, 586453.1947648481], [231489.3310351241, 586467.3698709824], [231540.53572618047, 586500.6237265622], [231547.8085434458, 586504.2611018107], [231548.23205029417, 586504.4993098327], [231548.63043550923, 586504.777501013], [231548.99993672324, 586505.0930481018], [231549.33706435031, 586505.4429710582], [231549.63863454215, 586505.8239651944], [231549.90179925642, 586506.2324323846], [231550.12407315386, 586506.6645150468], [231550.30335706988, 586507.1161325728], [231550.43795783923, 586507.5830198667], [231550.5266042862, 586508.0607676243], [231550.56845922986, 586508.5448639742], [231550.56312739023, 586509.0307370892], [231549.25212739024, 586531.0077370892], [231549.23039021765, 586531.2624136717], [231548.04639021764, 586541.9134136718], [231547.99147841815, 586542.281815876], [231547.21738388107, 586546.41322911], [231547.41329252633, 586549.7416905185], [231548.05375592955, 586550.9475696825], [231559.80386349926, 586553.3870669962], [231645.17177507395, 586565.3429511155], [231644.94730802104, 586545.1214987894], [231644.96582434932, 586544.6325381942], [231645.03204546016, 586544.1477288682], [231645.14533715317, 586543.6717138366], [231645.30461443236, 586543.2090519012], [231645.5083518972, 586542.7641739814], [231645.7545983514, 586542.3413406787], [231646.04099548951, 586541.944601473], [231646.36480048252, 586541.5777559407], [231646.7229122459, 586541.2443173662], [231647.1119011387, 586540.9474790947], [231647.5280418094, 586540.6900839505], [231647.96734887344, 586540.47459701], [231648.4256150815, 586540.3030819942], [231648.8984516123, 586540.1771815048], [231649.38133010434, 586540.0981012924], [231649.86962602418, 586540.0665987091], [231650.35866295558, 586540.0829754554], [231650.8437573856, 586540.1470746914], [231700.2547573856, 586549.1550746914], [231700.51420773467, 586549.2095181495], [231730.83386808346, 586556.4160052708], [231742.44750752317, 586558.6402520327], [231742.66706981344, 586558.6874377223], [231769.79551954105, 586565.1581877236], [231856.45474348552, 586583.7472233534], [231868.61679571026, 586586.3562345569], [231881.67779571025, 586589.1582345569], [231882.1584173281, 586589.2866551977], [231882.6238983873, 586589.4622011577], [231883.0696308302, 586589.683134609], [231883.49120210166, 586589.9472684077], [231883.88443883168, 586590.2519877453], [231884.24544814954, 586590.5942760346], [231884.5706562219, 586590.970744772], [231884.8568436319, 586591.3776670826], [231885.1011772501, 586591.8110146147], [231885.3012382812, 586592.2664974183], [231885.45504620898, 586592.7396064141], [231885.56107840265, 586593.2256580311], [231885.61828519017, 586593.7198405723], [231885.62610024944, 586594.2172618479], [231885.5844462149, 586594.712997606], [231885.49373544307, 586595.202140281], [231879.89204398365, 586618.7929953765], [231864.56221704898, 586685.5648188386], [231864.55908324535, 586685.5783820838], [231838.55008324533, 586797.4363820838], [231838.50337897256, 586797.6211997902], [231834.60302634942, 586811.9036791597], [231826.8193556866, 586848.7981640272], [231830.69968622405, 586856.1181954766], [231830.9106820423, 586856.5691529539], [231836.4716820423, 586870.1821529539], [231836.63298293567, 586870.6391019995], [231836.74929239912, 586871.1095193856], [231836.81951795914, 586871.5889865682], [231836.843, 586872.073], [231836.843, 586876.07], [231836.82480819913, 586876.4961303404], [231836.77036517317, 586876.9191598495], [231836.6800670888, 586877.3360102599], [231834.4210670888, 586885.96701026], [231834.327198116, 586886.2827938021], [231832.878198116, 586890.6277938021], [231832.6924392038, 586891.1026350925], [231832.45928645597, 586891.5560889719], [231825.66113043344, 586903.2676953505], [231820.69588345016, 586913.5361533625], [231814.01472720256, 586929.1642917804], [231810.31664522458, 586941.3796669354], [231806.47141385058, 586957.6790488817], [231806.42813705682, 586957.8490853277], [231803.70513705682, 586967.8130853277], [231803.5773682271, 586968.2135799987], [231800.3333682271, 586977.0765799987], [231800.2491731964, 586977.2911533185], [231789.5331926737, 587002.8521068591], [231789.31341596582, 587003.3763724283], [231794.4125998774, 587002.8923734557], [231803.55603581344, 587000.9951680772], [231841.0686080848, 586991.3520381753], [231927.26037443976, 586968.0704345113], [231960.9514897704, 586957.6569802657], [231960.99567165843, 586957.6435474617], [231971.15967165842, 586954.6045474617], [231971.55965943678, 586954.5027333513], [231971.96668184537, 586954.4342563859], [231977.78168184537, 586953.7012563859], [231978.2232005198, 586953.665379367], [231978.66616184296, 586953.6687210033], [231985.73716184296, 586954.0357210033], [231986.11849377278, 586954.070192913], [231986.49606978684, 586954.1337437341], [231993.04506978684, 586955.4957437341], [231993.49108218894, 586955.6101566283], [232018.52045690178, 586963.2751351412], [232088.25417963014, 586980.9306683834], [232168.3714699253, 586998.2843200006], [232168.41894833068, 586998.294845953], [232226.35669013418, 587011.4355605847], [232255.13143171233, 587017.9462758478], [232255.24401834785, 587017.9731237771], [232263.10101834786, 587019.943123777], [232263.1563756568, 587019.9573403822], [232290.2143756568, 587027.0713403822], [232290.69969869984, 587027.2257598141], [232291.16679537433, 587027.428748764], [232291.6108193875, 587027.6782011498], [232292.02716383364, 587027.9715288151], [232292.41150899226, 587028.3056883819], [232292.60992214544, 587028.5172962793], [232307.949947565, 587032.0129825121], [232314.93404888257, 587033.6045604647], [232334.08117657635, 587032.2318201887], [232348.57890688197, 587031.1908395535], [232348.60162255462, 587031.1892604829], [232348.8396225546, 587031.173260483], [232349.2801220713, 587031.1631051871], [232349.71980523964, 587031.1917698996], [232350.15525760403, 587031.2590320182], [232355.9913910644, 587032.4258587697], [232356.91052917813, 587032.6092864175], [232358.8985291781, 587033.0072864175], [232359.42618510584, 587033.1432022997], [232359.93591831918, 587033.3357275092], [232362.24186802722, 587034.3534902503], [232370.6350868392, 587036.5615274198], [232370.92751072985, 587036.6480731553], [232380.1010252358, 587039.6702426877], [232381.2510252358, 587040.0492426876], [232381.71951401897, 587040.2301973844], [232382.16748657002, 587040.457236887], [232382.59042326984, 587040.7280705817], [232382.98405708736, 587041.0399660128], [232383.34441662984, 587041.3897764506], [232383.66786621054, 587041.7739726388], [232383.95114252923, 587042.1886784013], [232384.19138759596, 587042.6297097496], [232384.38617756535, 587043.0926170945], [232384.53354719095, 587043.5727301392], [232384.63200965265, 587044.0652049974], [232384.68057155743, 587044.5650730636], [232384.6787429616, 587045.0672911422], [232384.64096727045, 587045.428761802], [232386.10393963783, 587045.8604340372], [232402.64608286563, 587049.7660664408], [232404.53308286562, 587050.2120664408], [232404.71959969628, 587050.2599608499], [232408.2485996963, 587051.2389608499], [232408.32324536022, 587051.2602941999], [232410.13488636294, 587051.793299572], [232415.80154377353, 587053.2788482788], [232425.81898191772, 587055.7269356678], [232425.89577648044, 587055.746348813], [232437.70877648043, 587058.832348813], [232437.71593200375, 587058.8342237602], [232451.13097357316, 587062.3599463777], [232464.0264521048, 587065.2914121986], [232475.7255211717, 587067.7302447937], [232486.8102501496, 587069.7033802021], [232487.07860775734, 587069.7587756286], [232496.75260775734, 587072.0337756285], [232497.0163780138, 587072.103451525], [232501.03937801378, 587073.2844515251], [232501.3660697601, 587073.3927001667], [232506.24706976008, 587075.1987001667], [232506.7398130122, 587075.4117460771], [232508.4758130122, 587076.2757460771], [232508.89367598444, 587076.5093123394], [232509.95367598443, 587077.1703123393], [232510.50493986072, 587077.5685786486], [232511.45493986073, 587078.3585786487], [232511.9762358241, 587078.8601385975], [232512.63689409939, 587079.5949840035], [232513.5098940994, 587080.5669840035], [232513.9144251314, 587081.0814973315], [232516.73186035198, 587085.192691267], [232518.7502460054, 587087.4812483073], [232519.36547358433, 587087.9453934293], [232519.77871862866, 587088.1901896138], [232520.2209010572, 587088.3583379096], [232521.93782636966, 587088.7920193268], [232528.64671152816, 587090.1268819622], [232539.244395934, 587091.5601593828], [232546.57590008862, 587092.1543402285], [232546.77527272457, 587092.1745272218], [232552.92127272458, 587092.9215272218], [232553.07408246282, 587092.9424966556], [232558.19908246282, 587093.7264966556], [232558.3589894998, 587093.7536197262], [232558.7399894998, 587093.8246197262], [232558.90992886975, 587093.8593485588], [232564.98192886976, 587095.2103485588], [232565.02386452886, 587095.2198685498], [232566.1199852082, 587095.4736649514], [232571.80393339816, 587096.787567451], [232581.20071936882, 587098.873857477], [232581.36250009362, 587098.9126111766], [232588.4035000936, 587100.7236111766], [232588.5808084668, 587100.77681367], [232581.76087991812, 587093.5195695467], [232581.02136985763, 587092.733090604], [232580.67065993114, 587092.3168594341], [232580.36727041987, 587091.8649737807], [232580.11479643904, 587091.3827884136], [232578.41920418933, 587087.6650144709], [232573.09761767837, 587081.9239881455], [232556.52511430223, 587065.1780863577], [232556.19877662766, 587064.8143896969], [232555.9094984293, 587064.4205754477], [232555.66004256322, 587064.0004048755], [232552.47304256322, 587057.9804048755], [232552.26595374823, 587057.5382865035], [232552.10297047836, 587057.0780790655], [232551.98564666498, 587056.6041702611], [232551.9151008941, 587056.1210784207], [232551.89200576168, 587055.6334094274], [232551.9165814607, 587055.1458128039], [232551.9885936822, 587054.662937383], [232552.1073558488, 587054.1893869846], [232552.27173566102, 587053.7296765218], [232552.4801658925, 587053.2881889561], [232552.7306593326, 587052.869133508], [232553.0208277323, 587052.4765055262], [232553.34790457474, 587052.114048396], [232555.61121719994, 587049.8397342791], [232563.56545343559, 587041.8482508498], [232573.60208229045, 587029.7362876137], [232589.2970977094, 587007.631498544], [232592.6602827609, 587002.7889743634], [232598.1527062436, 586993.3531240048], [232604.57007028052, 586980.0416830996], [232604.80262138275, 586979.61389925], [232605.07567865818, 586979.2107630927], [232605.38665266056, 586978.8360976327], [232605.73259437317, 586978.4934558831], [232606.11022317494, 586978.1860871711], [232606.51595795093, 586977.9169063237], [232606.94595105274, 586977.6884660264], [232607.39612478638, 586977.5029326153], [232607.8622100816, 586977.362065534], [232608.3397869763, 586977.2672006474], [232608.8243265317, 586977.2192375748], [232609.31123378087, 586977.2186311577], [232609.79589130383, 586977.2653871467], [232610.27370301494, 586977.3590621474], [232610.74013774865, 586977.4987678247], [232613.52942606105, 586978.4845781066], [232621.7330765225, 586979.6182914187], [232627.7456182029, 586979.4835890754], [232635.40112224856, 586978.3014822765], [232645.4073213905, 586976.0521816134], [232655.60538621282, 586972.2098699436], [232662.18415262012, 586968.7548411193], [232680.5204273833, 586957.6148926835], [232695.4510588487, 586946.0662317945], [232701.18194233577, 586939.4982431178], [232704.93096617202, 586931.195184882], [232708.4957338855, 586917.7004652286], [232709.9408104577, 586903.1088068585], [232708.74565185822, 586897.2583457774], [232699.91454390026, 586877.7642328118], [232699.83230308755, 586877.5721070899], [232691.90157805604, 586857.919373975], [232678.6181884617, 586833.6787958243], [232678.40700342847, 586833.2449630556], [232678.23861815178, 586832.7927945162], [232678.11460070263, 586832.3265009802], [232678.036105981, 586831.8504247592], [232678.00386496115, 586831.3689992655], [232678.0181778843, 586830.8867077254], [232678.07891146286, 586830.4080414304], [232678.1855001214, 586829.9374579125], [232678.3369512638, 586829.4793394334], [232678.53185451645, 586829.0379521754], [232678.76839486245, 586828.617406513], [232679.0443695435, 586828.2216187355], [232679.35720857317, 586827.8542745768], [232679.70399866937, 586827.5187948924], [232680.0815103842, 586827.2183038032], [232680.48622817764, 586826.9555996025], [232680.914383156, 586826.7331286966], [232681.36198816894, 586826.5529628235], [232684.1253711882, 586825.5928297614], [232704.44737118817, 586818.5338297614], [232704.52873079706, 586818.5063495652], [232730.87673079706, 586809.8583495653], [232731.2822392312, 586809.7439371959], [232735.5248341111, 586808.7377961571], [232741.92083411108, 586807.2217961572], [232742.06521788283, 586807.1898213592], [232744.20166039388, 586806.749730226], [232749.72866039388, 586805.611730226], [232750.3316140373, 586805.5254608738], [232762.1086140373, 586804.5674608739], [232762.3159781698, 586804.5549228033], [232824.8609781698, 586802.0759228034], [232824.92987526517, 586802.0736675978], [232853.96187526514, 586801.3236675978], [232854.46534770774, 586801.3360333141], [232854.96502220698, 586801.3989841376], [232855.455829317, 586801.5118814012], [232855.93278955604, 586801.6735797059], [232856.39106392566, 586801.8824385422], [232856.8260030049, 586802.1363389336], [232857.23319412084, 586802.4327049345], [232857.60850611745, 586802.7685297647], [232857.94813126823, 586803.1404063145], [232858.2486239074, 586803.5445617118], [232858.50693538794, 586803.9768955995], [232858.72044501166, 586804.4330217355], [232858.88698661744, 586804.9083124938], [232860.03254235315, 586808.7946522641], [232890.68768517714, 586811.2530004254], [232890.84137294264, 586811.2677165117], [232908.79237294264, 586813.2667165118], [232908.85417083697, 586813.2739878234], [232975.75287764048, 586821.567827498], [233057.04158460884, 586831.6026678771], [233057.04657449017, 586831.60328641], [233131.05811133882, 586840.81535326], [233133.72311133883, 586841.1473532601], [233134.21534431967, 586841.2338450802], [233134.6964838885, 586841.3690444061], [233135.16172299636, 586841.5516004657], [233135.60641345536, 586841.7796893476], [233136.0261123783, 586842.0510322237], [233136.41662656772, 586842.3629181169], [233136.77405440967, 586842.7122309854], [233137.0948248549, 586843.0954808567], [233137.37573309688, 586843.5088386944], [233137.61397259097, 586843.9481746545], [233137.8071630946, 586844.4090993465], [233137.95337444806, 586844.8870076876], [233138.0511458587, 586845.377124912], [233138.09950049577, 586845.8745542753], [233140.6627951403, 586900.4815486507], [233141.20395274542, 586902.6147164196], [233142.69268678047, 586903.3241827125], [233142.73270655842, 586903.3432472524], [233218.62257953812, 586921.7625794171], [233241.70995348727, 586927.0977933364], [233252.81839844963, 586928.2729304588], [233292.04276476265, 586931.9984008318], [233292.18105391195, 586932.0134791571], [233325.73805391195, 586936.1454791571], [233325.81481323906, 586936.1555346596], [233349.38233521796, 586939.4286627916], [233383.3733442385, 586943.9609972101], [233428.6108389605, 586949.8721471702], [233428.69117487132, 586949.8833080389], [233446.374423976, 586952.4863602894], [233462.35573258193, 586954.2166688776], [233520.213324779, 586959.5293157598], [233542.65645706985, 586961.5277042431], [233542.80978857205, 586961.5437434192], [233654.27182267132, 586974.9433868673], [233688.443757799, 586979.0100221316], [233691.82070622957, 586979.4117596503], [233702.35056896321, 586922.1910845352], [233702.35371936302, 586922.1741291735], [233709.373719363, 586884.7521291735], [233709.39559649565, 586884.6423082094], [233720.74291919265, 586830.8319727636], [233736.80065230915, 586749.4827210982], [233736.92112060272, 586749.0001626028], [233737.08893533755, 586748.5319601613], [233737.3024359847, 586748.082746643], [233737.55950995264, 586747.6569670211], [233737.85761349124, 586747.2588343904], [233738.1937968623, 586746.8922882781], [233738.5647335271, 586746.5609556626], [233738.96675306282, 586746.2681150844], [233739.3958774811, 586746.0166642044], [233739.84786059044, 586745.8090911325], [233740.3182300124, 586745.6474498064], [233740.8023314357, 586745.5333396696], [233741.29537467065, 586745.4678898428], [233741.79248104838, 586745.4517479531], [233752.60259568994, 586745.6387499376], [233819.97459568994, 586746.8057499377], [233819.988017938, 586746.8060004589], [233893.74214480448, 586748.2816428605], [233953.62326955263, 586749.0514130746], [233953.63645403922, 586749.0515999488], [234006.89198829848, 586749.8766722534], [234063.0500995262, 586750.7976576776], [234109.23421052788, 586751.5386434143], [234109.36059408105, 586751.5422699346], [234124.42577160514, 586752.1652772791], [234131.04568325568, 586752.4392736225], [234141.44359395365, 586752.8692699294], [234141.93156434965, 586752.9134769652], [234142.41286500066, 586753.0052323615], [234142.8828740849, 586753.1436550119], [234143.33707821099, 586753.3274156748], [234143.77111575898, 586753.5547497381], [234144.1808187641, 586753.8234741639], [234144.56225294067, 586754.131008452], [234144.91175546215, 586754.47439942], [234145.22597013458, 586754.8503495617], [234145.5018796252, 586755.2552487125], [234145.73683443735, 586755.6852087172], [234145.92857835288, 586756.1361007667], [234146.0752700981, 586756.6035950461], [234146.17550102528, 586757.0832023132], [234146.2283086394, 586757.5703170074], [234146.2331858408, 586758.060261476], [234146.00521113674, 586763.8934857845], [234210.13677433928, 586766.3432970117], [234219.27192945365, 586766.6589913544], [234228.4610494747, 586766.9769955095], [234237.75502465313, 586767.2988518387], [234301.6399876085, 586768.6661447659], [234301.6625142097, 586768.6666776745], [234335.12251420968, 586769.5336776745], [234335.1371296908, 586769.5340777684], [234379.52313061405, 586770.8140777951], [234465.55513061406, 586773.295077795], [234466.05963222214, 586773.3352508896], [234466.55748831417, 586773.4262182558], [234467.04359814044, 586773.5670478935], [234467.51298129675, 586773.7562969428], [234467.9608287508, 586773.9920264658], [234468.3825521129, 586774.271821312], [234468.77383064578, 586774.592814863], [234469.13065553267, 586774.9517184017], [234469.44937094918, 586775.3448548074], [234469.7267115188, 586775.7681962281], [234469.95983576815, 586776.2174053491], [234470.14635523903, 586776.6878798299], [234470.28435895927, 586777.1747994571], [234470.3724330214, 586777.6731755296], [234470.4096750688, 586778.1779019703], [234470.55055118256, 586784.2961119872], [234549.27073259212, 586787.4027802221], [234575.96826228756, 586787.8848147944], [234576.0272664999, 586787.8862285455], [234605.19018956015, 586788.7572262476], [234616.1500641316, 586789.0842225053], [234640.53129535125, 586789.8112294072], [234652.65708240846, 586790.1734556447], [234652.59479736825, 586786.6862919178], [234652.61096045913, 586786.1855186102], [234652.6771602734, 586785.6888771543], [234652.79273207183, 586785.2013545285], [234652.95651535105, 586784.7278461457], [234653.16686549666, 586784.2731066957], [234653.42167029745, 586783.841702402], [234653.71837115492, 586783.4379651702], [234654.05398877533, 586783.0659490899], [234654.42515308585, 586782.7293897256], [234654.82813707492, 586782.4316666063], [234655.25889421668, 586782.1757692911], [234655.7130991038, 586781.9642673486], [234656.18619088051, 586781.7992845558], [234656.67341904025, 586781.6824775718], [234657.1698911272, 586781.615019303], [234657.67062186357, 586781.5975871254], [234734.01088709797, 586782.7675911975], [234805.53588709797, 586783.8675911975], [234805.5433492383, 586783.86771153], [234867.0117211459, 586784.9048211868], [234866.9970038068, 586772.978169933], [234867.0216005724, 586772.4766208162], [234867.09638051369, 586771.980068223], [234867.22058938068, 586771.4935205122], [234867.39297437036, 586771.0218851311], [234867.61179676282, 586770.5699191169], [234867.87484945834, 586770.1421811167], [234868.17947923887, 586769.7429854075], [234868.522613529, 586769.3763583812], [234868.90079138684, 586769.0459979337], [234869.31019841193, 586768.7552361666], [234869.74670521828, 586768.5070057787], [234870.20590908444, 586768.3038104867], [234870.6831783605, 586768.147699771], [234871.17369918412, 586768.0402482051], [234871.67252403442, 586767.9825395735], [234872.1746216339, 586767.9751559404], [234921.17491295844, 586769.7169577061], [234977.62019118833, 586770.9612143572], [234978.1027888957, 586770.995264224], [234978.57983667767, 586771.0757959211], [234979.04686822332, 586771.202055479], [234979.49951099756, 586771.3728608054], [234979.93352717874, 586771.5866127528], [234980.34485333486, 586771.8413100905], [234980.72963846684, 586772.134568241], [234981.08428006328, 586772.4636416045], [234981.40545782857, 586772.8254492657], [234981.69016476875, 586773.2166038371], [234981.93573534425, 586773.6334431743], [234982.13987042566, 586774.0720646617], [234982.3006588192, 586774.5283617502], [234982.41659516, 586774.9980624054], [234982.48659400595, 586775.4767691027], [234982.51, 586775.96], [234982.51, 586877.1426422353], [235000.11862849738, 586878.0634835484], [235081.5991384007, 586882.1121610625], [235081.82509463452, 586882.1285273203], [235091.25700951228, 586883.0268989487], [235163.7303193416, 586886.3569497302], [235158.78384894904, 586876.0817816874], [235158.7407406834, 586875.9898575273], [235136.0847406834, 586826.3738575274], [235136.0609954393, 586826.3210489858], [235130.243467542, 586813.1801792413], [235129.60173915906, 586812.4211394255], [235129.3076839539, 586812.0370915486], [235129.05211365045, 586811.6264273848], [235128.83741999045, 586811.192990114], [235128.66561217367, 586810.7408360367], [235127.28361217366, 586806.4958360367], [235127.27914040594, 586806.4820323868], [235126.50737004948, 586804.0878542739], [235121.19168549203, 586790.6740565234], [235121.1227771829, 586790.4896516203], [235114.4657771829, 586771.5456516203], [235114.3977091508, 586771.3374797304], [235103.64070915082, 586735.8244797303], [235103.62568219422, 586735.7739099198], [235100.8166821942, 586726.1349099198], [235100.76708420576, 586725.9518605137], [235099.95888275086, 586722.7280458104], [235099.3809161578, 586720.4353809861], [235099.3498607268, 586720.3293641699], [235096.39408995345, 586710.2511457583], [235096.28945500666, 586709.8263709015], [235096.22235044412, 586709.3940757144], [235096.19329544192, 586709.1315785708], [235095.790815361, 586705.4920496681], [235093.55656747965, 586693.037894075], [235093.52789583607, 586692.8596053976], [235090.37289583607, 586670.6946053975], [235090.3463646629, 586670.4728050553], [235089.08368743656, 586657.4574398798], [235087.47255380926, 586641.746488195], [235087.1485420834, 586641.7267219295], [235086.65201672516, 586641.671425594], [235086.16348822744, 586641.5668549335], [235085.68783396334, 586641.4140539612], [235085.22980277214, 586641.2145482119], [235084.79396754774, 586640.9703295123], [235084.3846795839, 586640.6838360939], [235084.00602513165, 586640.3579282513], [235083.66178460311, 586639.9958597845], [235083.35539482845, 586639.6012455145], [235083.08991474335, 586639.178025193], [235082.86799484908, 586638.7304241691], [235082.69185075053, 586638.2629112039], [235082.563241036, 586637.7801538554], [235082.4834497197, 586637.286971879], [235082.3304672984, 586635.9071304321], [235078.08148622187, 586597.6053010148], [235070.13348750205, 586525.9623125544], [235070.13152097882, 586525.9442882354], [235057.42988594068, 586407.5356905236], [235057.1451817011, 586404.9154121238], [235049.5261817011, 586334.7044121238], [235049.52292323217, 586334.6734882572], [235041.10028171423, 586252.2824695746], [235034.10236622856, 586199.0929411127], [235022.64355645012, 586147.5119344649], [235021.902977345, 586145.1849232347], [235021.68848621767, 586144.5125184914], [235021.5627293355, 586144.0394379435], [235021.48383513448, 586143.5563274972], [235021.45255979968, 586143.0678176697], [235021.46920309897, 586142.5785907297], [235021.53360550964, 586142.0933358198], [235021.64514974743, 586141.616704011], [235021.8027666832, 586141.1532637238], [235022.00494559013, 586140.7074569408], [235022.2497486238, 586140.2835566307], [235022.5348293962, 586139.8856257932], [235022.85745546513, 586139.5174785159], [235023.21453452422, 586139.1826434166], [235023.60264404217, 586138.8843298227], [235024.0180640669, 586138.6253970106], [235024.4568128806, 586138.4083267992], [235024.91468516365, 586138.2351997631], [235025.38729230184, 586138.1076752904], [235025.8701044503, 586138.0269756778], [235055.9212806148, 586134.5057191276], [235059.4023648556, 586133.9178155494], [235059.88602023086, 586133.8601935562], [235060.37298732385, 586133.8499044129], [235060.85864495675, 586133.8870457604], [235061.33838437824, 586133.971265138], [235061.4908402382, 586134.013661354], [235069.96770692334, 586128.7175700461], [235070.32586064746, 586128.5138262335], [235086.80186064745, 586120.0198262335], [235087.19265209787, 586119.8392105075], [235087.59753196736, 586119.6928811205], [235088.01349863855, 586119.5819229], [235088.43746830095, 586119.507158446], [235096.84408215046, 586118.3954017356], [235104.868460419, 586116.9013497527], [235110.200460419, 586115.9093497526], [235110.37539636722, 586115.8800038962], [235269.50239636723, 586092.0800038963], [235269.56859515415, 586092.0705549339], [235311.5102256967, 586086.3698766797], [235314.4812495022, 586085.8365417244], [235327.35411608397, 586083.5275656553], [235340.75798066516, 586081.1225899527], [235340.9744354185, 586081.0886300179], [235414.99954337408, 586071.1312473633], [235624.72009393616, 586040.600097893], [235730.7748044126, 586025.1694310124], [235810.50349694828, 586013.4937689231], [235823.86649611828, 586011.5367690447], [235877.12149611828, 586003.7377690447], [235877.1630519766, 586003.7318613994], [236008.3260519766, 585985.6468613993], [236008.370893804, 585985.640885111], [236079.0846068767, 585976.5419109064], [236235.9298050236, 585954.3449215521], [236264.5130661202, 585949.749754711], [236267.47026339688, 585948.8796398927], [236276.52349940996, 585945.3370273554], [236288.8442259421, 585939.6818227831], [236289.09730493728, 585939.5739865857], [236302.5683049373, 585934.2669865857], [236302.953401303, 585934.1331397834], [236303.34812212575, 585934.031112094], [236316.61612212574, 585931.1731120939], [236317.01813096815, 585931.1035440493], [236340.68313096816, 585927.9965440494], [236341.23427462557, 585927.954994614], [236359.35648231985, 585927.5934739098], [236362.88708635123, 585927.0609341131], [236364.19096086122, 585926.6770990787], [236364.22850783612, 585926.6442128072], [236365.0918648693, 585924.6155149082], [236367.13781032828, 585908.7004752555], [236367.16370869358, 585908.5239748862], [236369.8120206519, 585892.4742312857], [236371.85354974397, 585875.1982259761], [236371.85709374343, 585875.1689754055], [236373.69134323794, 585860.3946074275], [236373.9195959404, 585851.9444419804], [236373.84154496854, 585838.9020257914], [236373.2363758607, 585822.2949218234], [236371.77517023822, 585806.4541687272], [236370.79147774336, 585801.9258627697], [236368.93067622697, 585798.2603530302], [236365.7296301221, 585794.9231655298], [236365.44619094228, 585794.6010798427], [236365.19140745743, 585794.2558808647], [236364.96715565832, 585793.8901103231], [236362.99115565832, 585790.3331103231], [236362.7864241674, 585789.9209627478], [236362.6204534056, 585789.4917374998], [236362.4946493485, 585789.0490706427], [236362.41007771043, 585788.5967121064], [236362.36745491676, 585788.1384939218], [236360.33145491677, 585744.5874939219], [236360.34358713968, 585743.9349987003], [236362.34658713968, 585720.1169987002], [236362.37348703484, 585719.870499247], [236367.60548703483, 585680.9114992471], [236367.7054363856, 585680.3838939752], [236369.9154363856, 585671.3898939751], [236370.05649928414, 585670.917622265], [236370.2433756846, 585670.4615339836], [236370.47424960206, 585670.0260612018], [236370.7468775025, 585669.6154356578], [236371.05861010455, 585669.2336476351], [236371.40641812416, 585668.8844071864], [236371.78692171164, 585668.5711080811], [236372.19642329586, 585668.2967948259], [236372.63094351557, 585668.0641330797], [236373.08625988907, 585667.8753837498], [236373.5579478465, 585667.7323810216], [236374.04142372607, 585667.6365145345], [236374.53198931587, 585667.5887158778], [236376.93434726127, 585667.4737466045], [236378.47239309194, 585667.3997444469], [236384.60039309194, 585667.1057444469], [236384.88635562357, 585667.1002148889], [236392.4363556236, 585667.170214889], [236392.4529349165, 585667.1703960961], [236466.33293491649, 585668.100396096], [236466.34830275914, 585668.1006131698], [236642.31030275914, 585670.8566131699], [236642.3353749203, 585670.8570687517], [236711.62903308362, 585672.2900203238], [236808.32369117413, 585674.1989740897], [236808.33212663193, 585674.1991477433], [236897.92512663192, 585676.1191477433], [236897.93135912603, 585676.1192851943], [237056.35798470431, 585679.7120294324], [237059.70300217607, 585679.7137662015], [237063.3906436784, 585679.0441389567], [237068.03787809945, 585677.8215366437], [237068.41372139042, 585677.737987431], [237068.79487920666, 585677.6836057297], [237073.40987920665, 585677.2056057297], [237074.0571934792, 585677.180747817], [237086.0051934792, 585677.496747817], [237086.33845123378, 585677.5167116246], [237099.7614512338, 585678.7717116246], [237100.02661149073, 585678.8036673333], [237125.58127799298, 585682.5782887037], [237167.76301480454, 585688.646283906], [237217.02989321674, 585524.850797454], [237233.97805180177, 585466.7508224061], [237234.1427546244, 585466.2762999418], [237234.35423608174, 585465.8206968446], [237234.61036191488, 585465.3886110354], [237234.90854731633, 585464.9844030996], [237235.24578301588, 585464.6121522811], [237235.61866564985, 585464.275615314], [237236.02343210776, 585463.9781885104], [237236.4559975094, 585463.7228734848], [237236.9119964291, 585463.5122468622], [237237.3868269515, 585463.3484342743], [237237.87569711378, 585463.2330889087], [237238.37367326586, 585463.1673748243], [237238.87572986053, 585463.1519552037], [237239.37680017098, 585463.1869856612], [237239.8718274239, 585463.2721126712], [237326.43886573293, 585482.6801034953], [237553.14464274707, 585532.6326643608], [237556.60022138944, 585533.2772533642], [237567.1115144377, 585535.1070819141], [237567.1482203797, 585535.113612852], [237609.0132203797, 585542.7236128519], [237609.14954015665, 585542.750353785], [237636.44851565815, 585548.5003486249], [237747.2486810823, 585571.8372223428], [237794.37976959423, 585581.0855680266], [237794.45339302422, 585581.1005902339], [237823.33566373587, 585587.2201723832], [237874.87980294897, 585597.2694009825], [237874.95988614552, 585597.2856947426], [237975.04688614552, 585618.5026947425], [237975.1538243015, 585618.5265914525], [238030.41780964527, 585631.5134383173], [238073.405458333, 585639.9515069192], [238073.80784241162, 585640.0303861804], [238073.88533704897, 585640.0462149405], [238269.85698101178, 585681.6920013815], [238279.38846845136, 585683.5415578999], [238279.80117342784, 585683.6399790528], [238287.56317342786, 585685.8429790529], [238287.95543463773, 585685.9720360507], [238288.33570841647, 585686.1330218224], [238288.7014009233, 585686.3248382866], [238298.90599729383, 585692.2271584095], [238304.21986861085, 585694.0163436343], [238306.77800481307, 585693.9332872642], [238308.97955204148, 585693.2282974214], [238310.97231204636, 585691.6431008707], [238313.72458972593, 585688.9246368883], [238314.3105494638, 585687.8033475743], [238314.3685003274, 585687.6924416112], [238314.45530707232, 585687.5334003628], [238316.81730707234, 585683.3864003628], [238317.0827846005, 585682.9696332429], [238317.3881035236, 585682.5811058881], [238317.7302818144, 585682.2246130165], [238318.10597744278, 585681.9036364674], [238318.51152101735, 585681.6213111951], [238318.94295162405, 585681.3803946497], [238319.396055512, 585681.1832398453], [238319.86640724915, 585681.0317723781], [238320.34941294484, 585680.9274716199], [238320.84035511815, 585680.8713562683], [238321.33443877322, 585680.8639743978], [238321.82683823156, 585680.9053981067], [238322.31274426408, 585680.9952228125], [238322.78741106254, 585681.1325712041], [238323.2462025914, 585681.31610181], [238323.68463786773, 585681.5440221002], [238349.51663786772, 585696.6390221001], [238349.95544290327, 585696.9273704649], [238352.52244290325, 585698.8143704649], [238352.770264143, 585699.0088607667], [238354.39626414303, 585700.3698607667], [238354.7620163341, 585700.7083944429], [238355.09225006367, 585701.0816576197], [238355.38368439727, 585701.4859418569], [238355.63342387986, 585701.9172305143], [238355.83898730253, 585702.371238658], [238356.53198730253, 585704.1302386579], [238356.58191944932, 585704.2624255405], [238357.4879194493, 585706.7674255405], [238357.6400244459, 585707.2686473918], [238357.7388595775, 585707.7830313836], [238357.78334019077, 585708.3049324751], [238357.8793401908, 585711.2469324751], [238357.85475879954, 585711.9312196482], [238356.50075879952, 585724.8492196482], [238356.4942548714, 585724.9079246093], [238355.27010730264, 585735.3910610894], [238351.0298583535, 585773.8331860506], [238351.02669789098, 585773.8611180952], [238347.11901505475, 585807.5491418916], [238345.84545232658, 585819.3576393306], [238343.60590100332, 585847.1951925725], [238341.93290146824, 585874.9025004714], [238340.60690146824, 585896.8525004714], [238340.58364052163, 585897.1189327848], [238333.36964052162, 585960.2189327847], [238333.36484424522, 585960.2594217268], [238329.23375807417, 585993.9563400423], [238328.1060238768, 586004.5721842181], [238328.02283450213, 586005.092473753], [238327.88535527108, 586005.6011201264], [238327.69511287217, 586006.0924748881], [238326.83011287218, 586008.018474888], [238326.5032068405, 586008.6292277885], [238325.70120684052, 586009.9062277885], [238325.44192375505, 586010.2801470689], [238325.14972140887, 586010.6289466324], [238324.82701974412, 586010.949737814], [238324.47649129003, 586011.2398639064], [238323.5785597603, 586011.9166505891], [238322.4629741537, 586012.9251190766], [238322.26536089726, 586013.0946205806], [238321.64478972185, 586013.5994717203], [238321.60520277673, 586013.7394578966], [238319.59353208053, 586028.8958675662], [238319.58808468675, 586028.9356821801], [238317.31909746953, 586045.0374949917], [238310.26008938215, 586096.2063048898], [238310.2568827436, 586096.2291592064], [238306.8138827436, 586120.3631592063], [238306.80830320288, 586120.4012216323], [238305.63830320287, 586128.1742216323], [238305.5748801009, 586128.5149006592], [238303.72488010093, 586136.8379006592], [238303.65936368398, 586137.0992067416], [238300.03536368397, 586150.0622067415], [238300.01907195002, 586150.119177971], [238297.12007195002, 586160.0341779711], [238297.0805465095, 586160.1628998087], [238293.8175465095, 586170.3008998086], [238293.77971798842, 586170.4138037079], [238289.0671780556, 586183.9420347448], [238285.29206530313, 586195.331811639], [238282.357186148, 586205.046389803], [238277.224130591, 586224.2032954782], [238272.2007324403, 586243.4864053072], [238267.15118281683, 586264.3881477705], [238267.11204142377, 586264.5397298331], [238264.18276806103, 586275.192087403], [238261.99849179978, 586283.1694441834], [238261.9032318885, 586283.4778887846], [238261.29023188847, 586285.2568887846], [238261.10795994248, 586285.7120679263], [238260.83695994248, 586286.3030679263], [238260.62723325795, 586286.7101348015], [238260.3811445924, 586287.0963071617], [238260.10075802653, 586287.4583459672], [238259.78842531636, 586287.7932146001], [238259.4467661678, 586288.098104333], [238259.07864626366, 586288.3704578887], [238258.6871532277, 586288.6079908882], [238257.3091532277, 586289.3599908882], [238256.63960084107, 586289.6637925309], [238255.52460084108, 586290.0737925309], [238254.9824531627, 586290.2389253404], [238254.42510081182, 586290.3416448949], [238253.80998586118, 586290.4192807624], [238253.63850612965, 586290.6538947454], [238252.55280320486, 586292.5284352717], [238251.61296507897, 586294.390454445], [238249.6219599563, 586300.3974878751], [238249.23822026022, 586301.5549249676], [238244.2234661246, 586320.4961414274], [238237.77174763352, 586346.6754219218], [238237.74944595963, 586346.7625365391], [238235.05644595964, 586356.9015365391], [238235.0208449286, 586357.0287723881], [238232.4418449286, 586365.7977723881], [238232.42472451465, 586365.8547307532], [238229.91263609685, 586374.035448209], [238226.59483487706, 586388.1222627446], [238226.57828014527, 586388.1904062387], [238220.29528014528, 586413.2844062386], [238220.28784123246, 586413.3137398431], [238214.1829977071, 586437.0846177374], [238202.86889585713, 586485.7071876901], [238202.85921458757, 586485.7480162532], [238200.32112790766, 586496.2552352734], [238194.6532768077, 586519.8801006211], [238189.04103204914, 586544.8216353346], [238189.03704004711, 586544.8392280571], [238181.33004004712, 586578.522228057], [238181.32698628271, 586578.5354913087], [238175.2612916715, 586604.7172749162], [238171.67229253566, 586621.0359897631], [238171.65846340082, 586621.0970445754], [238169.70746340082, 586629.4670445754], [238169.60670284985, 586629.8351543932], [238168.91670284985, 586632.0241543931], [238168.87989500305, 586632.1362924441], [238168.38389500306, 586633.5892924442], [238168.196559006, 586634.0589420714], [238167.9627475222, 586634.5072697843], [238156.65378271198, 586653.7512099034], [238141.38081757113, 586679.7421505816], [238141.35148756814, 586679.7914144137], [238113.88848756813, 586725.3234144137], [238113.79841750057, 586725.4671730202], [238103.161782779, 586741.8207120617], [238093.10659895968, 586757.9020268681], [238087.64063841538, 586766.7342969847], [238084.15508005914, 586773.4459960915], [238084.12186307635, 586773.5101990657], [238080.05504716706, 586783.3670081241], [238079.93808283884, 586783.6289233769], [238078.25208283885, 586787.130923377], [238078.14637630386, 586787.3380235978], [238076.30037630387, 586790.7560235978], [238076.13976096452, 586791.0319625725], [238074.0807609645, 586794.3229625724], [238073.80438040826, 586794.7205149614], [238070.90984247177, 586798.4815263207], [238064.72501273136, 586806.7223159071], [238064.66348299026, 586806.8025949931], [238052.30671038412, 586822.5913608954], [238040.39895039308, 586838.3306776457], [238021.4254919787, 586863.4626356845], [238021.36852066865, 586863.536651122], [237983.68152066864, 586911.563651122], [237983.6642851511, 586911.585490086], [237950.04328515113, 586953.943490086], [237950.03021394007, 586953.959887348], [237927.9204868703, 586981.5765612622], [237914.94796724658, 586998.1306655548], [237896.96021457174, 587021.5321302613], [237896.90855625834, 587021.5981822185], [237860.16311597463, 587067.7787756618], [237840.9226070742, 587092.9587957257], [237830.59506481866, 587106.4531586382], [237822.98404824123, 587116.9085060945], [237809.17144170046, 587136.5110708164], [237807.54296711157, 587139.3234651495], [237807.4845771666, 587139.4216990941], [237800.63131797328, 587150.6571239753], [237797.69954839218, 587155.4624730735], [237792.48660113066, 587166.4200435876], [237784.55545691442, 587185.2369940222], [237784.50575554816, 587185.3509339395], [237767.97575554816, 587221.9959339394], [237767.69157662903, 587222.535485079], [237763.93157662902, 587228.7264850792], [237763.55151179267, 587229.2679676315], [237760.57851179267, 587232.9579676314], [237760.23154311324, 587233.3454903101], [237741.53254311325, 587252.1614903101], [237741.4833952841, 587252.2102654851], [237717.2283952841, 587275.9502654851], [237717.2167672631, 587275.9616096842], [237688.7117672631, 587303.6806096842], [237688.6286451666, 587303.7596055834], [237676.00764516662, 587315.4816055833], [237675.6936618044, 587315.7499420466], [237675.35860264837, 587315.9914485087], [237658.9759807292, 587326.800550624], [237651.8068032177, 587333.438404635], [237649.9767415025, 587335.7979181671], [237649.26541108245, 587337.2240187095], [237649.01579812492, 587337.8652346039], [237648.92386722995, 587338.565739704], [237648.92900970508, 587338.7794184113], [237649.276688947, 587340.0621937963], [237651.7315979247, 587346.1627984439], [237657.21065729889, 587356.1108221575], [237657.24569315976, 587356.1755579229], [237664.55969315974, 587369.9305579229], [237664.8216099346, 587370.5090117243], [237684.56112029223, 587422.6936369748], [237704.19401304994, 587472.6265210573], [237724.02276592748, 587520.1030428219], [237724.0870305832, 587520.2647720083], [237746.58544596974, 587579.8878211253], [237758.13603850512, 587608.8391896042], [237758.16369907596, 587608.9100831266], [237778.47866802552, 587662.1703799941], [237795.19863383885, 587705.8536780337], [237795.20971882847, 587705.8829126162], [237825.23571882845, 587785.8239126164], [237825.24302195787, 587785.8434804797], [237847.26696813648, 587845.2323697484], [237857.01128345114, 587870.604454563], [237858.87611383238, 587875.0782733265], [237858.92035629257, 587875.1880543175], [237865.25135629257, 587891.4500543175], [237865.27036172836, 587891.4996498254], [237885.23555940815, 587944.4394902657], [237903.16846235082, 587988.7938365081], [237903.17436796782, 587988.808509912], [237940.95936796782, 588083.1215099121], [237940.9625895401, 588083.1295713615], [237995.2295895401, 588219.2665713615], [237995.23813967383, 588219.288166353], [238001.8640746507, 588236.1374580731], [238014.02950429163, 588266.967875574], [238035.8411097465, 588321.6322812375], [238049.52473328853, 588354.4897601062], [238049.55034871996, 588354.5524618692], [238069.14634871995, 588403.4634618692], [238069.18281013268, 588403.5571879027], [238072.04569451913, 588411.1412505631], [238082.02224733456, 588435.7708341464], [238082.03175559532, 588435.7944806527], [238087.0577555953, 588448.3864806526], [238087.0730427808, 588448.4252492274], [238091.62604278082, 588460.1142492275], [238091.63241667917, 588460.1306987989], [238103.7241732581, 588491.5009068538], [238116.4927786895, 588523.8481738695], [238116.55823599413, 588524.0235428197], [238121.9638504237, 588539.3772379617], [238134.58732757875, 588571.4361025958], [238134.61279276255, 588571.5021418884], [238150.90853086376, 588614.6698716427], [238159.15751238287, 588634.8272922225], [238159.20817478056, 588634.956154193], [238169.20115743123, 588661.4451082041], [238174.84514111056, 588676.4050649446], [238174.8483379339, 588676.4135618006], [238188.43862744517, 588712.6350114598], [238205.8297368337, 588757.7775296111], [238205.84165634916, 588757.8087805688], [238259.19713890576, 588899.11546497], [238277.0110397754, 588945.7311214968], [238309.513293727, 589030.3439727316], [238330.5790951283, 589084.9668648067], [238330.5813584168, 589084.9727444663], [238348.68235841682, 589132.0847444664], [238348.6871617018, 589132.0972964782], [238375.88616170178, 589203.4612964782], [238375.89195574954, 589203.4765737043], [238401.4929409341, 589271.3130368482], [238419.6311553112, 589317.7724104638], [238450.1180375508, 589395.7426705925], [238474.51903353413, 589458.285407808], [238493.02898433054, 589505.1181627586], [238493.06310153307, 589505.2069451616], [238520.07192467124, 589577.5386222984], [238537.17843394255, 589620.8870855123], [238547.01564647557, 589644.1990843], [238547.0367174726, 589644.2497934625], [238566.2027174726, 589691.0987934624], [238566.22090184904, 589691.1438668855], [238595.38590184902, 589764.4598668854], [238595.4069470309, 589764.5136741068], [238642.90658759527, 589888.0577344975], [238661.61607437863, 589935.865538758], [238678.0536608741, 589976.4093869732], [238678.06128184288, 589976.4282949547], [238688.08128184287, 590001.4352949548], [238688.11699334162, 590001.5270256556], [238700.04371517, 590033.0779363578], [238713.02336865372, 590067.4567212167], [238723.7842553658, 590095.7311282543], [238754.7481822113, 590172.9470835658], [238765.46550607198, 590199.215171387], [238765.4924527847, 590199.282613862], [238778.30958022087, 590232.0501569408], [238788.92064107643, 590258.7557262643], [238788.9500377457, 590258.831499788], [238795.6655304994, 590276.5676725286], [238798.14685538545, 590282.9569096498], [238798.30202802602, 590283.4231718663], [238800.54233743265, 590291.4520206598], [238803.57237381174, 590301.1475415858], [238803.59180849424, 590301.2112145278], [238806.22580849426, 590310.0512145279], [238806.32700350013, 590310.450157569], [238806.39504430123, 590310.856071881], [238806.89604430122, 590314.846071881], [238806.93175742682, 590315.2889577342], [238807.0836342815, 590319.5040335581], [238807.17828141182, 590321.0901889144], [238810.8441617028, 590330.4970632768], [238813.93998222525, 590338.0788879509], [238813.97369057257, 590338.1636422449], [238818.94369057257, 590350.9996422449], [238818.95657329002, 590351.0332736076], [238827.76284081375, 590374.2729506793], [238838.17176599757, 590400.7687598516], [238838.1797926986, 590400.7893250193], [238847.1540346416, 590423.9328967422], [238854.85504469214, 590443.3607399726], [238861.94012391346, 590461.1725195975], [238869.97966245984, 590479.6815760849], [238876.2011938872, 590493.7951705836], [238876.30002637277, 590494.0361966701], [238877.03938201026, 590495.9822273428], [238890.3500767599, 590528.5992184738], [238892.66078451162, 590534.222639976], [238892.80125541388, 590534.6089521671], [238894.2602554139, 590539.200952167], [238894.27786233177, 590539.2575268731], [238895.8768952693, 590544.5049336785], [238897.06953238632, 590547.7938376507], [238900.56434277186, 590557.3976004726], [238903.70527324034, 590565.5443267131], [238903.76728615334, 590565.7142687071], [238909.35328615332, 590581.9272687071], [238909.4910931678, 590582.4023672731], [238909.58127881703, 590582.888758031], [238909.62296032996, 590583.3816800045], [238909.61572971218, 590583.8763082881], [238909.5596577397, 590584.3678012732], [238909.45529326616, 590584.8513480418], [238909.3036578503, 590585.3222154555], [238909.10623575677, 590585.7757944867], [238908.8649594274, 590586.2076453331], [238908.58219056576, 590586.6135408758], [238908.2606970201, 590586.9895080562], [238907.90362569035, 590587.3318667659], [238907.51447172524, 590587.6372658688], [238907.09704431045, 590587.9027160036], [238906.65542938278, 590588.1256188441], [238906.19394963558, 590588.3037925333], [238882.6419850925, 590596.0817849294], [238888.5000448604, 590624.946468595], [238893.19485268695, 590644.5955450985], [238894.01028544406, 590646.8282176321], [238894.42471207387, 590647.2426442619], [238896.96375012232, 590647.3743837709], [238928.37723224447, 590647.2250564909], [238928.85688440723, 590647.2458264333], [238929.33233335975, 590647.3125038755], [238929.79919550856, 590647.424474058], [238930.25316642967, 590647.5807046264], [238930.69006055503, 590647.7797551501], [238931.10584976297, 590648.0197904024], [238931.49670051705, 590648.2985972813], [238931.85900921107, 590648.6136052145], [238932.18943539384, 590648.9619098592], [238932.48493256784, 590649.3402998801], [238932.7427762776, 590649.7452865578], [238932.960589229, 590650.1731359541], [238933.1363632077, 590650.619903339], [238941.2045071826, 590674.4225770725], [238962.84038202793, 590737.004752466], [238988.90889404752, 590812.3538760204], [239001.33086739198, 590846.3227843943], [239001.3725122791, 590846.441257555], [239013.25647843585, 590881.6567081548], [239016.59160948088, 590890.9584493504], [239016.69512960743, 590891.2812094813], [239021.5631296074, 590908.4382094813], [239021.60303966378, 590908.5876336931], [239027.0280396638, 590930.2366336932], [239027.08670363337, 590930.500880323], [239032.18070363335, 590956.7908803229], [239032.21746302315, 590957.0055249586], [239034.66346302314, 590973.4305249586], [239034.6882267227, 590973.6221639467], [239038.281017873, 591006.3971363042], [239040.97876010035, 591030.0381141336], [239040.99157885555, 591030.1647338717], [239041.39456975358, 591034.7236309043], [239042.41681138045, 591046.2824459086], [239045.13655296984, 591063.168905291], [239047.94981756952, 591078.2504154798], [239050.79886556132, 591090.3591151373], [239056.5720343979, 591111.0865671623], [239059.6445631961, 591121.0402492051], [239059.65551862828, 591121.0762194932], [239064.8935186283, 591138.5092194931], [239064.90488989576, 591138.5476225549], [239071.59939133178, 591161.493486124], [239079.46088178232, 591188.2263529263], [239079.47892620866, 591188.2892293945], [239084.61558815456, 591206.6400141106], [239092.67015210201, 591234.2530998653], [239099.5699592481, 591255.4297098138], [239107.6818814503, 591280.1033898669], [239107.69911205553, 591280.1568081522], [239114.58130696934, 591301.9101377361], [239118.28028280858, 591313.1944430167], [239125.0640807852, 591331.9221085028], [239125.08829899016, 591331.9905124798], [239132.08694061218, 591352.2235664373], [239133.18620352235, 591355.275754085], [239133.20455329283, 591355.327596153], [239133.58258025412, 591356.4145714875], [239137.26668963954, 591355.3936033538], [239137.75015638483, 591355.2850980876], [239138.24198869398, 591355.224977656], [239138.73735650833, 591355.2138324743], [239139.2313950488, 591355.2517719939], [239139.7192525903, 591355.3384236285], [239140.19613810867, 591355.4729364121], [239140.65736833084, 591355.6539893567], [239141.0984137272, 591355.8798044247], [239141.51494299402, 591356.1481639904], [239141.90286558925, 591356.4564326179], [239142.25837190368, 591356.8015829432], [239142.5779706735, 591357.1802254036], [239142.85852326645, 591357.5886415262], [239143.0972745047, 591358.0228204442], [239143.29187972224, 591358.4784982865], [239144.7449835538, 591362.4097792221], [239149.17592531894, 591374.3996216423], [239150.10586707742, 591376.915464077], [239150.25716773403, 591377.3987620343], [239150.35880405066, 591377.894885873], [239150.40973336555, 591378.3987459815], [239150.40943320745, 591378.905173384], [239150.3579066556, 591379.4089727673], [239150.25568230817, 591379.9049757783], [239150.1038088594, 591380.3880940451], [239149.9038443413, 591380.8533713771], [239149.65784014034, 591381.2960346094], [239149.3683199527, 591381.7115425697], [239149.03825389413, 591382.0956326649], [239148.6710280306, 591382.4443646095], [239148.27040964123, 591382.7541608495], [239147.84050857075, 591383.0218432616], [239147.3857350677, 591383.2446657583], [239143.74835814763, 591384.8036714063], [239146.99661914917, 591393.591684287], [239158.4870795697, 591422.576350735], [239158.50394018413, 591422.6194630933], [239165.8431618223, 591441.6449300416], [239179.23698479793, 591475.0565537886], [239179.23909673624, 591475.0618308169], [239180.47973490306, 591478.166886181], [239187.31381829127, 591494.5311682026], [239187.320520728, 591494.5472964118], [239206.190520728, 591540.1792964118], [239206.22414029823, 591540.2627129167], [239216.38507736407, 591566.1428425907], [239222.68377973788, 591580.0369808201], [239231.7194724556, 591599.1680527156], [239239.81288319468, 591615.1779636403], [239250.24145760492, 591633.1418642635], [239263.22897332485, 591654.5712153912], [239273.676168193, 591671.0814342647], [239273.7106389805, 591671.136703654], [239278.9126389805, 591679.599703654], [239279.0765499376, 591679.8872906767], [239283.6913803711, 591688.6459688493], [239287.26355827384, 591695.423360945], [239293.27089434976, 591706.3694724169], [239296.74418783962, 591711.7736717073], [239296.95867184742, 591712.1408363889], [239300.1056718474, 591718.095836389], [239300.19987139007, 591718.283526977], [239308.92487139007, 591736.6185269769], [239308.93968538885, 591736.6499382914], [239316.41768538885, 591752.6499382914], [239316.5078788103, 591752.854744845], [239319.4578788103, 591759.9817448449], [239319.5158446835, 591760.128279434], [239328.64540526233, 591784.3148167845], [239338.209947998, 591809.4433609111], [239338.2386340418, 591809.520636624], [239340.30628167847, 591815.2344792119], [239342.70011441453, 591820.1777867804], [239342.8602157524, 591820.5452635011], [239352.22477158555, 591844.6331209989], [239370.17132685913, 591890.7289787157], [239370.19530604745, 591890.7918162672], [239379.45773263482, 591915.5629340203], [239389.4778141549, 591942.122090019], [239396.4293353331, 591959.6794184007], [239408.38176141173, 591989.5314922662], [239408.3844573741, 591989.5382398374], [239415.88645737412, 592008.3542398374], [239415.88919813882, 592008.3611288775], [239423.79119813882, 592028.2661288775], [239423.9490858025, 592028.7285563555], [239424.06108149738, 592029.2041871483], [239424.12611558524, 592029.6884786453], [239424.1435669446, 592030.1768055202], [239424.11326890258, 592030.6645039058], [239424.03551082697, 592031.1469159375], [239423.91103536237, 592031.6194342392], [239423.74103133753, 592032.0775459267], [239423.73711425994, 592032.0855908871], [239427.08728515377, 592038.8553247824], [239427.28371385692, 592039.3069328798], [239427.43476235354, 592039.7756742379], [239427.53896526716, 592040.2570014257], [239427.59531168733, 592040.7462449132], [239427.60325497692, 592041.2386583708], [239427.56271807515, 592041.7294647162], [239427.4740942453, 592042.2139024581], [239427.33824325944, 592042.6872718896], [239427.15648305745, 592043.1449806814], [239426.9305769613, 592043.5825884335], [239420.71725347568, 592054.2895215864], [239422.5928424635, 592060.0102085981], [239435.25696661358, 592064.5582574608], [239435.68757860435, 592064.7359599844], [239436.09978355942, 592064.952966778], [239436.49000345948, 592065.2073941804], [239436.8548511197, 592065.497033712], [239437.19115959125, 592065.8193712453], [239437.49600965108, 592066.1716088278], [239437.76675514123, 592066.5506889684], [239438.00104593803, 592066.9533211777], [239438.19684835174, 592067.3760105297], [239444.09384835174, 592081.8370105297], [239444.30460731505, 592082.4725939869], [239445.6885461538, 592087.8215817724], [239445.96193975117, 592087.6638803064], [239468.2919397512, 592076.4238803064], [239468.63355975816, 592076.2677185715], [239475.49861303688, 592073.4362566548], [239480.33695459954, 592071.3297004061], [239486.04387308727, 592068.844735899], [239486.1535729966, 592068.7985148028], [239493.8114049392, 592065.6787680918], [239509.0577331784, 592059.2734123482], [239536.19687376916, 592045.6944314664], [239549.02092449076, 592038.4700183247], [239555.30718291196, 592034.8177171135], [239555.74278422786, 592034.5924476953], [239556.19835830905, 592034.4109344074], [239556.66952262734, 592034.2749233699], [239557.15174467966, 592034.1857229806], [239557.64038558982, 592034.1441913291], [239558.1307447336, 592034.1507279411], [239558.61810495766, 592034.2052699358], [239559.09777795768, 592034.3072926303], [239559.56514937885, 592034.4558145878], [239560.015723205, 592034.6494070576], [239560.44516500935, 592034.8862077203], [239560.8493436507, 592035.1639386025], [239561.22437101442, 592035.479927991], [239561.56663941493, 592035.8311361333], [239561.8728563012, 592036.2141844798], [239562.14007593028, 592036.6253881848], [239562.36572770472, 592037.0607915539], [239571.0875359363, 592056.1241153268], [239617.1112118187, 592032.0493159149], [239613.32518105267, 592023.9071949039], [239613.1981961092, 592023.6092229397], [239612.3281961092, 592021.3692229397], [239612.16994386117, 592020.8919283292], [239612.06043230242, 592020.4011522727], [239612.00076905, 592019.9018585561], [239611.9915575474, 592019.3990971142], [239612.03289096119, 592018.8979529552], [239612.12435123874, 592018.4034947297], [239612.26501333652, 592017.9207234656], [239612.45345457597, 592017.4545219872], [239612.68776903284, 592017.0096055294], [239612.965586814, 592016.5904740468], [239613.2840980269, 592016.2013667012], [239613.64008119912, 592015.846218985], [239614.02993586115, 592015.5286229182], [239635.75749797944, 591999.5764555198], [239636.14765791528, 591999.1640007305], [239636.49963251792, 591998.8265149818], [239636.8828077128, 591998.5249200191], [239637.2935390018, 591998.2620844055], [239647.9025390018, 591992.1810844055], [239648.34981537922, 591991.9537260671], [239658.8308474574, 591987.2721319858], [239666.88322535963, 591983.5091804537], [239705.12222535964, 591965.6401804538], [239705.1648394011, 591965.6205101594], [239725.37793799382, 591956.4051444478], [239745.31522065596, 591946.2578607689], [239750.98222065595, 591943.3738607689], [239751.22398787786, 591943.2588650336], [239769.43612718733, 591935.1869058195], [239786.29007161333, 591927.6563137618], [239820.85402085475, 591911.953874456], [239828.17368275108, 591908.5589029641], [239854.951323535, 591895.7419982351], [239855.20461903786, 591895.629281818], [239867.88361903786, 591890.403281818], [239868.17066076188, 591890.2951461541], [239874.85523733223, 591888.008473831], [239881.98334322972, 591885.3682876755], [239882.0646124376, 591885.338982194], [239892.17961243758, 591881.789982194], [239892.46632005845, 591881.698975648], [239903.81532005846, 591878.468975648], [239903.8904976901, 591878.4482120364], [239912.9264976901, 591876.0282120364], [239913.0241776904, 591876.0031046352], [239927.2621776904, 591872.4961046352], [239927.3478671624, 591872.4757969189], [239938.2445475763, 591869.994513053], [239940.00025324858, 591869.5823383578], [239940.1160591863, 591869.5565970363], [239981.7204619933, 591860.825401263], [240025.31922321388, 591851.515602603], [240057.77835737905, 591843.5130463834], [240093.26258977415, 591834.721732065], [240093.268032333, 591834.7203868944], [240117.5619396881, 591828.7304097372], [240121.97784779916, 591827.6414323974], [240122.07508426486, 591827.6184816377], [240128.7976830381, 591826.1024868997], [240152.20038451083, 591819.003783218], [240173.2661209838, 591812.5343210156], [240173.46132399084, 591812.4786824535], [240184.82132399085, 591809.4886824535], [240184.9828242835, 591809.4490345102], [240200.65086692618, 591805.8777377398], [240224.4910293879, 591799.9584172819], [240247.8014728932, 591792.9611049482], [240247.82801342948, 591792.9532180686], [240274.58622973994, 591785.0822152994], [240306.52193611942, 591774.84615814], [240312.46623587926, 591772.1760170382], [240312.6244286122, 591772.1082053591], [240320.7786054321, 591768.7777371524], [240338.80750873892, 591760.3101562883], [240344.54904212078, 591757.4478111736], [240345.1528424073, 591757.1464122206], [240346.9758424073, 591756.2374122206], [240347.35767008032, 591756.0665744169], [240347.75244143003, 591755.9282504909], [240358.96954743288, 591752.5175498187], [240396.42508095893, 591740.1481973629], [240396.44440555974, 591740.141859146], [240409.38740555974, 591735.925859146], [240409.69368208473, 591735.8367938102], [240428.71068208475, 591730.9587938102], [240428.81191725945, 591730.9339480099], [240439.10191725942, 591728.5219480098], [240439.56215170608, 591728.4365723382], [240440.02835323656, 591728.394609448], [240476.28357028982, 591726.8367602836], [240491.14308517252, 591726.0385503853], [240530.24673666072, 591720.8934378002], [240550.84474199955, 591718.0732169925], [240551.35092694566, 591718.0299617908], [240551.85888833416, 591718.0382948547], [240571.07492447217, 591719.33210601], [240591.8692667996, 591717.4891946499], [240607.54701582473, 591712.1902448162], [240607.9711360835, 591712.067474167], [240608.40443355657, 591711.9825982219], [240624.09691724935, 591709.622675867], [240625.60772018062, 591709.3951504967], [240637.01074077256, 591706.5179450434], [240637.06573139434, 591706.5044006269], [240666.83590664854, 591699.3504666095], [240673.89998065215, 591697.3679843455], [240673.94232143843, 591697.3563020793], [240679.49932143843, 591695.8493020793], [240679.91747578615, 591695.7549424166], [240685.46447578617, 591694.7509424165], [240686.0024247273, 591694.6834464236], [240690.96516177437, 591694.3326254569], [240696.41572894514, 591693.7860208328], [240706.64089396954, 591692.3001459918], [240710.87034935082, 591691.4654357912], [240717.08028768803, 591690.1487435808], [240721.65722204474, 591689.0670111674], [240727.79483318367, 591687.4239530131], [240732.8270735729, 591685.4119870312], [240753.84958484958, 591675.9189100452], [240764.2029861536, 591670.9021303515], [240776.35847585637, 591664.5122474753], [240776.4312232542, 591664.4747623432], [240782.07122325423, 591661.6267623432], [240782.15197986763, 591661.5868917952], [240788.22343647154, 591658.6570493768], [240796.12190226407, 591654.8172259687], [240796.2808890585, 591654.7433522089], [240807.72265709843, 591649.6688563729], [240824.20684935644, 591641.9552915142], [240824.3806677643, 591641.8779515317], [240840.2066677643, 591635.1939515317], [240840.35963395244, 591635.1322999292], [240865.8371892255, 591625.3490867459], [240870.1981892255, 591623.6750867459], [240870.44352584495, 591623.5881690158], [240891.83233096448, 591616.6316158944], [240915.17378169615, 591608.656013598], [240926.5648027977, 591604.5988968934], [240933.78596034323, 591601.7414419713], [240944.57435442327, 591597.1617165064], [240961.39742275624, 591589.934905462], [240967.7033238853, 591587.0117617899], [240978.55469431382, 591581.1007007661], [240984.4141039244, 591577.7708411581], [240990.1890660914, 591573.539382569], [240994.21653070883, 591570.176852457], [240994.36168461762, 591570.0601814971], [240996.4196846176, 591568.4681814971], [240996.8954927454, 591568.142171778], [241004.3104927454, 591563.667171778], [241004.35539035697, 591563.6403949716], [241016.69139035698, 591556.3703949716], [241016.7593215171, 591556.3310760491], [241028.99836551628, 591549.3747218542], [241040.99440495516, 591542.104063246], [241041.05326066294, 591542.0689407971], [241054.59975868912, 591534.1103981708], [241076.35336116218, 591521.0640315197], [241076.59573278457, 591520.9276905353], [241092.8869031037, 591512.3508743728], [241104.96216658078, 591505.5200606374], [241105.19823146137, 591505.3947291335], [241116.1529629872, 591499.948845356], [241128.12489956827, 591493.9554163656], [241135.41283664393, 591490.0722875833], [241135.47630412696, 591490.0390526777], [241152.96982388681, 591481.0376295707], [241179.6003854763, 591466.4518635416], [241195.79400021164, 591456.1598123527], [241209.1064264105, 591446.6044486589], [241212.31652910658, 591444.1207971297], [241219.7220688278, 591438.1365025851], [241233.2550124944, 591426.906295387], [241233.28889235685, 591426.8784305064], [241251.72086488397, 591411.8539069141], [241266.70922027106, 591399.244845657], [241266.7249306149, 591399.2316841086], [241278.33070136415, 591389.549207498], [241279.29010074274, 591388.7495485941], [241289.45263132715, 591379.8804669798], [241295.64278685328, 591374.098022774], [241321.08886787077, 591348.600067983], [241321.0972086578, 591348.5917298835], [241355.0798673578, 591314.7000568826], [241384.8405421531, 591284.8393999775], [241384.91546911388, 591284.7657842673], [241423.90849096904, 591247.2519286905], [241450.11633219733, 591221.4152920364], [241469.10266671746, 591201.9594823188], [241514.07823823922, 591154.3745021523], [241514.10642189535, 591154.3449263098], [241565.73542189534, 591100.6069263098], [241565.84487435344, 591100.4964922768], [241590.92687435346, 591075.9644922768], [241591.06660090198, 591075.8329798847], [241629.16486090436, 591041.3288591482], [241629.27213709286, 591038.3019093813], [241629.3292876688, 591037.7048927173], [241629.45750985475, 591037.1190137567], [241631.63450985475, 591029.4170137567], [241631.75992850738, 591029.033229956], [241634.56792850737, 591021.4872299561], [241634.7443443433, 591021.0716005794], [241634.95753557794, 591020.6735807012], [241639.63253557796, 591012.8195807012], [241639.86223659784, 591012.4681453403], [241640.12061145093, 591012.1372196588], [241646.41661145093, 591004.7362196589], [241646.75511167286, 591004.3760173615], [241647.12752354305, 591004.0509981404], [241656.52352354306, 590996.6359981403], [241656.97098049746, 590996.3210239817], [241657.4501768888, 590996.0568322612], [241658.61392958814, 590995.4959514498], [241671.01152489398, 590989.5191465504], [241676.20236579346, 590987.0162232657], [241676.67709842575, 590986.8167537756], [241687.83725686333, 590982.7902389987], [241698.47212608115, 590978.280937046], [241709.53338560445, 590972.9596437439], [241722.45838342232, 590966.4996037418], [241733.11724244265, 590960.0385864027], [241749.9485474213, 590949.7937470478], [241764.52560732115, 590940.1374729179], [241778.7352555537, 590930.1841891678], [241795.81684672815, 590916.9419608072], [241804.1985279548, 590910.2260552861], [241804.27011549752, 590910.1697578805], [241812.20149476442, 590904.0484932195], [241819.21558133725, 590897.6579897796], [241819.445216224, 590897.4611459089], [241828.5895827131, 590890.0904497206], [241830.57639476212, 590888.4332969269], [241830.98169425907, 590888.1287171198], [241831.41575414775, 590887.8667465982], [241831.87411165802, 590887.6500788019], [241832.35205420473, 590887.4809413926], [241832.84466783988, 590887.3610733501], [241833.34688777532, 590887.291707093], [241833.853550456, 590887.273555808], [241834.35944664906, 590887.3068061166], [241834.85937500212, 590887.3911161572], [241835.34819552107, 590887.5256190993], [241835.82088241645, 590887.7089320561], [241836.27257577606, 590887.9391703022], [241836.69863153197, 590888.2139666524], [241837.09466920825, 590888.5304957981], [241837.45661695878, 590888.8855033573], [241846.8677255258, 590899.1026212262], [241850.0177255258, 590902.5226212263], [241850.08263803262, 590902.594481857], [241862.48736886747, 590916.5972456497], [241957.31697070395, 591021.6771830657], [242012.91695661034, 591083.2881674485], [242274.5219390246, 591373.1701479618], [242274.57670014977, 591373.2318439846], [242283.502472263, 591383.4566347179], [242335.80543558623, 591440.9121464551], [242335.81566695348, 591440.923420181], [242555.4246740289, 591683.6474280012], [242816.7016895584, 591972.4264451653], [242853.94287188657, 592013.5880149318], [242863.31200645122, 592023.640397365], [242865.40708194353, 592022.6063637886], [242865.86506482578, 592022.4080984062], [242866.34053089746, 592022.2564755286], [242866.82874342328, 592022.1530056684], [242867.3248386839, 592022.0987196234], [242867.82387442992, 592022.0941582073], [242867.83592101664, 592022.0952539917], [242873.65656372867, 592018.3938120703], [242881.9426770532, 592013.0112950717], [242889.76008361924, 592007.4779473923], [242896.94234184967, 592000.7391574552], [242904.32599489676, 591993.6847754224], [242904.4728685324, 591993.5499491396], [242908.2828685324, 591990.1899491395], [242908.66290548776, 591989.8863451409], [242909.07064487244, 591989.6211054954], [242913.23986645098, 591987.1890595746], [242917.03492081363, 591984.6045795149], [242919.30429046837, 591983.0418995335], [242919.48374323105, 591982.9239287097], [242924.95374323102, 591979.4939287096], [242925.33422559005, 591979.2779385858], [242928.91422559007, 591977.4479385859], [242929.41267863827, 591977.2265506553], [242929.93227953973, 591977.0607708007], [242933.97227953974, 591976.0107708006], [242934.42855136044, 591975.9146499538], [242934.891793322, 591975.8614514894], [242935.481793322, 591975.8214514895], [242935.9425122267, 591975.81150115], [242940.0225122267, 591975.91150115], [242940.39280734555, 591975.9343451768], [242940.7603892579, 591975.9845832334], [242944.7103892579, 591976.6745832333], [242945.25671029612, 591976.8019622612], [242945.78532411, 591976.9897374706], [242949.52532411, 591978.5597374707], [242949.88568156175, 591978.7281708535], [242950.23150943394, 591978.9247169811], [242953.83150943395, 591981.1647169811], [242954.24744878476, 591981.4537382635], [242954.63201396033, 591981.7833569384], [242957.38201396033, 591984.3933569384], [242957.74414675724, 591984.7752400013], [242958.0641334371, 591985.1930717389], [242960.3741334371, 591988.5630717389], [242960.722135955, 591989.1539320225], [242962.842135955, 591993.3939320225], [242962.97394952152, 591993.6797054573], [242976.03394952152, 592024.5097054573], [242976.0988393942, 592024.6706038137], [242989.80219212532, 592060.424984848], [243017.53166062848, 592124.760946521], [243017.64072872055, 592125.0361368905], [243019.0039636738, 592128.7971184283], [243071.4303750868, 592251.8978082102], [243079.4304524639, 592270.1722991762], [243083.50016625182, 592279.2249308216], [243085.61152631076, 592283.6844389834], [243086.60290079121, 592285.7406230911], [243089.04950942396, 592289.976542515], [243091.69688110537, 592293.5638604937], [243095.0149827319, 592296.7357097069], [243095.30143254067, 592297.0331215663], [243095.56236468596, 592297.3531555061], [243096.58454359212, 592298.7183023348], [243098.0085058734, 592299.6901059769], [243098.26453832202, 592299.8770044247], [243102.01911957082, 592302.804627272], [243105.9043928943, 592305.2580040888], [243114.55285089771, 592309.8168811759], [243118.76445546706, 592311.5520971372], [243123.65454347807, 592312.6357979602], [243128.95105737078, 592313.4784251703], [243131.72367331028, 592313.6079866629], [243136.30472868943, 592313.5290029495], [243140.60688954996, 592312.6196030927], [243145.23570055192, 592311.3423585632], [243149.9151037379, 592309.9580351206], [243159.31061928594, 592306.8492976263], [243164.03191890396, 592305.2456494438], [243164.5949037141, 592305.0904423766], [243168.16320304977, 592304.3277524422], [243184.3431896309, 592298.2698427744], [243186.68345917307, 592296.9638496591], [243187.10232314444, 592296.7551797733], [243187.53886116992, 592296.5865835097], [243216.00886116992, 592287.0965835097], [243216.02300967716, 592287.0918907628], [243282.49030174047, 592265.1560846878], [243301.43761643878, 592258.7903465745], [243301.4460703782, 592258.787514686], [243321.7478801532, 592252.0069690966], [243327.2981319986, 592249.9208399547], [243331.75935879213, 592247.880065996], [243336.15954319376, 592245.6751595889], [243340.35377225935, 592243.3565520606], [243344.2642818196, 592240.7867886353], [243348.0843885035, 592237.9217086224], [243355.85995801416, 592231.7449471465], [243355.89554038487, 592231.7169430546], [243387.42583884604, 592207.1323046348], [243410.8762917882, 592188.4678623271], [243410.91614633365, 592188.4364706622], [243418.80614633366, 592182.2864706622], [243418.82500566114, 592182.2718426522], [243424.88463983603, 592177.5948815126], [243425.41245532603, 592176.9380444584], [243425.72695839292, 592176.5826209207], [243426.07374295488, 592176.2586170045], [243426.4496846485, 592175.9689518303], [243430.77968464853, 592172.9489518304], [243431.17714800508, 592172.6986369893], [243435.64714800505, 592170.1686369893], [243435.88966502112, 592170.040032078], [243440.44966502115, 592167.780032078], [243440.72439097892, 592167.6540684398], [243445.3643909789, 592165.6940684399], [243445.45648338308, 592165.6562433149], [243450.11648338308, 592163.7962433147], [243450.20783828426, 592163.7608135229], [243454.90783828427, 592161.990813523], [243455.1791947477, 592161.8974221117], [243459.9491947477, 592160.4074221117], [243460.04263994732, 592160.379230803], [243498.45263994733, 592149.199230803], [243498.50050634466, 592149.1855564315], [243537.000256598, 592138.3940354676], [243575.350115782, 592127.1228939462], [243575.3972957494, 592127.1092789392], [243594.62622715242, 592121.6624142745], [243604.15296220308, 592118.9164146814], [243613.44603256788, 592115.9324907238], [243618.00801553388, 592114.1096264942], [243637.73452451866, 592106.1610344658], [243648.05306672415, 592102.0116206913], [243671.1116093113, 592092.7222078276], [243671.33418061477, 592092.6386359438], [243711.5672280659, 592078.6138056967], [243748.01237765432, 592062.5751540078], [243782.64874407966, 592047.2667599554], [243782.70569265273, 592047.242011674], [243801.55175124187, 592039.1907838914], [243828.68639554078, 592026.9801939569], [243828.91990570442, 592026.8724200352], [243837.53110033594, 592022.259628347], [243846.0429457445, 592017.2532413143], [243854.57071098284, 592012.118670879], [243863.0676988277, 592006.8928238947], [243871.38625807583, 592001.7609277663], [243879.15984936786, 591995.9572900439], [243886.76814006013, 591989.6692040347], [243894.26415647555, 591982.9554667433], [243894.37515064393, 591982.8589600067], [243897.1969245145, 591980.477463615], [243902.04857300376, 591976.3866642778], [243910.10431731035, 591969.1622252804], [243924.72954323408, 591955.6520608295], [243931.86946728677, 591948.7795125735], [243938.91696558692, 591941.741968367], [243939.01600049547, 591941.6457672883], [243942.64600049544, 591938.2157672882], [243943.03096624723, 591937.8872492919], [243947.02096624725, 591934.8172492919], [243947.13947032602, 591934.728827845], [243955.28657193301, 591928.8353920436], [243958.50554848913, 591926.4509649649], [243959.85166852683, 591924.1857199552], [243960.20734082905, 591923.6650302991], [243964.24734082905, 591918.4850302992], [243964.49339644308, 591918.1932326866], [243964.76099426748, 591917.9210551411], [243968.40099426746, 591914.4910551411], [243968.70409729204, 591914.2275991671], [243972.62409729205, 591911.0875991671], [243973.07240375382, 591910.7673848929], [243985.96607011324, 591902.5914011084], [244003.08607983583, 591891.663311035], [244008.44041466713, 591888.0872406914], [244013.45008648746, 591884.4456324921], [244013.70435189502, 591884.2725014219], [244022.29435189502, 591878.8025014219], [244022.51132127285, 591878.6719400485], [244025.23389869445, 591877.1261543329], [244026.88649051555, 591876.1803939533], [244027.15391899814, 591876.037926262], [244031.64391899813, 591873.817926262], [244032.1032889975, 591873.6187644309], [244036.7932889975, 591871.8587644309], [244037.33732187378, 591871.6892874995], [244037.65942799454, 591871.6087609692], [244042.12168674724, 591870.4188253019], [244042.7883377894, 591870.2887969104], [244062.89254389374, 591867.7696448048], [244073.32552344305, 591864.6803989122], [244079.50649901887, 591860.5597485283], [244079.80072753757, 591860.3779718959], [244132.4107275376, 591830.3379718959], [244132.4152301429, 591830.3354040287], [244149.79374874698, 591820.4362478617], [244167.08706158324, 591810.5699997208], [244175.5333861492, 591805.3554847892], [244175.88062065098, 591805.1597831757], [244177.11230052068, 591804.5289231548], [244184.79230052067, 591800.5989231549], [244184.877683838, 591800.5562543635], [244188.0079870651, 591799.029106444], [244193.89798706508, 591796.156106444], [244194.0809626755, 591796.0713791347], [244203.31096267552, 591792.0213791346], [244203.35579257688, 591792.0019689867], [244212.57898743582, 591788.0619634159], [244221.702599009, 591783.9429065007], [244221.86259827373, 591783.8740010064], [244240.5625982737, 591776.2040010063], [244240.63372356517, 591776.1754630322], [244250.0637235652, 591772.4754630323], [244250.24283430673, 591772.4091054683], [244259.75622228254, 591769.0897925297], [244266.86616173925, 591766.2078970699], [244272.72344075015, 591762.9782717752], [244276.20117352743, 591761.0351259541], [244276.64355876946, 591760.8158727753], [244277.1054114424, 591760.6413197251], [244277.58222799018, 591760.5131688821], [244278.069358943, 591760.4326698536], [244278.56205425464, 591760.4006075909], [244279.0555096204, 591760.4172947353], [244279.5449133243, 591760.4825685694], [244290.68491332428, 591762.5325685693], [244291.31821383513, 591762.6924903366], [244311.29574149317, 591769.1516909709], [244313.68326839618, 591769.920894199], [244313.6891014269, 591769.9227774072], [244316.0691014269, 591770.6927774071], [244316.07567306954, 591770.6949085431], [244319.99607623872, 591771.969260815], [244346.53217564433, 591774.6521385121], [244363.82788377977, 591775.4863678445], [244371.45697862937, 591774.6218004331], [244372.0511326468, 591774.590096925], [244380.0811326468, 591774.6400969251], [244380.61054099284, 591774.6715199713], [244381.13364301494, 591774.7588405254], [244381.64455359345, 591774.9010761941], [244396.47455359346, 591779.8910761941], [244396.78676777382, 591780.0078536742], [244409.87676777382, 591785.4078536743], [244409.960190464, 591785.44315556], [244428.18224878394, 591793.3495424401], [244464.95921060938, 591803.7382906864], [244465.4790531439, 591803.9165175859], [244465.97619663464, 591804.1507171547], [244466.4446355666, 591804.4380602518], [244474.00463556658, 591809.6680602517], [244474.3877187161, 591809.9613835111], [244474.74074648073, 591810.2902643882], [244475.0604315897, 591810.6516404597], [244475.34379724736, 591811.0421467181], [244475.58820485207, 591811.4581469065], [244478.92820485207, 591817.8281469065], [244479.13560811302, 591818.2761970696], [244479.29781140215, 591818.74251794], [244479.41323313967, 591819.2225626085], [244479.48074789412, 591819.7116503504], [244480.2807478941, 591828.8016503503], [244480.2998110932, 591829.2834629979], [244480.27237468262, 591829.7648714276], [244477.26442971246, 591858.2606679826], [244476.4220236189, 591872.4640265369], [244476.55154203248, 591881.9473282526], [244476.60698213027, 591886.0432044441], [244478.07712193733, 591902.4891684189], [244480.287820026, 591917.3548848996], [244484.33500811982, 591937.7381744495], [244487.5448468549, 591948.2230069645], [244492.69744534564, 591961.3616479372], [244498.84098540054, 591973.4734765082], [244503.13679059246, 591980.9615773014], [244508.1015302518, 591989.612411396], [244527.9264389841, 592023.8336229898], [244528.0843186924, 592024.1284652692], [244538.19431869237, 592044.6284652692], [244538.36392365862, 592045.0121612271], [244546.38392365864, 592065.4321612271], [244546.53034758076, 592065.8611922562], [244546.6373111886, 592066.3017219097], [244549.11731118857, 592079.0017219096], [244549.19907150292, 592079.6295979137], [244550.39907150294, 592097.7495979137], [244550.4082195955, 592098.2134199205], [244550.3743401065, 592098.6760933711], [244548.4543401065, 592114.6660933711], [244548.35725175682, 592115.2144912998], [244548.19977708202, 592115.748689917], [244544.289777082, 592126.7186899171], [244544.11268560498, 592127.1506305235], [244543.8960810615, 592127.564171997], [244543.64185167206, 592127.9557093467], [244537.56185167207, 592136.4257093467], [244537.46504774466, 592136.5560460244], [244535.15735341614, 592139.5599790311], [244536.4989177188, 592142.6172854352], [244557.8435287106, 592162.7018388907], [244570.4949198609, 592171.4576129288], [244578.80353632217, 592174.389045459], [244588.71831605202, 592175.0776944519], [244605.5495770273, 592171.9254479805], [244605.90076560256, 592171.8725084598], [244618.03076560257, 592170.4825084598], [244618.5372442837, 592170.4503938435], [244619.04436947926, 592170.4697855703], [244619.54691674485, 592170.5404838651], [244632.45691674485, 592173.0304838651], [244632.990769619, 592173.1642988644], [244633.50668117183, 592173.3559772798], [244633.9984005087, 592173.6031966947], [244634.4599698529, 592173.9029617456], [244643.4099698529, 592180.4429617457], [244643.80860465448, 592180.7669356499], [244644.17189576494, 592181.1301000268], [244644.49600873684, 592181.5286217666], [244644.77752263812, 592181.9582945713], [244651.44752263813, 592193.3782945713], [244651.7213091504, 592193.9201312454], [244651.9274113112, 592194.4911548307], [244661.5274113112, 592227.1811548306], [244661.59897222914, 592227.4528503036], [244664.82897222912, 592241.2828503037], [244664.91375577875, 592241.7415431595], [244664.95542433747, 592242.2061409614], [244665.48542433747, 592254.5861409614], [244665.48160270046, 592255.0896592493], [244665.42715717305, 592255.5902398678], [244665.3226399315, 592256.0828060231], [244663.0026399315, 592264.8228060231], [244662.83661519704, 592265.3351887375], [244662.6164390116, 592265.8267400631], [244660.45643901158, 592270.0267400631], [244660.39153219864, 592270.1487705562], [244653.77176177665, 592282.1900740241], [244650.84497372963, 592289.0567690574], [244646.50928830943, 592302.7945588159], [244641.30323157055, 592323.0922189638], [244641.3003731059, 592323.1033108934], [244641.22925391103, 592323.3779781288], [244643.1206543745, 592343.7821770682], [244644.91161860013, 592357.7967168009], [244650.6642955098, 592384.0705808246], [244650.69077595946, 592384.1996386461], [244652.24279105416, 592392.3046063628], [244664.15444482715, 592426.6830451823], [244664.17876252113, 592426.7549905693], [244666.49805392625, 592433.7924971076], [244675.8243210806, 592460.8406519544], [244680.59388911643, 592471.1509157923], [244696.01585223462, 592495.7035367718], [244700.08675193292, 592499.9708395257], [244722.2816737992, 592519.7239229399], [244731.4615357412, 592527.7850217378], [244743.90292270918, 592538.7240154886], [244754.28730827864, 592545.8224499436], [244771.79970314977, 592557.6161079585], [244781.8794289811, 592563.2435567876], [244793.33071898075, 592567.7839263617], [244803.23203942407, 592570.6520210289], [244803.3774058688, 592570.6503876981], [244809.88531071588, 592570.5605546557], [244827.70468303908, 592570.2741013312], [244841.70311332244, 592568.8411143871], [244859.82892435716, 592565.8901737228], [244875.95221352027, 592561.3621362272], [244888.94965305954, 592555.8560726752], [244889.1968837096, 592555.7590006486], [244898.6368837096, 592552.3390006487], [244899.09576832596, 592552.1972851064], [244899.5661326411, 592552.1002500762], [244900.0436369161, 592552.0487908357], [244900.5238755363, 592552.0433821653], [244906.7738755363, 592552.2733821652], [244907.22946408333, 592552.311060024], [244907.67970720824, 592552.3901907619], [244908.1208412289, 592552.5101129076], [244908.54917860817, 592552.6698240055], [244908.9611387789, 592552.8679889947], [244909.35327807462, 592553.1029513703], [244915.9432780746, 592557.4729513703], [244916.29339793025, 592557.7276153911], [244916.6201750629, 592558.0116125433], [244916.9211594587, 592558.322813556], [244917.194094485, 592558.6588851975], [244935.51286202812, 592583.3252495071], [244948.03562531955, 592597.035516214], [244968.684212493, 592617.9331215636], [244996.1865895711, 592645.3755588443], [245010.87137653035, 592659.7806355758], [245011.25269978345, 592660.1996599562], [245011.5841709023, 592660.6591332983], [245014.40789149614, 592665.0813669063], [245018.78246789507, 592670.6940674952], [245019.52456047654, 592671.6459651764], [245020.38627115666, 592671.201071943], [245045.9239880505, 592654.3046057655], [245056.5901014183, 592646.9716528251], [245067.2029469125, 592639.5436593655], [245067.46335133305, 592639.3732233797], [245084.68335133305, 592628.8532233797], [245084.6957540916, 592628.8456710273], [245086.4257540916, 592627.7956710273], [245086.75690994697, 592627.6114774406], [245087.1010642202, 592627.4528920877], [245095.8110642202, 592623.8328920878], [245095.87587595911, 592623.806485809], [245101.53618061022, 592621.5463641755], [245116.8661806102, 592615.4263641755], [245117.21614822757, 592615.3015170287], [245137.44614822758, 592608.9215170287], [245137.7605636378, 592608.8335361485], [245157.66288617728, 592603.9590952292], [245170.40403523538, 592599.303675381], [245170.64791131395, 592599.2216158693], [245176.4154450666, 592597.4447973985], [245180.58714244838, 592595.5553739207], [245180.5944612345, 592595.5520662155], [245184.01855623082, 592594.0078665114], [245193.26796854913, 592589.1019937303], [245216.1995771958, 592574.8780921471], [245226.4818614431, 592567.0361624163], [245247.2642272447, 592547.8661362746], [245256.70825231614, 592538.6098062622], [245266.94851447718, 592527.8525599921], [245267.08804071037, 592527.7116912751], [245276.19927081963, 592518.8704980327], [245283.12927081963, 592512.1504980327], [245283.33156672277, 592511.964834408], [245287.51046129866, 592508.3357943816], [245306.1917000724, 592492.0934118201], [245325.7140708907, 592474.9800995616], [245326.13918938203, 592474.6462918527], [245341.839189382, 592463.6362918527], [245342.24594967903, 592463.3793154543], [245342.67552617614, 592463.1626247953], [245343.12394115285, 592462.9882263516], [245343.58704245137, 592462.8577349883], [245344.06054192391, 592462.7723590077], [245344.54005513946, 592462.7328889602], [245345.02114198194, 592462.7396903235], [245345.49934776407, 592462.7927001198], [245345.9702444761, 592462.8914274976], [245346.42947178762, 592463.034958278], [245346.87277742257, 592463.2219634184], [245347.29605653376, 592463.4507113203], [245347.69538971223, 592463.719083862], [245348.06707927954, 592464.0245960124], [245348.407683527, 592464.3644188415], [245348.7140485845, 592464.7354057147], [245348.9833376242, 592465.1341214301], [245349.21305712863, 592465.5568740265], [245349.40107997964, 592465.9997489706], [245361.08301481776, 592497.6719686162], [245362.4653072245, 592497.5345322775], [245362.47427876087, 592497.5336484371], [245367.336128589, 592497.0591032421], [245374.6652406879, 592494.5924044969], [245390.24418635434, 592486.306335035], [245395.6673907233, 592481.4836558517], [245395.91444675764, 592481.2777960157], [245403.37444675766, 592475.4577960158], [245403.71254322075, 592475.2159433104], [245404.06956119853, 592475.0030111312], [245406.96956119852, 592473.4330111311], [245407.41691534047, 592473.2187980202], [245407.8832920395, 592473.0499615317], [245408.3641019067, 592472.9281631045], [245408.85461352323, 592472.8546012985], [245409.35, 592472.83], [245410.91, 592472.83], [245411.42319436866, 592472.8564065767], [245411.93096805472, 592472.935347384], [245412.42795763226, 592473.0659885992], [245412.90891358393, 592473.2469503074], [245413.36875574963, 592473.4763210771], [245413.80262698638, 592473.7516781493], [245414.20594447255, 592474.0701130291], [245414.57444811446, 592474.4282622064], [245414.90424554425, 592474.8223426837], [245421.18424554425, 592483.1623426838], [245421.35605314106, 592483.4052213063], [245428.67605314107, 592494.4352213062], [245428.7129468284, 592494.4916355567], [245434.69294682838, 592503.7716355567], [245434.91219489544, 592504.1467206968], [245437.87219489546, 592509.7567206968], [245438.09045013925, 592510.2282206077], [245440.75193682988, 592516.861930446], [245443.6219368299, 592524.031930446], [245443.74110401093, 592524.3629477425], [245449.85110401092, 592543.4129477424], [245449.98942907172, 592543.9422050454], [245450.76942907172, 592547.7722050454], [245450.83788182412, 592548.2041818477], [245450.86832238425, 592548.6404880582], [245450.8605178334, 592549.0777852408], [245450.72051783343, 592551.3477852409], [245450.6540476737, 592551.9081903634], [245450.52485062546, 592552.4575357067], [245450.33457251525, 592552.9888232223], [245449.31457251523, 592555.3988232223], [245449.08923760627, 592555.8629396983], [245448.8172760919, 592556.30136513], [245448.50158359992, 592556.7094315155], [245447.03158359992, 592558.4194315156], [245446.73121011513, 592558.7393088624], [245446.4039479239, 592559.0316189812], [245440.36730171353, 592563.9648612083], [245441.28617428857, 592565.4709422928], [245457.48775613448, 592561.6998846185], [245560.41779780676, 592537.7698749304], [245575.71113746532, 592534.2144934041], [245577.0568600152, 592533.9000930425], [245593.94848000474, 592529.969716384], [245606.25837407328, 592527.1097409952], [245615.7769276239, 592524.89784474], [245633.787587633, 592520.7099237961], [245634.26135578842, 592520.6235710635], [245634.74123387158, 592520.5831967548], [245635.22277028274, 592520.5891754031], [245635.70149803857, 592520.6414515476], [245636.1729762104, 592520.7395402474], [245636.63283112034, 592520.8825315804], [245637.07679691407, 592521.0690990842], [245637.50075513296, 592521.2975120614], [245637.9007729191, 592521.5656516338], [245638.27313949852, 592521.8710303986], [245638.61440060436, 592522.210815503], [245638.92139052032, 592522.5818549227], [245639.19126144756, 592522.9807067025], [245639.4215099224, 592523.4036708846], [245639.61000003968, 592523.8468238324], [245655.6908670125, 592567.361884882], [245663.1721847521, 592564.7153610222], [245672.52412482284, 592561.405675033], [245675.30221553266, 592560.423996344], [245687.85891226798, 592555.9814544636], [245668.2448827938, 592495.6255938798], [245664.29442811955, 592483.4741943175], [245662.03442811957, 592476.5141943174], [245661.905475033, 592476.0383706504], [245661.82400677007, 592475.552160837], [245661.790815323, 592475.0602915572], [245661.80622336193, 592474.5675445095], [245661.87008109782, 592474.078709926], [245661.98176773888, 592473.5985400032], [245662.14019752532, 592473.1317027046], [245662.34383028478, 592472.6827363808], [245662.590686405, 592472.2560056502], [245662.8783660785, 592471.8556589679], [245663.20407263242, 592471.4855882972], [245663.56463971623, 592471.1493912736], [245663.95656208333, 592470.8503362306], [245664.37602966733, 592470.5913304266], [245664.8189646215, 592470.3748917818], [245665.28106096145, 592470.2031244008], [245687.39778160735, 592463.2021480813], [245718.19861687208, 592451.6690998991], [245734.84323062788, 592442.8887737902], [245743.51079331036, 592437.5150731478], [245751.10023156804, 592430.5831357293], [245758.53899972353, 592422.6083248623], [245762.43078566412, 592416.330948982], [245765.9056359208, 592410.6333593153], [245769.6353640283, 592403.3671532616], [245772.97255757728, 592396.1588151957], [245776.1725820625, 592386.4813997584], [245779.0730513807, 592376.887539706], [245781.0254212441, 592367.0378337451], [245781.084282979, 592366.7775120478], [245783.8610336972, 592355.8602871017], [245785.95727215483, 592347.4328419511], [245780.59935644787, 592343.9550092408], [245771.86435750648, 592338.2948673505], [245762.91638895345, 592339.0426318587], [245762.4438234108, 592339.0596844092], [245761.97176033174, 592339.032017986], [245761.50442201807, 592338.9598800477], [245761.04598851153, 592338.843915822], [245760.6005602061, 592338.6851625345], [245760.1721211726, 592338.4850401315], [245759.76450352365, 592338.2453385799], [245759.38135313796, 592337.9682018564], [245759.0260970502, 592337.6561087715], [245758.70191279848, 592337.3118507976], [245758.4117000032, 592336.9385071021], [245758.15805443187, 592336.5394170048], [245756.38354777236, 592333.431907735], [245751.0745318555, 592327.9784865852], [245748.32461146673, 592326.4199263648], [245747.93137390874, 592326.1722258433], [245747.5628338883, 592325.889083514], [245705.17386444414, 592290.0699543447], [245649.37489539894, 592242.9708245592], [245649.33790992596, 592242.9392965507], [245637.83986058107, 592233.0409758103], [245619.4139934836, 592217.2117078702], [245552.7396091943, 592161.2751457698], [245489.12404264428, 592110.848294132], [245488.76691361432, 592110.5365264016], [245488.44091638198, 592110.1923374038], [245488.14898153537, 592109.8188212634], [245487.89373345513, 592109.4193357452], [245487.677466722, 592108.9974720682], [245487.50212548967, 592108.5570226227], [245487.3692860076, 592108.1019468777], [245487.28014245088, 592107.6363357867], [245487.23549618543, 592107.164375012], [245487.23574856378, 592106.6903072974], [245487.28089731713, 592106.2183943267], [245491.93116798563, 592073.8765144055], [245497.82853020995, 592032.9716170947], [245497.81062261813, 592028.6021646868], [245497.5211600025, 592028.2200496937], [245497.26472369544, 592027.8019474875], [245497.05048585584, 592027.3607319138], [245496.88050804328, 592026.9006486847], [245496.7564259137, 592026.4261250715], [245496.67943347988, 592025.9417273015], [245496.65027162156, 592025.452116619], [245496.6692209564, 592024.9620044306], [245496.7360991394, 592024.4761069692], [245496.85026261787, 592023.9990999099], [245497.01061282383, 592023.5355733779], [245533.56061282384, 591932.5855733778], [245533.59682856008, 591932.4978697035], [245536.83731751415, 591924.8567171392], [245578.19731751413, 591827.3967171392], [245578.40862282363, 591826.9592247084], [245714.92862282365, 591576.1992247084], [245715.1216113606, 591575.874575018], [245715.3385545592, 591575.5654186733], [245769.80457422443, 591503.868392787], [245841.5581741708, 591409.4159193954], [245931.72777439954, 591290.6564459213], [245931.73592371185, 591290.6457426517], [245977.27793655702, 591230.997725828], [246045.8259170738, 591141.2187513456], [246059.5558973606, 591123.2357771652], [246059.86242835122, 591122.8716300671], [246060.2021969824, 591122.538280949], [246060.5721240756, 591122.238750812], [246060.96885713915, 591121.9757541703], [246061.3888007501, 591121.7516744504], [246061.82814913837, 591121.5685423915], [246062.28292067646, 591121.4280176414], [246062.74899396359, 591121.3313737162], [246063.22214517594, 591121.2794864586], [246063.6980863455, 591121.2728261007], [246064.1725042201, 591121.3114530024], [246064.64109935245, 591121.3950171048], [246065.09962506435, 591121.5227611017], [246065.54392593252, 591121.6935273039], [246065.9699754473, 591121.9057681299], [246224.48867384877, 591210.5311536614], [246235.76270704024, 591197.0184773201], [246286.66181219602, 591134.5941034596], [246363.04874851299, 591040.5378758123], [246363.08283861718, 591040.4963579889], [246405.3589000531, 590989.569287762], [246414.53511031833, 590977.8750935519], [246418.003787843, 590973.4467818995], [246418.15978254104, 590973.2573930938], [246483.25201897798, 590898.068769569], [246512.07170668716, 590860.9294185251], [246491.39178520755, 590840.7922280164], [246491.05648689487, 590840.4319167485], [246490.75823829696, 590840.0403852146], [246490.49992943282, 590839.6214273422], [246490.28406330675, 590839.179102819], [246490.1127316543, 590838.7176977549], [246489.98759467356, 590838.2416831498], [246489.90986493762, 590837.7556715693], [246489.88029564507, 590837.2643724495], [246489.89917332138, 590836.7725464624], [246489.9663150425, 590836.2849593855], [246490.08107020735, 590835.8063359215], [246490.24232684224, 590835.3413139156], [246490.44852237575, 590834.8943994157], [246490.69765877997, 590834.4699230085], [246490.9873219315, 590834.0719978561], [246574.1073219315, 590730.9619978562], [246574.43659364333, 590730.5925600309], [246574.80077307782, 590730.2574816721], [246575.19629267248, 590729.9600452633], [246575.61927785145, 590729.7031645412], [246576.0655849814, 590729.4893559521], [246576.5308419633, 590729.3207140006], [246577.01049106225, 590729.1988907314], [246577.49983355563, 590729.1250795455], [246577.9940757629, 590729.1000035097], [246578.48837600497, 590729.1239082727], [246578.97789203428, 590729.1965596598], [246579.45782847024, 590729.3172459658], [246579.92348377552, 590729.4847849275], [246580.37029631314, 590729.6975353053], [246580.79388903297, 590729.9534129611], [246581.19011235016, 590730.2499112745], [246581.55508479502, 590730.584125699], [246608.45508479502, 590757.7841256991], [246608.50053738395, 590757.8306873093], [246644.72053738395, 590795.4206873092], [246644.8800796627, 590795.5942753558], [246708.2600796627, 590867.9042753557], [246708.61388181135, 590868.3581737487], [246761.11388181135, 590944.3581737487], [246761.1581035536, 590944.4232798417], [246820.82443066826, 591033.7728551188], [246834.3891682336, 591053.056362726], [246862.56127053735, 591014.728693039], [247074.40927860566, 590726.5186820625], [247139.9192689215, 590637.3956952372], [247163.54125755257, 590605.2587107044], [247163.69248460344, 590605.0632810785], [247172.23248460342, 590594.5732810785], [247172.240213504, 590594.5638110486], [247174.2652495259, 590592.0887670225], [247221.26026804865, 590534.6517443842], [247306.61026145495, 590430.3387524429], [247350.74125030095, 590376.4025442755], [247357.20950169346, 590368.5021826588], [247354.09226902347, 590365.7681973766], [247348.964916239, 590361.2720247773], [247279.11408085137, 590304.5687598063], [247249.3529096361, 590281.5416503935], [247207.5471949175, 590252.8444228251], [247192.4147933156, 590242.9555279707], [247192.01262963057, 590242.6631872759], [247191.6414881021, 590242.332350946], [247191.30503855838, 590241.9662902735], [247191.00660779522, 590241.5686248476], [247190.7491466806, 590241.1432867635], [247190.5352009768, 590240.6944817421], [247190.36688616785, 590240.2266475444], [247190.24586654193, 590239.744410091], [247190.17333873484, 590239.2525377207], [247190.15001989785, 590238.7558940424], [247190.17614060635, 590238.2593898431], [247190.2514425802, 590237.7679345306], [247190.3751812373, 590237.28638759], [247190.5461330562, 590236.8195105323], [247190.76260767417, 590236.3719198139], [247333.91362645495, 589974.4708854539], [247362.40580364625, 589922.3441742196], [247167.29876983847, 589797.343100885], [247157.27283713417, 589790.920143997], [247156.86282402897, 589790.6273278501], [247156.48436144242, 589790.2947348362], [247156.1412923145, 589789.9257421319], [247155.8371001972, 589789.5240965193], [247155.57487388217, 589789.0938763408], [247155.35727603675, 589788.6394500872], [247155.1865161673, 589788.1654320398], [247155.06432818345, 589787.6766354165], [247154.99195279198, 589787.1780234982], [247154.97012489857, 589786.6746592311], [247154.99906614533, 589786.1716538171], [247155.07848266058, 589785.6741148141], [247155.2075680425, 589785.187094274], [247155.38501154757, 589784.7155374431], [247195.69298581194, 589692.0531829152], [247201.8912943193, 589677.3209713905], [247202.10968252303, 589676.8672792785], [247202.37259380386, 589676.43785222], [247202.67736192647, 589676.0370451199], [247214.44736192646, 589662.07704512], [247214.49653915782, 589662.019604708], [247230.79653915783, 589643.269604708], [247230.8043762976, 589643.260611283], [247264.88513214292, 589604.2456717163], [247271.30871378962, 589595.8238590566], [247280.84695162615, 589582.1261628644], [247306.97502221074, 589538.379802761], [247309.72836798598, 589526.4642995425], [247309.85113233744, 589526.0253096398], [247310.0133660896, 589525.5993243931], [247310.2137208644, 589525.1898843059], [247310.45053144748, 589524.8003923696], [247320.0283502928, 589510.5536367802], [247335.99277988245, 589486.7265761382], [247353.38183427055, 589458.4880258811], [247365.00359646045, 589438.5877481587], [247381.13519483764, 589409.4590327721], [247386.92600563174, 589398.9868990369], [247338.51903532707, 589368.8756219328], [247338.51077227676, 589368.870470784], [247219.27042433948, 589294.3752433504], [247206.74053271642, 589286.8692700869], [247206.65945141023, 589286.8196452885], [247096.57945141025, 589217.9996452886], [247096.57141073875, 589217.9946077906], [247031.95141073872, 589177.4246077905], [247031.93987522926, 589177.4173435759], [246982.18513075102, 589145.9906631308], [246976.65051881655, 589142.5140476918], [246899.27964223016, 589093.9191252051], [246827.99518806045, 589049.1469803378], [246756.15463120487, 589004.2403827765], [246660.6768722908, 588944.6142803505], [246619.73223040384, 588919.1876077452], [246619.71550574314, 588919.1771759746], [246469.09550574314, 588824.8171759746], [246469.0814892494, 588824.8083626115], [246378.2714892494, 588767.4983626115], [246377.9101719419, 588767.2474542032], [246377.57230613698, 588766.9657594679], [246366.53230613697, 588756.9057594679], [246366.18201627606, 588756.55314179], [246365.8684663723, 588756.1674882263], [246365.59475482817, 588755.7526096851], [246365.36358637593, 588755.3126058668], [246365.17724535015, 588754.8518247523], [246365.03757311485, 588754.3748196369], [246364.94594986757, 588753.8863041367], [246364.90328100068, 588753.3911056097], [246364.90998815463, 588752.8941174535], [246364.95404056238, 588752.5057343295], [246364.70860644843, 588752.6624083264], [246364.26745708872, 588752.8860451828], [246363.80637111346, 588753.0650030677], [246363.32986027116, 588753.1975308695], [246362.84258724324, 588753.2823317975], [246362.3493200197, 588753.3185760705], [246361.85488524407, 588753.3059090364], [246361.36412098433, 588753.2444546429], [246360.88182939237, 588753.1348142241], [246360.41272971456, 588752.9780606168], [246345.69472971454, 588747.2360606168], [246345.68137845694, 588747.2308297589], [246345.55937845696, 588747.182829759], [246345.14311370646, 588746.9967104209], [246344.74553556787, 588746.7734429261], [246343.36553556786, 588745.9134429261], [246343.35695411367, 588745.9080830013], [245973.01399480464, 588514.0728724934], [245904.22809343433, 588471.6445687659], [245904.20337441165, 588471.6292221925], [245705.93937441165, 588347.7382221925], [245705.9126684419, 588347.7214167911], [245622.71566844187, 588295.0004167911], [245622.28424799122, 588294.693870875], [245621.2221935072, 588293.8512079277], [245577.54537091192, 588266.4335027039], [245554.63917886541, 588252.9684234662], [245554.44455938035, 588252.8479417401], [245550.82432460456, 588250.490487573], [245530.90959860475, 588238.0672352192], [245530.73403411466, 588237.9525305622], [245519.60913117856, 588230.3465065509], [245506.42028338372, 588221.9988718953], [245468.58458688573, 588200.139576044], [245449.6411015133, 588189.678367399], [245433.73283505603, 588180.9519688521], [245339.33883184366, 588130.814931028], [245294.6039907666, 588107.5004795911], [245276.34683279818, 588098.0359896946], [245276.32639706624, 588098.02533601], [245221.88630780618, 588069.4845318224], [245085.18124170238, 587998.5936832214], [245085.14150132384, 587998.5728483393], [245054.60843032383, 587982.3900507794], [244974.73737434504, 587940.4242247246], [244974.72562770633, 587940.4180328913], [244873.08862770634, 587886.6710328914], [244872.6310871723, 587886.3968970424], [244872.2053520536, 587886.0755819125], [244871.8162671103, 587885.7107439884], [244870.29179850238, 587884.1201857008], [244841.99074270495, 587869.0085991055], [244839.17960129978, 587868.0048107215], [244838.7240107386, 587867.8163182295], [244838.2891995925, 587867.5838715773], [244751.8381995925, 587815.7318715773], [244751.78010555205, 587815.6964881179], [244736.58210555205, 587806.2974881179], [244736.50309063736, 587806.2475956343], [244726.18009063735, 587799.5935956342], [244726.16392933237, 587799.5831342841], [244715.8769293324, 587792.8961342842], [244715.86196615474, 587792.8863694872], [244699.29296615472, 587782.0313694872], [244699.12670858265, 587781.9175956051], [244630.17574734462, 587732.6643381387], [244568.88686511968, 587689.5649692114], [244568.8284575689, 587689.5232663845], [244550.63947245202, 587676.3382771732], [244481.35166898227, 587626.1131445103], [244423.49300922352, 587584.224182743], [244377.90818678492, 587551.4663406312], [244377.90098354986, 587551.4611545921], [244311.95207201756, 587503.8916608242], [244287.54954554565, 587487.4191824979], [244287.42279556906, 587487.3307401848], [243848.84679556906, 587171.1157401848], [243848.83649167043, 587171.1082911042], [243684.83940970522, 587052.2307720035], [243630.33310943036, 587015.8353698174], [243622.79637487742, 587011.0286013747], [243547.84102724688, 586963.2235997159], [243365.02316170777, 586849.8521474996], [243240.23544243004, 586772.9760167715], [243240.2251183439, 586772.9696392679], [243110.6111183439, 586692.6856392679], [243110.27868586715, 586692.4607809297], [243103.59687497333, 586687.5390853325], [243080.85849538515, 586673.6488646208], [243080.84067028284, 586673.6379245218], [243016.71467028285, 586634.0959245218], [243016.702548792, 586634.0884261824], [242940.100548792, 586586.5514261824], [242940.09483881443, 586586.5478774151], [242869.67616226978, 586542.7168133564], [242809.8984974392, 586505.7557304503], [242809.89145437453, 586505.7513675883], [242796.90236536914, 586497.69031235], [242768.06632601537, 586479.79377045], [242707.89729120623, 586442.6062211414], [242707.87483147407, 586442.5922576528], [242657.56183147404, 586411.1272576528], [242657.52426886492, 586411.1035337602], [242599.99849643203, 586374.4127268045], [242552.49505393478, 586345.1573934316], [242552.46930556005, 586345.1414283152], [242497.43330556006, 586310.7854283152], [242497.03228473244, 586310.5069957377], [242496.6603294299, 586310.1907811629], [242496.32098576127, 586309.8397992846], [242496.01748892604, 586309.4573962572], [242495.75273237075, 586309.047217795], [242495.52924020402, 586308.613174415], [242495.34914313225, 586308.1594041548], [242495.2141581462, 586307.6902331221], [242495.1255721517, 586307.210134251], [242495.08422970076, 586306.7236846584], [242495.09052493967, 586306.235522007], [242495.14439785157, 586305.7503002909], [242495.24533482853, 586305.2726454667], [242495.392373568, 586304.8071113504], [242495.58411224736, 586304.3581362028], [242495.8187228883, 586303.9300004165], [242496.0939687842, 586303.5267857079], [242496.4072258244, 586303.1523362037], [242496.75550751138, 586302.8102217918], [242497.1354934334, 586302.5037040869], [242547.86843772745, 586265.5177446983], [242559.2295900674, 586257.2346336392], [242576.90459006742, 586244.3496336392], [242577.2316835129, 586244.1303733998], [242577.5750173465, 586243.9375339501], [242578.9450173465, 586243.23753395], [242579.32224073564, 586243.0641476704], [242579.71254805807, 586242.9226539204], [242580.1132483745, 586242.8140282158], [242589.13024030707, 586240.7673448222], [242593.5324395007, 586239.132946241], [242618.3081778064, 586221.0707597092], [242685.10301517302, 586169.4633797545], [242685.50071936473, 586169.1858263495], [242685.92344254907, 586168.9481088152], [242686.36720766997, 586168.7524636411], [242686.82783970505, 586168.6007314924], [242687.30100494483, 586168.4943398925], [242687.78225176528, 586168.4342897928], [242688.26705250939, 586168.4211461553], [242688.75084608415, 586168.4550326382], [242689.22908087217, 586168.5356304308], [242689.69725755425, 586168.6621812548], [242689.8631929523, 586168.7248351255], [242721.15319196958, 586144.4665699464], [242721.09586602903, 586144.1989016978], [242721.0407290394, 586143.7173763609], [242721.03247258434, 586143.2327749075], [242721.07117424373, 586142.7496507835], [242721.15647036638, 586142.2725435534], [242721.2875594869, 586141.8059362451], [242721.4632098566, 586141.3542132268], [242721.68177101726, 586140.9216190097], [242721.9411893093, 586140.5122183656], [242722.23902716854, 586140.1298581333], [242722.57248603023, 586139.7781310726], [242722.938432625, 586139.4603421058], [242864.728432625, 586027.9103421058], [242865.32296167678, 586027.508164406], [242866.3009599037, 586026.944408234], [242867.1127063774, 586026.4070335842], [242867.88942970367, 586025.8199399762], [242868.6283031187, 586025.1865115353], [242869.32576942563, 586024.5087348309], [242869.98005286622, 586023.7884923412], [242870.5888631168, 586023.0288063249], [242871.14888698517, 586022.2331025878], [242871.65912261093, 586021.4032104167], [242872.11621139292, 586020.5457905658], [242872.51879225735, 586019.6595061391], [242872.86751206598, 586018.748580103], [242873.15724868895, 586017.821876805], [242873.38909265655, 586016.8770747541], [242873.5622141522, 586015.9180727848], [242873.6759668323, 586014.9511750039], [242873.72904381846, 586013.9791079147], [242873.72223042595, 586013.0070639178], [242873.6540164404, 586012.0369094572], [242873.5263860265, 586011.0698051897], [242873.33938780997, 586010.1158871622], [242873.09303595923, 586009.1744440894], [242872.74038626815, 586008.1024242056], [242872.62918331422, 586007.7115208694], [242853.7889381261, 585929.5405030791], [242845.0362667868, 585893.1909387728], [242844.5769759814, 585891.3832803138], [242844.53166910994, 585891.1887652213], [242844.1887326708, 585889.57083325], [242843.8168545869, 585888.0374336445], [242843.71219945076, 585887.459569819], [242843.4538535947, 585885.3243021752], [242843.18038659467, 585883.3729197965], [242843.14286529168, 585883.0084462961], [242843.02211378168, 585881.1797854288], [242842.8260199984, 585879.0479936068], [242842.8058429633, 585878.6818091635], [242842.77484296332, 585876.9938091636], [242842.77418158232, 585876.8593879113], [242842.7891815823, 585875.0993879113], [242842.79067557593, 585875.0125668055], [242842.83767557595, 585873.1975668055], [242842.84830779769, 585872.9763912512], [242842.94130779768, 585871.6533912511], [242842.9541600613, 585871.5030333502], [242843.1363173081, 585869.6941242203], [242843.27240514438, 585868.0182997218], [242843.33798862627, 585867.5212438644], [242843.5670425324, 585866.2720261755], [242843.7539259413, 585864.9175840438], [242843.79013615963, 585864.6930077228], [242844.05513615964, 585863.2580077228], [242844.1412495077, 585862.8760970265], [242844.51860049882, 585861.4628988841], [242844.9940962225, 585859.3327162344], [242845.06866402295, 585859.0404262063], [242845.50366402295, 585857.5274262063], [242845.578947498, 585857.2883201031], [242846.106947498, 585855.7473201031], [242846.123977904, 585855.6984423572], [242846.699977904, 585854.0724423572], [242846.75292692578, 585853.9298965419], [242847.4237973525, 585852.204661044], [242847.9561584128, 585850.7746122507], [242848.11261026442, 585850.4013058239], [242849.00745686944, 585848.4873802564], [242849.0378642245, 585848.4107438332], [242849.14487354594, 585848.1052695492], [242849.26099068948, 585847.7286952018], [242849.37775425706, 585847.3929151143], [242849.48875425707, 585847.1069151142], [242849.60450469173, 585846.8331000018], [242849.75440124233, 585846.5059820085], [242849.86904524898, 585846.2264904106], [242850.12134135797, 585845.7009626327], [242850.17549694763, 585845.6032100903], [242850.29339120354, 585845.3388064678], [242850.4518294112, 585845.015332214], [242850.59598087939, 585844.7460382625], [242850.74741945078, 585844.4399217919], [242850.88778428925, 585844.1763053085], [242851.09978428925, 585843.8053053084], [242851.3163381388, 585843.4598427978], [242851.49345264945, 585843.2013513499], [242851.5819069169, 585843.054713831], [242851.70814747477, 585842.8208583713], [242851.93728514126, 585842.4382586112], [242852.19960278744, 585842.0775979687], [242852.3186961248, 585841.9283343193], [242852.38403904196, 585841.8339501056], [242852.76581729512, 585841.357833822], [242852.92519154318, 585841.1150609949], [242853.2369905558, 585840.6906403394], [242853.59170149994, 585840.3013696582], [242853.642461359, 585840.2512423208], [242854.02784335674, 585839.7933681437], [242854.33484335674, 585839.4703681438], [242854.4134220244, 585839.3895387793], [242855.1144220244, 585838.6845387792], [242855.1563811649, 585838.6428365528], [242867.50638116492, 585826.5128365528], [242867.6681157869, 585826.3608858708], [242874.45289972695, 585820.2642836488], [242874.9311294091, 585819.8349751659], [242952.55705774322, 585750.0918364574], [243019.76575692368, 585689.6230068272], [243019.85731283293, 585689.5426290418], [243027.18807731444, 585683.2633679907], [243055.35995347623, 585657.5663856611], [243142.81945426305, 585577.7468412658], [243142.8258059872, 585577.7410543874], [243173.8711508547, 585549.5052882342], [243177.12540817828, 585546.5305376746], [243200.47431069138, 585525.1615420984], [243200.48527822143, 585525.1515344597], [243276.39527822143, 585456.0915344597], [243276.77413707794, 585455.7794361231], [243277.18177241588, 585455.5059899015], [243277.6142556186, 585455.2738311536], [243278.06741859627, 585455.0851973271], [243278.5368939562, 585454.9419063948], [243279.01815709381, 585454.845339334], [243279.50656979895, 585454.7964268171], [243279.997424957, 585454.7956402423], [243280.48599191388, 585454.8429871901], [243280.96756206843, 585454.9380113509], [243281.4374942515, 585455.079796922], [243281.7860790354, 585455.2235899625], [243290.3317733685, 585446.4676806885], [243290.35286906015, 585446.4461958682], [243297.87905868352, 585438.8272048931], [243297.64946522025, 585438.4805686834], [243297.41762993613, 585438.0413080315], [243297.23051963001, 585437.5812132017], [243297.0899806879, 585437.1048243638], [243296.997399934, 585436.6168424757], [243296.95369094613, 585436.1220828942], [243296.9592850402, 585435.6254278577], [243297.01412701423, 585435.1317783089], [243297.11767569307, 585434.6460055326], [243297.26890926863, 585434.1729030863], [243297.46633538298, 585433.7171394979], [243297.70800585486, 585433.2832121974], [243297.991535904, 585432.8754031362], [243298.31412768402, 585432.4977365338], [243300.674127684, 585429.9977365338], [243300.67907018837, 585429.9925083705], [243333.19907018836, 585395.6425083705], [243333.25452041978, 585395.5848682754], [243363.7045204198, 585364.4348682755], [243363.80738052644, 585364.3326518112], [243405.62738052645, 585323.9626518112], [243405.64720443398, 585323.943620211], [243411.83694049992, 585318.0338722061], [243469.2266773258, 585263.2241235491], [243469.2858966588, 585263.1684795371], [243505.9458966588, 585229.2784795371], [243505.99228740815, 585229.2361313428], [243506.70166024438, 585228.5966966737], [243539.3597500967, 585199.1384196666], [243549.80051717622, 585189.7075333336], [243580.4967230723, 585161.9811538598], [243586.28493044758, 585156.7427762006], [243586.6666557757, 585156.4301462559], [243587.07733573308, 585156.1566619216], [243587.51297109024, 585155.9249864069], [243587.96931960026, 585155.7373757839], [243588.4419373102, 585155.5956570175], [243588.9262218365, 585155.5012101749], [243589.41745718333, 585155.4549549856], [243589.91085966732, 585155.4573418862], [243590.40162450133, 585155.5083476327], [243590.88497258394, 585155.6074755276], [243591.3561970384, 585155.7537602568], [243591.81070904885, 585155.9457772895], [243591.92809294525, 585156.0096677913], [243593.95091803194, 585154.1021792227], [243556.48189932003, 585118.4208564872], [243556.46004374462, 585118.3999171638], [243553.69047375844, 585115.7303316536], [243481.2303194389, 585045.9194517401], [243480.54993565643, 585045.2779470308], [243480.2118391325, 585044.9264819605], [243479.90959092486, 585044.5437510157], [243479.64606646524, 585044.1333952988], [243479.42377278785, 585043.6993187201], [243479.24482467875, 585043.2456508577], [243479.11092455688, 585042.7767076709], [243479.0233462781, 585042.2969504404], [243478.98292301648, 585041.8109433261], [243478.99003933786, 585041.3233099463], [243479.04462754124, 585040.8386893903], [243479.14616830292, 585040.3616920855], [243479.29369561715, 585039.8968559351], [243479.48580598595, 585039.4486031478], [243479.7206717716, 585039.0211981667], [243479.99605858346, 585038.6187070997], [243480.3093465352, 585038.2449590368], [243480.65755516873, 585037.9035096223], [243580.7377631338, 584948.9133247124], [243808.3977631338, 584746.5033247124], [243808.41546275094, 584746.487662919], [243813.98154123995, 584741.5858341916], [243735.99729914023, 584653.0141241285], [243717.2873083678, 584631.7641346088], [243717.26601980033, 584631.7397977761], [243690.58601948989, 584601.039797419], [243683.77001104766, 584593.1967877047], [243606.29501104765, 584504.0477877047], [243606.18077200904, 584503.9115144489], [243591.06079488294, 584485.2095427418], [243524.18861012303, 584402.4974497183], [243519.5302531291, 584406.2789587474], [243519.1340638077, 584406.569484082], [243518.71127479174, 584406.8197247592], [243518.26596804062, 584407.0272647456], [243517.8024429189, 584407.190100276], [243517.32517468647, 584407.3066592002], [243516.83877129076, 584407.3758161605], [243516.34792887777, 584407.3969034576], [243515.85738645142, 584407.3697174971], [243515.37188011935, 584407.2945207551], [243514.8960973665, 584407.1720392437], [243514.43463179827, 584407.0034555024], [243513.99193878993, 584406.7903971798], [243513.57229247072, 584406.5349213193], [243513.17974445786, 584406.2394944992], [243512.81808473877, 584405.9069690172], [243512.49080507943, 584405.5405553534], [243465.9589676037, 584347.9863424386], [243452.1879172798, 584358.9365624237], [243451.79448491786, 584359.2194079582], [243451.3755215656, 584359.4628424037], [243450.9349619696, 584359.6645795152], [243450.47694370025, 584359.8227246535], [243450.00576829334, 584359.9357925787], [243449.52586085149, 584360.0027213993], [243449.04172848526, 584360.022882545], [243448.5579179843, 584359.9960866699], [243448.0789731152, 584359.9225854306], [243447.6093919485, 584359.8030691233], [243447.15358461437, 584359.6386602004], [243446.7158318842, 584359.4309027287], [243446.30024496745, 584359.1817478884], [243445.91072690047, 584358.8935356485], [243445.55093589082, 584358.5689727899], [243445.22425096063, 584358.2111074853], [243420.71925096062, 584328.6051074853], [243420.4219760004, 584328.2072687775], [243420.16563498555, 584327.7819014968], [243419.95275695642, 584327.3332022834], [243419.785442151, 584326.8655979685], [243419.66534128404, 584326.3837018996], [243419.59363926126, 584325.8922684257], [243419.57104348915, 584325.3961459907], [243419.59777689588, 584324.9002292997], [243419.67357573175, 584324.4094110279], [243419.79769217136, 584323.92853355], [243419.96890169167, 584323.4623411653], [243420.18551515296, 584323.0154332913], [243420.44539546384, 584322.5922190861], [243420.74597866554, 584322.196873948], [243421.08429922775, 584321.8332983209], [243421.4570193063, 584321.5050792135], [243444.07439717054, 584303.5011159802], [243432.83787634075, 584289.934445993], [243409.98090994445, 584262.2952770435], [243373.8328986026, 584218.5572633201], [243334.02889860258, 584170.3952633201], [243333.73249085934, 584169.9980591588], [243333.476862482, 584169.5734619041], [243333.26452505717, 584169.1256432869], [243333.09756483146, 584168.659003191], [243332.97762221374, 584168.1781264247], [243332.905875658, 584167.687737673], [243332.88303008472, 584167.1926550781], [243332.90930995505, 584166.6977428996], [243332.98445706538, 584166.2078637229], [243333.10773308424, 584165.7278306833], [243333.2779268065, 584165.2623601763], [243333.49336605374, 584164.8160255186], [243333.75193410343, 584164.393212014], [243334.0510904863, 584163.9980738678], [243334.38789594662, 584163.6344933707], [243334.759041321, 584163.3060427548], [243342.79930857418, 584156.8721959962], [243290.78616120818, 584087.26619912], [243239.0121612082, 584017.95319912], [243238.7483326926, 584017.5629110446], [243238.5224069133, 584017.1495252566], [243238.3363894611, 584016.7167114689], [243238.191931652, 584016.2683118604], [243238.0903158685, 584015.8083069691], [243238.03244417527, 584015.3407803554], [243238.01883031154, 584014.8698823514], [243238.04959513046, 584014.399793218], [243238.7166416049, 584008.4943819289], [243239.80463879608, 583998.869406777], [243241.78163639084, 583981.378428057], [243241.85818514632, 583980.9055206927], [243241.97964097487, 583980.4421098934], [243242.14488890674, 583979.9924497905], [243242.35241195868, 583979.560668283], [243242.6003050601, 583979.1507291443], [243242.88629254152, 583978.7663956335], [243243.20774902543, 583978.4111959485], [243243.56172352735, 583978.0883908384], [243259.76107148494, 583964.6789305847], [243263.60043080547, 583961.4986031], [243091.42842765918, 583958.689334551], [243090.94043995798, 583958.657454213], [243090.4579006306, 583958.5780555353], [243089.98542561647, 583958.4518980406], [243089.5275345804, 583958.2801885429], [243089.0886076779, 583958.0645696042], [243088.6728436548, 583957.807103821], [243088.2842196823, 583957.5102540938], [243087.92645331175, 583957.1768600679], [243087.60296691264, 583956.8101109682], [243087.3168549346, 583956.4135150927], [243087.0708543059, 583955.9908662513], [243086.86731825236, 583955.5462074749], [243086.70819378647, 583955.0837923401], [243086.5950030824, 583954.6080442797], [243086.5288289149, 583954.1235142683], [243086.51030430174, 583953.6348372878], [243086.53960644818, 583953.1466879903], [243086.61645505176, 583952.6637359797], [243086.7401149838, 583952.1906011429], [243086.9094033216, 583951.731809457], [243087.12270066404, 583951.2917496926], [243087.3779666228, 583950.8746314327], [243087.67275934052, 583950.484444803], [243088.0042588495, 583950.1249223029], [243088.36929404736, 583949.7995031013], [243108.70941597325, 583933.3794046766], [243159.9088336286, 583892.0499782265], [243133.52939419978, 583859.3705710479], [243133.240409317, 583858.9742707086], [243132.9916431677, 583858.551563216], [243132.78548954125, 583858.1065161357], [243132.62393218154, 583857.6434119996], [243132.50852569833, 583857.166707096], [243132.44038060767, 583856.6809885891], [243132.42015264588, 583856.1909303773], [243132.4480364595, 583855.7012481188], [243132.5237637324, 583855.216653854], [243132.6466057676, 583854.7418106633], [243132.81538049935, 583854.281287796], [243133.02846386767, 583853.839516702], [243133.28380544612, 583853.4207483893], [243133.57894817233, 583853.0290125184], [243133.91105199154, 583852.668078626], [243134.2769211853, 583852.3414198523], [243309.58617727042, 583710.6416765254], [243301.0856873502, 583660.6257808785], [243289.11625302254, 583590.2016342902], [243272.61148726157, 583603.5530582165], [243201.03148726156, 583661.3920582165], [243200.63201128025, 583661.6834173376], [243200.20571180893, 583661.9338967935], [243199.75675756522, 583662.1410471837], [243199.2895388044, 583662.3028428159], [243198.80862438766, 583662.4177015155], [243198.31871710395, 583662.4845000964], [243197.824607682, 583662.5025853458], [243197.33112794277, 583662.4717804105], [243196.8431035495, 583662.3923865275], [243196.36530681854, 583662.2651800773], [243195.9024100514, 583662.0914049926], [243195.4589398452, 583661.8727605934], [243195.03923282758, 583661.6113849701], [243194.64739324964, 583661.3098340753], [243194.28725285103, 583660.971056729], [243193.96233338988, 583660.5983657835], [243171.49836493074, 583632.1014057951], [243158.33052839368, 583615.3978816586], [243118.98870363002, 583565.5673702178], [243113.61974867055, 583558.7674272629], [243113.32652681455, 583558.3546879807], [243113.07654802225, 583557.9144115049], [243112.87237540385, 583557.4511121268], [243112.71610240472, 583556.9695401991], [243112.6093313405, 583556.4746334285], [243112.55315696812, 583555.9714662478], [243112.54815526083, 583555.4651977867], [243112.59437750274, 583554.961018973], [243112.69134976278, 583554.4640993089], [243112.83807775428, 583553.9795338662], [243113.0330570295, 583553.5122910449], [243113.27428840534, 583553.067161631], [243113.55929846148, 583552.6487096747], [243113.88516490124, 583552.2612256941], [243114.2485465147, 583551.9086826828], [243170.3922653586, 583502.7056505093], [243135.72761191754, 583457.4813878455], [243088.54761191754, 583395.8853878455], [243088.26958841292, 583395.4830854441], [243088.03219467768, 583395.0555477196], [243087.83770156605, 583394.6068644006], [243087.6879695547, 583394.1413274889], [243087.58443094592, 583393.6633902045], [243087.52807616637, 583393.1776243863], [243087.51944429302, 583392.6886767593], [243087.55861789634, 583392.2012244845], [243087.64522225066, 583391.7199304193], [243087.77842891848, 583391.249398513], [243087.9569636752, 583390.7941297659], [243088.17911869814, 583390.3584791754], [243088.44276890307, 583389.9466140752], [243088.74539227234, 583389.5624742729], [243089.08409397988, 583389.2097343622], [243151.5218692738, 583330.2476017291], [243043.20469570905, 583215.542865088], [243042.88572635062, 583215.1700195924], [243042.6048374723, 583214.7677054697], [243042.3647340926, 583214.339797089], [243042.16772845722, 583213.8904152972], [243042.01571777143, 583213.4238877347], [243041.9101659299, 583212.9447071591], [243041.85208941888, 583212.4574881794], [243041.8420475273, 583211.9669228162], [243041.8801369606, 583211.4777353161], [243041.96599090967, 583210.9946366567], [243042.09878258302, 583210.5222791791], [243042.27723316918, 583210.0652117841], [243042.49962415174, 583209.6278361263], [243042.76381385917, 583209.2143642243], [243043.06725808946, 583208.8287778989], [243043.4070346114, 583208.4747904269], [243172.95497977082, 583086.1342202477], [243148.00125520566, 583059.8097981361], [243147.68872541207, 583059.4467441594], [243147.4123738489, 583059.0554477558], [243147.17473723626, 583058.6395007614], [243146.97799691724, 583058.2027212876], [243146.82395883466, 583057.7491186741], [243146.71403695378, 583057.2828566855], [243146.64924028298, 583056.808215291], [243146.6301636118, 583056.3295513771], [243146.65698205112, 583055.851258754], [243146.7294494259, 583055.3777278243], [243146.8469005347, 583054.9133052807], [243147.00825725595, 583054.4622542078], [243147.2120384442, 583054.0287149487], [243147.45637352628, 583053.6166671001], [243147.73901967166, 583053.229892982], [243148.05738238018, 583052.8719429189], [243186.99793270798, 583013.1013809494], [243254.63653699387, 582944.0428059645], [243255.55927708824, 582943.0991893974], [243256.131989181, 582934.8439536596], [243256.17379383632, 582934.4585325799], [243259.8627969839, 582909.5133749322], [243259.92836594113, 582900.8957405563], [243259.0332182889, 582890.4931825766], [243256.52367972487, 582880.577674942], [243254.022601129, 582873.293164659], [243250.28480581898, 582864.6127516928], [243245.96742495196, 582857.328360186], [243232.01084775777, 582836.0757367235], [243231.0902761502, 582836.7508225691], [243219.25178753666, 582846.2099594924], [243199.38902682025, 582867.1795005943], [243147.84902682024, 582921.5595005943], [243147.49255876377, 582921.9002591363], [243147.1042571067, 582922.2042454557], [243146.6878990279, 582922.4685025455], [243146.24753462325, 582922.6904598621], [243145.78744750866, 582922.8679583304], [243145.3121131513, 582922.9992713457], [243144.82615533491, 582923.0831215691], [243144.3343011823, 582923.1186933533], [243143.84133517244, 582923.1056406758], [243143.35205259983, 582923.0440905059], [243142.87121292859, 582922.9346415688], [243142.40349349508, 582922.7783585218], [243141.95344400936, 582922.576761598], [243141.5254422983, 582922.3318118182], [243141.12365172044, 582922.0458919154], [243064.0484950689, 582861.2567683595], [243063.60352459233, 582860.9057916465], [243056.2145532156, 582855.0778142228], [243055.8449566069, 582854.7556846695], [243055.5086851877, 582854.3989065383], [243055.20897212843, 582854.0109101667], [243054.94869909945, 582853.5954260483], [243054.73036856452, 582853.1564489647], [243054.5560797202, 582852.6981995774], [243054.42750831268, 582852.2250838458], [243054.34589052567, 582851.7416506662], [243054.31201109497, 582851.2525481345], [243054.32619576325, 582850.7624788564], [243054.3883081483, 582850.276154732], [243054.49775105424, 582849.7982516533], [243054.65347221328, 582849.3333645456], [243054.85397440323, 582848.8859631887], [243055.09732984286, 582848.4603492413], [243055.381198727, 582848.0606148809], [243094.6125337877, 582798.189329188], [243051.15342200414, 582736.6266607576], [243016.3646316355, 582709.0587609421], [243015.98617261526, 582708.7264950514], [243015.64305797868, 582708.3578431853], [243015.33876871783, 582707.9565454182], [243015.07639193063, 582707.5266730259], [243014.85858950153, 582707.0725871817], [243014.68757109586, 582706.5988947107], [243014.5650717422, 582706.110401353], [243014.4923342301, 582705.6120630077], [243014.47009650155, 582705.1089354537], [243014.49858416436, 582704.606123058], [243014.57750820342, 582704.1087269903], [243014.70606791275, 582703.6217934699], [243014.8829590188, 582703.1502625709], [243015.10638691287, 582702.6989181035], [243015.3740848577, 582702.2723390809], [243042.1718411299, 582663.9967762474], [242963.61276033975, 582533.117720429], [242917.43264912494, 582507.7224127903], [242885.41455868082, 582490.1905535102], [242875.66255868084, 582484.8505535101], [242875.24588653396, 582484.5951617998], [242874.85613758393, 582484.3003120759], [242874.49703534576, 582483.968821222], [242874.17201054725, 582483.603856177], [242873.88416835316, 582483.2089036797], [242873.6362586996, 582482.7877369581], [242873.4306500223, 582482.3443796806], [242873.2693066292, 582481.883067516], [242873.1537699345, 582481.4082076673], [242873.0851437323, 582480.924336767], [242873.0640836516, 582480.436077536], [242873.09079089246, 582479.9480946193], [242873.16501030396, 582479.4650500224], [242873.2860328217, 582478.9915585716], [242873.45270224207, 582478.5321438265], [242873.66342626803, 582478.0911948627], [242901.53690923128, 582426.4191704722], [242885.1399318999, 582418.1100551774], [242882.90996383913, 582416.9800713618], [242882.88806668614, 582416.9689077706], [242867.4110343334, 582409.0304299359], [242862.0696501313, 582406.2997195952], [242823.9796501313, 582386.7797195952], [242823.56571592085, 582386.541986859], [242823.17633831906, 582386.2658646619], [242822.81506624405, 582385.9538696744], [242822.48519245064, 582385.6088455232], [242822.18972351923, 582385.2339368743], [242821.93135245272, 582384.8325607708], [242821.71243413174, 582384.4083754891], [242821.5349638512, 582383.9652471961], [242821.40055913484, 582383.5072147117], [242821.31044499224, 582383.0384526978], [242821.26544275397, 582382.5632336083], [242821.26596258552, 582382.0858887495], [242821.31199974896, 582381.6107688025], [242821.40313464613, 582381.1422041698], [242821.53853664303, 582380.6844655067], [242821.71697164045, 582380.2417247968], [242845.73772705885, 582327.9847363897], [242844.727629886, 582327.4898074971], [242817.25462988598, 582314.0258074971], [242816.83338839526, 582313.7935993933], [242816.436408871, 582313.5219889106], [242816.06736519985, 582313.2134896955], [242815.7296727333, 582312.8709567847], [242815.42645668, 582312.4975601832], [242815.16052318324, 582312.0967555272], [242814.9343333511, 582311.6722521035], [242814.74998047997, 582311.2279785211], [242814.60917068194, 582310.7680463548], [242814.51320709533, 582310.2967120922], [242814.4629778247, 582309.8183377436], [242814.45894772193, 582309.3373504723], [242814.50115408393, 582308.8582016228], [242814.58920630778, 582308.3853255261], [242814.72228950533, 582307.9230984612], [242814.89917204482, 582307.4757981547], [242815.41000134894, 582306.3461756231], [242820.27515933706, 582295.5828574023], [242801.6941440397, 582286.5069017821], [242775.3027904593, 582273.74108416], [242756.5203790257, 582264.6558851232], [242749.4743790257, 582261.2468851232], [242749.03035435703, 582261.0035784341], [242748.61321267742, 582260.7166135053], [242748.22723145853, 582260.3889329444], [242747.87636864523, 582260.0238968674], [242747.56422206978, 582259.6252484424], [242747.29399255864, 582259.197075507], [242747.06845111068, 582258.7437686501], [242746.88991048248, 582258.2699761898], [242746.76020147288, 582257.7805565089], [242746.68065414944, 582257.280528235], [242746.65208420967, 582256.7750187793], [242746.67478461665, 582256.269211758], [242746.74852259492, 582255.7682938387], [242746.8725420174, 582255.2774015551], [242747.04557115893, 582254.8015686354], [242782.53393576347, 582170.728338176], [242781.10806847806, 582167.6306597166], [242781.10585227137, 582167.6258383016], [242780.92429727325, 582167.23030777], [242724.90674482926, 582150.21414563], [242724.81535453518, 582150.1854253636], [242653.66196505097, 582127.0735579764], [242645.67954254735, 582124.7985181054], [242645.2201782367, 582124.643144347], [242644.77802571078, 582124.4440018892], [242644.3572439725, 582124.2029639182], [242643.96179100563, 582123.9222977007], [242643.59538654468, 582123.6046432569], [242643.26147708643, 582123.2529885279], [242642.96320347104, 582122.8706412708], [242642.70337133858, 582122.4611979442], [242642.4844247384, 582122.02850988], [242642.30842313982, 582121.5766470557], [242642.1770220602, 582121.1098598118], [242642.09145749258, 582120.6325388722], [242642.05253427985, 582120.1491740429], [242642.06061854394, 582119.6643119807], [242642.11563424213, 582119.1825134256], [242642.21706388236, 582118.7083103016], [242642.36395339068, 582118.246163088], [242642.5549210858, 582117.8004188631], [242642.78817067534, 582117.375270414], [242643.0615081523, 582116.9747167992], [242650.1424507262, 582107.608338967], [242651.12005896505, 582105.9599630315], [242657.29975104117, 582088.5108482401], [242660.14013990358, 582080.2686484162], [242629.63146675337, 582069.8307874745], [242629.61795103786, 582069.8261417864], [242626.83795103786, 582068.8661417864], [242626.38010544976, 582068.6822836513], [242625.94260928163, 582068.4541970466], [242625.5297224581, 582068.1841028642], [242625.1454652812, 582067.8746310264], [242624.79357928457, 582067.5287948777], [242624.4774908018, 582067.149961844], [242624.20027760408, 582066.7418206437], [242623.96463893182, 582066.3083453705], [242623.77286921194, 582065.8537567972], [242623.6268357169, 582065.3824812783], [242623.52796038298, 582064.8991076498], [242623.47720596488, 582064.4083425477], [242623.47506666117, 582063.9149645793], [242623.52156330238, 582063.4237777932], [242623.61624314808, 582062.9395649029], [242623.75818429538, 582062.4670407161], [242625.2718478588, 582058.2038743508], [242612.63481179147, 582053.4874250456], [242590.57194726053, 582045.2544755971], [242590.54002336212, 582045.2424386747], [242589.2800233621, 582044.7624386747], [242588.83976362343, 582044.5700167893], [242588.42000597547, 582044.3362255652], [242588.02462654124, 582044.0632238756], [242587.6572763307, 582043.7535326708], [242587.3213475265, 582043.4100116991], [242587.01994215997, 582043.0358330994], [242586.7558434664, 582042.6344521089], [242586.531490184, 582042.209575157], [242586.34895403424, 582041.7651256396], [242586.20992059112, 582041.3052076891], [242586.1156737163, 582040.8340682766], [242586.0670837035, 582040.3560579941], [242586.06459924235, 582039.8755908808], [242586.1082432748, 582039.3971036626], [242586.19761278344, 582038.9250147828], [242586.331882513, 582038.4636836011], [242586.50981259093, 582038.0173701386], [242593.39948656852, 582022.8919932587], [242599.43638279743, 582008.9186173088], [242606.06316267885, 581992.9804132867], [242606.0835919504, 581992.9319977029], [242607.3462206815, 581989.9830393243], [242606.43723335207, 581989.2935820973], [242594.33936631272, 581980.1166829552], [242579.16238616462, 581968.6056980094], [242574.45188188425, 581965.0328054678], [242558.77378840555, 581960.690424016], [242554.72478840555, 581959.568424016], [242554.66963442886, 581959.5527995564], [242523.64963442888, 581950.5727995564], [242523.19496496976, 581950.4171330665], [242522.7573404146, 581950.2185351766], [242522.3408036506, 581949.9788405848], [242521.94920275055, 581949.7002636505], [242521.58615542343, 581949.3853779389], [242521.25501559296, 581949.0370924441], [242520.95884241335, 581948.6586247166], [242520.70037200794, 581948.2534711375], [242520.4819921922, 581947.8253746189], [242520.3057204145, 581947.3782900256], [242520.17318511853, 581946.916347639], [242520.0856106991, 581946.4438150008], [242520.04380619107, 581945.9650574878], [242520.04815779507, 581945.484497984], [242520.09862530994, 581945.0065760206], [242520.19474250387, 581944.5357067626], [242523.1087612066, 581933.0966333466], [242525.9327567451, 581922.0116508591], [242527.9036819775, 581914.2749443534], [242528.93461297202, 581910.2262153554], [242528.94135722518, 581910.2000253582], [242529.8303038858, 581906.7862301958], [242531.30125051292, 581901.1354352335], [242531.3167168461, 581901.077740075], [242533.4083197674, 581893.0391692151], [242534.87131976738, 581887.4201692152], [242534.8755128294, 581887.4041732887], [242535.47431619218, 581885.1351329833], [242535.53307135336, 581884.9130583911], [242537.02475413645, 581879.2662592229], [242538.81568141645, 581872.4835346332], [242538.8601027901, 581872.3258156609], [242539.06602905472, 581871.6380619227], [242540.6199554255, 581866.446307922], [242540.72713222288, 581866.1276446187], [242541.7284784707, 581863.4517196094], [242542.79747847072, 581860.5967196095], [242542.82452373515, 581860.5261193166], [242544.970460708, 581855.0485906964], [242547.93031877335, 581846.266701585], [242551.50323721365, 581834.0967581248], [242551.56499999994, 581833.8850000002], [242551.56725680767, 581833.8772854478], [242552.86339568638, 581829.4598122108], [242555.37149809705, 581820.9148702393], [242562.13060441555, 581797.7779293798], [242562.1792754331, 581797.620956675], [242563.7892074343, 581792.7151638812], [242565.9720288459, 581786.0617031736], [242569.46527622073, 581741.3994505868], [242573.01566647043, 581696.0845324235], [242571.69909232133, 581701.0358672298], [242571.54528071443, 581701.5155649767], [242571.34398120135, 581701.977351123], [242571.09723711663, 581702.4165382078], [242570.80755308972, 581702.8286681672], [242570.4778696214, 581703.2095575862], [242570.11153323544, 581703.5553401641], [242569.712262509, 581703.8625059596], [242569.2841103265, 581704.1279370192], [242568.83142273975, 581704.3489390274], [242568.3587948526, 581704.5232686553], [242567.87102417726, 581704.6491563319], [242567.37306193612, 581704.7253242071], [242566.86996280315, 581704.7509991223], [242566.36683359565, 581704.7259204586], [242565.868781436, 581704.6503427824], [242521.0144114822, 581695.5114711513], [242477.7083866575, 581686.6996695776], [242430.9372025733, 581677.1896464225], [242430.39051322904, 581679.9582477079], [242429.1606330304, 581686.4128744438], [242429.0480163249, 581686.880368203], [242428.89101199378, 581687.3348817641], [242428.69107221992, 581687.7722111869], [242428.4500463098, 581688.1883114729], [242428.17016358857, 581688.5793339781], [242427.85401278036, 581688.9416620114], [242427.5045180644, 581689.2719442857], [242427.1249120283, 581689.5671259155], [242426.71870576873, 581689.8244766722], [242426.28965641643, 581690.0416162369], [242425.84173238502, 581690.2165362167], [242425.3790766661, 581690.3476187213], [242424.90596850932, 581690.433651327], [242424.42678384224, 581690.4738382909], [242423.94595479593, 581690.467807911], [242423.46792871095, 581690.4156159641], [242358.98092871092, 581680.2166159642], [242358.49098787506, 581680.1137551819], [242358.01378880168, 581679.9624164639], [242357.55411536118, 581679.7641169649], [242357.1165757313, 581679.5208446165], [242356.70555620073, 581679.2350381982], [242356.32517719685, 581678.9095628895], [242355.9792519791, 581678.5476815457], [242355.67124841126, 581678.1530219894], [242355.40425419668, 581677.7295406408], [242355.1809459241, 581677.281482856], [242355.0035622355, 581676.8133403667], [242354.8738813836, 581676.3298062523], [242354.79320340528, 581675.8357278911], [242354.76233708873, 581675.3360583666], [242354.78159186555, 581674.8358068131], [242354.85077470864, 581674.3399881996], [242355.63086193232, 581670.2556215628], [242344.20050186114, 581667.6836153421], [242332.3206084282, 581665.8088813286], [242331.86302033463, 581665.7145723555], [242331.41623260966, 581665.5779642495], [242330.98414626496, 581665.4002497692], [242330.5705339509, 581665.1829805827], [242330.17900701662, 581664.9280537196], [242329.81298397848, 581664.6376950081], [242329.4756606721, 581664.3144396404], [242329.1699823489, 581663.9611100372], [242325.49189816698, 581659.2848171898], [242323.9329551749, 581658.1256604377], [242323.6040154894, 581657.8811715847], [242320.76761902124, 581657.459453165], [242302.0334231997, 581655.3899780452], [242284.44614823163, 581654.1067436159], [242283.9341020153, 581654.042682472], [242276.6841020153, 581652.752682472], [242276.25652977583, 581652.6571073506], [242275.83896571753, 581652.5244691924], [242275.43461594108, 581652.355786407], [242272.04474975076, 581650.7638492463], [242268.4119317857, 581649.0580800435], [242260.77308033456, 581647.4875619228], [242260.27024677227, 581647.3566177937], [242248.02024677227, 581643.4766177937], [242247.56396236378, 581643.3072487438], [242247.12630666018, 581643.0943195969], [242246.71142656024, 581642.8398479106], [242246.323253158, 581642.5462448685], [242245.96546449492, 581642.216292434], [242245.6414507092, 581641.85311699], [242245.35428191358, 581641.4601597158], [242245.1066791052, 581641.0411439813], [242244.90098838345, 581640.6000400668], [242244.73915872004, 581640.1410275435], [242244.622723492, 581639.6684556715], [242244.55278595272, 581639.1868021891], [242244.53000877803, 581638.7006308851], [242244.5546077875, 581638.2145483559], [242248.11176542877, 581602.4930917054], [242249.34925074741, 581588.4316657862], [242249.35965129687, 581588.3262778565], [242251.52463192685, 581568.5354549245], [242251.61811744483, 581567.6803084495], [242255.77318662297, 581527.6335396188], [242252.13139543054, 581520.5509390878], [242252.08671008286, 581520.4929313648], [242250.59871008285, 581518.5609313648], [242250.30837647826, 581518.1412919696], [242250.0623262237, 581517.6942460032], [242249.8631220884, 581517.224449732], [242248.9031220884, 581514.594449732], [242248.76096849862, 581514.1384808812], [242248.6629691813, 581513.671028884], [242248.61001834203, 581513.1963590572], [242248.60259913647, 581512.7188025775], [242248.64077926197, 581512.2427169613], [242249.19077926196, 581507.9627169613], [242249.20515856965, 581507.8593629575], [242249.85754323687, 581503.5037359146], [242169.3057166784, 581496.9923526804], [242169.2655232135, 581497.9415368136], [242169.25733263133, 581498.0856869754], [242167.92033263133, 581516.8326869754], [242167.86371959015, 581517.3064602602], [242167.76220422878, 581517.7726799437], [242167.6167110118, 581518.227100328], [242167.4285648944, 581518.6655831672], [242167.19947925684, 581519.0841353533], [242166.93154030098, 581519.4789452795], [242166.6271880522, 581519.8464175513], [242166.2891941388, 581520.1832057285], [242165.92063655192, 581520.4862428005], [242165.52487161514, 581520.7527691156], [242165.10550341985, 581520.9803575131], [242164.66635100398, 581521.1669354256], [242164.21141357327, 581521.3108037543], [242163.7448340821, 581521.4106523411], [242163.27086150498, 581521.4655719001], [242162.79381214257, 581521.4750622985], [242143.51085540702, 581520.9380635034], [242082.0708937107, 581519.2280645694], [242081.58542996593, 581519.1908378599], [242081.10588866592, 581519.1065703278], [242080.63681702988, 581518.9760610344], [242080.1826629991, 581518.8005475258], [242079.74773305972, 581518.5816940971], [242079.33615140658, 581518.321576012], [242078.95182083597, 581518.0226598233], [242078.59838573754, 581517.6877799842], [242078.27919753667, 581517.3201119711], [242077.99728291473, 581516.9231421722], [242077.75531510878, 581516.5006348275], [242077.55558856283, 581516.0565963357], [242077.39999717087, 581515.5952372628], [242077.29001631815, 581515.1209324163], [242077.22668889098, 581514.638179361], [242077.21061538756, 581514.1515557715], [242078.36409840762, 581440.6381135432], [242068.38526099914, 581440.2331282587], [242068.05915404847, 581440.5403944491], [242067.6774715844, 581440.8360476941], [242067.2690536933, 581441.0935106446], [242066.8377083386, 581441.310382795], [242066.38745725225, 581441.4846420957], [242065.92249843752, 581441.6146638065], [242065.44716702803, 581441.6992356445], [242064.96589486828, 581441.7375690881], [242064.4831691925, 581441.7293067278], [242064.0034907871, 581441.6745255992], [242063.53133202664, 581441.5737364651], [242063.0710951748, 581441.4278790522], [242062.62707133908, 581441.2383132908], [242062.20340046176, 581441.0068066334], [242061.80403272036, 581440.7355175777], [242061.43269169738, 581440.4269755395], [242050.76459568003, 581430.6548875843], [242044.4911328192, 581424.9080292701], [242031.1766096961, 581424.6883396386], [242029.68416835528, 581449.7650495735], [242029.63040201642, 581450.256708646], [242029.52832429242, 581450.740650379], [242029.3789339912, 581451.21213951], [242029.18369286376, 581451.6665626221], [242028.94451130132, 581452.099473286], [242028.66372964246, 581452.5066355666], [242028.34409527355, 581452.8840654712], [242027.98873574607, 581453.2280699319], [242027.60112817428, 581453.535282941], [242027.18506521243, 581453.8026984874], [242026.74461794444, 581454.0276999692], [242026.28409604932, 581454.2080857969], [242025.80800563173, 581454.3420909349], [242025.32100513103, 581454.4284041725], [242024.8278597392, 581454.4661809541], [241987.20990205873, 581455.4811798123], [241979.31993182874, 581455.6941790086], [241979.30252176445, 581455.6946186727], [241941.30338481386, 581456.5880106104], [241913.86924018603, 581457.5171349552], [241913.3885954204, 581457.5102932968], [241912.9108288577, 581457.4573281143], [241912.44035632603, 581457.3587289462], [241911.98152623742, 581457.2154071098], [241911.5385793968, 581457.0286872786], [241911.11560980591, 581456.800295238], [241910.7165268238, 581456.5323419354], [241910.3450190339, 581456.2273039689], [241910.00452015203, 581455.8880006968], [241909.69817728942, 581455.5175681799], [241909.42882186535, 581455.1194301957], [241909.19894343714, 581454.6972665932], [241909.01066669018, 581454.254979282], [241908.86573180015, 581453.7966561683], [241908.76547834926, 581453.3265333709], [241908.71083294484, 581452.8489560696], [241907.63083294482, 581436.4689560696], [241907.6214583476, 581436.2607532582], [241906.7960812045, 581402.0945362155], [241906.78780635732, 581401.8544983504], [241906.7474056374, 581400.6491717295], [241838.15273821077, 581400.9199610401], [241837.64811008796, 581400.8964326353], [241837.14843178203, 581400.8221041834], [241836.65880407166, 581400.6977344386], [241836.18422513778, 581400.5245929827], [241835.72953954156, 581400.3044472656], [241835.29938877042, 581400.0395445622], [241834.8981638573, 581399.7325890324], [241834.52996055628, 581399.3867141168], [241834.19853753273, 581399.0054505495], [241833.90727799435, 581398.5926903171], [241833.65915515498, 581398.1526469275], [241833.45670188358, 581397.6898123986], [241833.30198484848, 581397.2089114034], [241833.19658342053, 581396.7148530392], [241833.1415735507, 581396.2126807158], [241831.5012863987, 581368.2389460849], [241831.17379092006, 581364.0000824017], [241821.0755855877, 581361.7794190606], [241820.45617882884, 581361.6433296113], [241818.55205828306, 581361.2246224756], [241788.9589656022, 581354.7919065625], [241762.93798430092, 581349.135910627], [241762.72399788993, 581349.0785150127], [241744.0629784438, 581346.2047452576], [241744.0363128172, 581346.2005650783], [241715.90478998257, 581341.7127579065], [241689.15827072485, 581337.5289280833], [241688.6772885245, 581337.4292693661], [241688.20840593055, 581337.2828970667], [241687.75614814274, 581337.0912238281], [241687.32487991432, 581336.8560994948], [241686.91876342765, 581336.5797932586], [241686.54171812496, 581336.2649717588], [241686.19738288157, 581335.9146733473], [241685.88908088702, 581335.5322787643], [241685.619787573, 581335.1214785111], [241685.3921018972, 581334.6862372332], [241685.20822126078, 581334.230755457], [241685.0699203012, 581333.7594290504], [241684.9785337651, 581333.2768067985], [241684.9349436266, 581332.787546503], [241684.93957057546, 581332.2963700293], [241684.99236995683, 581331.8080177361], [241691.75955604247, 581289.014947965], [241691.54020110168, 581288.9052704946], [241683.37973927282, 581286.69304181], [241678.97419981434, 581285.972815614], [241670.4455683298, 581284.7586027032], [241669.68209133844, 581284.7123313705], [241658.07667143416, 581284.12357834], [241658.03993245575, 581284.1215789906], [241653.82462503394, 581283.8766216586], [241653.74524425462, 581284.0100065505], [241653.44740406593, 581284.4125377039], [241653.11079540398, 581284.7832595892], [241652.73879432047, 581285.1184540124], [241652.33513183906, 581285.4147591062], [241651.90385653471, 581285.6692030478], [241651.4492939281, 581285.879233865], [241650.9760031023, 581286.0427450319], [241650.48873097694, 581286.1580965961], [241649.9923646987, 581286.2241316272], [241649.4918826249, 581286.2401878199], [241648.9923043927, 581286.206104137], [241605.64869461424, 581281.0582692508], [241604.1594770789, 581280.8822432741], [241565.20373444768, 581276.2648768773], [241561.62225337038, 581298.2930438251], [241561.3853105246, 581299.7516919769], [241561.38047723754, 581299.780899639], [241554.93567854367, 581338.0237051081], [241547.43087927156, 581382.6885104763], [241547.32599407766, 581383.1675860056], [241547.1746800667, 581383.6340818115], [241546.97839296577, 581384.0835099379], [241546.73902116885, 581384.5115466298], [241546.45886756916, 581384.91407393], [241546.14062740427, 581385.2872192961], [241545.78736232614, 581385.6273928566], [241545.40247094643, 581385.9313219481], [241544.98965613986, 581386.196082599], [241544.55288942045, 581386.4191276608], [241544.0963727333, 581386.5983113127], [241543.62449802944, 581386.7319097058], [241543.14180501283, 581386.8186375473], [241542.65293746573, 581386.8576604658], [241542.1625985729, 581386.8486030386], [241541.6755056744, 581386.7915524034], [241522.79769811415, 581383.6354173213], [241496.54470657877, 581379.2418237536], [241482.46335646493, 581377.4918293754], [241482.20549007787, 581377.4529292496], [241451.54099254133, 581372.0056831096], [241434.08651205184, 581369.0183392823], [241433.3754274053, 581368.8421893952], [241429.6154274053, 581367.6121893952], [241429.1991561323, 581367.4551903604], [241428.79848846135, 581367.2618101983], [241428.41659656615, 581367.0335799417], [241425.53859838116, 581365.1349005835], [241419.130601371, 581360.9162192446], [241418.81616080704, 581360.691314895], [241404.43067056322, 581349.536843538], [241394.37790477867, 581342.408698963], [241394.00094495714, 581342.1132894584], [241393.65397747105, 581341.7831697135], [241393.34018561506, 581341.421368451], [241393.06244830994, 581341.0312050598], [241392.82331368976, 581340.6162591407], [241392.62497572362, 581340.1803376642], [241392.4692540868, 581339.7274400442], [241392.35757746611, 581339.2617214437], [241392.290970452, 581338.7874546538], [241392.27004413845, 581338.3089908914], [241392.29499051644, 581337.8307198797], [241410.1064820712, 581160.3505122721], [241390.36598123884, 581159.0288306713], [241374.08598123884, 581157.9388306712], [241373.589280764, 581157.8805076362], [241373.1008912343, 581157.772857251], [241372.6256987514, 581157.616956506], [241372.16845738675, 581157.4143651128], [241371.73374161965, 581157.1671099006], [241371.3259005716, 581156.8776645384], [241370.9490144955, 581156.5489247877], [241370.6068539547, 581156.1841795307], [241370.30284210035, 581155.787077868], [241370.04002042435, 581155.36159261], [241369.82101833078, 581154.9119805315], [241369.64802682993, 581154.4427397844], [241369.52277661828, 581153.9585648959], [241369.44652076377, 581153.4642998023], [241369.42002216945, 581152.9648893873], [241369.44354594097, 581152.4653300111], [241370.71131720438, 581139.4482140468], [241374.3119805342, 581098.5857243494], [241357.74583391356, 581092.025200613], [241344.3883929618, 581087.1747332283], [241343.92456035112, 581086.9793525317], [241343.4827198771, 581086.7383311576], [241343.06734852027, 581086.4541112722], [241342.68265506095, 581086.1295727544], [241342.3325374334, 581085.7680040138], [241342.02054322977, 581085.3730686719], [241341.74983375394, 581084.9487684398], [241341.5231519892, 581084.4994025702], [241341.34279480495, 581084.0295242951], [241341.21058968338, 581083.5438946902], [241341.12787620243, 581083.0474344327], [241341.09549246245, 581082.5451739418], [241341.11376659403, 581082.0422024084], [241341.85976409592, 581073.45623116], [241342.4117425031, 581067.1024797123], [241342.8287448586, 581062.2974526427], [241351.5287448586, 580962.1074526428], [241351.59659065047, 580961.6134965926], [241351.71329452624, 580961.1287535304], [241351.87769600292, 580960.6580436566], [241352.08816030103, 580960.2060476276], [241352.3425946003, 580959.7772600133], [241352.63846885058, 580959.3759446024], [241352.97284093002, 580959.0060920055], [241353.34238590105, 580958.6713799721], [241353.74342907313, 580958.3751368203], [241354.171982543, 580958.12030834], [241354.62378484986, 580957.909428501], [241355.09434335053, 580957.7445942559], [241355.57897889352, 580957.6274446874], [241356.0728723477, 580957.5591447104], [241356.57111252286, 580957.540373488], [241433.71811252285, 580958.483373488], [241434.1757291064, 580958.5099807848], [241434.62898585718, 580958.5783854899], [241534.02709025942, 580978.2768860566], [241566.0806369631, 580801.9376469874], [241568.20113891095, 580790.2738869803], [241568.22766846928, 580790.1251319567], [241568.23069857448, 580790.108308162], [241569.42069857448, 580783.5653081619], [241569.53221822574, 580783.0869616134], [241569.69013336595, 580782.621864998], [241569.89292010103, 580782.1745065363], [241570.13862152238, 580781.7492032743], [241570.42486659106, 580781.3500594234], [241570.74889301867, 580780.9809267543], [241571.10757392357, 580780.6453674278], [241571.4974480056, 580780.3466196189], [241571.91475294778, 580780.0875662685], [241572.3554617232, 580779.8707072628], [241572.78478528524, 580779.7095946437], [241574.74624698263, 580767.4490125293], [241574.4096800227, 580767.2170794354], [241574.04447313063, 580766.9102039833], [241573.71017213629, 580766.5699225377], [241573.4098198288, 580766.1993323213], [241573.14614999836, 580765.8018064258], [241572.92156255306, 580765.3809631099], [241572.7381016755, 580764.9406328662], [241572.59743721635, 580764.4848235564], [241572.50084949582, 580764.0176839313], [241572.44921764993, 580763.5434658701], [241572.44301162893, 580763.0664856792], [241572.48228791967, 580762.5910848062], [241573.23228791967, 580756.8610848063], [241573.2419862682, 580756.7908615503], [241584.19903661133, 580681.4011565889], [241594.7362535371, 580604.4714751433], [241594.76450674437, 580604.290048729], [241597.22152038105, 580590.2171535499], [241607.6352940262, 580528.0243383925], [241608.96174013548, 580519.6866771342], [241612.1513838601, 580499.5189298223], [241612.16084803414, 580499.4612742418], [241627.51973304, 580409.19782701], [241645.235645095, 580303.3817029205], [241647.10033213499, 580286.5300897241], [241647.13155122456, 580286.29787233], [241647.4644662628, 580284.1958064832], [241647.71079990081, 580282.1709072125], [241647.88457581223, 580280.1389243332], [241647.98567711428, 580278.102192648], [241648.01323814812, 580276.0645135468], [241647.96727792628, 580274.0247989009], [241647.84865522012, 580271.9889022232], [241647.65752400525, 580269.9590519652], [241647.40844179885, 580268.0563406664], [241646.95921195336, 580265.9868943724], [241646.41122655192, 580263.8098639341], [241645.79243289406, 580261.6524733948], [241645.1030609976, 580259.5163520995], [241644.3437335712, 580257.4051423471], [241643.51478324924, 580255.317381075], [241642.6192481456, 580253.2588617784], [241641.6560009371, 580251.2317574016], [241640.62733144217, 580249.2377784894], [241639.53234819154, 580247.2770595453], [241638.3744468793, 580245.3537500387], [241637.15496899074, 580243.470034003], [241635.8730574099, 580241.6272861054], [241634.53193183878, 580239.8276242029], [241633.13225728954, 580238.0729057101], [241631.67534266654, 580236.364316776], [241630.16368527486, 580234.7044759532], [241628.59835864892, 580233.0953574515], [241626.92258965585, 580231.4823694293], [241626.65060360185, 580231.1991737793], [241626.40167858335, 580230.8955086267], [241624.97267858335, 580229.0055086267], [241624.88465256378, 580228.8854087067], [241623.51165256376, 580226.9524087068], [241623.4270994145, 580226.8295270635], [241622.1130994145, 580224.8575270635], [241622.03128463685, 580224.7306315592], [241620.77728463683, 580222.7196315592], [241620.7010289725, 580222.5932239408], [241619.5070289725, 580220.5462239408], [241619.43330087588, 580220.4153455372], [241618.30130087587, 580218.3333455372], [241618.23246116957, 580218.2021378479], [241617.1624611696, 580216.0871378479], [241617.09675599297, 580215.9522774796], [241616.09075599295, 580213.8062774796], [241616.0298371581, 580213.671149148], [241615.08783715812, 580211.496149148], [241615.03013260596, 580211.3572197263], [241614.15413260594, 580209.1552197264], [241614.1011561031, 580209.016054134], [241613.2911561031, 580206.7890541339], [241613.12800081738, 580206.2466035952], [241613.0272487533, 580205.6891798283], [241612.9901930524, 580205.1239373058], [241612.68666096497, 580170.5837712415], [241599.05220054789, 580168.152343763], [241598.56505750332, 580168.0400864837], [241598.0915589723, 580167.8797456477], [241597.63643823625, 580167.6729240862], [241597.20424486496, 580167.4216892709], [241596.79929923694, 580167.1285526458], [241596.42564935138, 580166.7964445224], [241596.0870303626, 580166.4286847869], [241587.6470303626, 580156.2886847869], [241587.63832674903, 580156.2781990477], [241582.2561963571, 580149.7760304711], [241574.2657806281, 580140.6923986598], [241574.16755901504, 580140.5772713185], [241566.11755901505, 580130.8472713185], [241565.89462733752, 580130.5567805686], [241565.47006011158, 580129.9594727556], [241544.12241356177, 580131.3395941212], [241493.0838481014, 580134.6375629095], [241475.9052545388, 580135.9651357996], [241475.71550875047, 580135.9761761706], [241440.70550875049, 580137.3461761706], [241440.41383386927, 580137.3490751219], [241421.23180478325, 580136.9800745624], [241317.24380478324, 580134.9790745623], [241317.18641397252, 580134.9776405765], [241296.68641397252, 580134.3476405765], [241296.60856728043, 580134.3446410177], [241278.04856728044, 580133.4846410177], [241278.0048052988, 580133.4824210436], [241260.04480529882, 580132.4924210436], [241259.99844480917, 580132.4896495127], [241241.99844480917, 580131.3296495127], [241241.99309095484, 580131.329301602], [241191.32309095483, 580128.009301602], [241191.2987572118, 580128.0076475922], [241164.31875721182, 580126.1076475922], [241164.30933137334, 580126.1069748487], [241138.72933137332, 580124.2569748487], [241138.62284422637, 580124.248128713], [241128.40881836406, 580123.2896277524], [241102.21480177355, 580121.0010242425], [241102.17368362803, 580120.9972605632], [241051.6022770582, 580116.1576527916], [241012.54122040825, 580114.1332988217], [241011.9927281515, 580114.074400892], [240986.7119759237, 580109.9384500382], [240981.5208411234, 580109.6623258468], [240977.77750829738, 580109.7278341713], [240973.52712146664, 580109.938438924], [240967.51135596097, 580110.5021132365], [240962.04659664351, 580111.1582760935], [240953.742982462, 580112.3271832372], [240953.2544071144, 580112.3716547594], [240952.76382535993, 580112.3680313975], [240952.27596019764, 580112.3163480347], [240951.795508473, 580112.2171022445], [240951.3270956598, 580112.0712495003], [240950.87523132906, 580111.8801939765], [240950.4442657339, 580111.6457750303], [240950.03834792812, 580111.3702494933], [240949.66138582185, 580111.0562699446], [240949.31700855875, 580110.7068591731], [240949.008531577, 580110.3253810764], [240948.73892469052, 580109.915508275], [240948.51078349736, 580109.4811867552], [240948.32630439114, 580109.0265978795], [240948.18726341557, 580108.556118131], [240948.12459907343, 580108.228859644], [240914.38871475265, 580113.0680832062], [240912.36413460548, 580113.3658155808], [240891.087715373, 580116.5532941176], [240868.27867589504, 580120.6994883034], [240849.43228335038, 580124.558039198], [240830.35583874965, 580129.2774721071], [240815.28484111588, 580133.1715563083], [240782.0811749683, 580143.440629316], [240765.04825445218, 580150.4305079371], [240747.68598875354, 580158.5401867065], [240747.5906078685, 580158.583526412], [240739.1706078685, 580162.303526412], [240738.9288533656, 580162.4028664333], [240726.8188533656, 580167.0128664332], [240726.63648133233, 580167.0782747235], [240717.37648133232, 580170.1982747235], [240717.2093808821, 580170.2513328306], [240693.3093808821, 580177.3813328306], [240693.02577723315, 580177.4569492016], [240674.33577723315, 580181.8569492017], [240674.28277044484, 580181.8691241791], [240664.1229250479, 580184.1446101816], [240648.32417066474, 580187.8203607284], [240639.07735140927, 580190.1370369506], [240606.56938608558, 580198.4558083405], [240588.8777390066, 580203.848396516], [240582.37603786946, 580206.070131668], [240572.41988186975, 580210.3384446406], [240559.392351437, 580216.6758974149], [240545.33644756555, 580224.8392844823], [240537.00228023977, 580230.4602281397], [240510.869642058, 580249.9137283007], [240510.4465647698, 580250.196397466], [240509.9969499454, 580250.4346048513], [240509.52545372842, 580250.6258836169], [240509.0369588629, 580250.7682529083], [240508.5365241284, 580250.8602383705], [240508.02933195196, 580250.9008874161], [240507.5206347396, 580250.8897790896], [240507.01570048337, 580250.827028427], [240506.51975820665, 580250.7132852649], [240506.03794381322, 580250.5497275104], [240505.5752469007, 580250.338048943], [240505.13645908883, 580250.0804416742], [240504.72612439832, 580249.7795734464], [240498.7316044408, 580244.8964083059], [240360.44266544897, 580132.6580089126], [240332.7462553718, 580110.4047141485], [240297.25226377352, 580081.8859172091], [240232.9122775334, 580030.1629282706], [240148.40791984316, 579962.2306406982], [240145.73915671388, 579960.0848311533], [240137.7789806903, 579953.6860708828], [240128.4220199572, 579955.398329399], [240127.93599328166, 579955.4628314804], [240127.44598593737, 579955.4794221529], [240126.95670949097, 579955.4479418918], [240126.4728684812, 579955.3686933895], [240125.99911518357, 579955.2424386438], [240125.5400048771, 579955.0703916317], [240125.09995204423, 579954.8542066365], [240124.68318792398, 579954.5959623415], [240124.29371982758, 579954.2981418424], [240115.0824281084, 579946.5098951716], [240111.92776799822, 579943.8421825966], [240110.23374804432, 579942.4101656997], [240024.7138886346, 579870.1032845685], [240020.97602921727, 579866.9434034132], [240020.5338027064, 579866.5205341002], [240008.49241831744, 579853.5051276602], [239996.59686603697, 579843.7614707171], [239939.70905730713, 579797.3698886666], [239939.4141837189, 579797.1094493999], [239939.14069945723, 579796.8266324921], [239932.86396898594, 579789.8025871696], [239931.9736101912, 579789.42949321], [239931.5253106672, 579789.2148532271], [239929.1853106672, 579787.9478532271], [239928.8333701589, 579787.7382107843], [239928.49977238197, 579787.5004617601], [239924.56477238197, 579784.4454617602], [239924.54399823424, 579784.4292454917], [239924.21055751786, 579784.1675426171], [239893.91155751786, 579760.3445426171], [239893.59032781827, 579760.0692008049], [239893.2935259144, 579759.7676875162], [239888.64479479817, 579754.6271671808], [239879.89258213967, 579749.0047728376], [239879.51100481, 579748.7336033422], [239879.15645982735, 579748.4279368425], [239871.05557953508, 579740.7541938748], [239824.94178305176, 579703.7517437468], [239824.92489415754, 579703.738131499], [239805.43189415755, 579687.9571314991], [239805.05882589938, 579687.6228183581], [239804.72108243534, 579687.2528527463], [239804.42205396952, 579686.8509483073], [239804.16474209222, 579686.4211392809], [239803.95172965075, 579685.9677400073], [239803.78515482304, 579685.4953016217], [239803.66668965528, 579685.0085663698], [239803.59752327806, 579684.5124200067], [239803.57834997022, 579684.0118427541], [239803.60936218975, 579683.5118593108], [239803.6902486419, 579683.0174884142], [239803.820197404, 579682.5336924648], [239803.9979040754, 579682.0653277134], [239804.2215848705, 579681.6170955154], [239804.48899452455, 579681.1934951396], [239804.7974488307, 579680.7987786053], [239808.8464488307, 579676.1207786053], [239809.03304201557, 579675.9168719808], [239817.31241408514, 579667.3568548609], [239788.47431105285, 579643.6932799668], [239766.09927295445, 579625.3332487046], [239746.76559579288, 579609.4685136178], [239745.81991793934, 579608.6927778732], [239745.80249921855, 579608.6784234728], [239728.4255589406, 579594.2924729151], [239709.09661908244, 579578.291522702], [239708.74129812256, 579577.9673470205], [239708.41876956736, 579577.6105302776], [239708.13201800393, 579577.2243743534], [239707.88369694928, 579576.8124526244], [239707.6761042955, 579576.3785768969], [239707.51116104572, 579575.9267621324], [239707.39039353764, 579575.4611892961], [239707.31491931927, 579574.9861666658], [239707.28543680743, 579574.5060899652], [239707.30221882492, 579574.025401687], [239707.36511007568, 579573.5485499831], [239707.4735285821, 579573.0799475029], [239707.62647107025, 579572.62393056], [239707.8225222541, 579572.1847190048], [239708.05986793197, 579571.7663771755], [239708.3363117748, 579571.3727762878], [239708.91508831643, 579570.6276698563], [239627.88275219072, 579505.6093237372], [239607.59873896244, 579489.36592671], [239505.81294510074, 579409.1419116581], [239505.4389866159, 579408.8158257582], [239505.09918777816, 579408.4542822443], [239504.79689461336, 579408.060841264], [239504.53508382602, 579407.6393770613], [239504.3163334875, 579407.1940398273], [239504.14279764963, 579406.7292148329], [239504.01618513337, 579406.2494792461], [239503.93774270208, 579405.7595570609], [239503.90824278462, 579405.2642725796], [239503.9279758689, 579404.7685029074], [239503.99674764174, 579404.2771299271], [239504.11388090212, 579403.794992227], [239504.27822222956, 579403.3268374549], [239504.4881533422, 579402.8772755676], [239504.74160703178, 579402.4507334364], [239507.92160703178, 579397.6577334364], [239508.1799135945, 579397.3032084637], [239508.46829839042, 579396.9726869876], [239508.78454189206, 579396.6687128368], [239513.06225861775, 579392.9036777125], [239524.6023654285, 579379.8337389268], [239527.45009935097, 579375.8879705963], [239528.98841575976, 579372.1028920097], [239529.7103106041, 579368.9997116193], [239524.58133669986, 579365.3161667282], [239524.5738823034, 579365.3108027191], [239508.1848823034, 579353.4948027191], [239507.98874076636, 579353.3459146798], [239408.42996881902, 579273.8332549669], [239405.97880063506, 579274.7916817636], [239405.52255347095, 579274.9451968593], [239405.05365807735, 579275.0541255939], [239404.5764607087, 579275.1174582924], [239404.09538457147, 579275.1346079154], [239403.6148888251, 579275.1054155009], [239403.13942724917, 579275.0301516373], [239402.67340696094, 579274.9095139552], [239402.22114756508, 579274.7446206618], [239401.78684111472, 579274.537000175], [239401.37451325468, 579274.2885769571], [239400.9879859073, 579274.0016536763], [239400.63084184652, 579273.678889863], [239400.30639148862, 579273.3232772582], [239400.0176422076, 579272.9381120831], [239399.76727045927, 579272.5269644855], [239399.55759697309, 579272.0936454477], [239399.39056524073, 579271.6421714621], [239391.72356524074, 579247.3901714621], [239391.65086866633, 579247.1372442637], [239391.38072717987, 579246.0947676814], [239382.68013581203, 579244.5211770016], [239382.29993869952, 579244.4370049931], [239381.92744500522, 579244.3235007242], [239359.11971448822, 579236.3906376355], [239337.2790840042, 579229.0654817398], [239337.12550212516, 579229.0111727625], [239290.57551591843, 579211.6921778944], [239255.80803539118, 579198.7569990869], [239254.83803539118, 579198.3959990869], [239254.82334269112, 579198.3905047238], [239164.39934269112, 579164.4145047239], [239164.34068108335, 579164.3920416438], [239133.77268108336, 579152.4660416438], [239133.76371222737, 579152.4625325191], [239078.68271222737, 579130.8505325192], [239078.63021363108, 579130.8295905926], [239047.70327364266, 579118.2896149255], [239030.3381972276, 579111.2491253733], [239013.9871714648, 579104.8313203051], [239013.94509350666, 579104.8145843409], [238997.36409350665, 579098.1325843409], [238997.31319382516, 579098.1117460674], [238936.55248636132, 579072.8452965652], [238935.3377344411, 579072.9291493245], [238934.37145197712, 579073.3600727738], [238932.7218700568, 579074.2122484648], [238932.56597302953, 579074.2893798667], [238929.15580166443, 579075.9033766519], [238927.2628840238, 579076.8540544566], [238926.11747050367, 579077.4775430969], [238926.07131930318, 579077.5023522284], [238924.3571661809, 579078.4122711038], [238923.4008662009, 579079.0878152509], [238923.16857585855, 579079.242377203], [238921.21194590672, 579080.4669282814], [238919.89389782998, 579081.3897194079], [238918.6672863152, 579082.4937531573], [238915.70205294582, 579085.2131250666], [238915.48169289867, 579085.4148392637], [238914.83356919498, 579086.2372766114], [238913.67865885256, 579087.8332391339], [238913.54766133628, 579088.0062317904], [238911.9655657796, 579090.0039172735], [238911.56916315306, 579090.6558110004], [238911.47391575552, 579090.8063403667], [238910.69091575552, 579091.9963403668], [238910.40028136031, 579092.393920722], [238910.07194405256, 579092.7609808026], [238909.70908920962, 579093.0939595607], [238909.3152370821, 579093.3896265898], [238908.89420864207, 579093.6451134646], [238908.4500885136, 579093.8579415688], [238907.9871853457, 579094.0260461422], [238907.50999001184, 579094.1477963118], [238907.0231320414, 579094.2220109132], [238906.53133470626, 579094.2479699508], [238906.0393691978, 579094.2254215817], [238905.55200833888, 579094.15458456], [238905.07398028017, 579094.0361461138], [238904.6099226298, 579093.8712552784], [238904.1643374615, 579093.6615117487], [238903.74154763742, 579093.4089503599], [238903.34565486977, 579093.1160213463], [238901.7061446163, 579091.7730777939], [238900.5108027681, 579090.9105852003], [238898.46815970022, 579089.6641013363], [238898.18583443254, 579089.4921215076], [238898.0440898005, 579089.4024836606], [238893.8710898005, 579086.6644836607], [238893.40082621804, 579086.3148633814], [238891.46582621805, 579084.6918633814], [238890.97183176174, 579084.2161309443], [238888.30339753535, 579081.2677111139], [238885.647272198, 579078.765206735], [238885.61187740765, 579078.7315311212], [238880.94587740765, 579074.2485311212], [238880.89211507922, 579074.1960952259], [238845.87465994942, 579039.5256539258], [238816.1986736895, 579010.1196675409], [238808.85786123056, 579002.8457531281], [238802.03410525125, 578996.1687553241], [238801.96067388536, 578996.0953958969], [238797.46890807067, 578991.5138944722], [238792.34021508798, 578986.3612635991], [238744.303215088, 578938.0992635991], [238744.29935820782, 578938.095384412], [238743.7469204433, 578937.5391432893], [238731.73294515995, 578925.8284353386], [238731.68000718666, 578925.7760592292], [238729.7891223966, 578923.877170471], [238719.0221223966, 578913.059170471], [238718.69888224322, 578912.7014479417], [238718.41159848962, 578912.3142559355], [238718.1629422956, 578911.9011945577], [238717.9552256625, 578911.4661044462], [238717.79037993628, 578911.0130310622], [238717.66993784992, 578910.5461870747], [238717.595019272, 578910.069913192], [238717.56632079434, 578909.5886378009], [238717.58410925485, 578909.1068357923], [238717.64821925675, 578908.6289869539], [238717.75805470627, 578908.1595343165], [238717.9125943551, 578907.7028428433], [238718.11040129603, 578907.2631588444], [238718.34963632328, 578906.8445704947], [238718.62807503334, 578906.4509698221], [238718.94312850747, 578906.0860165193], [238719.29186738346, 578905.7531039165], [238719.67104909275, 578905.4553274298], [238720.07714800982, 578905.1954557801], [238786.6201407986, 578867.0047556197], [238855.76440268088, 578827.1510629826], [238896.57366244638, 578803.5856590994], [238922.92485308085, 578787.9275894199], [238923.04449352712, 578787.8587150043], [238940.30549352712, 578778.2367150043], [238940.36581997623, 578778.2036285141], [238948.20581997623, 578773.973628514], [238948.29376321027, 578773.927302198], [238958.47576321027, 578768.692302198], [238958.55299059502, 578768.6534367746], [238973.16299059504, 578761.4584367747], [238973.22741368454, 578761.4272811095], [239000.56041368452, 578748.4492811095], [239000.60213074388, 578748.4297084649], [239055.16210061978, 578723.1375766923], [239066.70720119638, 578717.7607213865], [239073.5058057811, 578714.5766274331], [239078.0067192562, 578712.3025954177], [239105.93152020974, 578697.9648857875], [239112.3572104005, 578694.6661994255], [239118.72076014944, 578691.2190699823], [239154.44804726934, 578671.8085438819], [239184.54573406346, 578655.4564471631], [239129.3257046235, 578629.0446191576], [239085.93179784218, 578608.3396179173], [239069.6287978422, 578600.5606179172], [239069.30225772638, 578600.389759811], [239068.9891896476, 578600.1953136288], [239067.35946522412, 578599.0978535259], [239065.87524234076, 578598.5501599944], [239061.4601884334, 578597.3064307026], [239059.04280772043, 578596.8021485115], [239056.25542262426, 578596.4036802177], [239056.11965596463, 578596.3823639109], [239054.15206886825, 578596.0456694476], [239052.53409442957, 578595.8794445173], [239050.77360858562, 578595.909977818], [239049.32756211553, 578596.0109295456], [239044.60925941824, 578597.3150147347], [239041.8652010064, 578598.1193077175], [239039.51934091633, 578598.9350231382], [239036.81124104842, 578600.0487668953], [239034.72182761558, 578601.1476306488], [239030.7810894036, 578603.4399618775], [239030.33211355584, 578603.6716036281], [239029.86205395494, 578603.8567554147], [239029.37570966905, 578603.9935269326], [239028.87804602456, 578604.0805218142], [239028.3741439127, 578604.1168518864], [239027.86914791627, 578604.1021462377], [239027.36821378613, 578604.0365550055], [239026.87645580352, 578603.9207478424], [239026.39889456588, 578603.7559070805], [239025.9404057292, 578603.5437156595], [238982.59256627367, 578580.7558000576], [238979.99537926057, 578579.3907017449], [238971.78592059054, 578575.0749346055], [238970.389600257, 578574.3402921967], [238969.84475743145, 578574.0538487592], [238969.10077309166, 578573.6623831737], [238963.237828995, 578570.5808864133], [238962.9099987335, 578570.4083961042], [238960.01866040312, 578568.8847447849], [238959.24723107257, 578568.4785185325], [238858.64740826172, 578515.4720848924], [238770.36923934965, 578468.9369958477], [238769.70759422609, 578468.5881829353], [238767.11394889318, 578467.2213698395], [238767.06308665403, 578467.1941902611], [238759.94800076538, 578463.3391437244], [238740.2890007654, 578452.6871437244], [238740.21591005803, 578452.6467471663], [238732.8941304167, 578448.5198713702], [238731.16170082247, 578447.5436292253], [238710.08913054634, 578435.6648714638], [238709.1323072818, 578435.1257522949], [238705.75894204935, 578433.4216112042], [238705.60741336158, 578433.345358058], [238705.1802819453, 578433.103438818], [238704.77893119116, 578432.8208017052], [238704.40722957725, 578432.5001709587], [238704.06875980407, 578432.1446370248], [238703.76678426212, 578431.7576267698], [238703.50421358697, 578431.3428704487], [238703.28357860455, 578430.904365751], [238703.10700593752, 578430.4463392685], [238702.97619750738, 578429.9732057566], [238702.8924141304, 578429.4895255822], [238702.85646336488, 578428.9999607673], [238702.8686917276, 578428.5092300544], [238702.9289813537, 578428.0220634234], [238703.03675113275, 578427.5431565013], [238703.19096230995, 578427.0771253024], [238703.39012849823, 578426.6284617371], [238703.63233000512, 578426.2014903148], [238703.91523233586, 578425.8003264621], [238704.23610869487, 578425.4288368558], [238704.59186626834, 578425.0906021527], [238704.97907603468, 578424.7888824777], [238705.39400581582, 578424.5265860002], [238705.83265625025, 578424.3062409031], [238706.2907993414, 578424.129971015], [238732.2127993414, 578415.5919710151], [238732.4170902085, 578415.529488246], [238763.38716854423, 578406.776207588], [238783.1027610294, 578400.4535387595], [238793.40685031112, 578396.9890891315], [238804.0225551717, 578392.562185583], [238804.09423597046, 578392.5329429966], [238830.0922359705, 578382.1609429966], [238830.09810665366, 578382.1586051646], [238830.30305973723, 578382.0771384577], [238856.36204671624, 578371.2741095349], [238903.2158693929, 578349.3994125641], [238967.75140540127, 578319.2706291812], [238968.30547781626, 578319.0118190399], [238968.77661867105, 578318.7780468601], [238968.7814948424, 578318.7756306918], [238972.26150769278, 578317.0536243332], [238979.98978070397, 578313.229489251], [238983.69768065945, 578311.3950124887], [238983.89958635534, 578311.2945473357], [238983.91138102606, 578311.2886978501], [238985.49138102605, 578310.5076978501], [238985.54498405728, 578310.4815981697], [239088.15333459544, 578261.2754940876], [239088.11713628212, 578261.0920071228], [239088.06980659362, 578260.6058987745], [239088.07012978574, 578260.1174918526], [239088.11810277472, 578259.6314465685], [239088.2132678187, 578259.1524005998], [239088.35471688554, 578258.6849248387], [239088.5411003167, 578258.2334797785], [239088.77063970544, 578257.8023729532], [239089.04114486562, 578257.3957178363], [239089.35003472975, 578257.0173945915], [239089.69436197676, 578256.6710130493], [239090.07084115408, 578256.3598782637], [239090.47588002656, 578256.086958976], [239090.90561385214, 578255.8548592885], [239148.0302834691, 578228.5171100934], [239207.0900330874, 578199.6285262569], [239207.1609532957, 578199.5945248414], [239215.0238864808, 578195.9005562307], [239230.2376427805, 578188.7526707286], [239231.4848359806, 578188.1665799574], [239250.0278359806, 578179.4545799573], [239250.03957267746, 578179.4490842981], [239250.09464153234, 578179.4233854992], [239250.65133143956, 578179.1621197549], [239253.1809329432, 578177.9179889525], [239284.40191090186, 578162.5679997893], [239285.22136141732, 578162.1651051521], [239285.21222580172, 578161.9404819377], [239285.242114296, 578161.440061966], [239285.3219627592, 578160.9451501626], [239285.45096851152, 578160.4607216476], [239285.62783471768, 578159.9916461576], [239285.85078342323, 578159.542639092], [239286.11757342768, 578159.1182141119], [239286.42552281413, 578158.7226377658], [239286.77153590944, 578158.3598866003], [239287.15213440356, 578158.0336071855], [239287.56349231533, 578157.747079458], [239288.00147445337, 578157.5031837487], [239288.21247445338, 578157.3991837486], [239288.2177069749, 578157.3966084778], [239341.0927069749, 578131.4116084778], [239341.14594383756, 578131.3858354479], [239385.44610241003, 578110.2617598377], [239396.73788545566, 578104.8778760096], [239439.64777155092, 578083.9211877945], [239462.34511277074, 578072.836114672], [239500.26283329152, 578053.5875163509], [239503.2198332915, 578052.086516351], [239503.33633126292, 578052.029270454], [239505.2663728733, 578051.1117754448], [239555.18610094377, 578027.3952570573], [239578.73340791636, 578015.8704191684], [239578.7382264322, 578015.8471102939], [239578.88147068687, 578015.3850812025], [239579.0686912585, 578014.9390562533], [239579.2981358389, 578014.5132100577], [239579.5676569205, 578014.1115283624], [239579.87473189592, 578013.737770744], [239580.2164866687, 578013.3954354215], [239580.58972255368, 578013.0877265136], [239580.99094621523, 578012.8175240504], [239581.41640236365, 578012.5873570163], [239596.65440236367, 578005.2733570163], [239596.72158281785, 578005.2417230754], [239648.84091251128, 577981.1709602412], [239659.05844279865, 577976.3662347734], [239696.14244279865, 577958.9292347735], [239696.18280231603, 577958.9104764964], [239744.9408943446, 577936.5120501046], [239745.97603737388, 577935.9968205424], [239746.10530090387, 577935.9347776494], [239758.00367111, 577930.4323811453], [239809.55281572934, 577906.4380733557], [239813.58838605028, 577903.8507859701], [239814.02208510975, 577903.602404175], [239814.47841414702, 577903.3985606073], [239814.95281373424, 577903.2412919773], [239815.44054389108, 577903.1321696402], [239815.93673144426, 577903.0722838956], [239816.4364187182, 577903.062233094], [239816.93461306966, 577903.1021176586], [239817.4263367721, 577903.191539081], [239817.9066767506, 577903.3296039042], [239818.3708336712, 577903.5149326484], [239819.7623319231, 577904.1529101933], [239820.43628258933, 577902.9468932117], [239820.49361011462, 577902.8470253301], [239834.67144055755, 577878.7942278889], [239850.70809388589, 577848.7825772737], [239850.95257750808, 577848.3732712598], [239851.23493376042, 577847.9891116561], [239851.55259541867, 577847.6335912974], [239851.90267425653, 577847.3099426272], [239852.28198730608, 577847.0211083064], [239852.6870857976, 577846.7697144587], [239853.1142865164, 577846.5580467939], [239853.55970529106, 577846.3880298253], [239854.01929230904, 577846.2612093721], [239854.48886893794, 577846.1787385042], [239854.9641657184, 577846.1413670589], [239855.44086118267, 577846.1494348228], [239855.91462114587, 577846.2028684427], [239856.38113811315, 577846.3011820924], [239856.83617044406, 577846.4434818896], [239862.21747527347, 577848.4125934431], [239896.73739079892, 577861.0465625261], [239903.8241830195, 577863.6399666385], [239905.7218576732, 577860.4038097602], [239906.61784991677, 577858.8758229878], [239906.63483138176, 577858.8470838162], [239907.72082496472, 577857.0230945939], [239927.25944045593, 577824.2063281954], [239927.2320832131, 577823.9040283606], [239927.23677454665, 577823.405911375], [239927.29100729467, 577822.9107332766], [239927.39424315907, 577822.4234090558], [239927.5454574515, 577821.9487757471], [239927.74314926396, 577821.4915444191], [239927.98535636655, 577821.0562534137], [239929.1052005616, 577819.260503258], [239951.77484604795, 577782.8985792586], [239968.7634362393, 577751.7366566232], [239976.9401306863, 577733.3102473785], [239983.36769115008, 577717.5143028261], [240000.6336070846, 577666.959589326], [240007.5521453565, 577645.9622701273], [240007.65046234196, 577645.6905633714], [240013.38290324731, 577631.1739000205], [240028.1788526453, 577592.022433135], [240028.21006353403, 577591.9419539091], [240036.04706353403, 577572.2399539091], [240036.17307146938, 577571.9501866129], [240048.52907146938, 577545.826186613], [240048.78528118334, 577545.3523526555], [240058.99498905666, 577528.6842049968], [240074.05403768746, 577495.247743408], [240074.07644416197, 577495.1987009898], [240094.95362895288, 577450.1477762228], [240111.61672490815, 577410.1942391476], [240120.08410422393, 577382.2137886286], [240126.76955175996, 577350.9599888547], [240133.0695927114, 577309.1187524522], [240139.0585346131, 577267.7289760377], [240139.0835289411, 577267.5735456225], [240147.04688840194, 577222.5828142052], [240154.77628277056, 577177.935088902], [240154.78192796142, 577177.9030988807], [240162.67776002135, 577133.9931551308], [240169.12330838598, 577097.111905293], [240173.2719983575, 577072.928541656], [240178.0439983575, 577045.113541656], [240178.07748502557, 577044.9373722964], [240183.37792286204, 577019.5435108452], [240190.65526296684, 576977.5012033032], [240190.8059869639, 576976.8742366815], [240199.26998696392, 576949.5562366814], [240199.33015407075, 576949.3744353242], [240210.88115407075, 576916.5904353242], [240211.00970950339, 576916.2628378901], [240224.5067095034, 576885.1368378901], [240224.60752168536, 576884.918849726], [240240.01952168535, 576853.5908497259], [240240.2163308869, 576853.2291989372], [240260.6623308869, 576819.0861989373], [240261.0453337073, 576818.5344297832], [240288.0393337073, 576784.7404297832], [240288.32276330987, 576784.415400504], [240317.7477633099, 576753.473400504], [240317.89250450398, 576753.3273333835], [240338.55947982677, 576733.3115612495], [240361.39592308598, 576709.7443995915], [240390.70077135877, 576677.8082133114], [240400.24506008925, 576665.9973663321], [240400.49775765883, 576665.708128552], [240400.77191117522, 576665.4391408113], [240419.98791117524, 576647.9821408113], [240420.28663799883, 576647.7313151378], [240420.60400859467, 576647.5045396134], [240444.31600859467, 576631.9215396134], [240444.87526607444, 576631.6035353066], [240461.07026607444, 576623.7275353067], [240461.62967912518, 576623.4962281389], [240480.67067912518, 576616.9422281389], [240481.1215290464, 576616.8103790174], [240498.94952904637, 576612.4943790174], [240499.3598798394, 576612.4130426131], [240527.99487983942, 576607.973042613], [240528.43557769703, 576607.9246012061], [240564.95657769704, 576605.5426012061], [240564.98700027855, 576605.54071007], [240600.95328103437, 576603.4149984898], [240641.2208075406, 576600.4075356596], [240660.00653944374, 576598.123550055], [240660.0605343151, 576598.1172829597], [240671.46317995177, 576596.8565748665], [240691.21011585792, 576593.4790934791], [240705.43932363432, 576589.6102784284], [240718.59147341884, 576583.8902349686], [240735.0075984134, 576575.2856382764], [240751.948006468, 576564.0143945564], [240762.2915323939, 576555.0361300367], [240772.804938237, 576543.1522110689], [240784.56373112786, 576527.8365713794], [240795.78199653365, 576509.19342323], [240804.11228229364, 576495.3296119241], [240809.17502782535, 576486.904668759], [240819.9674334522, 576468.518938607], [240836.7948829569, 576439.666026406], [240836.88131222076, 576439.5233549892], [240848.72031222077, 576420.6963549892], [240848.81227233188, 576420.5554343222], [240860.46727233188, 576403.3354343222], [240860.56064026235, 576403.2022072359], [240872.90264026236, 576386.1872072358], [240873.10475399604, 576385.9270520704], [240884.21514944386, 576372.5594363775], [240893.15980675546, 576361.5390357646], [240893.3396904066, 576361.3295084176], [240912.03869040663, 576340.7285084177], [240912.37950888008, 576340.3875979075], [240915.13500658487, 576337.8851459696], [240940.55900658487, 576314.8021459695], [240940.9927932768, 576314.4504261694], [240961.44479327678, 576299.6814261695], [240961.7614579515, 576299.4706043554], [240996.8594579515, 576277.9846043554], [240997.20454839963, 576277.7916769192], [241031.06754839965, 576260.5806769192], [241031.57132491033, 576260.3586302904], [241064.57732491032, 576247.9326302904], [241064.79099829766, 576247.8576661109], [241100.9317570485, 576236.0903066078], [241133.8678307104, 576221.7308850014], [241167.73508946097, 576206.3470151615], [241202.23596916196, 576189.8068229936], [241234.3548098653, 576173.7279499788], [241255.44003483557, 576162.6969686637], [241277.15166525447, 576149.8326495466], [241299.97062039637, 576134.5535360703], [241326.25898082685, 576113.4523293003], [241344.3100275675, 576096.3477317381], [241359.76187904703, 576077.1880995758], [241378.89856200502, 576047.3581759979], [241378.91856537983, 576047.3272463618], [241398.09956543767, 576017.9073955314], [241434.85008021063, 575958.3489824632], [241446.08594710738, 575922.6855268108], [241446.95612118774, 575919.4463366866], [241449.5745880272, 575907.6899954112], [241449.69423492785, 575907.2488913888], [241449.8536605228, 575906.8205555169], [241450.05153272746, 575906.4085667669], [241451.46737617545, 575903.776185073], [241447.7597373389, 575876.8500476597], [241447.71645373298, 575876.3538101226], [241447.7227608815, 575875.8557284187], [241447.778596186, 575875.3607460123], [241447.88340548068, 575874.8737756071], [241458.38840548068, 575835.6727756071], [241458.55127122553, 575835.1721065363], [241458.76588068262, 575834.6913388688], [241459.02985430715, 575834.2358032557], [241459.34026521488, 575833.8105505807], [241459.69367163454, 575833.4202959564], [241493.13867163454, 575800.1862959565], [241493.63955779275, 575799.7506894622], [241639.2832641833, 575689.1753526211], [241698.46031138502, 575639.2565779863], [241765.58815680578, 575548.2946584459], [241810.2478450466, 575433.1766423938], [241821.9822165591, 575375.4529466721], [241822.17942563366, 575374.7502374125], [241832.99642563364, 575344.8062374125], [241833.25288622014, 575344.2176276523], [241852.29788622016, 575307.1986276524], [241852.51350191038, 575306.820876004], [241900.29550191038, 575230.973876004], [241900.55195449098, 575230.6047023395], [241959.37457833748, 575153.564210507], [242026.93440883514, 575054.0673860523], [242057.99964038652, 574994.4725362929], [242076.65285756762, 574947.8493816019], [242093.81816881412, 574881.6735980356], [242093.93364619065, 574881.2917825178], [242096.61178986053, 574873.5637327102], [242107.6938625752, 574832.3943504291], [242107.80972204547, 574832.0223431933], [242110.22393777923, 574825.2168460756], [242110.66675427684, 574823.8289830486], [242116.61924804602, 574804.3040536274], [242122.9475353551, 574772.8437646773], [242124.36268963243, 574764.3310521736], [242124.44656425048, 574763.929250933], [242130.56156425047, 574739.662250933], [242130.6624327007, 574739.3153685142], [242141.16105742916, 574707.5405839975], [242156.78211983462, 574659.5703766387], [242163.2218575161, 574637.4280886702], [242168.61854373993, 574612.9575204054], [242169.7538105133, 574605.2856439614], [242169.1132609163, 574572.4833853228], [242168.43566822392, 574546.259148969], [242168.43494373816, 574546.0328583985], [242168.60394373816, 574537.3358583985], [242168.60788429357, 574537.2120496001], [242168.70949670035, 574534.9148565226], [242168.42193678778, 574533.8150738134], [242167.41036968003, 574532.0304642795], [242151.89925426178, 574515.7228399707], [242148.67997747374, 574512.6817013704], [242140.05846045792, 574506.2238441615], [242139.89326150008, 574506.0946070263], [242129.86626150008, 574497.9056070264], [242129.5474409855, 574497.6216970935], [242125.3604409855, 574493.5596970934], [242125.2701652142, 574493.4698564222], [242117.5991652142, 574485.6388564222], [242117.55234859552, 574485.5904147596], [242112.41085194203, 574480.1982270422], [242108.1619789843, 574477.3386457395], [242089.27457258114, 574466.2264788321], [242089.2077354146, 574466.1864518416], [242028.1847354146, 574428.9924518416], [242028.12928758748, 574428.9581581708], [242014.99568861056, 574420.7163576018], [242007.84927622438, 574416.5922596769], [242001.30197963468, 574413.092586715], [242000.92162921044, 574412.8671129479], [242000.56268555846, 574412.6089186032], [242000.22795568794, 574412.3200228111], [241990.24772228938, 574402.9050081648], [241967.82275563278, 574383.254500573], [241967.52232580647, 574382.9683527589], [241954.7213258065, 574369.720352759], [241954.2849953709, 574369.2028460682], [241940.4269953709, 574350.3058460682], [241940.26648613898, 574350.0734866535], [241931.007486139, 574335.8254866535], [241930.74423044632, 574335.369505606], [241915.5262304463, 574305.478505606], [241915.29972665894, 574304.963943089], [241915.13242151824, 574304.4272052207], [241907.73142151826, 574274.9402052207], [241907.645089925, 574274.5209923129], [241907.59492722095, 574274.0959319535], [241907.58130098355, 574273.6681388591], [241907.94030098355, 574240.9511388591], [241907.96367952976, 574240.519960313], [241908.02417376215, 574240.0924068743], [241908.12133248698, 574239.6716674332], [241919.56525319134, 574198.3443025091], [241923.99595306025, 574167.8490900736], [241924.10282766947, 574167.3177798329], [241924.26657884096, 574166.8011578165], [241924.48528274248, 574166.3052935635], [241965.6712827425, 574085.1472935636], [241965.84127309464, 574084.8396261885], [241968.53527309463, 574080.3446261885], [241968.853891084, 574079.8755534722], [241971.678891084, 574076.1855534721], [241972.16454432008, 574075.6391153651], [241974.9433342999, 574072.9389251709], [241993.2600466432, 574052.5832011262], [241995.36731114966, 574049.5462868728], [241998.65695147793, 574043.8541329185], [241998.74708140612, 574043.7042893909], [242003.88608140612, 574035.4892893909], [242003.9244342864, 574035.4289440113], [242010.1345566289, 574025.8104010689], [242013.48397967117, 574020.5984110902], [242016.22997967116, 574016.3264110902], [242016.44130269004, 574016.0229427338], [242021.68730269006, 574009.0539427338], [242021.6950674182, 574009.0436553747], [242027.18663359288, 574001.7874394545], [242035.68050576455, 573989.9491860116], [242035.69328175767, 573989.9314614822], [242073.44528175768, 573937.7974614822], [242073.61638314422, 573937.5746345242], [242080.83322475932, 573928.7035976354], [242089.4807414262, 573910.0033792345], [242089.56912121156, 573909.8219607967], [242094.5706382078, 573900.0606617979], [242100.474509702, 573888.400419817], [242137.7752886954, 573738.6441101085], [242203.11513675743, 573324.6564938286], [242305.96213675744, 572673.0294938287], [242305.96731095415, 572672.9973890102], [242335.85930798267, 572491.2874070734], [242346.04930774448, 572429.3404085216], [242389.44830599803, 572165.5164191384], [242399.94230445096, 572101.7214285432], [242399.98074856607, 572101.5149069794], [242443.2727465804, 571893.355916527], [242456.64574515735, 571829.0539233695], [242506.8117431398, 571587.8389330705], [242520.2657640501, 571523.1468325311], [242569.23491632164, 571287.7085947673], [242453.02538648373, 571254.9867239683], [242447.33438648374, 571253.3837239683], [242447.06661162176, 571253.3001236158], [242160.48561162176, 571154.9241236157], [242160.4356685828, 571154.9066835598], [242158.54109806672, 571154.2338360889], [242036.1094494703, 571110.7779608154], [242031.57917072802, 571109.1698998812], [241914.18622527117, 571070.1588689607], [241914.10651193454, 571070.1316315338], [241746.01349585646, 571011.1096258883], [241631.33373468372, 570970.8420200922], [241597.90960232905, 570961.9945433796], [241588.67967074792, 570959.5515614887], [241558.83553719844, 570951.6525261393], [241553.73552573205, 570950.3025231041], [241518.97652573203, 570941.1015231041], [241518.949775408, 570941.0943627418], [241466.3309483949, 570926.8534095596], [241458.67279885037, 570924.7813690862], [241453.81749278898, 570923.467336478], [241403.80376681566, 570911.316708641], [241397.76762715937, 570909.850674712], [241244.51662715935, 570872.6196747121], [241244.09391131872, 570872.4970433571], [241239.24291131872, 570870.855043357], [241238.6755504342, 570870.6233477532], [241211.91655043422, 570857.7293477532], [241211.52418859897, 570857.5182502515], [241211.15217650778, 570857.2730626316], [241210.80346808495, 570856.9957317808], [241206.0203901067, 570852.8306545209], [241197.95885657502, 570847.4404843105], [241197.62419025114, 570847.1960568564], [241197.31091534297, 570846.9247541463], [241197.0211840031, 570846.6284399898], [241193.38419787545, 570842.586505238], [241186.1044133477, 570836.3408854491], [241169.22801440972, 570821.8637069656], [241165.93094715138, 570821.3179563116], [241163.1854146907, 570820.8640336106], [241162.7348329486, 570820.7680260489], [241162.29500052708, 570820.6309538081], [241161.8696514514, 570820.453980584], [241161.46239678812, 570820.2386088184], [241127.9606358545, 570800.4950151673], [241120.58441239252, 570810.4363394097], [241120.2766141332, 570810.811638198], [241119.93387695722, 570811.1553243588], [241119.5594306682, 570811.4641591457], [241119.15680388245, 570811.7352322361], [241118.72979077685, 570811.9659891571], [241118.2824153341, 570812.1542553575], [241117.81889342266, 570812.2982566997], [241117.34359306813, 570812.3966361788], [241116.8609932909, 570812.4484667102], [241116.37564189796, 570812.4532598656], [241115.89211262632, 570812.4109704767], [241115.4149620421, 570812.3219970599], [241114.94868660142, 570812.1871780612], [241114.1151363011, 570811.9016467249], [241107.1221363011, 570809.5036467249], [241106.97159529413, 570809.4493161987], [241106.48528973782, 570809.2649585595], [241104.995613144, 570808.701459147], [240924.807613144, 570740.5254591471], [240924.35148426183, 570740.3263965314], [240923.9174039631, 570740.0829755457], [240923.50967275913, 570739.797607805], [240923.13233011603, 570739.4731204989], [240922.78911443506, 570739.1127283814], [240922.48342601547, 570738.7200019215], [240922.21829336727, 570738.298831931], [240921.99634320714, 570737.8533910164], [240921.81977443508, 570737.3880922404], [240921.69033634957, 570736.9075454018], [240921.60931131695, 570736.4165113642], [240921.57750206674, 570735.9198548896], [240921.59522373887, 570735.422496443], [240921.66230076159, 570734.9293634436], [240921.77806859076, 570734.4453414484], [240921.94138029378, 570733.9752257502], [240922.15061791232, 570733.5236738694], [240922.40370849177, 570733.0951594114], [240938.81570004765, 570708.2237034248], [240929.6755697654, 570704.5407762501], [240928.60555516192, 570704.1097703573], [240740.61342183957, 570628.3723136083], [240738.90549137682, 570627.6837448026], [240733.95156103573, 570625.6891754726], [240733.49668476416, 570625.478962505], [240733.06513400466, 570625.2242747429], [240732.66124328604, 570624.9276702898], [240732.28906931766, 570624.5921282634], [240731.95235024331, 570624.2210188736], [240731.6544680952, 570623.8180695715], [240731.3984148244, 570623.3873276109], [240731.1867622496, 570622.9331193968], [240731.0216362254, 570622.4600070313], [240730.90469529032, 570621.9727424914], [240730.837114008, 570621.4762198993], [240730.81957117002, 570620.9754263659], [240730.85224297803, 570620.4753918999], [240731.4134475182, 570615.6329190609], [240563.116744263, 570551.9615087552], [240562.67204939024, 570551.7681264423], [240562.24817895895, 570551.5325757975], [240561.8491198986, 570551.2570724125], [240561.4786257627, 570550.9442076748], [240561.14018142282, 570550.5969243933], [240560.83697028973, 570550.218489118], [240560.57184437042, 570549.812461415], [240560.34729744188, 570549.3826603845], [240560.16544159476, 570548.9331287398], [240560.027987367, 570548.4680947796], [240559.9362276544, 570547.9919326182], [240559.89102554973, 570547.5091210416], [240559.89280622447, 570547.0242013802], [240559.94155292955, 570546.5417347932], [240560.036807153, 570546.0662593662], [240560.17767293262, 570545.6022474257], [240568.2402670457, 570523.0431792212], [240496.4189059116, 570492.971035952], [240496.41270191022, 570492.9684333829], [240496.20880203, 570492.8827363318], [240318.02090392684, 570418.2740351208], [240317.85185637535, 570418.1995540499], [240315.95523690715, 570417.3217301737], [240306.8161926561, 570413.0937096776], [240302.80319265608, 570411.2367096776], [240302.79183800681, 570411.2314380899], [240010.26479459077, 570274.9754178668], [240007.10553297322, 570273.5038299903], [240006.2202524789, 570273.0911653807], [240002.5701485362, 570271.3911168779], [240001.7031485362, 570270.9871168778], [240001.68324055383, 570270.9777869354], [240001.3727776832, 570270.8314541174], [239970.97344251056, 570256.5611744877], [239966.5672378464, 570254.4930784118], [239902.39630829348, 570224.368111483], [239869.93175198097, 570209.1288502911], [239866.95708491476, 570207.7320066302], [239848.83641836676, 570199.2261631525], [239848.78497904667, 570199.2016588954], [239836.16507076373, 570193.1014221846], [239833.331776808, 570191.8042633065], [239809.2029260698, 570180.7593316308], [239809.17178070376, 570180.7449454591], [239808.27312365483, 570180.3261052994], [239805.95878498408, 570179.2478792953], [239804.88057700626, 570178.7463165094], [239800.75031018836, 570176.8221922002], [239799.2088109464, 570176.1039595543], [239796.88128843514, 570175.0191820952], [239740.84366348427, 570148.916356795], [239700.6987237468, 570130.2153848675], [239690.8151213351, 570125.6115700655], [239688.70565100305, 570124.6293509807], [239683.46565100303, 570122.1883509808], [239683.3114327458, 570122.1132642974], [239676.37261157512, 570118.5863551939], [239587.79879141037, 570073.5744465835], [239587.76953316468, 570073.5594567461], [239478.3434804294, 570017.0424295088], [239472.7214066074, 570014.1386223945], [239431.84741249506, 569993.3507455708], [239415.7374424922, 569985.1577608264], [239415.69793369732, 569985.1374465744], [239329.78175917052, 569940.4781924606], [239297.06465049478, 569923.7858104727], [239297.0232454836, 569923.7644417693], [239229.3685033841, 569888.4483624529], [239155.15780246246, 569850.2732037093], [239155.10098713596, 569850.2435148809], [239126.40655276916, 569835.0142843185], [239124.62488590248, 569834.068461167], [239114.8588793376, 569828.885926752], [239114.03836858002, 569828.4501865689], [239098.32170938156, 569820.1081676232], [239092.8950509111, 569817.3087562391], [239019.25383567638, 569779.3338960322], [238984.16263477216, 569761.5461273243], [238983.9221140197, 569761.6005088289], [238983.41907866066, 569761.6616591477], [238982.91243724723, 569761.6715794371], [238982.40739367442, 569761.6301678021], [238981.90913542526, 569761.5378495965], [238981.42278028827, 569761.3955730535], [238980.95332379086, 569761.2047995465], [238980.5055878885, 569760.9674885782], [238967.4488500087, 569753.1750506408], [238951.9032507893, 569744.4889123682], [238938.12862155365, 569737.3469515425], [238920.95615807676, 569729.2626902394], [238900.36015807674, 569719.5656902394], [238900.28344455783, 569719.5287708968], [238886.46751887962, 569712.7342171533], [238864.9172664557, 569702.2677794264], [238847.3699372938, 569693.8478997026], [238847.11341941883, 569693.715571941], [238824.09639109552, 569680.9877376105], [238817.65319676365, 569677.9631844464], [238806.69478776547, 569673.3633094915], [238806.3204126456, 569673.1876145551], [238784.0224126456, 569661.5746145551], [238783.74260127725, 569661.4172671479], [238776.68760127726, 569657.1462671479], [238776.43831091357, 569656.9850471657], [238772.48131091357, 569654.2560471657], [238772.24453653707, 569654.082274025], [238769.02954915346, 569651.5741844884], [238768.92052371998, 569651.4895762093], [238767.4101372775, 569650.4101639087], [238765.4100479772, 569649.4096942503], [238765.28316354877, 569649.3463581267], [238762.63405900841, 569649.3606404396], [238761.70847241976, 569649.8234337339], [238758.9727774383, 569651.6139257629], [238748.98605672104, 569658.9689705216], [238748.47240097527, 569659.3008243721], [238746.28940097525, 569660.5288243721], [238745.8658005191, 569660.7413418969], [238745.42398221832, 569660.9127992791], [238744.967915387, 569661.0416561384], [238744.50169734863, 569661.1267548193], [238744.02951662554, 569661.1673307918], [238742.3280823522, 569661.232549242], [238741.8957787268, 569661.261712524], [238741.3757787268, 569661.2967125239], [238740.91369180242, 569661.3064043693], [238740.45268414752, 569661.2733861974], [238739.99669494817, 569661.1979401396], [238739.54962050912, 569661.0807108621], [238738.4576205091, 569660.739710862], [238737.99289373495, 569660.5689082446], [238737.54733830338, 569660.3529803257], [238737.12532323308, 569660.0940444472], [238736.7309867112, 569659.7946396773], [238735.02598671117, 569658.3616396773], [238734.62459876857, 569657.9846771116], [238731.84806590228, 569655.07318768], [238725.86581144875, 569648.954429419], [238725.4674386188, 569648.493931622], [238725.12799515572, 569647.9884246803], [238722.30299515574, 569643.1714246803], [238722.0588677212, 569642.6993150933], [238721.8662332686, 569642.2039590254], [238720.2282332686, 569637.2229590254], [238720.0798470873, 569636.6650408576], [238719.9967613449, 569636.0937371729], [238719.58776134488, 569631.3857371729], [238719.58360956018, 569631.3349452353], [238719.2418202722, 569626.8736955816], [238718.68026417628, 569625.987994366], [238714.87920867966, 569623.3647638694], [238708.71532920215, 569619.9619259777], [238699.63112741552, 569615.8201956159], [238679.06056660792, 569606.6737283103], [238678.7346204785, 569606.5143947194], [238668.16909654703, 569600.8657850269], [238661.5221482326, 569597.7110675885], [238661.0763790005, 569597.4711325767], [238660.6571563895, 569597.1873519914], [238651.32041252535, 569590.1524594553], [238640.77374177505, 569586.4799079713], [238640.51381957487, 569586.381212834], [238626.49981957488, 569580.609212834], [238626.2769529125, 569580.5110050484], [238618.2929529125, 569576.7580050484], [238617.7039243303, 569576.4309677174], [238606.30180505093, 569569.0538221931], [238599.10332510696, 569565.1209845959], [238590.71412526807, 569560.5752158194], [238579.1617402496, 569554.4789857804], [238574.81781022006, 569552.9705907813], [238566.9155116882, 569550.9952421607], [238561.24273035652, 569551.0527426366], [238557.81054417972, 569551.0876015136], [238559.5111869916, 569562.3740067168], [238559.5480019931, 569562.6835471955], [238560.21004039783, 569570.2563876491], [238562.09899362808, 569578.3543049115], [238563.56385566082, 569582.7833797068], [238565.05647757268, 569586.134756007], [238565.28088135977, 569586.7414590956], [238566.89689162452, 569592.1659827929], [238567.9436906231, 569594.087129405], [238569.5022070163, 569595.6410887326], [238570.12799420947, 569595.9153804214], [238571.38713602987, 569595.468121678], [238572.069201503, 569595.0348996557], [238573.62508321815, 569593.6320673774], [238574.4123798218, 569592.6748561747], [238574.72703230195, 569592.3269369829], [238575.07290575185, 569592.0100371501], [238575.44695573876, 569591.7269460788], [238575.84588981562, 569591.4801555814], [238576.2661965017, 569591.2718379465], [238576.7041761912, 569591.1038268191], [238577.15597371774, 569590.9776010596], [238577.61761228813, 569590.8942717271], [238578.08502848682, 569590.8545722994], [238578.5541080426, 569590.8588522173], [238579.262247964, 569590.8985857541], [238583.38980953014, 569589.6259554377], [238583.87842506616, 569589.5018971656], [238584.3770492237, 569589.4276708466], [238584.88061327688, 569589.4040310228], [238591.69361327688, 569589.4280310228], [238592.12306082426, 569589.4480264438], [238592.54920325076, 569589.5048388119], [238592.96889008518, 569589.5980481133], [238604.06789008516, 569592.5690481133], [238604.6428649711, 569592.7609960706], [238605.19038671456, 569593.0211115798], [238609.91738671457, 569595.6291115799], [238610.30798398354, 569595.8685879997], [238610.67502050695, 569596.14281304], [238611.01541442322, 569596.4494841405], [238615.12941442322, 569600.5124841405], [238615.411245713, 569600.8148333409], [238615.66714121733, 569601.139427558], [238615.89535220867, 569601.4840485939], [238617.58735220865, 569604.284048594], [238617.80555485465, 569604.6855091373], [238623.03855485466, 569615.4595091373], [238623.13624277044, 569615.673278335], [238626.51824277046, 569623.5592783351], [238626.662600871, 569623.9374600213], [238631.521600871, 569638.3984600214], [238631.67859540306, 569638.9793906591], [238631.76466222407, 569639.5749745669], [238632.36866222406, 569646.8089745669], [238632.38180614242, 569647.0202538467], [238632.66680614243, 569653.9742538467], [238632.66781649436, 569654.3573954081], [238632.6394858443, 569654.7394894426], [238632.0414858443, 569660.0404894425], [238631.9737579486, 569660.471247461], [238631.8687569388, 569660.8944664662], [238631.72728140853, 569661.3069276313], [238630.45628140852, 569664.5449276313], [238630.2212360699, 569665.056878483], [238624.6572360699, 569675.5698784831], [238624.57743778185, 569675.714803482], [238617.71969419904, 569687.695925103], [238612.17686351988, 569702.3257444426], [238609.85256480283, 569709.4428807059], [238608.13133269796, 569715.8269165128], [238606.93888121968, 569724.2272785421], [238606.93904119826, 569724.2310785811], [238608.66622228, 569727.1086491334], [238611.95211058282, 569730.3681686716], [238620.44511596725, 569737.6149231227], [238626.9677555994, 569742.6821585379], [238636.31014729428, 569746.8561796017], [238644.57270449863, 569750.1868452348], [238667.22348101166, 569756.8778376937], [238667.36959658732, 569756.923442978], [238679.74959658732, 569760.996442978], [238680.24623780482, 569761.1897362167], [238680.71948486386, 569761.4347913048], [238693.18248486385, 569768.7557913047], [238693.65077774265, 569769.0675834252], [238699.40977774267, 569773.3885834252], [238699.7962488756, 569773.7101548354], [238700.14847246883, 569774.0689119243], [238700.46288728682, 569774.4612273977], [238700.7363143679, 569774.883134662], [238700.96598916635, 569775.3303679294], [238703.15998916634, 569780.1893679294], [238703.35140000502, 569780.6808910024], [238703.4899643729, 569781.1898438062], [238703.5741401425, 569781.7105620413], [238705.0201401425, 569795.1105620413], [238705.04373104672, 569795.4175184739], [238705.55073104674, 569806.452518474], [238705.55221848295, 569806.8764244603], [238705.31421848293, 569812.9924244602], [238705.2570939053, 569813.5760433116], [238703.9700939053, 569821.7460433117], [238703.94463753802, 569821.8932924645], [238691.58923849353, 569887.5049286427], [238685.7485986769, 569921.5908471383], [238684.82770382188, 569938.2746042993], [238684.13783057677, 569967.1201757427], [238686.46451279699, 569987.4309511341], [238686.49314467292, 569987.8036879849], [238686.49384759166, 569988.1775222399], [238686.31784759165, 569993.1315222399], [238686.25153076588, 569993.7845819446], [238685.6085307659, 569997.6015819445], [238685.5211939947, 569998.0133654574], [238685.39952994828, 569998.4163434132], [238684.09552994827, 570002.1583434133], [238683.80985317682, 570002.8202075317], [238681.8458531768, 570006.5962075316], [238681.72475080425, 570006.8154452294], [238675.45775080426, 570017.5184452294], [238675.13212955094, 570018.0064394878], [238674.7515911324, 570018.4529348505], [238669.3605911324, 570024.0739348505], [238669.19271329153, 570024.2408770715], [238650.23571329153, 570042.2198770714], [238649.8892707648, 570042.5195295586], [238629.5742707648, 570058.5245295586], [238629.486918815, 570058.591801527], [238614.253918815, 570070.057801527], [238614.12408554577, 570070.1523005223], [238592.03250916008, 570085.695143303], [238580.1130731305, 570096.0946119123], [238575.92904100503, 570100.0953624072], [238568.68205838883, 570110.8610303737], [238567.9520674048, 570112.4615619207], [238566.4538994105, 570121.6499563847], [238565.2104375172, 570132.0310087373], [238564.93388368902, 570136.7173551784], [238565.44199393297, 570140.8974786286], [238567.08200447174, 570149.6374997661], [238567.45009625703, 570150.9215574032], [238569.3948278208, 570155.484821309], [238573.13925374954, 570162.4293706506], [238575.5183752139, 570165.8359420792], [238583.9137890786, 570176.1568462346], [238584.08467272256, 570176.3793986223], [238587.88867272256, 570181.6323986222], [238588.16516553223, 570182.058151024], [238589.58716553223, 570184.5121510241], [238589.7692474644, 570184.8566621911], [238596.0122474644, 570197.8726621912], [238596.21726483313, 570198.3661277422], [238600.55226483315, 570210.6091277422], [238600.68390262433, 570211.042314538], [238600.775816224, 570211.4856329319], [238606.8505337827, 570249.3339552659], [238608.11023262123, 570255.461348632], [238608.76779483628, 570256.2826129341], [238609.17921501887, 570256.4718288728], [238610.74514065753, 570256.8107143069], [238632.6746782363, 570256.8400044598], [238633.11352117395, 570256.8598884668], [238633.5489250713, 570256.9182146513], [238639.1639250713, 570257.9232146513], [238639.70331116553, 570258.0509707767], [238640.22524112504, 570258.2376472446], [238645.70024112504, 570260.5456472447], [238646.29189426178, 570260.8426195214], [238650.1958942618, 570263.1376195214], [238650.62870973372, 570263.4232474167], [238651.0296137892, 570263.7521675677], [238651.39429410323, 570264.1208419444], [238655.22129410322, 570268.4138419444], [238655.6130595064, 570268.9139638864], [238659.4230595064, 570274.4719638864], [238659.72544774937, 570274.9737988642], [238662.33144774937, 570279.9347988642], [238662.5327230078, 570280.3668069927], [238662.69195211653, 570280.816016124], [238662.807688366, 570281.2783448743], [238662.87888021022, 570281.7495926585], [238662.90488082074, 570282.2254778558], [238662.88545396354, 570282.7016767112], [238662.70445396352, 570284.7426767112], [238662.59918216802, 570285.4112246748], [238661.96518216803, 570288.1952246748], [238661.84659880446, 570288.6260281675], [238661.69002854585, 570289.0445247835], [238661.49672178517, 570289.4473723475], [238661.26822229853, 570289.8313536596], [238658.67122229852, 570293.7823536596], [238658.30884632372, 570294.2669931651], [238655.24645363627, 570297.8837200601], [238637.61999042606, 570325.3495215374], [238637.28068786795, 570325.8165312437], [238628.54368786793, 570336.4875312437], [238628.20675662934, 570336.8593071512], [238622.58175662934, 570342.4723071512], [238622.1656182548, 570342.8436166892], [238617.12361825482, 570346.8606166892], [238616.70225777273, 570347.1620036863], [238616.2519740263, 570347.4181741874], [238615.7776008796, 570347.6263781633], [238603.1776008796, 570352.3943781634], [238602.81848156115, 570352.5149304525], [238557.56248156115, 570365.8219304525], [238557.46524008733, 570365.8494585679], [238547.4725976431, 570368.5695023721], [238540.4783853783, 570371.9434144566], [238540.3031761192, 570372.023807102], [238531.48461662643, 570375.8660753372], [238520.45499427995, 570382.2204372534], [238520.3153153138, 570382.297963508], [238512.77392168978, 570386.3274529248], [238504.80938124296, 570391.17023309], [238495.89916085533, 570397.6274178117], [238493.1724124102, 570399.960023906], [238489.82708872433, 570403.3634612208], [238485.59108288985, 570410.9855821955], [238479.69441342694, 570425.9234876866], [238476.09333369898, 570436.8403100214], [238475.91783632454, 570437.2961691198], [238475.69869454802, 570437.7327280822], [238472.318694548, 570443.7177280822], [238472.06304400225, 570444.1236178376], [238471.76967445377, 570444.503141227], [238471.44128611928, 570444.852805061], [238468.5972861193, 570447.6038050611], [238468.08452382692, 570448.0370990214], [238460.61380564625, 570453.5347665024], [238459.4009020746, 570454.6922326531], [238459.0220983772, 570455.019117945], [238458.61252113545, 570455.3065074336], [238458.17627179413, 570455.551523244], [238450.84427179414, 570459.199523244], [238450.398716893, 570459.3947753492], [238449.9362967903, 570459.5458058201], [238449.46138861717, 570459.6511850476], [238448.97848771283, 570459.7099155431], [238441.1947000072, 570460.2741407822], [238435.72598561944, 570461.216395196], [238435.46277307873, 570461.2545684368], [238415.23677307874, 570463.6405684368], [238415.05168137196, 570463.6589195859], [238399.65268137195, 570464.8969195858], [238399.47762070099, 570464.9079069359], [238392.92462070097, 570465.203906936], [238392.44585451635, 570465.2025876245], [238357.13357807326, 570463.4124631748], [238339.3516931808, 570462.9156295162], [238321.91506634204, 570463.0727968983], [238321.71686111265, 570463.0706542978], [238306.89227197837, 570462.6163969702], [238301.9723616906, 570462.8346486297], [238291.72706826087, 570464.1686111882], [238287.95231077017, 570464.9918904635], [238277.0086078833, 570468.8504782395], [238276.78087397735, 570468.9246906653], [238258.64187397735, 570474.3586906653], [238258.51541787418, 570474.3947686089], [238242.16541787417, 570478.8277686088], [238242.03107458653, 570478.8622004964], [238227.55249273306, 570482.3597794576], [238212.3696365873, 570486.3692733708], [238212.06416509583, 570486.4397770956], [238206.64540769506, 570487.512712307], [238202.33585700285, 570488.7231827017], [238191.56817587133, 570494.3220763793], [238189.7021390185, 570495.5656178314], [238189.11306679517, 570496.1958479395], [238188.3190246494, 570497.5661378138], [238185.8548798331, 570503.2521407154], [238180.8716181305, 570522.5133642101], [238180.8214606654, 570522.6933011601], [238177.62346066543, 570533.3893011601], [238177.45464171172, 570533.8649905368], [238176.14264171172, 570537.0429905368], [238175.97310823182, 570537.410682819], [238173.77210823182, 570541.716682819], [238173.54809437785, 570542.1099357302], [238168.76709437784, 570549.6839357303], [238168.52712624765, 570550.0307667404], [238159.39012624766, 570562.1137667404], [238159.03519869276, 570562.5330934862], [238153.62519869275, 570568.2550934862], [238153.24317290387, 570568.6186674965], [238152.82497719684, 570568.939980607], [238152.3752640786, 570569.215458148], [238150.0772640786, 570570.4614581481], [238149.59644378352, 570570.6899277298], [238146.74544378353, 570571.8629277297], [238146.11521638167, 570572.074438499], [238138.5022163817, 570574.0774384991], [238137.8410805881, 570574.2045175581], [238128.83245680374, 570575.313832549], [238106.6619486496, 570579.2074013255], [238100.91816905292, 570580.7773738373], [238096.65294786746, 570582.5790315828], [238090.91361275848, 570585.7699202027], [238088.5785151777, 570587.3887837089], [238083.86260796597, 570592.2743154817], [238083.4287906213, 570593.0180603862], [238082.169579844, 570597.6233354199], [238082.01477936382, 570599.7561420358], [238082.36595064047, 570604.7359830661], [238083.0612310874, 570608.90930556], [238084.62646077102, 570612.2314257049], [238087.91151361587, 570617.7901520228], [238088.03748726356, 570618.0165051009], [238091.89048726356, 570625.3825051008], [238091.93787769758, 570625.4754525571], [238098.6618776976, 570639.0104525571], [238098.79896740464, 570639.3109220769], [238101.93796740464, 570646.8399220769], [238102.16292181154, 570647.5089474679], [238105.22592181154, 570659.3209474679], [238105.32342134276, 570659.7874123486], [238106.29242134278, 570665.8544123486], [238106.3361734265, 570666.2095126357], [238107.1631734265, 570675.7125126356], [238107.17971052008, 570676.2972929521], [238107.0597105201, 570680.2612929521], [238107.0377367045, 570680.6019799261], [238106.30773670448, 570687.9849799261], [238106.20569453758, 570688.6097370122], [238105.5906945376, 570691.2937370122], [238105.47221163448, 570691.7223033073], [238105.3161231354, 570692.1386488946], [238104.4221231354, 570694.2346488946], [238104.205738425, 570694.6795751387], [238103.94644114713, 570695.1009379601], [238103.646770151, 570695.4946116825], [238103.30965959572, 570695.8567417407], [238098.9906595957, 570700.0587417406], [238098.5795232889, 570700.4172273525], [238098.13178271943, 570700.7287933634], [238095.85578271945, 570702.1347933635], [238095.43086894642, 570702.3695820039], [238094.98518851458, 570702.5620563471], [238091.39418851456, 570703.9100563471], [238090.97325925002, 570704.0471335823], [238090.5418552302, 570704.1464421209], [238075.5224649859, 570706.9101500575], [238073.1722453008, 570707.7685906892], [238065.3274839491, 570711.9742046687], [238063.25818642607, 570713.2917652009], [238060.8384014812, 570715.433174886], [238058.08582742445, 570718.8283664229], [238055.36939773997, 570722.8146830521], [238053.68106869605, 570725.7318540104], [238052.64991529414, 570729.0845798638], [238052.4545295715, 570735.4291651744], [238053.71053599537, 570742.0333839069], [238054.1787504771, 570743.2025012795], [238055.67648740424, 570745.5359210586], [238057.5664772468, 570747.6056730929], [238063.42002950038, 570751.1603404346], [238071.25344140566, 570755.1196033272], [238071.4996808353, 570755.2528438469], [238086.0306808353, 570763.6498438469], [238086.44554453532, 570763.9177479796], [238086.83195623345, 570764.2252711713], [238129.31795623346, 570801.6092711713], [238129.43303734987, 570801.7137506696], [238134.67303734986, 570806.6217506696], [238135.09737413365, 570807.0715998972], [238141.71537413364, 570815.0195998973], [238141.94793568063, 570815.3216047563], [238146.34493568062, 570821.5056047563], [238146.49432765986, 570821.7281063906], [238149.27032765988, 570826.1121063905], [238149.4031706839, 570826.3344373339], [238154.40717068387, 570835.2244373339], [238154.66284904277, 570835.747848967], [238155.40655237506, 570837.5261395962], [238158.88125556154, 570845.8274304895], [238158.9740279501, 570846.0660449213], [238169.5910279501, 570875.5900449213], [238169.62709768885, 570875.6939216944], [238175.82117502173, 570894.1859101711], [238179.76839881478, 570903.8274582643], [238180.99578310346, 570905.9912310963], [238183.4210499571, 570909.4068374336], [238185.93806682076, 570912.2284897186], [238188.54337363562, 570914.7198089632], [238194.0681574727, 570918.6212933182], [238229.61267696612, 570940.5200567855], [238229.84345288985, 570940.6711740654], [238239.23945288986, 570947.2011740655], [238239.51241336414, 570947.4050082681], [238244.85541336413, 570951.686008268], [238245.19553667464, 570951.9847898363], [238252.44553667464, 570958.9597898363], [238252.80163232348, 570959.3400383], [238260.32063232348, 570968.2580383001], [238260.6434158677, 570968.6853735436], [238262.82641586772, 570971.9223735436], [238263.0702771496, 570972.3233714058], [238263.27546580794, 570972.7454676328], [238264.3294658079, 570975.2004676327], [238264.5179975556, 570975.7159706993], [238264.6488869831, 570976.2490331623], [238265.3118869831, 570979.7750331623], [238265.38716955276, 570980.370081813], [238265.57716955277, 570983.2520818129], [238265.5855426618, 570983.7377397312], [238265.5467522171, 570984.2219184418], [238265.46116429765, 570984.7000485816], [238265.32958662644, 570985.1676178694], [238263.50558662644, 570990.6186178694], [238263.37570414518, 570990.9638863521], [238263.22071927568, 570991.2986392076], [238260.43771927568, 570996.7706392076], [238260.1898966888, 570997.2031088646], [238259.9002467535, 570997.6087552053], [238259.571647965, 570997.9835469808], [238252.399647965, 571005.3845469808], [238252.0128629194, 571005.7436537215], [238244.56886291938, 571011.9566537215], [238244.17509563963, 571012.2536211741], [238235.23009563965, 571018.3316211741], [238234.8074221314, 571018.5892010615], [238217.96642213137, 571027.7412010615], [238217.58235095374, 571027.9291117599], [238210.6218654928, 571030.9729788204], [238196.74226790076, 571038.1855122478], [238193.5816899574, 571040.0992731609], [238183.56118083058, 571047.680090138], [238176.74295030505, 571053.6859732784], [238176.4554215852, 571053.9208743367], [238176.15125464924, 571054.1337915673], [238169.36225464926, 571058.5197915672], [238168.88887296972, 571058.7902314346], [238163.25087296971, 571061.6152314347], [238162.79816053898, 571061.8146956227], [238162.3279529141, 571061.9684463843], [238161.84485313628, 571062.074978595], [238161.353590453, 571062.1332493704], [238160.85897402154, 571062.1426882758], [238160.36584583018, 571062.10320291], [238159.87903329835, 571062.0151798105], [238159.403302019, 571061.8794806687], [238156.785302019, 571060.9904806687], [238156.42799586657, 571060.8536905894], [238156.0821951444, 571060.6899802571], [238153.83719514438, 571059.519980257], [238153.4623954335, 571059.3035263026], [238153.10771918728, 571059.0554700629], [238152.77582402513, 571058.7776702446], [238152.4691968659, 571058.4722084255], [238148.3491968659, 571053.9962084255], [238148.03380895653, 571053.6177296934], [238147.75719915962, 571053.2100500345], [238145.14119915964, 571048.9130500344], [238144.8853951067, 571048.4366403037], [238144.68253457677, 571047.9353923108], [238139.98076075083, 571034.2291656553], [238137.95165159611, 571029.0384423254], [238133.63757580213, 571022.2636702033], [238131.00828978608, 571018.6938737466], [238127.71099624064, 571016.242690939], [238127.31611630923, 571015.9164483954], [238127.096067875, 571015.6930329239], [238126.1694336264, 571015.2328165482], [238124.19766343117, 571015.1156349023], [238123.806483457, 571015.2842392698], [238120.13700621857, 571017.4119827541], [238115.94789345222, 571021.1851788438], [238112.10281526847, 571026.9103539695], [238109.4227395119, 571031.3551507308], [238104.84337392997, 571040.4771774247], [238097.8064103092, 571057.1883828776], [238094.50113427194, 571068.9617453398], [238093.5130098284, 571073.707254031], [238093.42781654128, 571074.0538934215], [238090.39334430668, 571084.739393855], [238079.5410387497, 571130.6736377195], [238079.4769232441, 571130.9173890905], [238077.09692324413, 571139.1193890906], [238076.91045158257, 571139.648916194], [238075.21145158255, 571143.726916194], [238074.93401317057, 571144.2902907577], [238071.01201317058, 571151.1332907577], [238070.71944499697, 571151.5854306656], [238059.70644499696, 571166.7474306657], [238059.64963918665, 571166.824088297], [238049.57716657728, 571180.1488917519], [238037.30419388428, 571197.5197928698], [238034.6609853816, 571202.3532170722], [238033.45102344325, 571205.4531380654], [238033.38928981964, 571206.6576505993], [238033.76070190684, 571208.8808280417], [238035.38661000357, 571215.576886034], [238060.2466900298, 571258.0314509807], [238060.3014679174, 571258.1274136265], [238066.3914679174, 571269.0754136266], [238066.59425922864, 571269.4825263664], [238066.7592169056, 571269.9063825491], [238066.88497598883, 571270.3434749327], [238066.9704958717, 571270.7901867508], [238067.01506891107, 571271.2428216401], [238067.0183262827, 571271.6976342261], [238066.7413262827, 571278.919634226], [238066.70028036326, 571279.3952304859], [238065.22128036327, 571290.379230486], [238065.18677566224, 571290.5985477325], [238064.06777566223, 571296.8095477324], [238064.03866326204, 571296.9581958901], [238056.04666326204, 571334.7231958901], [238055.99107877817, 571334.9577803161], [238048.91707877818, 571361.8997803162], [238048.82441649027, 571362.21113883], [238048.62593548684, 571362.8065811094], [238046.65093548683, 571368.7255811094], [238046.496304361, 571369.1298223602], [238045.11901777078, 571372.3104840716], [238043.20301777078, 571376.7334840717], [238042.98251337494, 571377.180096736], [238042.7186683863, 571377.6025548788], [238040.61366838633, 571380.6265548788], [238040.29300435516, 571381.039384965], [238037.64500435514, 571384.103384965], [238037.37384711322, 571384.3930630584], [238037.0805737124, 571384.6603276464], [238032.3775737124, 571388.6163276464], [238031.96019530384, 571388.9316548469], [238031.5121565824, 571389.201649816], [238031.03836152877, 571389.4233573405], [238030.54399603783, 571389.594350734], [238026.42305451047, 571390.7823338775], [238018.07639532586, 571393.1887184721], [238017.70482896233, 571393.4380063849], [238000.43022544682, 571405.0294112525], [237998.58894790424, 571406.2644462128], [237962.1710713249, 571438.6140281953], [237959.00681247498, 571446.7069012064], [237955.83559035268, 571459.255099087], [237955.67238471474, 571459.7782962691], [237955.4528968743, 571460.2804879253], [237946.3458968743, 571478.3484879253], [237946.06181835773, 571478.8404000181], [237945.72377749844, 571479.2969156128], [237943.52777749844, 571481.9349156128], [237943.18487077416, 571482.3068408764], [237933.27287077415, 571492.0218408763], [237932.88548109302, 571492.3641140343], [237932.46482251486, 571492.664560436], [237932.01539140334, 571492.91996865], [237931.5419916679, 571493.1276086514], [237927.0609916679, 571494.8226086514], [237926.78905378535, 571494.9166215489], [237920.52411270415, 571496.8826030599], [237912.3191674179, 571499.4575858889], [237912.1611904551, 571499.5043196827], [237888.9341016311, 571505.961332649], [237880.81366904502, 571508.4158220052], [237873.42226960923, 571510.9811369542], [237862.87322954668, 571517.9622501299], [237855.69796315726, 571528.1699643934], [237835.58733188757, 571562.1941554594], [237835.3780374909, 571562.5189140713], [237835.14429206756, 571562.8265427069], [237829.83729206756, 571569.2775427069], [237829.65577443657, 571569.4861528911], [237811.57077443658, 571589.145152891], [237811.33556107682, 571589.3842239153], [237797.75956107682, 571602.2872239152], [237797.5278067372, 571602.4941712137], [237794.1078067372, 571605.3621712137], [237793.89835102152, 571605.5284845392], [237776.15335102152, 571618.8604845393], [237775.82051607227, 571619.0900963921], [237762.54651607227, 571627.476096392], [237762.41052306438, 571627.5590107698], [237747.55020399782, 571636.297694599], [237732.9196089853, 571646.249383205], [237715.80813934462, 571668.3430635466], [237689.27893046406, 571710.9306819431], [237689.14150440163, 571711.1394763977], [237684.41250440164, 571717.9474763976], [237684.12964235822, 571718.3167633552], [237668.30068803285, 571737.1028297334], [237652.03763481468, 571758.6119340259], [237642.90130786577, 571774.8161634757], [237637.37230433675, 571802.3064766426], [237634.1070595371, 571856.834872376], [237634.063340961, 571857.2597523166], [237633.98351980187, 571857.6793507679], [237633.86817854436, 571858.0906057643], [237625.42317854436, 571883.9056057644], [237625.2368802891, 571884.3888265839], [237625.00159755326, 571884.8501848335], [237612.0061986639, 571907.3686644114], [237610.33865816958, 571910.9056907741], [237608.80711249853, 571916.8417690132], [237608.17071386683, 571921.1734439103], [237607.49059253937, 571930.9631564077], [237607.6058394104, 571938.6761949484], [237611.7530524494, 571975.7775562538], [237611.783943739, 571976.3092806634], [237611.75809864313, 571976.8412742259], [237610.9580986431, 571984.6702742259], [237610.89329730984, 571985.1100505913], [237609.67629730984, 571991.4120505913], [237609.5682012026, 571991.8598749987], [237606.35820120262, 572002.9008749987], [237606.21755725148, 572003.315857837], [237606.04112180954, 572003.7169339043], [237605.8302498408, 572004.1010230735], [237605.5865607701, 572004.4651756705], [237598.74656077012, 572013.7761756704], [237598.44532388082, 572014.1476063753], [237598.10997962372, 572014.4885589543], [237586.0379796237, 572025.6415589544], [237585.8258409062, 572025.8267520824], [237547.37696370448, 572057.5290903323], [237514.72039500685, 572085.3526262293], [237486.14416844212, 572112.923898185], [237474.45391104725, 572125.7777805285], [237465.00778181362, 572137.562922832], [237464.0649190308, 572138.7387517106], [237461.3264800017, 572142.154429194], [237458.89909872736, 572146.3278541308], [237458.82812814493, 572146.4460922277], [237455.86045355283, 572151.2392240377], [237455.21191569997, 572152.6294273267], [237452.62191569994, 572158.1794273267], [237452.61964758855, 572158.1842807785], [237434.11041412488, 572197.7362817867], [237429.72647778047, 572209.4297229204], [237426.19699740535, 572219.31011346], [237423.1298813, 572230.3875573372], [237421.99079360923, 572240.1840908574], [237421.48438330845, 572249.2150745544], [237421.6986991729, 572254.7926449262], [237423.02669578002, 572260.9911911994], [237424.6820382078, 572267.3743964182], [237426.360728705, 572273.850486766], [237427.5592560233, 572278.4050901637], [237428.72030282416, 572282.8135906621], [237430.8306358542, 572289.147519414], [237430.89456578932, 572289.3542055535], [237431.7754930741, 572292.4369927114], [237434.05067569474, 572297.8976204416], [237436.39785583006, 572303.2965256238], [237439.71773200188, 572310.1732004418], [237439.72917852865, 572310.1970715799], [237444.53417852864, 572320.2860715799], [237444.63540830117, 572320.5129799237], [237447.01852479926, 572326.2326579469], [237449.64075492587, 572332.1937155322], [237449.84455912432, 572332.7419899459], [237451.4785591243, 572338.0739899458], [237451.62167525524, 572338.6687000626], [237451.69110122998, 572339.2764355182], [237451.93110122997, 572343.8404355182], [237451.9314962979, 572344.3579406256], [237451.87839869809, 572344.8727146898], [237451.77237723683, 572345.3792432103], [237451.61456766562, 572345.8721000167], [237451.40666051433, 572346.3460053962], [237449.07966051434, 572350.9820053962], [237448.84470906976, 572351.399020209], [237448.57095931654, 572351.7916582205], [237448.26091993612, 572352.1563212404], [237445.3519199361, 572355.2633212404], [237445.18061866064, 572355.4375473286], [237439.99661866066, 572360.4585473286], [237439.62791621842, 572360.7821527574], [237435.9959162184, 572363.6671527574], [237435.70218527722, 572363.8834767921], [237430.0481852772, 572367.7374767922], [237429.93566553894, 572367.8119710714], [237423.27846235974, 572372.0913278515], [237418.74217458363, 572375.9779534008], [237418.72695506524, 572375.9909405501], [237413.86606832396, 572380.1220635003], [237409.24496227808, 572384.7130677837], [237408.88918383815, 572385.034153457], [237408.6151265168, 572385.2374789163], [237405.62679279296, 572388.4496711713], [237405.2736772827, 572388.7935694411], [237404.88841689355, 572389.1010284076], [237404.4747556874, 572389.3690601037], [237398.9907556874, 572392.5500601036], [237398.57344923948, 572392.7665680198], [237398.13765267786, 572392.9429247779], [237397.68721879894, 572393.0775712407], [237397.2261298048, 572393.169317024], [237388.1631298048, 572394.533317024], [237387.7383118721, 572394.5787935758], [237387.31116247235, 572394.5878369715], [237380.27612335264, 572394.4360734253], [237370.5774199245, 572394.2693963066], [237363.17946941155, 572395.5516098966], [237347.18002817823, 572399.6951288515], [237332.52193150207, 572406.5929440835], [237321.71050044932, 572413.1074410995], [237317.7447418297, 572417.4662102952], [237314.4349356028, 572422.9207277388], [237311.75129845476, 572428.3850009679], [237310.89544401452, 572430.7686239915], [237310.12256231357, 572436.3492013726], [237312.30186745405, 572447.7756521284], [237314.29077936482, 572457.4601385315], [237314.36555907468, 572457.9428783613], [237314.39287476375, 572458.4306114865], [237314.37246569857, 572458.9186824019], [237314.3045266875, 572459.4024323777], [237314.18970622137, 572459.8772439286], [237311.78070622135, 572468.0652439286], [237311.6177834073, 572468.532310766], [237309.58757347366, 572473.5408285883], [237308.00457347368, 572477.4448285883], [237307.91289145828, 572477.6567467521], [237305.05289145827, 572483.8697467521], [237304.87065823175, 572484.2271380889], [237302.33865823175, 572488.7361380889], [237302.0125021765, 572489.2428029024], [237301.62776563223, 572489.7065536943], [237297.97476563224, 572493.6055536944], [237297.78734521265, 572493.7951975167], [237292.0192488281, 572499.3285345124], [237290.46950116416, 572501.1401985945], [237290.08526183543, 572501.5418470115], [237289.6588151555, 572501.8983642507], [237286.50225690877, 572504.2520348596], [237285.0696981247, 572505.3207057181], [237284.74100173282, 572505.5460922241], [237280.52700173284, 572508.1950922242], [237280.09699776763, 572508.4366674693], [237279.64528512242, 572508.6347020506], [237277.1162851224, 572509.5977020506], [237276.72233853064, 572509.7292519872], [237276.31883314165, 572509.8276527189], [237273.30783314165, 572510.4306527189], [237272.7923034027, 572510.5062086274], [237268.9383034027, 572510.8672086273], [237268.4741661025, 572510.8889995308], [237268.01001009598, 572510.867610783], [237267.5498438024, 572510.8032270956], [237267.09764118624, 572510.6964044817], [237263.72564118623, 572509.7324044817], [237263.23354430447, 572509.5635712388], [237258.93757604848, 572507.8349712008], [237252.0864874974, 572505.8934920388], [237246.2935208839, 572504.2515015021], [237239.23309724557, 572502.2503711878], [237235.12314740027, 572501.2073865492], [237227.87636934416, 572499.3684428696], [237219.843701003, 572497.3307439155], [237201.89435893612, 572493.7672861946], [237201.49356799803, 572493.6703835578], [237194.57856799805, 572491.6933835578], [237194.47139002505, 572491.661440491], [237182.80039002505, 572488.0404404909], [237182.37112332907, 572487.8854491501], [237181.95777746223, 572487.6919616663], [237162.32977746223, 572477.3869616663], [237161.98877222117, 572477.1904327067], [237149.92946757175, 572469.5929134995], [237139.0631626698, 572464.1602424122], [237130.27209186114, 572460.7079796842], [237122.41950040392, 572458.2047766641], [237114.45587384247, 572456.6603485214], [237110.01479587925, 572456.8666165974], [237104.8413938539, 572457.6018399005], [237102.34301139458, 572459.0373041698], [237097.36047139106, 572461.9003586597], [237094.03321801705, 572465.2188445677], [237090.90616635824, 572468.3388960649], [237086.67343437485, 572472.561189745], [237084.78430495955, 572476.6523564783], [237081.91160531208, 572482.8727011057], [237079.68855000666, 572489.6479390274], [237079.23435413893, 572494.905703575], [237079.37651400207, 572497.8666904386], [237080.77249163436, 572505.2316429298], [237082.11545013616, 572512.3134240987], [237082.17843305846, 572512.749958708], [237083.5634507213, 572526.6701362613], [237084.81843534255, 572539.2879816405], [237086.09341995878, 572552.0988270668], [237086.10451340085, 572552.2270066717], [237086.6475151118, 572559.60502992], [237087.1965214796, 572567.0651164582], [237088.09752162767, 572579.3111184703], [237088.70655992298, 572587.5889476481], [237090.51117394023, 572600.0279647047], [237092.0906171706, 572610.90977042], [237093.67288165248, 572617.4476063112], [237094.51179286395, 572620.9162391985], [237095.41585160143, 572624.6517665229], [237096.19723125533, 572627.5972814485], [237097.5522491447, 572630.0367408752], [237099.5068806637, 572632.3165737853], [237099.87153157382, 572632.7979192181], [237101.2125724262, 572634.8099207595], [237103.66150073006, 572637.6080395908], [237103.79659557325, 572637.7691078008], [237106.87637889732, 572641.6018546155], [237109.7058436326, 572644.5447931566], [237114.03426268286, 572648.6330712043], [237114.1771946562, 572648.7735999398], [237118.3211946562, 572653.0145999397], [237118.61433934656, 572653.3422646114], [237118.87756662295, 572653.694414221], [237119.1088412336, 572654.0683259767], [237120.8538412336, 572657.1883259767], [237121.07120446902, 572657.62586106], [237121.24482934648, 572658.0825208097], [237121.3730582087, 572658.5539453361], [237121.9780582087, 572661.3019453362], [237122.06485645735, 572661.828796759], [237122.09497719904, 572662.3619000311], [237122.10297719904, 572665.0109000311], [237122.07507458667, 572665.5537066464], [237121.9884184451, 572666.090277509], [237121.4074184451, 572668.757277509], [237121.28902949332, 572669.2014527867], [237120.15302949332, 572672.7914527868], [237120.11600553134, 572672.9038169773], [237118.98028828512, 572676.2181633422], [237117.97704147245, 572681.006261829], [237117.2388133576, 572685.8470868364], [237117.0816384264, 572690.0392915293], [237117.45552023654, 572694.0895311858], [237121.11757165578, 572713.6880380899], [237124.33157165578, 572730.9550380899], [237124.362356753, 572731.1395515953], [237128.7117184206, 572760.5920048988], [237129.58934961146, 572766.5554988448], [237130.6979782681, 572774.0359931979], [237130.69976233848, 572774.048133964], [237131.44562842522, 572779.1674875594], [237132.83340783822, 572788.3128540507], [237132.88389539588, 572788.8160004552], [237132.88330433317, 572789.3216732234], [237132.83164069557, 572789.824700227], [237132.72943290975, 572790.3199363993], [237132.5777263786, 572790.8023163598], [237132.37807278862, 572791.266906224], [237132.13251423909, 572791.7089540683], [237131.84356235486, 572792.1239385335], [237131.5141725971, 572792.5076150709], [237123.1695847872, 572801.2871813946], [237123.1312399848, 572801.327544169], [237120.0710139167, 572804.547416853], [237107.0395593536, 572818.3671447012], [237101.26806338763, 572824.6457512225], [237101.18415147977, 572824.7348232365], [237051.3801573115, 572876.321817196], [237020.2660161541, 572908.5499634014], [237006.74410208562, 572922.5548744005], [236957.13813904783, 572973.9378361134], [236941.24113904784, 572990.4038361134], [236941.2290290134, 572990.4163359914], [236914.5948354263, 573017.8123623697], [236887.7596479292, 573046.7404448619], [236887.68126208222, 573046.8230375757], [236884.8072620822, 573049.7830375758], [236884.45247538682, 573050.1145907872], [236884.06719983733, 573050.4101646058], [236880.53619983734, 573052.8561646058], [236880.1308074937, 573053.1092070962], [236879.70310938955, 573053.3223919595], [236876.75610938953, 573054.6193919594], [236876.22746649574, 573054.8172422738], [236875.6798923382, 573054.9542481062], [236875.1203653785, 573055.0286634102], [236871.0223653785, 573055.3396634103], [236870.53969436226, 573055.352911915], [236870.0579960872, 573055.3195412005], [236866.37199608723, 573054.8845412005], [236865.6707363865, 573054.7504544797], [236862.23273638648, 573053.8344544797], [236861.87613402607, 573053.7250445423], [236861.5286804885, 573053.5893543913], [236858.1176804885, 573052.1083543913], [236857.7919683162, 573051.952729531], [236851.1578514849, 573048.4834455712], [236849.4576286308, 573048.1507932736], [236848.06926542567, 573048.1301275154], [236846.9016648004, 573048.6601794098], [236844.38905946765, 573052.6536439242], [236843.1930933678, 573054.554590041], [236842.9046061858, 573054.9657550735], [236842.57632304245, 573055.3459020396], [236842.2115567288, 573055.6911947769], [236841.81398819713, 573055.9981488462], [236841.38762941543, 573056.2636666936], [236840.93678288168, 573056.4850689091], [236840.46599820617, 573056.6601212652], [236839.98002620018, 573056.7870572625], [236839.48377093428, 573056.8645959569], [236838.9822402502, 573056.891954885], [236837.8557074166, 573056.896740496], [236834.7551600909, 573058.5335193574], [236832.78769354126, 573059.7285298127], [236815.6016687361, 573073.2712159877], [236815.5788955672, 573073.2890548316], [236776.36514793246, 573103.8236209335], [236746.87228213457, 573127.206036664], [236746.8500223799, 573127.2235820357], [236699.4097235577, 573164.3990091889], [236679.0162213243, 573180.7801345563], [236672.60124999267, 573185.9331115278], [236672.33178217846, 573186.1350247272], [236658.54078217846, 573195.7610247271], [236658.13440486172, 573196.0165696488], [236657.70539404228, 573196.2319656732], [236657.25770426865, 573196.4052273167], [236656.79546226867, 573196.5347574829], [236656.32292891017, 573196.619362185], [236655.84445992496, 573196.6582615514], [236650.46845992497, 573196.8362615515], [236649.93876326046, 573196.825715512], [236638.99976326045, 573196.026715512], [236638.94545119087, 573196.0224508924], [236630.5275706266, 573195.3153101775], [236621.12066077112, 573195.5534961196], [236613.96395267604, 573196.1773811801], [236605.19590274256, 573198.5986159483], [236605.11061478622, 573198.6213593221], [236599.5383992974, 573200.0547172254], [236598.4072367231, 573200.4118013335], [236597.27388007139, 573201.503835066], [236584.3599112018, 573218.35312581], [236567.70800823203, 573241.287655083], [236567.62383730468, 573241.400220512], [236563.29083730467, 573247.028220512], [236563.27423744215, 573247.0496610368], [236557.73650707008, 573254.1623147271], [236555.38437465782, 573257.184484789], [236545.88116578874, 573269.3915188507], [236545.5245062694, 573269.8769703424], [236512.63691280162, 573314.5804177512], [236511.34031917312, 573316.343865061], [236511.2863171822, 573316.4159418148], [236469.28351698566, 573371.4375805651], [236415.90662672435, 573442.3421510326], [236415.80714531895, 573442.4699390655], [236402.4830350317, 573459.0250760919], [236399.29021674753, 573462.9918503271], [236387.80405235826, 573477.265706117], [236323.31418336718, 573563.3900866347], [236321.00923640217, 573566.468015814], [236311.5863305893, 573579.0518900312], [236307.80137404235, 573584.1068319981], [236307.6783575156, 573584.2644548287], [236296.8236979018, 573597.6135460786], [236266.68010581526, 573637.2008207965], [236263.3327756284, 573642.9913392173], [236263.00052087923, 573643.4936332324], [236260.8228048628, 573646.3902555006], [236241.6184178382, 573671.944439849], [236240.97874662103, 573672.7960021568], [236240.96593328693, 573672.8129845527], [236212.1509375875, 573710.834978878], [236182.353941802, 573750.152973317], [236182.29647746778, 573750.2273368821], [236175.13966808183, 573759.3110949458], [236172.64946021818, 573762.4725845016], [236165.71298644028, 573772.9659981326], [236163.84482357957, 573775.9110227556], [236160.98854814327, 573780.805948796], [236160.9375711383, 573780.8913476889], [236156.00657113828, 573788.9683476889], [236155.60195652992, 573789.5375183647], [236152.30518987263, 573793.5492344184], [236151.50442303007, 573794.5239506125], [236151.22026576742, 573794.841254297], [236150.91013348987, 573795.1332216727], [236149.29113348987, 573796.5322216727], [236148.92078066303, 573796.8229502534], [236148.52472326692, 573797.0775535977], [236148.10647329016, 573797.293774043], [236147.66973951133, 573797.4696942818], [236147.21839461173, 573797.6037543637], [236146.75644083487, 573797.6947655282], [236146.28797449722, 573797.741920745], [236145.8171496645, 573797.7448018715], [236145.34814131612, 573797.7033833596], [236144.885108324, 573797.6180324826], [236144.43215657442, 573797.4895060787], [236143.9933025594, 573797.3189438393], [236130.6013025594, 573791.3739438393], [236130.52408042608, 573791.338876266], [236091.99352880687, 573773.4459420185], [236048.52398119785, 573753.3629990245], [236048.49489106436, 573753.3494459221], [236021.89489106435, 573740.8524459221], [236021.87288965515, 573740.8420439585], [235990.23611041938, 573725.7902984205], [235967.0199050252, 573715.9468389394], [235939.05400985724, 573719.7054445683], [235938.96480950032, 573719.7166176419], [235925.8082477334, 573721.2445850365], [235914.52224409473, 573723.1555501954], [235908.36907836763, 573724.8832048264], [235906.956795222, 573726.0562037815], [235905.5629477885, 573727.214077044], [235905.348688002, 573727.3824114182], [235899.717688002, 573731.5634114182], [235899.41342982452, 573731.7723545191], [235899.09458721802, 573731.958283673], [235888.42064539832, 573737.6655029553], [235881.81777047945, 573742.0461209818], [235880.31660971357, 573743.2962882161], [235877.506562293, 573747.1636188291], [235876.4780387758, 573750.7711381601], [235876.1814336293, 573751.8104570034], [235876.3213517769, 573769.8322951406], [235877.60155703477, 573784.8781377926], [235879.57792805939, 573800.0638681431], [235883.33583456138, 573812.7516552559], [235883.41241091824, 573813.0084662088], [235891.3202200256, 573838.9817012028], [235891.4468443771, 573839.4927866946], [235891.51902010472, 573840.0143543034], [235891.53594680247, 573840.5406200092], [235891.40694680245, 573846.8246200092], [235891.36682219745, 573847.3623767749], [235891.26901809545, 573847.8926848746], [235891.11467212366, 573848.4093759274], [235890.90557958704, 573848.9064399415], [235885.84757958705, 573859.3204399416], [235885.56380257313, 573859.8274434557], [235885.22312541047, 573860.2981036598], [235879.44612541047, 573867.3741036598], [235879.05910634543, 573867.7962799205], [235878.6263472571, 573868.1714280557], [235873.43934725708, 573872.1714280557], [235873.02418089117, 573872.4593523031], [235872.58207727553, 573872.7039087926], [235872.11755052643, 573872.9026004706], [235871.63534371258, 573873.0533985881], [235871.1403804256, 573873.1547634148], [235869.25440471462, 573873.4426070844], [235867.72562749177, 573873.6765824698], [235865.96545531787, 573874.4782669103], [235865.35893354448, 573874.7082760216], [235858.1849335445, 573876.9082760217], [235857.7382645909, 573877.0230076297], [235857.28292469247, 573877.0960971147], [235851.02792469246, 573877.8060971147], [235850.4613717101, 573877.8379993092], [235849.89485258007, 573877.8055015062], [235849.33566406957, 573877.7090222775], [235761.50837732843, 573857.3644872586], [235713.9971465195, 573847.9854316725], [235712.51054801035, 573847.6922778409], [235704.17687076287, 573847.5603738171], [235703.72130949626, 573847.5323284004], [235703.2702037546, 573847.4628573789], [235702.8273125589, 573847.3525396477], [235675.1528700673, 573839.1008854125], [235638.67332509908, 573831.0761407897], [235619.2576501368, 573827.216284313], [235591.16832371068, 573822.2437989467], [235547.15327731796, 573816.8630522451], [235546.9510262787, 573816.8341221629], [235526.97611460267, 573813.559136644], [235525.9452012671, 573813.3901508499], [235525.6573998288, 573813.3342648621], [235520.80139937202, 573812.2426695751], [235513.8023643335, 573812.0110428174], [235501.88030957995, 573811.873058322], [235464.9475403965, 573815.7866151262], [235444.9993072193, 573818.5573967278], [235442.6303224303, 573818.8868530549], [235430.51704577898, 573824.2051782366], [235429.91029822745, 573824.4260367872], [235405.83129822745, 573831.4670367872], [235405.7130101742, 573831.5000543097], [235378.83733605655, 573838.6472245329], [235365.70399648856, 573845.4808089864], [235358.37514536115, 573850.3090599312], [235349.68128715674, 573856.8236782136], [235344.47384670455, 573861.6888333176], [235340.1363541461, 573869.4796337712], [235335.02823336067, 573879.9054242772], [235332.8062869004, 573885.3535970446], [235330.60565508774, 573895.3053431307], [235333.15401146733, 573908.012228617], [235336.20184748716, 573920.6124650572], [235336.31971433072, 573921.316449322], [235337.4347143307, 573933.086449322], [235337.4559282413, 573933.4544797691], [235337.44996868985, 573933.8230729373], [235336.98596868984, 573942.5630729373], [235336.9820245608, 573942.6291101502], [235336.46400608635, 573950.4343883982], [235335.43019903137, 573965.9982093353], [235334.9639398545, 573979.3189059475], [235334.9447278915, 573979.6154075076], [235333.94393072795, 573990.183113525], [235333.59908911996, 573997.5302051933], [235336.70145002753, 574009.459911951], [235338.22696473225, 574014.7177538946], [235338.35689277344, 574015.2885441221], [235338.41921782566, 574015.8706080082], [235338.82421782566, 574024.2846080082], [235338.82520535422, 574024.7439142964], [235338.7840406942, 574025.2013732698], [235338.70107121486, 574025.6531246472], [235330.5210074331, 574060.9734000118], [235329.4873713394, 574065.4353364196], [235329.5739569893, 574086.3102610257], [235329.5529397583, 574086.7894308926], [235326.29793975828, 574122.1414308925], [235326.22835445375, 574122.6307546345], [235326.11079889658, 574123.1108176826], [235325.94642174485, 574123.5769292476], [235315.94950895195, 574148.0023007606], [235314.43076668287, 574169.6735475895], [235314.33798690472, 574170.3433641167], [235309.43898690472, 574193.8683641168], [235309.34325820356, 574194.2515408], [235304.68025820356, 574210.2075408], [235304.54056472713, 574210.6184102001], [235299.88263597773, 574222.586976662], [235299.8612557013, 574222.7863659987], [235298.9022557013, 574231.6913659986], [235298.85501571905, 574232.0243715787], [235295.2153319833, 574252.6628406001], [235292.34275868506, 574274.6215590341], [235292.25901406235, 574275.0883416159], [235289.54801406234, 574286.9353416158], [235289.41929756702, 574287.3954843701], [235289.247247149, 574287.8412398457], [235285.69424714902, 574295.8802398458], [235285.4740707717, 574296.3188322822], [235285.21195848426, 574296.7337275837], [235282.6685219635, 574300.3532334017], [235266.03602087984, 574335.2746904698], [235256.01148102526, 574360.821419006], [235255.87150365242, 574361.1442456286], [235254.48852345868, 574364.0492040254], [235241.09954378864, 574392.1741613203], [235236.75274920464, 574401.3051260976], [235224.63330852278, 574427.1466111592], [235221.45910949557, 574433.9889509043], [235218.21055917258, 574441.0337244024], [235216.61450027194, 574451.924316728], [235215.65206355994, 574468.9856050666], [235215.6506462382, 574469.0096961322], [235214.2866462382, 574491.2776961321], [235214.2306970089, 574491.7774597633], [235214.1248295683, 574492.2690755569], [235213.97011484604, 574492.7475704452], [235213.76811789913, 574493.2081040888], [235213.52088208025, 574493.6460178398], [235209.75231516288, 574499.6002604032], [235207.99125065896, 574505.3434269851], [235205.08387555252, 574520.0346677158], [235205.07443335635, 574520.0812178989], [235202.43346002363, 574532.7910895607], [235202.01448686802, 574534.807960336], [235201.91380390653, 574535.2086937249], [235201.78037736192, 574535.5997457227], [235200.67856781304, 574538.439254905], [235197.08498276636, 574547.7061848473], [235197.02320732598, 574547.8656053386], [235196.91430758522, 574548.12476621], [235189.82230001522, 574563.7567828955], [235189.24412537922, 574565.0311677766], [235184.86957692227, 574574.6711727305], [235184.2576918147, 574576.0211229379], [235183.76369181473, 574577.1091229379], [235183.75202382586, 574577.1346305487], [235182.40589278733, 574580.0557448957], [235182.3019300731, 574580.2818339808], [235181.59560450842, 574581.8143850706], [235186.21884288668, 574586.151380477], [235186.5578680691, 574586.5020339651], [235186.86111495717, 574586.8840513311], [235187.12569790267, 574587.2937973597], [235187.3490991772, 574587.7273729743], [235187.5291929305, 574588.1806523396], [235187.66426541968, 574588.6493221228], [235187.7530313168, 574589.1289225384], [235187.79464594, 574589.6148897863], [235187.7887132913, 574590.1025994815], [235187.7352898248, 574590.5874106573], [235187.63488390954, 574591.0647099295], [235187.48845099195, 574591.5299553955], [235187.29738450388, 574591.9787198551], [235186.51585091132, 574593.5912241514], [235187.6000857912, 574594.421061719], [235200.57077619887, 574603.9822964101], [235200.9501351961, 574604.291710072], [235201.29741813295, 574604.6367385123], [235201.6092959543, 574605.0140742878], [235201.88277899852, 574605.4201002567], [235202.11524565652, 574605.850924253], [235202.30446750228, 574606.3024163969], [235202.44863065478, 574606.7702486835], [235202.54635316558, 574607.2499364713], [235202.59669826654, 574607.736881472], [235202.59918334935, 574608.2264158296], [235202.553784592, 574608.7138468665], [235202.4609371871, 574609.1945020675], [235202.3215311701, 574609.6637738708], [235202.13690288743, 574610.1171638356], [235201.9088221863, 574610.5503257645], [235199.5050072852, 574614.619012467], [235195.7050337251, 574621.0529676809], [235115.1860337251, 574757.3649676809], [235114.91232824564, 574757.7797681749], [235114.59879741323, 574758.1653489788], [235114.2485385882, 574758.5179009534], [235113.86501196536, 574758.8339412496], [235113.45200639107, 574759.1103477165], [235113.01360193317, 574759.3443897439], [235112.5541295742, 574759.5337552386], [235112.07812842575, 574759.6765734656], [235111.5903008868, 574759.7714335284], [235111.09546618882, 574759.8173983078], [235110.59851278673, 574759.8140137194], [235110.1043500661, 574759.7613131993], [235109.61785984345, 574759.6598173741], [235109.1438481389, 574759.5105289177], [235108.68699769775, 574759.3149226455], [235108.25182172982, 574759.0749309452], [235101.6488552159, 574754.9929516463], [235100.26046830995, 574754.1346761045], [235100.53627666642, 574761.280076498], [235101.05527394672, 574774.7160060897], [235101.0413677464, 574775.3285374116], [235096.88778967937, 574824.6558508289], [235098.04815822098, 574830.4576935369], [235105.3478494658, 574838.2138861803], [235106.4642003657, 574839.2137863756], [235130.4692003657, 574860.7177863757], [235130.78679916763, 574861.0288267488], [235131.07551613217, 574861.3668469067], [235137.5565645659, 574869.6759090024], [235151.6155645659, 574887.7009090023], [235151.7050249793, 574887.8191816818], [235156.42405044835, 574894.2542164128], [235174.859142068, 574919.393431792], [235178.101811744, 574923.6987666684], [235202.79173116115, 574956.4756596914], [235205.25917568602, 574959.7513230394], [235225.7588131893, 574982.642469052], [235236.7178131893, 574994.880469052], [235237.01075755243, 574995.239823888], [235251.85481805468, 575015.2789055661], [235268.2846401373, 575037.4596653723], [235268.61046244996, 575037.8994255489], [235268.88372901108, 575038.3089697015], [235269.11539248758, 575038.7434038854], [235269.30320666084, 575039.1985158088], [235269.44535047692, 575039.6698926877], [235269.54044570358, 575040.1529640326], [235269.58757029354, 575040.643045964], [235269.58626732486, 575041.1353866273], [235269.5365494312, 575041.6252122672], [235266.90254943122, 575059.0052122672], [235266.7441729627, 575059.7058688621], [235261.4781729627, 575077.0858688621], [235261.3268700356, 575077.5140970404], [235261.1373336125, 575077.9268292693], [235260.91112753522, 575078.3206601455], [235253.5371275352, 575089.9066601454], [235253.24921361762, 575090.3128608703], [235252.92232873102, 575090.6884134283], [235252.5597141804, 575091.0295939385], [235252.16496555664, 575091.3330193444], [235242.0262180572, 575098.351844544], [235238.4724708932, 575100.8126694654], [235238.17260446958, 575101.0048834141], [235222.6886044696, 575110.1688834141], [235222.26588775407, 575110.3924887946], [235221.8237426659, 575110.5746878858], [235207.0767426659, 575115.8416878858], [235207.01067618674, 575115.8647639903], [235186.10208778977, 575123.0040694249], [235174.26141847094, 575131.3918347002], [235162.29816098267, 575141.8587385423], [235158.63133098494, 575147.2615776776], [235152.65250352927, 575156.0733233773], [235152.6479986126, 575156.0799513976], [235140.9189886342, 575173.3069660534], [235118.9409886342, 575205.5869660535], [235118.83324885278, 575205.7390363574], [235111.4602488528, 575215.7450363573], [235111.13761402605, 575216.1391561532], [235110.77655737422, 575216.4984077908], [235110.38082556266, 575216.8190633354], [235109.95452507894, 575217.0977953618], [235103.63452507893, 575220.7847953618], [235103.18369327902, 575221.0179784838], [235102.7115437041, 575221.204253708], [235102.22294183058, 575221.3417014778], [235090.63594183058, 575223.9747014778], [235090.10566532152, 575224.0655181744], [235067.57135232328, 575226.6865276435], [235048.53574988476, 575229.773329291], [235036.0661614296, 575233.6099155878], [235027.7902161831, 575240.1433389363], [235025.31350204517, 575245.9217852593], [235021.68684848494, 575262.1413047023], [235020.94788534977, 575269.3483572544], [235019.636, 575282.133846762], [235019.636, 575310.318], [235019.6335644384, 575310.4740438522], [235019.25856060514, 575322.4841665709], [235018.58056060516, 575344.181166571], [235018.50409867323, 575344.9097529872], [235010.2052120539, 575391.0691223508], [235010.07732525744, 575391.7814917716], [235010.0312914796, 575392.0077445603], [235007.25130093104, 575404.2207030385], [235004.87531145982, 575414.6596567802], [235004.13331145982, 575417.9196567802], [235003.99783551667, 575418.401841473], [235003.8147989626, 575418.8680532585], [234996.44079896258, 575435.1950532584], [234996.13789597186, 575435.7646166121], [234989.88995361127, 575445.8795232986], [234985.0780115264, 575453.6704295295], [234984.96703280485, 575453.842156869], [234971.86054609166, 575473.241071238], [234950.8492616868, 575507.3835357099], [234950.75155466105, 575507.5360461433], [234949.3442514717, 575509.6475009811], [234930.75913657344, 575537.5251733286], [234920.3612300742, 575553.6427675005], [234911.6492400557, 575570.040262227], [234911.17392742258, 575571.2773768925], [234903.81447171126, 575590.418308665], [234896.98764707448, 575612.6059748372], [234895.689097672, 575625.2615171634], [234896.96974409148, 575636.1429100144], [234901.66466855648, 575650.2295938568], [234906.81674150724, 575662.5937863947], [234912.73622788783, 575675.1289359761], [234912.9849971327, 575675.7649578544], [234916.8469971327, 575688.0539578544], [234916.95922725997, 575688.4741779655], [234917.03451249105, 575688.9025617623], [234917.07228312586, 575689.3358675693], [234917.42328312589, 575697.4108675694], [234917.42176524084, 575697.8776171461], [234917.07076524082, 575704.8996171461], [234917.02895447155, 575705.3414816784], [234916.9481238054, 575705.7778975451], [234916.82891016343, 575706.205425922], [234916.67225291298, 575706.6206980149], [234916.47938646548, 575707.0204416062], [234914.0213864655, 575711.5854416061], [234913.77068290114, 575712.0013110179], [234913.48082072265, 575712.3908999836], [234913.15453390597, 575712.7505339059], [234909.64353390597, 575716.261533906], [234909.31182466657, 575716.5646856483], [234908.95423723847, 575716.836831252], [234904.39023723846, 575719.996831252], [234904.03441079776, 575720.2216492085], [234903.66093675134, 575720.4157437887], [234903.27246161946, 575720.5777395953], [234896.60046161947, 575723.0357395953], [234896.18025486654, 575723.1698128025], [234895.74986730877, 575723.2663316618], [234895.31264821076, 575723.324545066], [234894.872, 575723.344], [234886.797, 575723.344], [234886.3845699453, 575723.3269611127], [234885.9749508303, 575723.27596058], [234871.2851195727, 575720.8274893499], [234867.87273089387, 575720.3397242822], [234849.78103102066, 575717.7554728901], [234842.56209695432, 575718.3535596611], [234834.8938458116, 575719.9898247527], [234834.20127213368, 575720.1377337056], [234833.91411403156, 575720.1903454293], [234830.68847826868, 575720.6844780495], [234830.73019469247, 575727.7303820299], [234833.7557425415, 575743.5460797872], [234837.35570669427, 575749.1360287952], [234842.70759630148, 575755.6470433371], [234843.01574853744, 575756.0643095465], [234853.1753647396, 575771.4297775459], [234862.38931922617, 575783.0768627486], [234862.71269139467, 575783.5365399788], [234865.7406090075, 575788.4004076369], [234869.40172250988, 575794.280589961], [234869.58972250987, 575794.582589961], [234869.82482433753, 575795.0043753345], [234870.01814270546, 575795.4468725427], [234870.16787452734, 575795.9059544004], [234870.27262324982, 575796.3773390373], [234870.33141187837, 575796.8566298339], [234872.06141187839, 575820.274629834], [234872.0637071097, 575820.3071408421], [234873.41755110113, 575840.4165557143], [234874.26349620725, 575849.0277677609], [234875.06810122222, 575854.6929646259], [234875.80074530304, 575855.9940051335], [234877.4503748025, 575857.8060796846], [234877.74760789695, 575858.1648239577], [234878.01016060996, 575858.5496759276], [234878.23575351184, 575858.957294387], [234878.42242805037, 575859.3841404747], [234878.56856355484, 575859.8265083987], [234878.67289130623, 575860.2805576099], [234880.43389130622, 575869.9995576098], [234880.49791739447, 575870.4902913712], [234880.5131172472, 575870.9849507783], [234880.47934195513, 575871.4786897723], [234880.39692240665, 575871.9666713115], [234880.2666660462, 575872.4441147585], [234880.08984896386, 575872.9063427153], [234879.8682033939, 575873.3488268459], [234879.6039007445, 575873.7672322403], [234879.29953032485, 575874.1574598817], [234878.95807397852, 575874.5156868044], [234878.58287687087, 575874.8384035454], [234878.17761471742, 575875.122448527], [234877.7462577736, 575875.3650390288], [234877.2930319393, 575875.5637984504], [234876.82237735856, 575875.7167795937], [234876.33890492073, 575875.8224837393], [234875.8473510885, 575875.8798753293], [234875.35253149617, 575875.8883921121], [234871.05053149618, 575875.7493921121], [234870.5919638267, 575875.7134065691], [234866.15096382672, 575875.1584065692], [234865.66891684983, 575875.0740290886], [234865.19742733787, 575874.942931845], [234864.74101195004, 575874.7663706916], [234859.32301195004, 575872.3593706916], [234858.83168447847, 575872.1077503449], [234858.37108836204, 575871.803502583], [234856.34408836204, 575870.2975025829], [234856.29220459232, 575870.2584289431], [234852.74744569167, 575867.5526129812], [234846.71304350873, 575862.9475389065], [234833.12414917973, 575854.4818252603], [234833.10935938565, 575854.4725755494], [234818.98635938563, 575845.6055755494], [234818.9137087879, 575845.5590840864], [234805.6522608289, 575836.9105289184], [234794.59989675798, 575830.6611960361], [234782.0617109612, 575825.6166382941], [234781.8096007665, 575825.5070600226], [234772.69760076646, 575821.2450600226], [234772.3340818987, 575821.0565163908], [234771.9872112082, 575820.8388575008], [234763.81521120822, 575815.2318575009], [234763.68596250672, 575815.1401306341], [234756.2329625067, 575809.671130634], [234755.98605326976, 575809.4777488788], [234753.73509046738, 575807.5979446268], [234745.79423094724, 575800.9630620029], [234743.77902656677, 575799.2795347349], [234738.3034838571, 575795.0283252617], [234732.7246790066, 575791.76473387], [234729.98348725078, 575790.2359420292], [234723.41445438322, 575787.8771417142], [234715.75142149767, 575785.7187338305], [234715.2930242245, 575785.5653445768], [234708.72002422452, 575783.0063445768], [234708.3722140763, 575782.8555121293], [234700.7662140763, 575779.2085121293], [234700.23192283438, 575778.9108393363], [234694.32192283438, 575775.1268393364], [234694.23312833838, 575775.0686485317], [234683.79212833836, 575768.0666485317], [234683.61695812145, 575767.9436590523], [234673.08452165508, 575760.206911943], [234661.36986406168, 575752.8000485478], [234650.51024796566, 575746.7471154721], [234635.3886295604, 575738.7006949387], [234621.8017222903, 575731.7169373792], [234609.09892552, 575725.8210373602], [234599.44755689424, 575721.9375763045], [234599.24270937147, 575721.8497971974], [234593.06670937146, 575719.0387971974], [234592.4767575667, 575718.7209409057], [234587.7447575667, 575715.7459409058], [234587.573495669, 575715.6333057187], [234580.067495669, 575710.4733057186], [234579.8424590676, 575710.3091905221], [234557.98347059792, 575693.4154763253], [234534.7028342445, 575676.0540835625], [234521.79572381088, 575667.5984516391], [234515.83228887874, 575663.7229652955], [234509.76862736087, 575661.3278324568], [234499.15776025495, 575658.289866356], [234498.50385960785, 575658.052303009], [234487.74985960784, 575653.2743030089], [234487.36644931414, 575653.0839008994], [234475.00744931414, 575646.2719008995], [234474.89459304462, 575646.2077732149], [234461.3955930446, 575638.3037732148], [234461.19697775773, 575638.1811657624], [234437.42373740618, 575622.7279102374], [234427.2855452371, 575616.3136476887], [234417.3300632338, 575610.2554667798], [234406.3168564329, 575605.6804370873], [234406.1284293137, 575605.5975738437], [234396.01342931372, 575600.8985738436], [234395.45937878813, 575600.5973314028], [234377.62107545344, 575589.3860739513], [234338.73810042613, 575568.008461268], [234338.6746971149, 575567.9730002813], [234299.55669711492, 575545.7200002812], [234299.49065691026, 575545.6817621056], [234277.3234327446, 575532.6197547569], [234251.79507657277, 575517.6851980411], [234213.96873150847, 575497.4634540771], [234213.708878083, 575497.3143606504], [234175.762277982, 575474.0039212418], [234135.88188024404, 575451.1362858249], [234097.35999250214, 575429.4479202674], [234097.27748592166, 575429.4004278459], [234068.1439501177, 575412.2592915221], [234017.7505067326, 575383.1879965819], [234017.67751037652, 575383.1450579655], [233989.01906608956, 575365.9589814944], [233814.77285082696, 575264.9224118561], [233794.38889802474, 575253.1024982701], [233783.53070792512, 575246.8534174787], [233734.97575797178, 575218.9054462854], [233705.06064706875, 575201.6873824496], [233696.801195345, 575196.933131502], [233695.61912397237, 575200.2455211729], [233692.48736672194, 575209.0212708514], [233680.17489916526, 575257.2956990242], [233680.0948922788, 575257.5751902757], [233677.82873437784, 575264.7016867449], [233674.05473437783, 575276.565686745], [233673.99240082945, 575276.7492429018], [233662.78260149428, 575307.7706875918], [233662.31865040417, 575309.0555520823], [233661.61461608534, 575311.0047577077], [233657.02474647947, 575345.2687596247], [233654.97352380847, 575360.5856846207], [233654.96693015803, 575360.6455346786], [233654.96472883123, 575360.6651598183], [233654.35076050067, 575366.042882427], [233654.01111449298, 575369.0207787474], [233653.9834336212, 575369.265952183], [233653.98275282813, 575369.2719495909], [233652.6016503617, 575381.3735116923], [233651.1019052168, 575398.1226575038], [233650.78570045353, 575401.808388104], [233650.68489596737, 575402.465829275], [233648.10549368872, 575414.0711523159], [233647.5035888844, 575417.2331061001], [233646.47868029107, 575422.610626505], [233644.71160075278, 575431.8920438265], [233644.17764856567, 575434.6937929433], [233641.92878394085, 575446.5005780547], [233640.04755312164, 575464.0415973172], [233638.83561547284, 575475.3670146524], [233638.72374086076, 575476.0109756656], [233630.62674086075, 575509.4719756657], [233630.47807345178, 575509.9710483372], [233630.46953931567, 575509.995050595], [233623.39707172004, 575530.4625680221], [233615.3310019772, 575562.3264248788], [233614.8220156829, 575564.3363707562], [233613.06702921604, 575571.2673173099], [233613.05666037425, 575571.3075631835], [233604.17366571276, 575605.2025428133], [233600.2207347414, 575620.2862794112], [233599.62363651764, 575622.56565421], [233585.85101605736, 575675.1140191704], [233585.57041408285, 575676.1825035573], [233584.97860533846, 575678.4417731658], [233578.7286237032, 575702.2857031035], [233577.91559424068, 575705.3878155035], [233577.49963859536, 575706.9746462947], [233574.81466424026, 575717.2204925288], [233568.60010271805, 575743.6341249417], [233568.55985768448, 575743.7933944548], [233564.4166813068, 575759.125046958], [233563.36868130678, 575763.001046958], [233563.32532573084, 575763.1519515626], [233559.69132573085, 575775.0909515626], [233559.63293452922, 575775.2705407958], [233554.97033179755, 575788.7403929082], [233550.9103979156, 575800.9201945541], [233547.0761586371, 575818.4260441149], [233541.55231121706, 575843.6393476718], [233541.1701447341, 575845.3861075724], [233539.0271447341, 575855.1671075723], [233538.96605769865, 575855.4153756807], [233537.5259261739, 575860.6838567478], [233532.95294620816, 575877.4067834845], [233531.91690609974, 575881.1959301548], [233529.0128904285, 575891.8149874582], [233527.20796377762, 575898.4147192565], [233524.8709473857, 575906.9637791759], [233515.75112256926, 575940.3161675524], [233507.31357227938, 575980.0907716515], [233503.94877177515, 575996.6451107124], [233502.2785519872, 576004.8607595084], [233498.80191106256, 576023.2401420363], [233497.6239056458, 576029.4701706601], [233496.10691457058, 576037.4911234711], [233492.93291210348, 576054.275136515], [233492.7069121035, 576055.470136515], [233492.70528425876, 576055.4787030072], [233492.16228425875, 576058.3227030073], [233492.1439568596, 576058.4140642206], [233490.5412550382, 576066.0345321312], [233489.85736323652, 576070.2701863339], [233489.74910522517, 576070.9437842908], [233488.09816996538, 576081.1713832231], [233487.95923463925, 576082.032982152], [233487.93342082915, 576082.1792140311], [233484.9277779715, 576097.8433527565], [233484.8244606021, 576098.3840067277], [233484.54916209297, 576099.8190734243], [233483.56736589494, 576105.3620483156], [233483.54734416932, 576105.4683741397], [233482.60934416932, 576110.1693741397], [233482.5043990082, 576110.596477484], [233481.50936361507, 576113.9935983131], [233474.84831257057, 576136.7327725546], [233472.58208344667, 576144.468074868], [233464.24722230108, 576173.8080620987], [233452.21550822715, 576221.5776099218], [233443.45396937046, 576257.5903905608], [233432.76524137185, 576304.1517128907], [233432.71335870793, 576304.3575754827], [233428.30035870793, 576320.4205754827], [233428.2463953098, 576320.6032962417], [233425.6440301319, 576328.8342618613], [233423.28736179482, 576337.8271347153], [233422.4631632965, 576347.8449799517], [233422.46262208826, 576347.8515058531], [233421.76162208826, 576356.2375058531], [233421.66071056033, 576356.9021577153], [233417.82771056032, 576374.2091577153], [233417.74995557254, 576374.5143660618], [233415.98486161468, 576380.630667657], [233410.81307403228, 576401.7003261312], [233402.20359227544, 576443.7948950639], [233402.17517693734, 576443.924979063], [233401.41107188366, 576447.2124309462], [233400.13011376077, 576452.7212508518], [233397.91815564904, 576462.2370706489], [233397.7959351739, 576462.6725176504], [233397.63486672554, 576463.0951391011], [233393.56986672553, 576472.4641391012], [233393.46432327462, 576472.6915981846], [233385.2433232746, 576489.3045981847], [233385.1805706066, 576489.4271354222], [233377.31157060663, 576504.2851354221], [233377.14772359302, 576504.5712762892], [233368.393723593, 576518.7532762892], [233368.0740270633, 576519.21173046], [233356.5217267027, 576533.9483874066], [233352.67314669056, 576541.6370454131], [233352.487277459, 576541.9751205521], [233352.46546014762, 576542.0114128105], [233349.76176217073, 576547.2367448385], [233349.643742789, 576547.4517464616], [233342.53909587016, 576559.6740544845], [233335.38412493197, 576572.3130865709], [233331.34049182024, 576584.4459128221], [233331.1254702595, 576584.9846596682], [233325.6934702595, 576596.5896596682], [233325.34610287912, 576597.2119662132], [233315.5700838806, 576612.1189847549], [233306.84744864085, 576627.8300727751], [233299.78925989717, 576644.381328223], [233299.70225840269, 576644.5739554563], [233294.51625840267, 576655.4379554562], [233294.24913079856, 576655.9257540581], [233292.86528053996, 576658.1495134332], [233287.3364306286, 576667.0362721892], [233287.27906276486, 576667.1263239057], [233276.38017223976, 576683.8380868322], [233269.87252689677, 576698.298002553], [233269.68787221785, 576698.6668455295], [233269.47344347255, 576699.0192129583], [233265.09796328834, 576705.583417816], [233264.88338266165, 576705.9425904063], [233249.1442390765, 576732.336844766], [233238.69421195908, 576750.82627], [233232.53434470002, 576762.9694983409], [233232.10558881363, 576763.8170390467], [233231.92581349605, 576764.1418739677], [233230.1481354481, 576767.0899981175], [233228.84973715973, 576769.2420008234], [233228.31633849113, 576770.1270031087], [233227.99194006287, 576770.6012758401], [233221.64821428846, 576778.819220047], [233220.41416176528, 576781.7374303879], [233220.2338709023, 576782.118200485], [233220.02216510862, 576782.4824412282], [233219.7805474164, 576782.8275666445], [233213.42011811747, 576791.1436793447], [233207.77189931742, 576799.1615531585], [233200.91315658446, 576812.7579560364], [233200.82564395393, 576812.9236409371], [233197.09432306935, 576819.678433487], [233194.4260148746, 576825.5652065115], [233194.2705196007, 576825.878609161], [233190.12451960068, 576833.5486091609], [233189.860714968, 576833.9824288419], [233189.55427441155, 576834.3872579234], [233189.20835785317, 576834.7589219309], [233186.3533578532, 576837.529921931], [233185.88096319293, 576837.9345081813], [233180.96903709287, 576841.6376231397], [233178.1755109565, 576846.3560113712], [233174.85232278777, 576853.7659231254], [233170.53162210665, 576868.6839783969], [233170.40145776654, 576869.072926521], [233170.23985275743, 576869.4498976333], [233170.04789450904, 576869.8123551197], [233170.03389450905, 576869.8363551198], [233170.02214373634, 576869.8563922176], [233157.325350171, 576891.3918267594], [233152.32063088074, 576903.4510552319], [233151.4105608632, 576906.142558987], [233151.24103957388, 576906.5762271447], [233151.03191190556, 576906.9922453617], [233149.12268399613, 576910.3865392039], [233147.46843542904, 576913.348821469], [233147.11651516758, 576913.8928946996], [233144.31851516757, 576917.6588946996], [233143.98876569414, 576918.0578091207], [233143.61954578664, 576918.4204991957], [233140.28276110892, 576921.3749343421], [233137.0068322142, 576925.2737804092], [233133.1950871906, 576933.4637678836], [233133.13391471546, 576933.5905104019], [233127.06791471544, 576945.7195104018], [233126.9201045425, 576945.9934023393], [233120.19528679585, 576957.5767308403], [233117.08451079074, 576964.0261856638], [233117.03162970592, 576964.1325730669], [233112.88162970592, 576972.2385730668], [233112.74159828422, 576972.4935237184], [233108.6172019636, 576979.5108709702], [233105.32764213774, 576985.3008020027], [233102.07248661536, 576992.8475422822], [233100.31899122184, 576997.2559136357], [233098.95227379954, 577003.2229359471], [233097.99347961415, 577009.3811951523], [233097.90550405852, 577009.8174892624], [233096.2875040585, 577016.3304892625], [233096.13114034204, 577016.8414690174], [233092.66614034204, 577026.3214690174], [233092.49948033268, 577026.7225003934], [233092.29864961148, 577027.1075572004], [233092.06516325922, 577027.4737345433], [233091.8007827131, 577027.8182699552], [233085.51674584887, 577035.3099466969], [233080.77178482505, 577042.0148239733], [233076.1646143746, 577050.3781116795], [233074.7152026652, 577054.8773793462], [233074.11179470748, 577059.5126081976], [233073.5154152115, 577064.1647678508], [233073.43955898102, 577064.6017775534], [233073.32527272627, 577065.0303452843], [233073.17345579623, 577065.4470985298], [233070.16345579622, 577072.6930985298], [233069.9520349488, 577073.1386531112], [233069.69774908104, 577073.5612124054], [233069.40307206547, 577073.9566654572], [233069.07087072826, 577074.32116502], [233063.74187072826, 577079.61816502], [233063.5327207357, 577079.8144585507], [233058.1795660545, 577084.5572140784], [233054.93238791707, 577089.393680107], [233043.22300910746, 577109.4710147536], [233035.7784943144, 577122.3032232552], [233032.15271997039, 577133.439530169], [233028.55400717573, 577144.7081057308], [233028.37991143874, 577145.1724198064], [233028.16067974037, 577145.6172055401], [233027.89846841627, 577146.0380880747], [233027.59585654442, 577146.4309276621], [233027.25582057744, 577146.791860381], [233026.8817050668, 577147.1173361421], [233026.47718976604, 577147.4041536065], [233026.0462534373, 577147.6494916732], [233025.59313471662, 577147.8509372276], [233025.12229042331, 577148.0065088763], [233024.6383517232, 577148.114676436], [233024.14607857706, 577148.1743759839], [233023.65031292228, 577148.1850203228], [233023.15593104807, 577148.1465047562], [233022.66779563297, 577148.0592081185], [233022.19070791613, 577147.9239890486], [233021.72936047293, 577147.7421775444], [232987.31170267166, 577132.1650012297], [232982.1447375092, 577141.349555384], [232884.52274716037, 577314.8765382287], [232874.69973559788, 577332.3375587815], [232768.7137312897, 577520.7315664394], [232761.5576321181, 577533.4517427115], [232632.76636808526, 577762.3603251878], [232619.737071503, 577785.7288894199], [232619.47495432023, 577786.148706645], [232619.17261647974, 577786.540553235], [232618.83302031097, 577786.9005898471], [232618.45949320323, 577787.225288815], [232618.05569500383, 577787.5114687132], [232617.6255821585, 577787.756325529], [232617.17336894598, 577787.9574601365], [232616.70348618604, 577788.1129018035], [232616.22053782604, 577788.2211275005], [232615.72925583107, 577788.281076824], [232615.23445381992, 577788.2921623857], [232614.7409799006, 577788.2542755684], [232614.25366916857, 577788.1677875903], [232613.77729633174, 577788.033545867], [232613.31652892777, 577787.8528657093], [232612.87588159106, 577787.6275174354], [232612.4596718181, 577787.3597090247], [232589.8786718181, 577771.1957090247], [232589.50502327053, 577770.9003443928], [232589.16117398793, 577770.5707671276], [232588.8502441069, 577770.2099678593], [232588.5750550487, 577769.8212205312], [232588.33810391746, 577769.4080526909], [232588.14154084088, 577768.9742134813], [232587.98714945992, 577768.5236396202], [232587.87633074354, 577768.0604196778], [232587.81009027635, 577767.5887569769], [232587.78902913362, 577767.112931451], [232587.80020811193, 577766.8941874626], [232520.13241505297, 577719.0522566577], [232435.59433037596, 577659.7726880832], [232435.56419205072, 577659.7848853352], [232435.09583438243, 577659.9230482092], [232434.6162330915, 577660.0148658924], [232434.12996257455, 577660.0594626354], [232433.64166083853, 577660.0564130784], [232433.15598526414, 577660.0057463079], [232432.67756818395, 577659.9079455792], [232432.21097269957, 577659.7639437071], [232431.76064915926, 577659.5751141696], [232431.33089271083, 577659.3432580068], [232430.92580233497, 577659.0705866432], [232402.35380233498, 577637.7395866432], [232402.176158657, 577637.600614839], [232390.348158657, 577627.909614839], [232390.24062166363, 577627.8189491653], [232378.16921200114, 577617.3474009986], [232370.74586424447, 577610.96683783], [232312.22689665694, 577560.6698656884], [232312.00031752526, 577560.4626921326], [232301.42831752525, 577550.1826921325], [232301.4084456231, 577550.1632613523], [232291.01834075383, 577539.9471582363], [232278.0667817097, 577527.2117479945], [232252.01369209934, 577512.4813448613], [232239.990585277, 577512.0989845737], [232239.5845951048, 577512.357985436], [232239.14390171738, 577512.5812929597], [232238.68332190273, 577512.7600194161], [232238.2073523368, 577512.892419885], [232237.72063994684, 577512.9772017307], [232237.22793654315, 577513.0135372212], [232236.73405242676, 577513.0010716107], [232236.24380942603, 577512.9399266018], [232192.49972230266, 577505.2729121009], [232191.10558617784, 577509.8560956253], [232191.0166720521, 577510.1214808406], [232181.54970310853, 577535.9539768881], [232179.73186417008, 577541.7098124903], [232179.70746362582, 577541.7849974164], [232176.3534636258, 577551.8479974164], [232176.3185885449, 577551.9490207831], [232173.17680771847, 577560.7440091444], [232169.40699237646, 577571.4259852433], [232169.38540613963, 577571.4859312077], [232165.62139207372, 577581.7334669841], [232162.29212143956, 577591.0979091914], [232159.1582578348, 577600.4766105604], [232159.06045839106, 577600.743757612], [232156.66345839106, 577606.755757612], [232156.57464826503, 577606.9645991569], [232153.8617566774, 577612.9623594749], [232150.80686514627, 577619.7181196007], [232150.64429423516, 577620.0452506704], [232136.44129423518, 577646.1832506703], [232136.1133452399, 577646.7068363198], [232130.42534523987, 577654.6508363198], [232130.36347278467, 577654.7353640284], [232127.67437346734, 577658.329496767], [232123.4967575408, 577663.912729886], [232117.28211578348, 577673.2337045026], [232117.1795982691, 577673.3816256239], [232113.50616321884, 577678.4833483017], [232113.15760904856, 577679.0443771214], [232108.78766490778, 577686.0753709797], [232102.34854460185, 577696.667867547], [232095.47474487525, 577708.9568463006], [232095.42691885127, 577709.0404493398], [232088.972551684, 577720.0751429227], [232084.64831285132, 577728.1067141849], [232083.63395816478, 577730.1354235226], [232081.11795816477, 577735.1664235226], [232081.0974037914, 577735.2070604485], [232076.4864037914, 577744.2210604484], [232076.46622855417, 577744.2600771794], [232075.61300985733, 577745.8924955524], [232072.48200985734, 577751.8814955524], [232072.39212467137, 577752.0458540036], [232069.04505411608, 577757.9027285085], [232064.4399157165, 577766.0665644917], [232064.35140916827, 577766.2172500473], [232062.9326008998, 577768.5389363047], [232059.76239674716, 577773.7282585785], [232056.76756919516, 577778.818273841], [232055.59527767624, 577780.811269023], [232052.66480109634, 577785.834515249], [232052.30234954265, 577786.3723351625], [232048.73834954266, 577790.9843351626], [232048.54525407281, 577791.2190994492], [232044.197480983, 577796.1891117591], [232040.47663692795, 577800.7363717478], [232040.3175315361, 577800.9214110043], [232034.4475315361, 577807.4204110043], [232034.38461818986, 577807.4887779958], [232028.13290206023, 577814.157010115], [232020.8323100383, 577822.2924388149], [232020.6989746006, 577822.4353035861], [232016.38137196313, 577826.8839244031], [232013.80043367174, 577829.5422610746], [232006.18152795665, 577837.5727075265], [232002.3079623564, 577842.2622212911], [232002.2159298063, 577842.3704700868], [231997.81773418674, 577847.3971221], [231992.16152847384, 577853.8917653735], [231992.0549007535, 577854.0103273311], [231986.60490075347, 577859.8793273311], [231986.59237898566, 577859.8927622141], [231981.5757886065, 577865.2553932079], [231980.5216872693, 577866.3818154075], [231972.7755244742, 577874.75618042], [231972.73225601297, 577874.8023680153], [231964.97525601296, 577882.9783680153], [231964.9609889078, 577882.9933436102], [231954.06098890782, 577894.3873436102], [231953.98353390594, 577894.466533906], [231945.43624129196, 577903.0138265198], [231943.96868182044, 577904.5628093703], [231937.93571848545, 577910.9307706694], [231937.68793370592, 577911.1747332796], [231927.41593370592, 577920.6077332797], [231927.24998612943, 577920.7535027381], [231916.76798612942, 577929.558502738], [231916.75802410243, 577929.5668488964], [231901.45502410244, 577942.3538488965], [231901.0625702102, 577942.6502581183], [231897.3135702102, 577945.2022581183], [231897.18626247664, 577945.2861072914], [231888.35726247664, 577950.9101072913], [231887.9070679775, 577951.165135955], [231875.36278101587, 577957.4372794358], [231858.83523609303, 577966.014916572], [231858.73935159305, 577966.063379269], [231845.53235159305, 577972.5613792689], [231845.51230767393, 577972.5711856211], [231836.11837392396, 577977.1411533918], [231830.1103327127, 577980.0641700098], [231819.55438320604, 577985.8600191918], [231810.01377723567, 577991.2521484606], [231803.24588703195, 577995.3937965579], [231796.10894463514, 577999.7613714691], [231790.30987348652, 578003.5618870924], [231780.50616901414, 578010.0283719565], [231768.55421347104, 578018.2712694092], [231760.70028035858, 578024.6636860996], [231759.72790338512, 578025.4547070501], [231750.32998814085, 578033.3910786007], [231750.2943293298, 578033.4209089298], [231743.0302609298, 578039.4404722216], [231735.13485123406, 578046.5043166733], [231734.99547402016, 578046.6244705556], [231728.7713292036, 578051.7935908204], [231722.73416014932, 578056.8070446339], [231710.95431448118, 578067.7607533307], [231710.27553390595, 578068.4395339059], [231707.03381104913, 578071.6812567628], [231697.85821159836, 578083.3039420963], [231694.01414902104, 578088.7029063903], [231693.2854662298, 578089.7264608187], [231689.27890296257, 578095.3562650344], [231687.89721952018, 578097.8055690292], [231687.78501128397, 578098.0041676774], [231684.88766361153, 578103.1399344546], [231680.2131800211, 578113.0976896269], [231678.3277440949, 578117.8898392577], [231673.91129971854, 578129.1134272414], [231673.69254603586, 578129.670341639], [231669.20795259744, 578141.4530828658], [231666.05170931964, 578152.2699962338], [231665.88978769997, 578152.8247277086], [231661.32460835838, 578168.4712056139], [231658.81828177854, 578177.2827751269], [231655.52332997005, 578188.8696056594], [231652.31222148341, 578200.1619871064], [231650.9506044099, 578204.9488144465], [231648.85465291742, 578213.3009086209], [231645.80363005266, 578225.4609997339], [231640.83463802031, 578245.2619679836], [231638.8882053345, 578253.0187369271], [231637.93196256316, 578256.8985498813], [231637.69879022226, 578257.8462490953], [231632.17977286308, 578280.2443195425], [231627.44576788522, 578299.4553397429], [231619.99980039074, 578329.671207835], [231618.38883305574, 578336.2100752488], [231618.38594125034, 578336.2217525009], [231612.21194660247, 578361.0247309996], [231607.05909702068, 578381.7261266995], [231606.87494402062, 578382.4667203863], [231606.82764159728, 578382.657901014], [231606.82596126918, 578382.6646720757], [231602.62494717786, 578399.5427286878], [231597.45694717788, 578420.3047286877], [231597.40753448728, 578420.4882808841], [231593.1785193357, 578435.0863331844], [231584.496513468, 578465.054353438], [231580.90552196853, 578477.449324097], [231576.22254485218, 578493.6142451061], [231567.56755912435, 578523.4921958371], [231567.55597599104, 578523.531576476], [231566.91681696652, 578525.6721089382], [231564.74783980165, 578532.9330324946], [231558.23085530862, 578554.751980577], [231552.39911442637, 578574.2763732994], [231545.86726252292, 578596.7456640678], [231544.9041489035, 578600.0590548723], [231543.2461489035, 578605.7610548723], [231543.24103633114, 578605.7785188399], [231538.45698248027, 578622.0107015416], [231538.0569735241, 578623.3677319252], [231532.4099931473, 578642.524665355], [231528.95001548802, 578654.263589558], [231523.1609054037, 578673.9049629977], [231522.06779120382, 578677.6126076157], [231519.14839302617, 578687.8823838963], [231517.3484044621, 578694.2133436735], [231513.99540003997, 578706.0073592268], [231508.41440004, 578725.6373592268], [231508.41261973814, 578725.6436056397], [231508.34753222062, 578725.8714119509], [231502.60934348614, 578746.0565581275], [231499.80137518988, 578755.9314466338], [231497.15143862428, 578765.2522235123], [231495.23331831218, 578772.0001287896], [231492.89556832027, 578780.2632433517], [231492.53080949595, 578781.550392299], [231487.84909855938, 578798.0933708837], [231485.48609352167, 578806.4453886754], [231484.52911963526, 578809.827296391], [231479.16304985376, 578828.7935429869], [231478.82006130402, 578830.0055025269], [231475.8732679605, 578840.4187722519], [231472.77641146648, 578851.3742645698], [231463.92541146648, 578882.6812645699], [231463.91757091388, 578882.7086982651], [231463.89555580466, 578882.7849044125], [231458.92741275072, 578900.3602600275], [231455.6414372811, 578911.9831732603], [231453.36846189934, 578920.0240861705], [231453.36472113564, 578920.0372506989], [231451.32102471875, 578927.192187861], [231451.10181827037, 578927.9609105866], [231446.4057920395, 578944.4060024418], [231443.09879923429, 578955.9859772479], [231438.40175527078, 578972.4341311869], [231435.34376233813, 578983.141106442], [231431.24551563605, 578997.4909585696], [231429.2459561576, 579004.8037470955], [231424.09097333797, 579023.656684263], [231417.43794057518, 579047.9908040826], [231414.80201810884, 579057.6305205377], [231414.33909563668, 579059.324236883], [231414.3319757222, 579059.3500155667], [231407.33694665128, 579084.4151197312], [231400.54853603238, 579108.7378215166], [231400.46877733432, 579117.1801869664], [231400.25377780828, 579139.9851366905], [231400.22498214868, 579140.4759000626], [231400.1481314325, 579140.9614634927], [231400.02396858454, 579141.4371329836], [231399.57320886536, 579142.8713684538], [231386.07744897425, 579185.8606036138], [231386.06592207745, 579185.896838538], [231385.1923609559, 579188.6071689961], [231385.14275195415, 579188.7634841526], [231385.13610072236, 579188.7842841598], [231378.86677987545, 579208.243377851], [231378.77247637298, 579208.5352223744], [231374.67636198807, 579221.2509861606], [231374.4455772527, 579222.1352287983], [231374.26867781352, 579222.8158400758], [231373.47765382548, 579225.8539322035], [231367.98865333915, 579246.9339340711], [231363.01365333915, 579266.0399340711], [231363.01016478977, 579266.0532562411], [231361.89922137553, 579270.2720413579], [231350.78327483247, 579312.4998382829], [231346.59911567802, 579328.3946771842], [231357.1592578824, 579335.5300354438], [231365.9091431554, 579341.4418513261], [231409.54231556313, 579369.4408773949], [231409.93433663895, 579369.7199474282], [231410.2977151808, 579370.0354100136], [231410.62908542235, 579370.3843432027], [231410.92537807187, 579370.7635150283], [231411.18384874114, 579371.1694134399], [231411.40210336514, 579371.5982788344], [231411.57812037691, 579372.0461388783], [231411.71026943225, 579372.508845302], [231411.79732651048, 579372.9821123225], [231411.83848525208, 579373.4615563394], [231411.83336442724, 579373.9427365392], [231411.78201146726, 579374.4211960264], [231411.68490202507, 579374.8925031064], [231411.54293556945, 579375.352292333], [231411.35742705403, 579375.7963049434], [231411.1300947373, 579376.2204283042], [231410.86304426772, 579376.620734005], [231410.55874918003, 579376.9935142447], [231410.2200279844, 579377.3353161742], [231409.8500180603, 579377.6429738794], [231409.45214659662, 579377.9136377038], [231409.0300988477, 579378.1448006443], [231408.58778399884, 579378.3343215716], [231408.12929895785, 579378.4804450626], [231407.6588904077, 579378.5818176594], [231310.02444289933, 579394.7503949587], [231309.63003691813, 579394.8161292889], [231283.93589327778, 579399.7333829821], [231263.0534573924, 579404.2619119872], [231234.72609845203, 579410.6578646952], [231194.39396147474, 579420.0234133442], [231193.9319412299, 579420.1080497103], [231193.46401755142, 579420.1489575603], [231192.99431988483, 579420.1457758808], [231192.52699333124, 579420.0985327503], [231192.06616206653, 579420.0076450912], [231191.6158929455, 579419.8739149909], [231191.18015961148, 579419.698522623], [231190.76280742895, 579419.4830158324], [231190.367519548, 579419.2292964751], [231189.9977844003, 579418.9396036349], [231172.85495763883, 579404.1572205913], [231172.7092131055, 579404.598420805], [231172.52190727362, 579405.0264176482], [231169.8119072736, 579410.5064176482], [231169.60354313295, 579410.885540231], [231169.36318732574, 579411.2452326466], [231169.09263915112, 579411.5828022441], [231168.79392392785, 579411.8957219835], [231167.01392392785, 579413.6057219835], [231166.62526092806, 579413.9424320189], [231166.20406996156, 579414.2374417564], [231165.75480609288, 579414.4876307884], [231165.28222132206, 579414.6903527897], [231164.7913143214, 579414.8434635082], [231115.47927717448, 579427.4814730283], [231066.54118257482, 579440.0232461389], [231002.47688437035, 579457.5713712507], [230979.94070019305, 579463.7442044689], [230927.88604294264, 579478.6967329533], [230884.70558006802, 579491.639479081], [230884.6629857308, 579491.6520402699], [230860.6557656299, 579498.6161041118], [230839.6478400012, 579504.7090825416], [230802.85291718986, 579515.3820601518], [230802.762843527, 579515.4072765348], [230777.80845443392, 579522.1422675935], [230738.16327364664, 579533.8284224937], [230734.1442013402, 579535.1224494486], [230709.34095538463, 579543.1073155778], [230704.4700886533, 579544.8321882065], [230643.76581858238, 579566.3301805592], [230617.26356676687, 579576.1826334608], [230581.35431151313, 579589.5084507595], [230579.2179579259, 579590.3270073399], [230579.17127117142, 579590.3446289768], [230565.19048021332, 579595.5420365344], [230564.9524398688, 579595.6303098288], [230500.04979283258, 579619.7601146948], [230482.94713833721, 579626.2635189451], [230482.8876501736, 579626.2857084536], [230443.69173535996, 579640.6232403826], [230424.15085324552, 579648.0945077835], [230425.12751383652, 579650.6371490342], [230425.2778597983, 579651.092753963], [230425.38384680776, 579651.5606711706], [230425.44449902227, 579652.0365924543], [230425.45925800534, 579652.5161359161], [230425.42798786823, 579652.9948863082], [230425.35097652103, 579653.4684356845], [230425.22893302186, 579653.9324239858], [230425.0629810485, 579654.3825791833], [230424.85464855234, 579654.8147566126], [230424.60585369033, 579655.2249771338], [230424.3188871641, 579655.6094637684], [230423.99639112913, 579655.9646764749], [230423.64133486777, 579656.2873447421], [230423.25698745067, 579656.574497702], [230422.84688763763, 579656.8234914824], [230421.75906455098, 579657.4144814356], [230420.67715116305, 579658.0016800178], [230419.17105326947, 579659.2077584107], [230418.91744010997, 579659.6098837807], [230418.6658220375, 579660.5599926047], [230419.28089453164, 579662.3228343066], [230419.4183320298, 579662.7882174953], [230419.51000975788, 579663.2647316844], [230419.55506421957, 579663.747888671], [230419.55307105483, 579664.233137685], [230419.504049037, 579664.7159082516], [230419.40845989573, 579665.1916532402], [230419.26720396825, 579665.6558916932], [230419.08161171916, 579666.1042510305], [230418.85343120905, 579666.5325082347], [230418.58481162976, 579666.9366296271], [230418.27828306158, 579667.3128088599], [230417.9367326429, 579667.6575027672], [230417.56337737673, 579667.9674647382], [230417.16173383026, 579668.2397752957], [230416.735585013, 579668.4718695951], [230416.2889447453, 579668.661561581], [230415.82601985283, 579668.807064578], [230415.35117054332, 579668.9070081194], [230414.8688693384, 579668.9604508545], [230414.38365894777, 579668.9668894158], [230413.90010948235, 579668.9262631594], [230413.422775409, 579668.8389547368], [230412.9561526529, 579668.7057864908], [230412.50463625134, 579668.5280127096], [230412.07247895736, 579668.3073078127], [230411.66375118413, 579668.0457505807], [230411.28230266622, 579667.7458045749], [230410.93172619978, 579667.4102949336], [230410.61532380249, 579667.0423817629], [230390.14094544164, 579640.7550258248], [230373.32047839128, 579623.3886452153], [230367.503845163, 579617.3832716758], [230363.34841240547, 579614.3044527118], [230362.97062743045, 579613.9948544557], [230362.6248529065, 579613.6498725052], [230362.31438852625, 579613.2727989897], [230362.04219702107, 579612.8672322849], [230361.810875888, 579612.4370426744], [230361.62263260214, 579611.9863354159], [230361.47926355083, 579611.5194115648], [230361.38213689096, 579611.0407269301], [230361.3321794928, 579610.5548495527], [230361.32986809497, 579610.0664161129], [230361.37522475488, 579609.5800876839], [230361.46781663835, 579609.1005052502], [230361.60676015005, 579608.6322454205], [230361.79072936557, 579608.1797767527], [230362.01796868458, 579607.7474171114], [230363.7180429219, 579604.8641589938], [230358.05385916383, 579599.9349426834], [230353.56006750325, 579596.025123949], [230353.2126949607, 579595.6922070208], [230352.89892998087, 579595.3274428478], [230352.62167804464, 579594.9342091662], [230352.38350652004, 579594.5161473415], [230352.18662088842, 579594.0771286489], [230352.03284432145, 579593.6212184253], [230351.92360079853, 579593.1526384245], [230351.85990192063, 579592.6757277228], [230351.84233754288, 579592.1949025394], [230351.87107031237, 579591.7146153415], [230351.94583416203, 579591.239313615], [230352.0659367746, 579590.7733986797], [230352.08897314855, 579590.7100054192], [230331.70399730295, 579573.8113508269], [230261.91770647938, 579515.9609574778], [230259.6148627516, 579518.6782976678], [230259.59790449945, 579518.7173389186], [230259.3699655603, 579519.3289869811], [230259.17261242808, 579519.954775822], [230259.01344973117, 579520.5691855341], [230258.85338195227, 579521.3833484642], [230258.74830778243, 579522.1917762606], [230258.69628106809, 579523.0028228484], [230258.69770742313, 579523.8158452173], [230258.76207486633, 579524.7796629851], [230258.8622035047, 579526.1765070589], [230258.87439321209, 579526.4561057715], [230258.89639321208, 579527.8681057715], [230258.89320582984, 579528.1407493413], [230258.83820582984, 579529.5517493413], [230258.81944553021, 579529.8313795881], [230258.68544553022, 579531.2373795882], [230258.65140268096, 579531.5131799345], [230258.43940268096, 579532.9101799345], [230258.39084315783, 579533.1800541459], [230258.10284315783, 579534.5620541458], [230258.039174698, 579534.8303132529], [230257.675174698, 579536.1953132529], [230257.59514770485, 579536.4647533459], [230257.15514770485, 579537.8067533459], [230257.06256031228, 579538.0649889363], [230256.54956031227, 579539.3809889363], [230256.44222618936, 579539.6353478386], [230255.85722618937, 579540.9213478387], [230255.73557343177, 579541.1702410855], [230255.08057343177, 579542.4212410854], [230254.94345647952, 579542.6661406691], [230254.2194564795, 579543.8781406692], [230254.07194083853, 579544.110330711], [230253.28194083853, 579545.281330711], [230253.12251236706, 579545.5042202921], [230252.2695123671, 579546.6302202921], [230252.09299775603, 579546.850064077], [230251.17799775602, 579547.926064077], [230250.99541156762, 579548.1292578554], [230250.0234115676, 579549.1532578553], [230249.82658251582, 579549.3494012653], [230248.79858251582, 579550.3184012653], [230248.59283787795, 579550.501893423], [230247.51283787793, 579551.412893423], [230247.29579548523, 579551.5858943553], [230246.16779548523, 579552.4348943552], [230245.94021747535, 579552.5964347973], [230244.76621747535, 579553.3814347973], [230244.53183891517, 579553.5289278451], [230243.31583891518, 579554.2479278451], [230243.0762026382, 579554.3808954008], [230241.82320263822, 579555.0318954007], [230241.57394236448, 579555.1527517478], [230240.28594236448, 579555.7337517478], [230240.02940438973, 579555.8409913013], [230238.71240438972, 579556.3489913014], [230238.4494619548, 579556.442075731], [230237.10546195478, 579556.876075731], [230236.84320863915, 579556.9529138921], [230235.47720863917, 579557.3129138921], [230235.20467233006, 579557.3766378253], [230233.82067233004, 579557.6596378253], [230233.54840669798, 579557.707510474], [230232.151406698, 579557.9135104739], [230231.87850748136, 579557.9461164797], [230230.4715074814, 579558.0751164798], [230230.19206816782, 579558.0928637028], [230228.7810681678, 579558.1428637027], [230228.50840840946, 579558.1450861412], [230227.09640840947, 579558.1180861412], [230226.81690665142, 579558.1049106469], [230225.4079066514, 579557.998910647], [230225.1314602264, 579557.9703678422], [230223.7314602264, 579557.7863678422], [230223.4589924323, 579557.7428793245], [230222.0709924323, 579557.4818793244], [230221.8023177666, 579557.4236677286], [230220.4303177666, 579557.0866677286], [230220.1602877824, 579557.012262696], [230219.898566578, 579556.9321953943], [230207.12473156568, 579566.9095035731], [230032.791499669, 579703.0725296448], [230032.01849997864, 579703.9085042429], [230031.08439891067, 579705.0054382992], [230030.1970809507, 579706.1386500923], [230029.3562771869, 579707.3084259843], [230028.56462929008, 579708.5116607301], [230027.8221153544, 579709.7462652695], [230027.1312931353, 579711.010583754], [230026.49234381237, 579712.3016114956], [230025.90779757054, 579713.6177156089], [230025.37770271188, 579714.9551991713], [230024.9031650683, 579716.3157738912], [230024.6483192956, 579717.1532002925], [230024.62488803652, 579717.9553122316], [230024.29290442096, 579729.427745981], [230024.10190442094, 579736.022745981], [230024.06216626195, 579736.5234357589], [230023.97239636278, 579737.0176125898], [230023.83350057132, 579737.5002898464], [230023.6468804537, 579737.9665969413], [230023.4144191516, 579738.4118284744], [230023.13846237972, 579738.8314917143], [230022.82179475567, 579739.221351934], [230022.46761170126, 579739.5774751416], [230022.079487198, 579739.8962677779], [230021.6613377229, 579740.1745129782], [230021.21738272824, 579740.4094030326], [230020.752102064, 579740.5985677188], [230020.27019077263, 579740.7400982181], [230019.77651171258, 579740.8325663783], [229996.46651171258, 579743.9965663783], [229996.3466682227, 579744.0113619143], [229991.65318644635, 579744.5333480921], [229983.31163003072, 579747.7678101283], [229983.25954864433, 579747.7876715986], [229975.7730962737, 579750.5949647285], [229965.56996955443, 579754.4123883782], [229955.40108406404, 579759.7444303328], [229945.36417330656, 579767.7093022524], [229934.62256226924, 579778.3144588998], [229917.15122952635, 579795.7138232258], [229917.09026631754, 579795.7735080546], [229902.97924340118, 579809.3547891296], [229902.263826169, 579810.2348783899], [229901.90237737072, 579810.6336075884], [229891.7313773707, 579820.7066075883], [229891.4922126781, 579820.9284886026], [229873.4762126781, 579836.5804886026], [229873.08103943878, 579836.8903991621], [229861.25015949726, 579845.2443143876], [229857.16997650487, 579848.1257374171], [229855.03967240636, 579849.6312456162], [229854.7278897047, 579849.8346177562], [229854.401840583, 579850.0142302575], [229848.33571791265, 579853.067291995], [229842.20576263624, 579856.1522694873], [229841.1408025216, 579856.6882494135], [229840.71642358642, 579856.8776553163], [229828.53742358641, 579861.6476553163], [229828.09233688103, 579861.7982654361], [229820.98233688102, 579863.8372654361], [229820.54472448112, 579863.9417064105], [229820.09949550437, 579864.0063878447], [229819.12549550438, 579864.1033878447], [229819.01224470997, 579864.1133674872], [229815.00824470996, 579864.4203674872], [229814.56808101607, 579864.4346645279], [229814.12836665416, 579864.4101744747], [229813.69251290156, 579864.3470873198], [229808.79351290158, 579863.4160873197], [229808.36963090702, 579863.3162291243], [229801.6727126703, 579861.427252187], [229794.4997947827, 579859.4042753452], [229794.33393605324, 579859.3543813595], [229765.91093605326, 579850.2643813596], [229765.87567034812, 579850.2529587133], [229760.87348806654, 579848.6122269277], [229758.94709695407, 579847.9810986202], [229748.14717636898, 579844.4397641794], [229705.43825934167, 579830.5364188766], [229705.31731111766, 579830.4953297586], [229689.3623069908, 579824.8466823337], [229637.6192462384, 579806.5523679755], [229631.0712545974, 579804.240204437], [229584.8398062947, 579789.1852713691], [229584.4532197341, 579789.0414907897], [229582.52862329417, 579788.2338389839], [229569.57743555328, 579783.1937508081], [229553.8436833671, 579777.7436393213], [229535.26884748356, 579771.7401211264], [229528.67995624666, 579770.1240698901], [229528.46607971768, 579770.0665621805], [229524.42207971765, 579768.8825621805], [229524.37240672938, 579768.8677389579], [229518.90938029977, 579767.206594495], [229516.38227990046, 579766.8107729915], [229515.98814391484, 579766.7326984856], [229515.60154942083, 579766.6232293082], [229512.98154942083, 579765.7662293081], [229512.4451831901, 579765.5558592082], [229511.93657834933, 579765.2851833351], [229510.26085736466, 579764.2653475972], [229493.0256052385, 579758.5716455083], [229492.9371305433, 579758.5414975998], [229484.04182128908, 579755.4173060344], [229476.983376686, 579752.9841835224], [229403.81125954428, 579728.3771973329], [229403.78992050968, 579728.3699676922], [229374.63815546816, 579718.4201073195], [229353.81295509994, 579712.1974774579], [229335.957681506, 579707.2612247749], [229335.92184621046, 579707.2511740671], [229331.40384435587, 579705.9658553675], [229326.66700699826, 579704.9179683649], [229326.17708137713, 579704.7831418262], [229325.703370209, 579704.5992857983], [229321.94195082271, 579702.9147652457], [229313.997469762, 579699.8895393435], [229284.30617052942, 579690.5600639638], [229284.1844674051, 579690.5201029703], [229252.31346740513, 579679.6011029703], [229252.21217804338, 579679.5651803492], [229224.5621780434, 579669.4231803492], [229224.48031093023, 579669.3923363314], [229194.4633109302, 579657.7823363313], [229194.3765038004, 579657.7478253498], [229192.2145038004, 579656.8648253499], [229192.0151634025, 579656.7783103148], [229189.5851634025, 579655.6603103147], [229189.514622389, 579655.6271871305], [229170.09879958027, 579646.3249542266], [229148.55339469278, 579637.0084780026], [229137.18275167872, 579632.6287394083], [229130.116757413, 579630.7830148938], [229128.0503628252, 579630.261840721], [229120.46893094288, 579629.2708227577], [229120.46136484307, 579629.2698278708], [229119.72468529126, 579629.1723879301], [229105.47132788034, 579628.102755788], [229098.58411594614, 579628.4245278047], [229094.54033871705, 579629.0696440164], [229081.5412300683, 579631.4123165725], [229075.02821670656, 579632.7906588567], [229074.60138211778, 579632.8618491009], [229069.8010906568, 579633.4503037216], [229058.5075867639, 579635.1579466223], [229055.6865867639, 579635.5839466223], [229055.28843660298, 579635.6278444176], [229038.69743660296, 579636.7868444176], [229038.27700478543, 579636.798481642], [229032.30500478545, 579636.712481642], [229032.14859330747, 579636.7077803138], [229026.35359330746, 579636.4427803138], [229026.19934051012, 579636.4333356672], [229022.03034051013, 579636.1133356673], [229021.98818086245, 579636.109920182], [229004.02867642866, 579634.5784742925], [229000.82107324965, 579634.6458958393], [229000.46463070624, 579634.6406773502], [228995.67617736766, 579634.3996385226], [228985.5899434588, 579635.4951648214], [228980.27658594493, 579636.4256588967], [228967.50951347928, 579642.039408845], [228956.19473664518, 579648.5948568671], [228948.2315321039, 579653.9094937441], [228941.41326416057, 579658.9242635397], [228933.38857032315, 579665.7115410132], [228930.21177871645, 579668.6404299305], [228922.21574141658, 579676.5412763102], [228916.45505238633, 579683.4733486222], [228914.417878849, 579687.1948656408], [228911.5514843018, 579694.5615654349], [228906.23398528912, 579711.7740913732], [228897.38309566904, 579746.2667487037], [228897.29847109495, 579746.5592370627], [228896.98650451194, 579747.5261782629], [228895.80087606344, 579753.5311492287], [228894.01084895353, 579763.4076761038], [228893.99761759708, 579763.4778231416], [228888.76557935128, 579790.1683962966], [228885.67263959223, 579809.2873939783], [228881.1251773238, 579840.7972982506], [228878.7340644545, 579866.0301975652], [228878.25775859063, 579871.9551686605], [228877.69597050778, 579885.6157506115], [228877.4286966114, 579892.426954782], [228879.13487555913, 579909.6563586592], [228881.0110302277, 579919.7920401915], [228882.6822881865, 579926.5876363859], [228884.96422507666, 579931.3541565542], [228888.09669496428, 579936.2700903293], [228888.34263720125, 579936.7020345436], [228888.5444772676, 579937.156263534], [228888.70022047163, 579937.6282883665], [228888.8083276756, 579938.113444239], [228888.86773050623, 579938.6069365812], [228888.87784191297, 579939.1038884376], [228888.83856196943, 579939.5993886638], [228888.7502788611, 579940.0885404613], [228888.6138650489, 579940.5665097699], [228888.43066864717, 579941.028573041], [228883.18420706157, 579952.5535867163], [228882.1354068656, 579954.8561480617], [228879.41658872153, 579960.8281589667], [228877.92921872303, 579964.1203375021], [228876.35975990983, 579967.5927152071], [228875.5874839216, 579969.3126485694], [228868.73968044232, 579984.5712106737], [228868.51031426035, 579985.0202077536], [228868.23689585525, 579985.443822672], [228867.92220542434, 579985.8377479898], [228867.56944283086, 579986.1979781606], [228867.1821950668, 579986.5208502599], [228866.76439977926, 579986.803081231], [228866.3203052315, 579987.0418012678], [228865.85442710517, 579987.2345829959], [228865.3715025836, 579987.3794661551], [228864.87644218298, 579987.4749775315], [228864.37427982042, 579987.5201459378], [228863.87012162796, 579987.5145120887], [228863.36909403172, 579987.4581332708], [228862.87629162509, 579987.3515827602], [228862.3967253653, 579987.1959439932], [228824.97986636963, 579972.929997754], [228808.32860139414, 579966.5825153012], [228807.1314808231, 579966.1257585747], [228803.8962449184, 579964.9006869403], [228755.4076267259, 580004.3554381735], [228749.0487217391, 580010.2731050494], [228742.66361492864, 580016.4367801348], [228742.61819081617, 580016.4841792086], [228740.9104376324, 580018.2708285921], [228740.4530863562, 580018.6932162358], [228734.57908635619, 580023.4762162359], [228734.5420609455, 580023.5060730345], [228708.9991594587, 580043.9038000957], [228699.07958496184, 580051.8593885219], [228685.34651101715, 580063.2407583625], [228685.31596622558, 580063.2658694756], [228680.46902298232, 580067.2185644095], [228678.93609589047, 580068.616481409], [228678.82151404384, 580068.717805361], [228677.205389232, 580070.1034667415], [228674.29726110637, 580072.7802883066], [228669.6610993141, 580077.3212335642], [228666.32598896217, 580080.704894245], [228666.20549302813, 580080.8230859586], [228664.33648134526, 580082.5954589777], [228662.33822401118, 580084.5050690364], [228658.4443327064, 580088.9421845392], [228655.4298758013, 580092.815618797], [228652.6376996012, 580098.1103224986], [228652.40013300453, 580098.5138109829], [228652.125864324, 580098.8933074069], [228651.81729879556, 580099.2454837257], [228651.47714242584, 580099.567251482], [228651.10837826165, 580099.8557888905], [228650.71424022966, 580100.1085655837], [228650.29818477613, 580100.3233648026], [228649.6933482682, 580100.6005672407], [228646.61357117302, 580104.719208855], [228644.26282617566, 580107.8861293226], [228644.15862499698, 580108.0216078272], [228642.39130346596, 580110.2399010593], [228640.07776090983, 580113.6418366483], [228638.73077403457, 580115.7269108993], [228637.7234638714, 580117.6103805352], [228636.6310861002, 580119.6588255066], [228635.66664719823, 580121.7141442153], [228634.82432480378, 580123.9747753243], [228634.79358761638, 580124.0551473439], [228633.882296673, 580126.3778972328], [228633.07275653176, 580128.8342733185], [228632.0271786568, 580132.3349739251], [228631.34881350637, 580135.1818526036], [228629.54620931245, 580143.4381152717], [228628.9817353925, 580146.4023370697], [228628.94543189657, 580146.5761275048], [228627.44443189655, 580153.1741275048], [228627.393542765, 580153.3779307326], [228625.469542765, 580160.4479307326], [228625.4257695062, 580160.5993233687], [228623.80812156296, 580165.880671822], [228623.05512630744, 580168.564625002], [228622.95863663492, 580168.8704735377], [228622.3790858851, 580170.5210340731], [228621.98436914835, 580171.8792972089], [228621.85814089855, 580172.2568670505], [228621.32914089857, 580173.6518670504], [228621.1332798321, 580174.1007227967], [228620.5752798321, 580175.2257227967], [228620.3423031268, 580175.6438692686], [228620.07040911834, 580176.037821379], [228619.76208971124, 580176.403968563], [228619.42017064805, 580176.738955087], [228619.04778561176, 580177.039710805], [228618.64834750557, 580177.3034792952], [228618.2255171736, 580177.5278431237], [228617.78316984934, 580177.710745999], [228617.32535963922, 580177.8505116194], [228616.85628236688, 580177.945859035], [228616.38023711825, 580177.9959143883], [228611.95719026978, 580178.2477604722], [228604.26894842004, 580178.9113938193], [228603.4038241707, 580178.986404474], [228600.6283081014, 580179.2264490802], [228583.920797315, 580180.6696791785], [228533.98127129572, 580185.3977407893], [228533.9512895117, 580185.400488286], [228524.29009537955, 580186.256505483], [228484.17558277657, 580189.8092224157], [228457.05910501414, 580192.3698510702], [228434.79115103753, 580194.4730298409], [228421.61071582782, 580195.990948345], [228413.75225812072, 580199.442569197], [228408.59715636348, 580206.5536004996], [228405.63978539588, 580218.0959572376], [228405.61, 580218.2119132173], [228405.61, 580218.7640722523], [228405.61299968214, 580226.8472171058], [228405.61999968212, 580246.4782171057], [228405.59613795308, 580246.9679047773], [228405.524432967, 580247.4529014709], [228405.40557413403, 580247.9285441684], [228405.24070422666, 580248.3902597859], [228405.03140839256, 580248.8336091421], [228404.77969891406, 580249.2543296387], [228404.48799586098, 580249.6483762433], [228404.15910382275, 580250.0119603808], [228403.79618494373, 580250.3415863584], [228403.4027285205, 580250.6340849752], [228402.982517454, 580250.8866439929], [228402.53959187854, 580251.0968351736], [228402.07821031805, 580251.2626376267], [228401.60280874211, 580251.3824572386], [228401.1179579162, 580251.4551419993], [228400.62831945604, 580251.4799930786], [228394.7537989368, 580251.4897676551], [228383.61906741967, 580252.112206063], [228383.34779624833, 580252.1199939218], [228364.10779624834, 580252.1499939219], [228363.9762936992, 580252.1484694409], [228323.1662936992, 580251.1384694409], [228322.96217743325, 580251.1292416623], [228287.226809636, 580248.7812174823], [228283.091809636, 580248.5092174823], [228282.93972475268, 580248.4968801158], [228262.84693021062, 580246.5578999427], [228256.51013602805, 580245.9469197872], [228256.24141222268, 580245.9136440344], [228229.56619277835, 580241.8743679267], [228207.89097474434, 580238.6350825747], [228207.70156682027, 580238.6030450669], [228191.06969068653, 580235.4600684744], [228179.28181409778, 580233.2330917893], [228179.0372300614, 580233.1805154737], [228168.4232300614, 580230.6195154737], [228168.32713832852, 580230.595319888], [228137.48413832852, 580222.503319888], [228137.3931422078, 580222.4785264506], [228118.7571422078, 580217.2115264506], [228118.50001699917, 580217.1313175729], [228102.79901699917, 580211.7653175729], [228102.6117906515, 580211.6971350642], [228098.4867906515, 580210.1011350641], [228098.06952532998, 580209.9174028944], [228097.67073093576, 580209.6964257691], [228097.29372333034, 580209.44004105], [228096.94163722426, 580209.1503805026], [228096.71817535532, 580208.9294749742], [228094.00892463318, 580208.0073324584], [228093.5099129954, 580207.8069386531], [228093.0353083366, 580207.5541132], [228089.23440327417, 580205.2588076394], [228083.11383246008, 580203.2094520929], [228054.57610549647, 580194.0986758292], [228023.25421179098, 580184.8440715502], [228023.1252340651, 580184.8040612693], [227998.4542340651, 580176.7840612693], [227998.44437089586, 580176.7808436517], [227991.86824696386, 580174.6279929834], [227978.70495677507, 580170.8034429498], [227978.40803326084, 580170.7070237569], [227901.6907853667, 580143.118846], [227837.8926088576, 580120.8404667822], [227837.8358564833, 580120.8202644167], [227783.74509870954, 580101.1974311558], [227738.4053719851, 580085.0595114903], [227738.368371669, 580085.0461776572], [227737.4469441447, 580084.7100216654], [227691.30294400043, 580067.8709693322], [227691.23608125042, 580067.8475329044], [227691.22662120798, 580067.8442063575], [227650.58021444432, 580053.5054127065], [227599.15185349315, 580035.7934875941], [227599.0679553937, 580035.7637551305], [227565.53883799576, 580023.5444412238], [227539.6466925699, 580014.1318390107], [227512.51687698837, 580004.7240399024], [227501.74524300024, 580000.9889162404], [227451.02485764158, 579984.151664915], [227389.40341168907, 579965.3587422566], [227356.3264058863, 579955.3309531573], [227339.66143707652, 579950.2789626126], [227339.64470628605, 579950.2738586963], [227299.89870628607, 579938.0728586963], [227299.8746977467, 579938.0654226121], [227221.42091307612, 579913.5499269475], [227161.9932236225, 579895.7211203411], [227161.97067173768, 579895.7142966264], [227098.14216419376, 579876.236888118], [227064.55666578424, 579866.1184494264], [227064.38207672737, 579866.0623379853], [227035.54207672738, 579856.2063379852], [227035.35079671594, 579856.1365878071], [227020.17540247427, 579850.2501390604], [227007.2098729557, 579845.6863522129], [227007.0086685348, 579845.6106298254], [226923.3618190878, 579812.0603319785]]]}, "_shape": null}, {"type": "Feature", "properties": {"p": "ja"}, "geometry": {"type": "Polygon", "coordinates": [[[150210.53950762752, 479507.3369320838], [150087.20789565207, 479389.21507541265], [150003.78101246463, 479464.95983673516], [149969.3449873156, 479496.2258595684], [149551.0409873156, 479876.0118595684], [149550.7099821922, 479876.2873367867], [149427.7399821922, 479969.9673367867], [149427.73189265942, 479969.9734865074], [149423.34879402065, 479973.29852691543], [149330.02670193656, 480044.3815502732], [149129.6397160895, 480197.0175394928], [149129.31786944217, 480197.24326576415], [148866.75787648803, 480366.39226122503], [148196.99787648805, 480797.873261225], [148196.67422495838, 480798.06493701297], [148196.3370796767, 480798.2317392294], [147769.99707967672, 480989.5517392294], [147769.6285249223, 480989.6998358873], [147769.24937765326, 480989.81821061205], [147626.05052875614, 481028.35616994696], [146470.5038035625, 481339.417095972], [146294.59965499633, 481386.77813596436], [144834.38065940674, 481779.84513477713], [144780.26167272628, 481794.41313119174], [144237.9096777308, 481940.4081298446], [144237.4796062285, 481940.50379782356], [143915.07787076174, 481997.444104014], [143843.24787076176, 482010.104104014], [143842.85820644052, 482010.1570793243], [143629.4982064405, 482030.6570793243], [143628.9933090038, 482030.67992875853], [143628.4886842888, 482030.65169021714], [143627.98948841996, 482030.57265223406], [143117.90021403437, 481923.1354425257], [142590.23008545474, 481825.60575014824], [141599.18911019104, 481662.72280762874], [139959.18908227005, 481393.1838030398], [138903.58859935123, 481219.6857650248], [138751.71108292168, 481229.2578358565], [138567.5868218456, 481333.37495603086], [138421.316187108, 481542.337272428], [138421.14157016997, 481542.5718200144], [138307.43652852933, 481686.32687265915], [138192.8915481961, 481831.13984779554], [138071.2312548378, 481984.95221864106], [138045.17244078958, 482017.890983595], [138038.55954342306, 482026.2518538298], [138006.12154342307, 482067.2618538297], [138006.09037618883, 482067.3008554741], [137785.00399575787, 482341.1463721461], [136536.25460413122, 483895.2068815489], [135106.52760413123, 485674.4918815489], [135106.511032846, 485674.5123933841], [134034.81, 486993.92478984647], [134034.81, 489019.85999874055], [138001.66666554727, 491995.0], [141276.49, 491995.0], [141276.97957271594, 491995.0240258687], [141277.46444046794, 491995.0958725777], [141277.9399435085, 491995.2148496552], [141278.40151208814, 491995.37981369026], [141278.84471037242, 491995.589179321], [141279.26527907184, 491995.84093447117], [141279.6591763751, 491996.1326596861], [141280.0226167922, 491996.46155138523], [141280.3521075345, 491996.82444880507], [141280.64448208146, 491997.2178643752], [141280.89693061207, 491997.63801723544], [141281.1070270083, 491998.08086957067], [141281.27275217068, 491998.54216541623], [141281.3925134229, 491999.01747155865], [141281.4651598177, 491999.50222014077], [141281.48999319796, 491999.9917525603], [141281.4667749063, 492000.4813642406], [141281.39572807853, 492000.9663498433], [141281.27753549936, 492001.4420484882], [141281.11333304056, 492001.9038885461], [141054.6233630203, 492551.90381574444], [140971.73339057, 492753.2087488377], [139956.27439049238, 495219.3237490263], [139181.09438927373, 497101.9037519858], [138954.62338927374, 497651.9037519858], [138954.3613325064, 497652.44515414], [138954.03616027228, 497652.95117099746], [136870.16515930297, 500502.95117232314], [136504.03315929856, 501003.6901723292], [136382.5331615849, 501169.85916920233], [135984.29116032922, 501714.51417091966], [135554.48523572515, 502302.33699425985], [135144.60130192485, 503501.61702878634], [134169.98130353217, 506353.28702408343], [133606.62930288122, 508001.61702598806], [132856.0969223482, 510197.6213206832], [133813.08705236026, 510717.3349019045], [135861.02041783454, 507996.99278977735], [139248.72041740798, 503496.99279034394], [141507.18641753885, 500496.99279017013], [145367.44041794498, 495369.2817896306], [145958.6276028374, 494583.9873040999], [146232.99979207653, 494194.33836213127], [146241.63116609008, 494182.0798310357], [146258.1391203804, 494158.6418959342], [146283.63609417478, 494122.4389331435], [146284.88431087733, 494120.66662547825], [146571.5553916437, 493713.6955108222], [146581.60636760318, 493699.42754494905], [146732.4843436052, 493485.23957901687], [146732.51500744838, 493485.1965333302], [146761.7390074484, 493444.6275333302], [146761.8016111039, 493444.54253306804], [146791.8756111039, 493404.5995330681], [146791.93970124586, 493404.5162473889], [146819.23770124587, 493369.80324738886], [146819.29733990517, 493369.72887908126], [146854.64333990516, 493326.5038790813], [146854.7179570012, 493326.4147631384], [146887.25995700122, 493288.4547631384], [146887.32952143907, 493288.37532972015], [146920.66552143905, 493251.1113297202], [146920.7367635644, 493251.03336599265], [146954.8527635644, 493214.48136599263], [146954.92552962297, 493214.40503411746], [146989.80352962296, 493178.5820341175], [146989.87802326216, 493178.5071220612], [147025.50602326216, 493143.4281220612], [147025.58209231595, 493143.3547918585], [147061.94409231594, 493109.03579185857], [147062.02990128487, 493108.9566772161], [147103.5579012849, 493071.5556772161], [147103.62847564998, 493071.49331019906], [147136.95447564998, 493042.59731019905], [147137.0350426187, 493042.5289309248], [147175.49504261868, 493010.57993092475], [147175.57710935423, 493010.5132117579], [147214.70510935422, 492979.3842117579], [147214.78829013588, 492979.3194557653], [147254.5622901359, 492949.0234557653], [147254.6469689804, 492948.96035744046], [147295.0529689804, 492919.51035744045], [147295.1389224745, 492919.44908877433], [147336.1569224745, 492890.85908877436], [147336.24525518238, 492890.79891240416], [147378.4212551824, 492862.7219124042], [147378.50872442045, 492862.6649915663], [147420.13472442044, 492836.1909915662], [147420.22434636892, 492836.1353116088], [147462.97034636894, 492810.1993116088], [147463.06115266573, 492810.14551813895], [147506.34515266572, 492785.11751813896], [147506.43710880293, 492785.0656343034], [147550.23910880293, 492760.95763430337], [147550.33206905308, 492760.9077408512], [147594.63406905308, 492737.7287408512], [147594.7282607253, 492737.6807209066], [147639.5102607253, 492715.4437209066], [147639.5789890139, 492715.4102456129], [147659.7969890139, 492705.7532456129], [147659.81850543787, 492705.74303129676], [147774.6318361399, 492651.5733470759], [147799.46029977023, 492639.85012833774], [147817.74528736345, 492631.2221341921], [147860.34428106825, 492611.12113716255], [148988.56634310907, 492078.7501078881], [149010.98245377847, 492068.17305567034], [149016.3763534846, 492065.6281029911], [149519.689561695, 491828.12736411503], [149745.54548255572, 491720.9780434626], [149970.94873674575, 491612.89303242374], [150195.90202305818, 491503.87110187265], [150263.96626480488, 491470.53388137266], [150303.7522561434, 491451.03790637583], [150322.58930633817, 491441.8198818131], [150360.77724941174, 491423.1329096696], [150379.55047695982, 491413.94577706174], [150420.39936970282, 491393.9167328558], [150459.43797813222, 491374.59388641134], [150484.11206100186, 491362.3808453943], [150644.43875090595, 491283.02745340863], [150868.01512104273, 491171.20977079816], [150902.1198306476, 491153.97446583293], [150925.08387117824, 491142.3694453508], [151091.1262401519, 491058.4607963055], [151186.697001506, 491009.80751768895], [151231.19112576285, 490987.040152901], [151275.54148233787, 490964.03712127515], [151319.6364503675, 490940.59837360313], [151363.36725815266, 490916.5148271553], [151390.90768508098, 490900.7902636905], [151433.7867751148, 490875.2719856994], [151476.07380172494, 490848.80442978215], [151517.75727780664, 490821.39692315203], [151558.81707475614, 490793.0635480068], [151599.23132318526, 490763.816223869], [151638.9810519268, 490733.67192293925], [151678.0443447584, 490702.64358955115], [151716.40425502154, 490670.749169027], [151754.03873075376, 490638.0037129159], [151767.26527519844, 490625.96444721957], [151778.89023038128, 490615.38248801575], [151778.89875413684, 490615.3747469433], [151779.07557784085, 490615.2145309905], [151790.93291588398, 490604.42209207936], [151824.9128984904, 490572.0701442646], [151827.06141664318, 490570.023702808], [151848.8906110355, 490548.2893501796], [151849.06437894428, 490548.11657523026], [151862.41439433943, 490534.8243823198], [151896.96680276276, 490498.84218465973], [151930.7070915609, 490462.09464395605], [151963.6151302297, 490424.60091170523], [151995.68184571955, 490386.36836464686], [152009.60617111955, 490369.1832858183], [152012.02317111954, 490366.2002858183], [152012.36147554277, 490365.8234909173], [152012.73615656525, 490365.48284680437], [152013.14337109454, 490365.18184745655], [152013.5789423429, 490364.9235802154], [152014.03840266858, 490364.7106941207], [152014.5170394003, 490364.5453727388], [152015.0099431748, 490364.42931176646], [152015.51205829234, 490364.3637016377], [152016.01823457255, 490364.3492153138], [152016.52328017994, 490364.38600138045], [152017.02201487625, 490364.4736825241], [152017.50932315402, 490364.61135940184], [152017.9802067063, 490364.79761986574], [152018.42983569409, 490365.03055344766], [152019.20446205555, 490365.4830154259], [152041.43078001772, 490374.52849733294], [152073.93538414413, 490381.68701434135], [152074.4977094038, 490381.845816694], [152081.69668167472, 490384.34144902293], [152119.95954142016, 490377.59456505463], [152175.80957132095, 490363.9037792925], [152176.33877799247, 490363.8039143009], [152264.85877799246, 490351.9939143009], [152265.42884821392, 490351.95083093387], [152290.10884821395, 490351.50083093386], [152290.4013719943, 490351.5040567137], [152311.24137199429, 490352.34405671374], [152311.77267708743, 490352.39397287864], [152338.8426770874, 490356.4039728786], [152339.45078031474, 490356.5331225729], [152366.61078031475, 490364.0931225729], [152366.85398972596, 490364.16753476043], [152396.79398972596, 490374.16753476043], [152397.36112262472, 490374.3963904186], [152397.89607346954, 490374.69277231867], [152433.33370077645, 490397.26401525986], [152513.66280124625, 490265.6758229439], [152499.08606874262, 490256.54652862897], [152498.7025545784, 490256.2806401286], [152498.34550018547, 490255.9801539071], [152498.0180159334, 490255.64768755774], [152465.1970159334, 490219.0586875577], [152464.91508093502, 490218.7147674569], [152449.06508093502, 490197.52376745694], [152448.75797455764, 490197.06179680105], [152439.62797455766, 490181.52179680107], [152439.49685141718, 490181.28406339086], [152431.30785141716, 490165.4340633909], [152431.1867199385, 490165.18264260096], [152424.0167199385, 490149.17264260096], [152423.93424108223, 490148.9774923798], [152389.64424108225, 490062.7974923798], [152389.5680873034, 490062.59324465506], [152348.7780873034, 489945.45324465504], [152348.72498395335, 489945.29197732767], [152338.5870997961, 489912.64915897354], [152322.78076658075, 489892.4533386314], [152309.20225834686, 489880.22583459015], [152285.63721690266, 489862.79926873406], [152278.05129119087, 489857.1903236606], [152221.5650153365, 489815.4232262816], [152196.94634141173, 489845.35048272496], [152193.42134141174, 489849.63548272493], [152193.09301841076, 489849.9970476126], [152192.73098685837, 489850.3248559652], [152192.3387008999, 489850.61578016117], [152191.9199033383, 489850.8670444909], [152191.47858992376, 489851.0762516397], [152191.0189712304, 489851.24140556087], [152190.5454324831, 489851.3609305198], [152190.06249171818, 489851.43368612806], [152189.5747566765, 489851.45897822396], [152189.0868808413, 489851.43656549545], [152188.60351903902, 489851.36666178243], [152188.12928302778, 489851.2499340368], [152187.66869749635, 489851.08749595867], [152187.22615689432, 489850.8808973708], [152186.80588350436, 489850.6321094316], [152113.3149364193, 489802.1304746289], [152083.34729925045, 489788.01236638555], [152052.54686665992, 489785.60285428324], [152021.46284441266, 489789.2449131458], [151943.7228282113, 489798.3847974807], [151943.1753190941, 489798.4188680906], [151860.5763190941, 489799.0188680906], [151859.9994516222, 489798.989694866], [151855.88042107032, 489798.5417624656], [151794.0618185051, 489794.59986578336], [151793.5498579748, 489794.54060485313], [151793.04671738617, 489794.42895813135], [151741.68671738615, 489780.2189581314], [151741.2100327155, 489780.0609031774], [151740.75160769298, 489779.8558272343], [151690.170607693, 489754.1058272343], [151689.81496398206, 489753.90610561153], [151615.03912476468, 489707.80421968823], [151520.5006700391, 489650.3218475411], [151430.67663847824, 489595.6868283442], [151415.97063847823, 489586.7418283442], [151415.96259433567, 489586.7369250653], [151361.3837425643, 489553.3980156092], [151358.96364333888, 489551.919954998], [151264.87264333887, 489494.446954998], [151264.47045621846, 489494.17357788386], [151264.0967286618, 489493.862423196], [151263.754995975, 489493.5164343275], [151263.44849080613, 489493.138884188], [151263.18011256566, 489492.7333442437], [151262.95239999934, 489492.3036507326], [151262.76750717263, 489491.85386837524], [151262.62718309418, 489491.3882519243], [151262.53275517104, 489490.9112059164], [151262.48511665178, 489490.4272430068], [151262.48471817683, 489489.94094128197], [151262.53156351557, 489489.45690095244], [151262.62520953076, 489488.979700837], [151262.7647703703, 489488.51385504875], [151262.94892584716, 489488.06377029367], [151263.17593392765, 489487.6337041851], [151263.44364721043, 489487.22772496816], [151266.68047532393, 489482.80342736165], [151284.2520357306, 489458.6425318024], [151286.0443487984, 489456.1771013347], [151298.56081290386, 489438.9673226653], [151280.82607961685, 489428.4950616633], [150459.49008739885, 488943.34706626006], [150423.985031542, 488922.375033266], [150402.59484950977, 488909.739925735], [150394.11612546703, 488904.7310887577], [150390.65488521496, 488902.68694682774], [150384.1089844792, 488898.82000546734], [150120.71110692434, 488743.2360777933], [150075.73298904364, 488716.6690081621], [150068.88699446592, 488712.6250113651], [150056.74915972946, 488705.45510898746], [150053.30032075167, 488703.4182040881], [150053.2895116927, 488703.41180186387], [150052.79918706996, 488703.12054903794], [150052.4278882308, 488702.9022526076], [150052.4192016922, 488702.89713376865], [150050.70907569837, 488701.88705934875], [150011.7483534393, 488678.87363264104], [150009.30684018994, 488677.4309202664], [150009.15732787165, 488677.34261753276], [149984.73612647544, 488662.9117119159], [149979.54255952695, 488670.1534551861], [149957.26384528287, 488712.45014868904], [149957.0674119951, 488712.79001644626], [149955.1164119951, 488715.87901644624], [149954.843364557, 488716.2689021145], [149954.53448017794, 488716.6310570235], [149954.19255816264, 488716.96219909756], [149953.82069722365, 488717.2593273187], [149953.42226739888, 488717.51974892395], [149953.00087951022, 488717.74110380886], [149952.56035244, 488717.92138591595], [149952.10467852184, 488718.05896141543], [149951.6379873596, 488718.1525835115], [149951.16450840243, 488718.20140374167], [149950.6885326147, 488718.2049796664], [149950.2143735886, 488718.1632788784], [149949.74632845173, 488718.0766792964], [149949.28863892375, 488717.94596574036], [149948.84545287528, 488717.7723228188], [149948.4207867373, 488717.55732419324], [149946.50555015466, 488716.4701898947], [149945.6635583706, 488715.9921945589], [149939.0085053826, 488712.21416447754], [149934.8215053826, 488709.83716447756], [149934.79203921635, 488709.820303721], [149878.96103921634, 488677.621303721], [149878.69645970775, 488677.4575377783], [149876.38942062514, 488675.9282682766], [149775.19831411776, 488618.9966640916], [149775.1629054515, 488618.97655238665], [149671.34151040277, 488559.44675218617], [149588.28953736188, 488511.7903581686], [149492.44686081904, 488457.26509341516], [149439.27814006002, 488427.0262522289], [149439.2733780228, 488427.0235404432], [149385.6223780228, 488396.4325404432], [149385.613164833, 488396.42727425625], [149320.833164833, 488359.30827425624], [149320.72578638702, 488359.2449553398], [149270.16578638702, 488328.57495533983], [149270.01799827543, 488328.4817352314], [149217.97899827544, 488294.3717352314], [149217.90772243147, 488294.3241377429], [149165.83772243146, 488258.9031377429], [149165.72614641886, 488258.82499312575], [149144.40614641886, 488243.4559931258], [149144.0266598586, 488243.1533909882], [149143.6783010825, 488242.8154201815], [149143.36435271855, 488242.44526544644], [149143.08777314116, 488242.04641479714], [149142.85116859403, 488241.62262665265], [149142.65676863116, 488241.1778944214], [149142.50640510756, 488240.7164088703], [149142.40149491734, 488240.24251863506], [149142.34302664225, 488239.7606892421], [149142.33155123613, 488239.27546102967], [149142.36717683313, 488238.79140636337], [149142.44956772885, 488238.3130865505], [149142.5779475436, 488237.84500885796], [149142.75110653852, 488237.39158403996], [149142.96741301488, 488236.95708477485], [149143.2248286899, 488236.54560540314], [149144.48734438757, 488234.7298638731], [149145.38532729584, 488233.4388884448], [149360.27531130475, 487924.49691143486], [149450.054608784, 487795.4234838039], [149458.69056083634, 487783.01055272174], [149475.18355725476, 487759.30255787115], [149480.775341628, 487751.26486781536], [149497.31415279163, 487727.4841393386], [149512.34894603243, 487705.86643662635], [149514.80484449872, 487702.33414502797], [149599.02079498177, 487581.30721618887], [149599.88163214928, 487580.0700134264], [149600.7349879502, 487578.84437491937], [149615.6743262164, 487557.33488999686], [149857.0633302369, 487210.29988421674], [150193.0453302369, 486727.27388421673], [150193.06178575227, 486727.25037111377], [150446.4417866645, 486367.40136981825], [150739.93478706433, 485950.58436925034], [151035.6127239743, 485530.6644588504], [151038.86979678881, 485526.0383554398], [151327.75079373462, 485115.7743597773], [151430.14780022457, 484970.3503505604], [151472.41779316234, 484910.31936059], [151587.78091482553, 484746.4811878133], [151596.1558966699, 484734.5882135954], [151601.06187843025, 484727.62123949744], [151601.0654728548, 484727.6161418204], [151620.2684479091, 484700.41817715205], [151624.24375300278, 484694.7875778076], [151627.56244568375, 484690.07543411053], [151646.42039916257, 484663.3065001475], [151677.1423520319, 484619.6935670543], [151756.58435296162, 484506.9175657345], [151821.25534468523, 484415.11057748366], [151915.00437629543, 484282.02353261004], [152490.76117403724, 483464.69281973096], [152491.96139107013, 483462.98851163633], [152514.824114802, 483430.53348452906], [152515.99374315096, 483428.87401182886], [152750.26034773054, 483096.31357316027], [152778.35637392584, 483056.42753597384], [153066.8623389011, 482646.87058569427], [153354.8423729083, 482238.03953741834], [153642.84232199023, 481829.2006097006], [153648.96833616402, 481820.5035895805], [154237.08132878997, 480985.6076000488], [154245.41231786797, 480973.7806155541], [154245.61844474648, 480973.5082498808], [154257.74915007252, 480958.5686127881], [154258.5532534369, 480957.5779364209], [154265.94595079025, 480946.9948207194], [154405.76987682818, 480746.80592661246], [154406.08260769807, 480746.40353933786], [154422.938212168, 480726.858997966], [154426.69181672728, 480722.5044567151], [154427.15833393374, 480722.03092872235], [154430.57933393374, 480718.99192872236], [154431.01135435893, 480718.6488572237], [154431.47853996613, 480718.3554678759], [154431.97520343025, 480718.1153322801], [154435.21420343025, 480716.76433228015], [154435.70241050425, 480716.5898235968], [154436.20606375564, 480716.4668080286], [154436.2772204639, 480716.4570837923], [154448.7376610452, 480674.30737646477], [153246.30250801222, 480318.83486355015], [153246.2704076912, 480318.82525674737], [152816.23589945535, 480188.55539902084], [152771.9539252018, 480176.47368605173], [152771.8113645795, 480176.42975027044], [152734.9207392587, 480165.88362454396], [152692.09186032703, 480159.33592815173], [152651.7711013367, 480153.64643476147], [152599.5782584909, 480148.6273752093], [152564.99482950606, 480146.94832683145], [152496.73801021607, 480146.56951549044], [152442.93136349268, 480148.5692413556], [152392.59784709825, 480154.42549702816], [152392.10685101477, 480154.45824563317], [152391.61501369363, 480154.44257162], [152391.12709906383, 480154.3786268068], [152390.64783305908, 480154.2670305621], [152390.18185784275, 480154.1088638055], [152389.73368684377, 480153.90565853775], [152389.30766103975, 480153.65938300214], [152367.28279129975, 480139.4371293983], [152364.38442961586, 480139.820804071], [152339.8197841213, 480162.1210440421], [152339.41073646492, 480162.4547467514], [152338.96878550897, 480162.7434625908], [152338.49885772463, 480162.98397321603], [152338.0061914436, 480163.17359763145], [152337.49627846587, 480163.31022207474], [152296.56627846588, 480171.99022207473], [152296.07689739042, 480172.06889018486], [152295.58213196276, 480172.0987176915], [152286.67370546854, 480172.1933874736], [152262.82840930801, 480177.2907479698], [152256.54966677882, 480178.85804443073], [152198.07314627286, 480198.92820671754], [152198.01260463792, 480198.9485543734], [152118.52676178512, 480225.09941757587], [152068.04866053382, 480250.82372970635], [152006.5831241564, 480285.6483199767], [151947.54024815108, 480323.1399323435], [151947.47340372833, 480323.18164248473], [151886.5391378616, 480360.54012098047], [151597.72214820152, 480544.53494497464], [151594.37772895387, 480547.1558119542], [151591.95272895388, 480549.0558119542], [151591.5941318652, 480549.31209450244], [151535.0151318652, 480586.09209450247], [151534.8587289253, 480586.18971231073], [151475.51745748954, 480621.72394616145], [151340.9301671007, 480707.49553091684], [151340.4966725195, 480707.7422902857], [151340.04074869183, 480707.9446296082], [151339.56693311274, 480708.10053514066], [151339.0799413415, 480708.20845526305], [151338.584620071, 480708.2673159209], [151338.08589889182, 480708.2765313147], [151337.58874123148, 480708.23600973], [151337.09809495692, 480708.1461544502], [151336.6188431317, 480708.0078597428], [151336.15575541838, 480707.8225019595], [151335.71344060916, 480707.59192583844], [151335.29630075797, 480707.3184261445], [151334.90848736968, 480707.00472483126], [151334.5538600832, 480706.6539439513], [151326.9488481449, 480698.3409309015], [151319.7848481449, 480690.5099309015], [151319.77944119653, 480690.50401101925], [151304.11616899574, 480673.327195666], [151299.38922929976, 480668.1726231434], [151299.33446580512, 480668.1128811493], [151296.96236534487, 480665.5258621897], [151296.88366484898, 480665.44009822654], [151281.42466484898, 480648.58009822655], [151281.42068725324, 480648.5757550217], [151279.16782753775, 480646.112908382], [150928.1709680491, 480262.4640619646], [150928.16113776673, 480262.4532856863], [150622.99315085032, 479926.93649346515], [150428.01004646614, 479715.6141847059], [150287.85455834633, 479581.3859806602], [150270.2896263389, 479564.5630457805], [150261.23855331607, 479555.8949758424], [150221.4424587687, 479517.77988528635], [150210.53950762752, 479507.3369320838]]]}, "_shape": null}], "bbox": [132856.0969223482, 479389.21507541265, 247386.92600563174, 592671.6459651764], "properties": {"p": ["Geschiktheid voor GIO-wijziging", ""]}}
);


Kaartgegevens.Instantie.VoegSymbolisatieToe ("sym6",`<FeatureTypeStyle version="1.1.0"
    xmlns="http://www.opengis.net/se"
    xmlns:ogc="http://www.opengis.net/ogc">
    <FeatureTypeName>geo:Locatie</FeatureTypeName>
    <SemanticTypeIdentifier>geo:geometrie</SemanticTypeIdentifier>
    <Rule>
        <Name>Vlak</Name>
        <PolygonSymbolizer>
            <Fill>
                <SvgParameter name="fill">#DAE8FC</SvgParameter>
                <SvgParameter name="fill-opacity">0.8</SvgParameter>
            </Fill>
            <Stroke>
                <SvgParameter name="stroke">#6C8EBF</SvgParameter>
                <SvgParameter name="stroke-opacity">1</SvgParameter>
                <SvgParameter name="stroke-width">3</SvgParameter>
                <SvgParameter name="stroke-linejoin">round</SvgParameter>
            </Stroke>
        </PolygonSymbolizer>
    </Rule>
</FeatureTypeStyle>`);


window.addEventListener("load", function () {
var kaart = new Kaart ();
kaart.VoegOnderlaagToe ("Vlakken uit het GIO", "data1", "sym4", true, true);kaart.VoegOnderlaagToe ("Verkleinde vlakken", "data5", "sym6", true, true);
kaart.Toon ("kaart_7", 600, 400);
});
</script>
</body>
</html>
